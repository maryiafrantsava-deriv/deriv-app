(self.webpackChunk=self.webpackChunk||[]).push([[8369],{10331:(t,e,r)=>{var o,n,i,a,s;self,t.exports=(o=r(11838),n=r(17502),i=r(20374),a=r(59001),s=r(32735),(()=>{var t,e,r,c,u={"../../../node_modules/prop-types/factoryWithThrowingShims.js":(t,e,r)=>{"use strict";var o=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function n(){}function i(){}i.resetWarningCache=n,t.exports=function(){function t(t,e,r,n,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(t,e,r)=>{t.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":t=>{"use strict";t.exports=o},"@deriv/shared":t=>{"use strict";t.exports=n},"@deriv/translations":t=>{"use strict";t.exports=i},mobx:t=>{"use strict";t.exports=a},react:t=>{"use strict";t.exports=s}},p={};function l(t){var e=p[t];if(void 0!==e)return e.exports;var r=p[t]={exports:{}};return u[t].call(r.exports,r,r.exports,l),r.exports}l.m=u,l.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return l.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,l.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"==typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"==typeof r.then)return r}var n=Object.create(null);l.r(n);var i={};t=t||[null,e({}),e([]),e(e)];for(var a=2&o&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>r[t]));return i.default=()=>r,l.d(n,i),n},l.d=(t,e)=>{for(var r in e)l.o(e,r)&&!l.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},l.f={},l.e=t=>Promise.all(Object.keys(l.f).reduce(((e,r)=>(l.f[r](t,e),e)),[])),l.u=t=>"cashier/js/cashier."+t+".4b458ac4203eb84dc516.js",l.miniCssF=t=>{},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r={},c="@deriv/cashier:",l.l=(t,e,o,n)=>{if(r[t])r[t].push(e);else{var i,a;if(void 0!==o)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var p=s[u];if(p.getAttribute("src")==t||p.getAttribute("data-webpack")==c+o){i=p;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.setAttribute("data-webpack",c+o),i.src=t),r[t]=[e];var f=(e,o)=>{i.onerror=i.onload=null,clearTimeout(h);var n=r[t];if(delete r[t],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((t=>t(o))),e)return e(o)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),a&&document.head.appendChild(i)}},l.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.p="/br_deriv-app-master/",(()=>{var t={"cashier-store":0};l.f.j=(e,r)=>{var o=l.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,n)=>o=t[e]=[r,n]));r.push(o[2]=n);var i=l.p+l.u(e),a=new Error;l.l(i,(r=>{if(l.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",a.name="ChunkLoadError",a.type=n,a.request=i,o[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var o,n,[i,a,s]=r,c=0;for(o in a)l.o(a,o)&&(l.m[o]=a[o]);for(s&&s(l),e&&e(r);c<i.length;c++)n=i[c],l.o(t,n)&&t[n]&&t[n][0](),t[i[c]]=0},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var f={};return(()=>{"use strict";l.d(f,{default:()=>Ia});var t=l("react"),e=l.n(t),r=l("mobx"),o=l("@deriv/shared"),n=l("@deriv/translations");const i=function(t){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,n.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(e,r){t.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(t){if(t.error)r(t.error.message);else{var o=t.service_token.banxa.url;o&&window.open(o),e()}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}},a=function(t){return{icon:{dark:"IcCashierChangellyDark",light:"IcCashierChangellyLight"},name:"Changelly",getDescription:function(){return(0,n.localize)("Your simple access to crypto. Fast and secure way to exchange and purchase cryptocurrencies. 24/7 live chat support.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return"usd"},getFromCurrencies:function(){return["usd","eur","gbp"]},getToCurrencies:function(){return["bch","btc","etc","eth","ltc","ust"]},getWidgetHtml:function(){var e=this;return new Promise((function(r){var o=new URL("https://widget.changelly.com/?v=3&theme=default");o.searchParams.append("fromDefault",e.getDefaultFromCurrency());var n=t.root_store.client.currency.toLowerCase();if(e.getToCurrencies().includes(n)){var i="ust"===n?"usdt":n;o.searchParams.append("to",i),o.searchParams.append("toDefault",i)}o.searchParams.append("amount",1),o.searchParams.append("merchant_id","iiq3jdt2p44yrfbx"),window.open(o),r()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!0}},s=function(t){return{icon:{dark:"IcCashierXanpoolDark",light:"IcCashierXanpoolLight"},name:"XanPool",getDescription:function(){return(0,n.localize)("Buy cryptocurrencies in an instant. Enjoy easy, quick, and secure exchanges using your local payment methods.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierFpsDark",light:"IcCashierFpsLight"},{dark:"IcCashierAliPayDark",light:"IcCashierAliPayLight"},{dark:"IcCashierGoPayDark",light:"IcCashierGoPayLight"},{dark:"IcCashierMandiriPay",light:"IcCashierMandiriPay"},{dark:"IcCashierInstaPayLight",light:"IcCashierInstaPayDark"},{dark:"IcCashierCebuanaLhuillierDark",light:"IcCashierCebuanaLhuillierLight"},{dark:"IcCashierPayNowDark",light:"IcCashierPayNowLight"},{dark:"IcCashierUpiDark",light:"IcCashierUpiLight"},{dark:"IcCashierPromptPayDark",light:"IcCashierPromptPayLight"},{dark:"IcCashierViettlePay",light:"IcCashierViettlePay"}]},getScriptDependencies:function(){return[]},getToCurrencies:function(){return["btc","eth","ust","zil","nem"]},getWidgetHtml:function(){return new Promise((function(e){var r=t.root_store.client.currency,o="https://checkout.xanpool.com/";o+="?apiKey=db4ec638dff9a68abda1ef6b7638c220",o+="&redirectUrl=".concat(window.location.href),o+="&wallet=".concat(t.deposit_address),o+="&cryptoCurrency=".concat("UST"===r?"USDT":r),o+="&transactionType=buy",window.open(o),e()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};var c=function(t,e){var r=e;return e&&!Array.isArray(e)&&(r=[e]),t.replace(/\[_(\d+)]/g,(function(t,e){return r[+e-1]}))};function u(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r,o;return e=t,(r=[{key:"add",value:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(t){return this.has(t)?this.errors[t][0]:null}},{key:"get",value:function(t){return this.has(t)?this.errors[t]:[]}},{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}}])&&u(e.prototype,r),o&&u(e,o),t}();function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}const d=function(){function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,t),this.input=e,this.rules=r,this.store=o,this.errors=new p,this.error_count=0}var e,r,n;return e=t,n=[{key:"getRuleObject",value:function(t){var e="string"==typeof t,r={name:e?t:t[0],options:e?{}:t[1]||{}};return r.validator="custom"===r.name?t[1].func:(0,o.getPreBuildDVRs)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(t,e,r){var n=r||e.options.message||(0,o.getPreBuildDVRs)()[e.name].message();"length"===e.name?n=c(n,[e.options.min===e.options.max?e.options.min:"".concat(e.options.min,"-").concat(e.options.max)]):"min"===e.name?n=c(n,[e.options.min]):"not_equal"===e.name&&(n=c(n,[e.options.name1,e.options.name2])),this.errors.add(t,n),this.error_count++}},{key:"check",value:function(){var e=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(e.rules,r)&&e.rules[r].forEach((function(o){var n=t.getRuleObject(o);if((n.validator||"function"==typeof n.validator)&&(!n.options.condition||n.options.condition(e.store))&&(""!==e.input[r]||"req"===n.name)){var i,a;if("number"===n.name){var s=n.validator(e.input[r],n.options,e.store,e.input);i=s.is_ok,a=s.message}else i=n.validator(e.input[r],n.options,e.store,e.input);i||e.addFailure(r,n,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&y(e.prototype,r),n&&y(e,n),t}();var _,g,b,m,v,w,k,O,P,C,T,A,S,D,j,I,x,R,E,z,L,M;function W(t,e,r,o,n,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(o,n)}function F(t){return function(){var e=this,r=arguments;return new Promise((function(o,n){var i=t.apply(e,r);function a(t){W(i,o,n,a,s,"next",t)}function s(t){W(i,o,n,a,s,"throw",t)}a(void 0)}))}}function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function G(t,e,r,o,n){var i={};return Object.keys(o).forEach((function(t){i[t]=o[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,o){return o(t,e,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var X,K,J,Y,$,Q,Z,tt,et,rt,ot,nt,it,at,st,ct,ut,pt,lt,ft,ht,yt,dt,_t,gt,bt,mt,vt,wt,kt,Ot,Pt,Ct,Tt,At=(_=r.action.bound,g=r.action.bound,b=r.action.bound,m=r.action.bound,v=r.action.bound,w=r.action.bound,k=r.action.bound,O=r.action.bound,P=r.action.bound,C=r.action.bound,T=r.action.bound,A=r.action.bound,S=r.action.bound,D=r.action.bound,j=r.action.bound,I=r.action.bound,M=L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U(this,t),H(this,"validation_errors",R,this),H(this,"validation_rules",E,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,H(this,"partial_fetch_time",z,this);var r=e.root_store,o=e.local_storage_properties,n=e.session_storage_properties,i=e.validation_rules,a=e.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),o&&o.length||n&&n.length){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=o||[],this.session_storage_properties=n||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var e,n,i;return e=t,(n=[{key:"getSnapshot",value:function(t){var e=(0,r.toJS)(this);return(0,o.isEmptyObject)(this.root_store)||(e.root_store=this.root_store),t&&t.length&&(e=t.reduce((function(t,r){return Object.assign(t,N({},r,e[r]))}),{})),e}},{key:"setupReactionForLocalStorage",value:function(){var e=this;this.local_storage_properties.length&&(0,r.reaction)((function(){return e.local_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.local_storage_properties,t.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var e=this;this.session_storage_properties.length&&(0,r.reaction)((function(){return e.session_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.session_storage_properties,t.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(e,r){var o=JSON.stringify(this.getSnapshot(e),(function(t,e){if(null!==e)return e}));r===t.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,o):r===t.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,o)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),o=B(B({},e),r);Object.keys(o).forEach((function(e){return t[e]=o[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(t,e){var o=this;this.validation_rules[t]=e,(0,r.intercept)(this,t,(function(e){return o.validateProperty(t,e.newValue),e}))}},{key:"validateProperty",value:function(t,e){var r=this,o=this.validation_rules[t].trigger,n=N({},t,void 0!==e?e:this[t]),i=N({},t,this.validation_rules[t].rules||[]);o&&Object.hasOwnProperty.call(this,o)&&(n[o]=this[o],i[o]=this.validation_rules[o].rules||[]);var a=new d(n,i,this);a.isPassed(),Object.keys(n).forEach((function(t){r.setValidationErrorMessages(t,a.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(t){var e=this;t&&(this.switch_account_listener=t,this.switchAccountDisposer=(0,r.when)((function(){return e.root_store.client.switch_broadcast}),(function(){try{var t=e.switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Switching account listeners are required to return a promise.");t.then((function(){e.root_store.client.switchEndSignal(),e.onSwitchAccount(e.switch_account_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(t){var e=this;t&&(this.pre_switch_account_listener=t,this.preSwitchAccountDisposer=(0,r.when)((function(){return e.root_store.client.pre_switch_broadcast}),(function(){try{var t=e.pre_switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((function(){e.root_store.client.setPreSwitchAccount(!1),e.onPreSwitchAccount(e.pre_switch_account_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(t){var e=this;this.logoutDisposer=(0,r.when)((function(){return e.root_store.client.has_logged_out}),F(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.logout_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setLogout(!1),e.onLogout(e.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=t}},{key:"onClientInit",value:function(t){var e=this;this.clientInitDisposer=(0,r.when)((function(){return e.root_store.client.initialized_broadcast}),F(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.client_init_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setInitialized(!1),e.onClientInit(e.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=t}},{key:"onNetworkStatusChange",value:function(t){var e=this;this.networkStatusChangeDisposer=(0,r.reaction)((function(){return e.root_store.common.is_network_online}),(function(t){try{e.network_status_change_listener(t)}catch(t){(0,o.isProduction)()||console.error(t)}})),this.network_status_change_listener=t}},{key:"onThemeChange",value:function(t){var e=this;this.themeChangeDisposer=(0,r.reaction)((function(){return e.root_store.ui.is_dark_mode_on}),(function(t){try{e.theme_change_listener(t)}catch(t){(0,o.isProduction)()||console.error(t)}})),this.theme_change_listener=t}},{key:"onRealAccountSignupEnd",value:function(t){var e=this;this.realAccountSignupEndedDisposer=(0,r.when)((function(){return e.root_store.ui.has_real_account_signup_ended}),(function(){try{var t=e.real_account_signup_ended_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Real account signup listeners are required to return a promise.");t.then((function(){e.root_store.ui.setRealAccountSignupEnd(!1),e.onRealAccountSignupEnd(e.real_account_signup_ended_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=t}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){if(this.root_store.client.loginid!==t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];r.forEach((function(t){return t()})),this.partial_fetch_time=!1}}}])&&q(e.prototype,n),i&&q(e,i),t}(),L.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),R=G((x=M).prototype,"validation_errors",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=G(x.prototype,"validation_rules",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z=G(x.prototype,"partial_fetch_time",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G(x.prototype,"retrieveFromStorage",[r.action],Object.getOwnPropertyDescriptor(x.prototype,"retrieveFromStorage"),x.prototype),G(x.prototype,"setValidationErrorMessages",[r.action],Object.getOwnPropertyDescriptor(x.prototype,"setValidationErrorMessages"),x.prototype),G(x.prototype,"setValidationRules",[r.action],Object.getOwnPropertyDescriptor(x.prototype,"setValidationRules"),x.prototype),G(x.prototype,"addRule",[r.action],Object.getOwnPropertyDescriptor(x.prototype,"addRule"),x.prototype),G(x.prototype,"validateProperty",[r.action],Object.getOwnPropertyDescriptor(x.prototype,"validateProperty"),x.prototype),G(x.prototype,"validateAllProperties",[r.action],Object.getOwnPropertyDescriptor(x.prototype,"validateAllProperties"),x.prototype),G(x.prototype,"onSwitchAccount",[_],Object.getOwnPropertyDescriptor(x.prototype,"onSwitchAccount"),x.prototype),G(x.prototype,"onPreSwitchAccount",[g],Object.getOwnPropertyDescriptor(x.prototype,"onPreSwitchAccount"),x.prototype),G(x.prototype,"onLogout",[b],Object.getOwnPropertyDescriptor(x.prototype,"onLogout"),x.prototype),G(x.prototype,"onClientInit",[m],Object.getOwnPropertyDescriptor(x.prototype,"onClientInit"),x.prototype),G(x.prototype,"onNetworkStatusChange",[v],Object.getOwnPropertyDescriptor(x.prototype,"onNetworkStatusChange"),x.prototype),G(x.prototype,"onThemeChange",[w],Object.getOwnPropertyDescriptor(x.prototype,"onThemeChange"),x.prototype),G(x.prototype,"onRealAccountSignupEnd",[k],Object.getOwnPropertyDescriptor(x.prototype,"onRealAccountSignupEnd"),x.prototype),G(x.prototype,"disposePreSwitchAccount",[O],Object.getOwnPropertyDescriptor(x.prototype,"disposePreSwitchAccount"),x.prototype),G(x.prototype,"disposeSwitchAccount",[P],Object.getOwnPropertyDescriptor(x.prototype,"disposeSwitchAccount"),x.prototype),G(x.prototype,"disposeLogout",[C],Object.getOwnPropertyDescriptor(x.prototype,"disposeLogout"),x.prototype),G(x.prototype,"disposeClientInit",[T],Object.getOwnPropertyDescriptor(x.prototype,"disposeClientInit"),x.prototype),G(x.prototype,"disposeNetworkStatusChange",[A],Object.getOwnPropertyDescriptor(x.prototype,"disposeNetworkStatusChange"),x.prototype),G(x.prototype,"disposeThemeChange",[S],Object.getOwnPropertyDescriptor(x.prototype,"disposeThemeChange"),x.prototype),G(x.prototype,"disposeRealAccountSignupEnd",[D],Object.getOwnPropertyDescriptor(x.prototype,"disposeRealAccountSignupEnd"),x.prototype),G(x.prototype,"onUnmount",[j],Object.getOwnPropertyDescriptor(x.prototype,"onUnmount"),x.prototype),G(x.prototype,"assertHasValidCache",[I],Object.getOwnPropertyDescriptor(x.prototype,"assertHasValidCache"),x.prototype),x);function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e,r,o,n,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(o,n)}function jt(t){return function(){var e=this,r=arguments;return new Promise((function(o,n){var i=t.apply(e,r);function a(t){Dt(i,o,n,a,s,"next",t)}function s(t){Dt(i,o,n,a,s,"throw",t)}a(void 0)}))}}function It(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function xt(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=Mt(t);if(e){var n=Mt(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return zt(this,r)}}function zt(t,e){return!e||"object"!==St(e)&&"function"!=typeof e?Lt(t):e}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e,r,o,n){var i={};return Object.keys(o).forEach((function(t){i[t]=o[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,o){return o(t,e,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ft,Vt,Bt,Nt,Ht,Ut,qt,Gt,Xt,Kt,Jt,Yt,$t,Qt,Zt,te,ee,re,oe,ne,ie,ae,se,ce,ue,pe,le,fe=(X=r.observable.shallow,K=r.observable.ref,J=r.action.bound,Y=r.action.bound,$=r.action.bound,Q=r.action.bound,Z=r.action.bound,tt=r.action.bound,et=r.action.bound,rt=r.action.bound,ot=r.action.bound,nt=r.action.bound,it=r.action.bound,at=r.action.bound,st=r.action.bound,ct=r.action.bound,ut=r.action.bound,pt=r.action.bound,lt=r.action.bound,ft=r.action.bound,ht=r.action.bound,yt=r.action.bound,_t=Wt((dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(f,t);var e,c,u,p=Et(f);function f(t){var e,r=t.WS,o=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),It(e=p.call(this,{root_store:o}),"api_error",_t,Lt(e)),It(e,"deposit_address",gt,Lt(e)),It(e,"is_deposit_address_loading",bt,Lt(e)),It(e,"is_deposit_address_popover_open",mt,Lt(e)),It(e,"is_onramp_modal_open",vt,Lt(e)),It(e,"is_requesting_widget_html",wt,Lt(e)),It(e,"onramp_providers",kt,Lt(e)),It(e,"selected_provider",Ot,Lt(e)),It(e,"should_show_widget",Pt,Lt(e)),It(e,"widget_error",Ct,Lt(e)),It(e,"widget_html",Tt,Lt(e)),e.deposit_address_ref=null,e.WS=r,e.onClientInit(jt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setOnrampProviders([a(Lt(e)),s(Lt(e)),i(Lt(e))]);case 1:case"end":return t.stop()}}),t)})))),e}return e=f,(c=[{key:"is_onramp_tab_visible",get:function(){var t=this.root_store.client;return!1===t.is_virtual&&(0,o.isCryptocurrency)(t.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var t=this.root_store.client;return this.onramp_providers.filter((function(e){var r=e.getToCurrencies();return r.includes("*")||r.includes(t.currency.toLowerCase())})).filter((function(e){var r=e.getAllowedResidencies();return r.includes("*")||r.includes(t.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,n.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?(0,n.localize)("Our server cannot retrieve an address."):" ":void 0}},{key:"should_show_dialog",get:function(){return this.api_error}},{key:"onMountOnramp",value:function(){var t=this;this.disposeThirdPartyJsReaction=(0,r.reaction)((function(){return t.selected_provider}),function(){var e=jt(regeneratorRuntime.mark((function e(r){var n,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(0!==(n=r.getScriptDependencies()).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,l.e("loadjs").then(l.t.bind(l,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:i=e.sent,a=i.default,s="".concat((0,o.getKebabCase)(r.name),"-onramp"),a.isDefined(s)||a(n,s,{error:function(){console.warn("Dependencies for onramp provider ".concat(r.name," could not be loaded.")),t.setSelectedProvider(null)}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,r.reaction)((function(){return t.should_show_widget}),(function(e){if(e){if(t.is_requesting_widget_html)return;t.setIsRequestingWidgetHtml(!0),t.selected_provider.getWidgetHtml().then((function(e){e?t.setWidgetHtml(e):t.setShouldShowWidget(!1)})).catch((function(e){t.setWidgetError(e)})).finally((function(){return t.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickCopyDepositAddress",value:function(){var t=this,e=document.createRange();e.selectNodeContents(this.deposit_address_ref);var r=window.getSelection();r.removeAllRanges(),r.addRange(e),navigator.clipboard.writeText(this.deposit_address).then((function(){t.setIsDepositAddressPopoverOpen(!0),setTimeout((function(){return t.setIsDepositAddressPopoverOpen(!1)}),500)}))}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:function(){this.pollApiForDepositAddress(!1),window.open((0,o.websiteUrl)()+o.routes.cashier_deposit.substring(1))}},{key:"pollApiForDepositAddress",value:function(t){var e=this;this.setIsDepositAddressLoading(!0),this.setApiError(null);var r=setInterval((function(){return o}),3e3),o=function(){e.root_store.modules.cashier.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(o){var n=!1;if(o.error)e.setApiError(o.error),n=!0;else{var i=o.cashier.deposit.address;(i||t)&&(e.setDepositAddress(i),n=!0)}n&&(clearInterval(r),e.setIsDepositAddressLoading(!1))}))};o(),setTimeout((function(){clearInterval(r),e.setIsDepositAddressLoading(!1)}),3e4)}},{key:"resetPopup",value:function(){this.setApiError(null),this.setDepositAddress(null),this.setDepositAddressRef(null),this.setIsDepositAddressLoading(!0),this.setSelectedProvider(null),this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null)}},{key:"setApiError",value:function(t){this.api_error=t}},{key:"setCopyIconRef",value:function(t){this.copy_icon_ref=t}},{key:"setDepositAddress",value:function(t){this.deposit_address=t}},{key:"setDepositAddressRef",value:function(t){this.deposit_address_ref=t}},{key:"setIsDepositAddressLoading",value:function(t){this.is_deposit_address_loading=t}},{key:"setIsDepositAddressPopoverOpen",value:function(t){this.is_deposit_address_popover_open=t}},{key:"setIsOnRampModalOpen",value:function(t){this.is_onramp_modal_open=t}},{key:"setIsRequestingWidgetHtml",value:function(t){this.is_requesting_widget_html=t}},{key:"setSelectedProvider",value:function(t){t?(this.selected_provider=t,this.setIsOnRampModalOpen(!0),this.pollApiForDepositAddress(!0)):(this.setIsOnRampModalOpen(!1),this.selected_provider=null)}},{key:"setShouldShowWidget",value:function(t){this.should_show_widget=t}},{key:"setOnrampProviders",value:function(t){this.onramp_providers=t.slice()}},{key:"setWidgetError",value:function(t){this.widget_error=t}},{key:"setWidgetHtml",value:function(t){this.widget_html=t}}])&&xt(e.prototype,c),u&&xt(e,u),f}(At)).prototype,"api_error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=Wt(dt.prototype,"deposit_address",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=Wt(dt.prototype,"is_deposit_address_loading",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mt=Wt(dt.prototype,"is_deposit_address_popover_open",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vt=Wt(dt.prototype,"is_onramp_modal_open",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wt=Wt(dt.prototype,"is_requesting_widget_html",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kt=Wt(dt.prototype,"onramp_providers",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ot=Wt(dt.prototype,"selected_provider",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=Wt(dt.prototype,"should_show_widget",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ct=Wt(dt.prototype,"widget_error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=Wt(dt.prototype,"widget_html",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Wt(dt.prototype,"is_onramp_tab_visible",[r.computed],Object.getOwnPropertyDescriptor(dt.prototype,"is_onramp_tab_visible"),dt.prototype),Wt(dt.prototype,"filtered_onramp_providers",[r.computed],Object.getOwnPropertyDescriptor(dt.prototype,"filtered_onramp_providers"),dt.prototype),Wt(dt.prototype,"onramp_popup_modal_title",[r.computed],Object.getOwnPropertyDescriptor(dt.prototype,"onramp_popup_modal_title"),dt.prototype),Wt(dt.prototype,"should_show_dialog",[r.computed],Object.getOwnPropertyDescriptor(dt.prototype,"should_show_dialog"),dt.prototype),Wt(dt.prototype,"onMountOnramp",[J],Object.getOwnPropertyDescriptor(dt.prototype,"onMountOnramp"),dt.prototype),Wt(dt.prototype,"onUnmountOnramp",[Y],Object.getOwnPropertyDescriptor(dt.prototype,"onUnmountOnramp"),dt.prototype),Wt(dt.prototype,"onClickCopyDepositAddress",[$],Object.getOwnPropertyDescriptor(dt.prototype,"onClickCopyDepositAddress"),dt.prototype),Wt(dt.prototype,"onClickDisclaimerContinue",[Q],Object.getOwnPropertyDescriptor(dt.prototype,"onClickDisclaimerContinue"),dt.prototype),Wt(dt.prototype,"onClickGoToDepositPage",[Z],Object.getOwnPropertyDescriptor(dt.prototype,"onClickGoToDepositPage"),dt.prototype),Wt(dt.prototype,"pollApiForDepositAddress",[tt],Object.getOwnPropertyDescriptor(dt.prototype,"pollApiForDepositAddress"),dt.prototype),Wt(dt.prototype,"resetPopup",[et],Object.getOwnPropertyDescriptor(dt.prototype,"resetPopup"),dt.prototype),Wt(dt.prototype,"setApiError",[rt],Object.getOwnPropertyDescriptor(dt.prototype,"setApiError"),dt.prototype),Wt(dt.prototype,"setCopyIconRef",[ot],Object.getOwnPropertyDescriptor(dt.prototype,"setCopyIconRef"),dt.prototype),Wt(dt.prototype,"setDepositAddress",[nt],Object.getOwnPropertyDescriptor(dt.prototype,"setDepositAddress"),dt.prototype),Wt(dt.prototype,"setDepositAddressRef",[it],Object.getOwnPropertyDescriptor(dt.prototype,"setDepositAddressRef"),dt.prototype),Wt(dt.prototype,"setIsDepositAddressLoading",[at],Object.getOwnPropertyDescriptor(dt.prototype,"setIsDepositAddressLoading"),dt.prototype),Wt(dt.prototype,"setIsDepositAddressPopoverOpen",[st],Object.getOwnPropertyDescriptor(dt.prototype,"setIsDepositAddressPopoverOpen"),dt.prototype),Wt(dt.prototype,"setIsOnRampModalOpen",[ct],Object.getOwnPropertyDescriptor(dt.prototype,"setIsOnRampModalOpen"),dt.prototype),Wt(dt.prototype,"setIsRequestingWidgetHtml",[ut],Object.getOwnPropertyDescriptor(dt.prototype,"setIsRequestingWidgetHtml"),dt.prototype),Wt(dt.prototype,"setSelectedProvider",[pt],Object.getOwnPropertyDescriptor(dt.prototype,"setSelectedProvider"),dt.prototype),Wt(dt.prototype,"setShouldShowWidget",[lt],Object.getOwnPropertyDescriptor(dt.prototype,"setShouldShowWidget"),dt.prototype),Wt(dt.prototype,"setOnrampProviders",[ft],Object.getOwnPropertyDescriptor(dt.prototype,"setOnrampProviders"),dt.prototype),Wt(dt.prototype,"setWidgetError",[ht],Object.getOwnPropertyDescriptor(dt.prototype,"setWidgetError"),dt.prototype),Wt(dt.prototype,"setWidgetHtml",[yt],Object.getOwnPropertyDescriptor(dt.prototype,"setWidgetHtml"),dt.prototype),dt);function he(t,e,r,o,n,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(o,n)}function ye(t){return function(){var e=this,r=arguments;return new Promise((function(o,n){var i=t.apply(e,r);function a(t){he(i,o,n,a,s,"next",t)}function s(t){he(i,o,n,a,s,"throw",t)}a(void 0)}))}}function de(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function _e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ge(t,e,r,o,n){var i={};return Object.keys(o).forEach((function(t){i[t]=o[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,o){return o(t,e,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var be,me,ve,we,ke,Oe,Pe,Ce,Te,Ae,Se,De=(Ft=r.action.bound,Vt=r.action.bound,Bt=r.action.bound,Nt=r.action.bound,Ht=r.action.bound,Ut=r.action.bound,qt=r.action.bound,Gt=r.action.bound,Xt=r.action.bound,Kt=r.action.bound,Jt=r.action.bound,Yt=r.action.bound,$t=r.action.bound,Qt=r.action.bound,Zt=r.action.bound,te=r.action.bound,ee=r.action.bound,re=r.action.bound,ne=ge((oe=function(){function t(e){var r=e.WS,o=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,"crypto_transactions",ne,this),de(this,"is_crypto_transactions_cancel_modal_visible",ie,this),de(this,"is_crypto_transactions_status_modal_visible",ae,this),de(this,"is_crypto_transactions_visible",se,this),de(this,"is_loading",ce,this),de(this,"selected_crypto_transaction_id",ue,this),de(this,"selected_crypto_status",pe,this),de(this,"selected_crypto_status_description",le,this),this.root_store=o,this.WS=r}var e,r,n,i,a,s,c;return e=t,(r=[{key:"updateCryptoTransactions",value:function(t){var e=this;t.forEach((function(t){var r=e.crypto_transactions.findIndex((function(e){return e.id===t.id}));-1===r?e.crypto_transactions.push(t):Object.assign(e.crypto_transactions[r],t)})),this.sortCryptoTransactions()}},{key:"setCryptoTransactionsHistory",value:function(t){this.crypto_transactions=t,this.sortCryptoTransactions()}},{key:"sortCryptoTransactions",value:function(){this.crypto_transactions=this.crypto_transactions.sort((function(t,e){return e.submit_date-t.submit_date}))}},{key:"getCryptoTransactions",value:(c=ye(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.subscribeCashierPayments((function(t){if(!t.error){var r=t.cashier_payments.crypto;e.updateCryptoTransactions(r)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"onMount",value:(s=ye(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.root_store.client,r=e.currency,n=e.switched,!r||!(0,o.isCryptocurrency)(r)||n){t.next=9;break}return this.setLoading(!0),t.next=6,this.unsubscribeCryptoTransactions();case 6:return t.next=8,this.getCryptoTransactions();case 8:this.setLoading(!1);case 9:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"unsubscribeCryptoTransactions",value:(a=ye(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.cashierPayments({provider:"crypto",transaction_type:"all"}).then((function(t){if(!t.error){var r=t.cashier_payments.crypto;e.setCryptoTransactionsHistory(r)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"cancelCryptoTransaction",value:(i=ye(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.cancelCryptoTransaction(e).then((function(t){return t.error?Promise.reject(t.error):(r.setSelectedCryptoTransactionId(""),r.setIsCryptoTransactionsCancelModalVisible(!1),Promise.resolve(t))}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setSelectedCryptoTransactionId",value:function(t){this.selected_crypto_transaction_id=t}},{key:"setIsCryptoTransactionsCancelModalVisible",value:function(t){this.is_crypto_transactions_cancel_modal_visible=t}},{key:"showCryptoTransactionsCancelModal",value:function(t){this.setSelectedCryptoTransactionId(t),this.setIsCryptoTransactionsCancelModalVisible(!0)}},{key:"hideCryptoTransactionsCancelModal",value:function(){this.setSelectedCryptoTransactionId(""),this.setIsCryptoTransactionsCancelModalVisible(!1)}},{key:"setSelectedCryptoStatus",value:function(t){this.selected_crypto_status=t}},{key:"setSelectedCryptoStatusDescription",value:function(t){this.selected_crypto_status_description=t}},{key:"setIsCryptoTransactionsStatusModalVisible",value:function(t){this.is_crypto_transactions_status_modal_visible=t}},{key:"showCryptoTransactionsStatusModal",value:function(t,e){this.setSelectedCryptoStatusDescription(t),this.setSelectedCryptoStatus(e),this.setIsCryptoTransactionsStatusModalVisible(!0)}},{key:"hideCryptoTransactionsStatusModal",value:function(){this.setIsCryptoTransactionsStatusModalVisible(!1)}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setIsCryptoTransactionsVisible",value:function(t){this.is_crypto_transactions_visible=t}}])&&_e(e.prototype,r),n&&_e(e,n),t}()).prototype,"crypto_transactions",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=ge(oe.prototype,"is_crypto_transactions_cancel_modal_visible",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=ge(oe.prototype,"is_crypto_transactions_status_modal_visible",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=ge(oe.prototype,"is_crypto_transactions_visible",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=ge(oe.prototype,"is_loading",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=ge(oe.prototype,"selected_crypto_transaction_id",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pe=ge(oe.prototype,"selected_crypto_status",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),le=ge(oe.prototype,"selected_crypto_status_description",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge(oe.prototype,"updateCryptoTransactions",[Ft],Object.getOwnPropertyDescriptor(oe.prototype,"updateCryptoTransactions"),oe.prototype),ge(oe.prototype,"setCryptoTransactionsHistory",[Vt],Object.getOwnPropertyDescriptor(oe.prototype,"setCryptoTransactionsHistory"),oe.prototype),ge(oe.prototype,"sortCryptoTransactions",[Bt],Object.getOwnPropertyDescriptor(oe.prototype,"sortCryptoTransactions"),oe.prototype),ge(oe.prototype,"getCryptoTransactions",[Nt],Object.getOwnPropertyDescriptor(oe.prototype,"getCryptoTransactions"),oe.prototype),ge(oe.prototype,"onMount",[Ht],Object.getOwnPropertyDescriptor(oe.prototype,"onMount"),oe.prototype),ge(oe.prototype,"unsubscribeCryptoTransactions",[Ut],Object.getOwnPropertyDescriptor(oe.prototype,"unsubscribeCryptoTransactions"),oe.prototype),ge(oe.prototype,"cancelCryptoTransaction",[qt],Object.getOwnPropertyDescriptor(oe.prototype,"cancelCryptoTransaction"),oe.prototype),ge(oe.prototype,"setSelectedCryptoTransactionId",[Gt],Object.getOwnPropertyDescriptor(oe.prototype,"setSelectedCryptoTransactionId"),oe.prototype),ge(oe.prototype,"setIsCryptoTransactionsCancelModalVisible",[Xt],Object.getOwnPropertyDescriptor(oe.prototype,"setIsCryptoTransactionsCancelModalVisible"),oe.prototype),ge(oe.prototype,"showCryptoTransactionsCancelModal",[Kt],Object.getOwnPropertyDescriptor(oe.prototype,"showCryptoTransactionsCancelModal"),oe.prototype),ge(oe.prototype,"hideCryptoTransactionsCancelModal",[Jt],Object.getOwnPropertyDescriptor(oe.prototype,"hideCryptoTransactionsCancelModal"),oe.prototype),ge(oe.prototype,"setSelectedCryptoStatus",[Yt],Object.getOwnPropertyDescriptor(oe.prototype,"setSelectedCryptoStatus"),oe.prototype),ge(oe.prototype,"setSelectedCryptoStatusDescription",[$t],Object.getOwnPropertyDescriptor(oe.prototype,"setSelectedCryptoStatusDescription"),oe.prototype),ge(oe.prototype,"setIsCryptoTransactionsStatusModalVisible",[Qt],Object.getOwnPropertyDescriptor(oe.prototype,"setIsCryptoTransactionsStatusModalVisible"),oe.prototype),ge(oe.prototype,"showCryptoTransactionsStatusModal",[Zt],Object.getOwnPropertyDescriptor(oe.prototype,"showCryptoTransactionsStatusModal"),oe.prototype),ge(oe.prototype,"hideCryptoTransactionsStatusModal",[te],Object.getOwnPropertyDescriptor(oe.prototype,"hideCryptoTransactionsStatusModal"),oe.prototype),ge(oe.prototype,"setLoading",[ee],Object.getOwnPropertyDescriptor(oe.prototype,"setLoading"),oe.prototype),ge(oe.prototype,"setIsCryptoTransactionsVisible",[re],Object.getOwnPropertyDescriptor(oe.prototype,"setIsCryptoTransactionsVisible"),oe.prototype),oe);function je(t,e,r,o,n,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(o,n)}function Ie(t){return function(){var e=this,r=arguments;return new Promise((function(o,n){var i=t.apply(e,r);function a(t){je(i,o,n,a,s,"next",t)}function s(t){je(i,o,n,a,s,"throw",t)}a(void 0)}))}}function xe(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function Re(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ee(t,e,r,o,n){var i={};return Object.keys(o).forEach((function(t){i[t]=o[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,o){return o(t,e,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ze,Le,Me,We,Fe,Ve=(be=r.action.bound,me=r.action.bound,ve=r.action.bound,we=r.action.bound,ke=r.action.bound,Oe=r.action.bound,Ce=Ee((Pe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,"should_show",Ce,this),xe(this,"is_confirmed",Te,this),xe(this,"last_location",Ae,this),xe(this,"current_location",Se,this),this.root_store=e}var e,r,n,i,a;return e=t,(r=[{key:"shouldNavigateAfterPrompt",value:function(t,e){this.is_confirmed||(this.last_location=t,this.should_show=!0,this.current_location=e)}},{key:"resetLastLocation",value:function(){this.last_location=null}},{key:"resetIsConfirmed",value:function(){this.is_confirmed=!1}},{key:"onConfirm",value:(a=Ie(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.should_show=!1,this.is_confirmed=!0,r=this.root_store.modules.cashier.config.account_transfer.accounts_list.some((function(t){return!t.is_crypto})),!(0,o.isCryptocurrency)(null===(e=this.root_store.client)||void 0===e?void 0:e.currency)||!r){t.next=6;break}return t.next=6,this.doSwitch();case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"doSwitch",value:(i=Ie(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store.modules.cashier.config.account_transfer.accounts_list.filter((function(t){return!t.is_crypto})),r=e.map((function(t){return t.value}))[0],t.next=4,this.root_store.client.switchAccount(r);case 4:"deposit"===this.current_location&&this.root_store.modules.cashier.setIsDeposit(!0);case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"onCancel",value:function(){this.should_show=!1}},{key:"continueRoute",value:function(){this.is_confirmed&&this.last_location&&this.root_store.common.routeTo(this.last_location)}}])&&Re(e.prototype,r),n&&Re(e,n),t}()).prototype,"should_show",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=Ee(Pe.prototype,"is_confirmed",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=Ee(Pe.prototype,"last_location",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Ee(Pe.prototype,"current_location",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee(Pe.prototype,"shouldNavigateAfterPrompt",[be],Object.getOwnPropertyDescriptor(Pe.prototype,"shouldNavigateAfterPrompt"),Pe.prototype),Ee(Pe.prototype,"resetLastLocation",[me],Object.getOwnPropertyDescriptor(Pe.prototype,"resetLastLocation"),Pe.prototype),Ee(Pe.prototype,"resetIsConfirmed",[ve],Object.getOwnPropertyDescriptor(Pe.prototype,"resetIsConfirmed"),Pe.prototype),Ee(Pe.prototype,"onConfirm",[we],Object.getOwnPropertyDescriptor(Pe.prototype,"onConfirm"),Pe.prototype),Ee(Pe.prototype,"onCancel",[ke],Object.getOwnPropertyDescriptor(Pe.prototype,"onCancel"),Pe.prototype),Ee(Pe.prototype,"continueRoute",[Oe],Object.getOwnPropertyDescriptor(Pe.prototype,"continueRoute"),Pe.prototype),Pe);function Be(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function Ne(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function He(t,e,r,o,n){var i={};return Object.keys(o).forEach((function(t){i[t]=o[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,o){return o(t,e,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ue=(ze=r.action.bound,Le=r.action.bound,We=He((Me=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,"error_message",We,this),Be(this,"should_show",Fe,this)}var e,r,o;return e=t,(r=[{key:"setShouldShow",value:function(t){this.should_show=t}},{key:"setErrorMessage",value:function(t){this.error_message=t,this.setShouldShow(!0)}}])&&Ne(e.prototype,r),o&&Ne(e,o),t}()).prototype,"error_message",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fe=He(Me.prototype,"should_show",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He(Me.prototype,"setShouldShow",[ze],Object.getOwnPropertyDescriptor(Me.prototype,"setShouldShow"),Me.prototype),He(Me.prototype,"setErrorMessage",[Le],Object.getOwnPropertyDescriptor(Me.prototype,"setErrorMessage"),Me.prototype),Me),qe=l("../../../node_modules/prop-types/index.js"),Ge=l.n(qe),Xe=l("@deriv/components"),Ke=function(t){var r=t.p2p_notification_count;return e().createElement(e().Fragment,null,e().createElement(Xe.Icon,{icon:"IcCashier",className:"header__icon"}),!!r&&e().createElement(Xe.Counter,{className:"cashier__counter",count:r}))};Ke.propTypes={p2p_notification_count:Ge().number};const Je=Ke;function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $e,Qe,Ze,tr,er,rr,or,nr,ir,ar,sr,cr,ur,pr,lr,fr,hr,yr,dr,_r,gr,br,mr,vr,wr,kr,Or,Pr,Cr,Tr,Ar,Sr,Dr,jr,Ir,xr,Rr,Er,zr,Lr,Mr,Wr,Fr,Vr,Br,Nr,Hr,Ur,qr,Gr,Xr,Kr,Jr,Yr,$r,Qr,Zr,to,eo,ro,oo,no,io,ao,so,co,uo,po,lo,fo,ho,yo,_o,go,bo,mo,vo,wo,ko,Oo,Po,Co,To,Ao,So,Do,jo,Io,xo,Ro,Eo,zo,Lo,Mo,Wo,Fo,Vo,Bo,No,Ho,Uo,qo,Go,Xo,Ko,Jo,Yo,$o,Qo,Zo,tn,en,rn,on,nn,an,sn,cn,un,pn,ln,fn,hn,yn,dn,_n,gn,bn,mn,vn,wn,kn,On,Pn,Cn,Tn,An,Sn,Dn,jn,In,xn,Rn,En,zn,Ln,Mn,Wn,Fn,Vn,Bn,Nn,Hn,Un,qn,Gn,Xn,Kn,Jn,Yn,$n,Qn,Zn,ti,ei,ri,oi,ni,ii,ai,si,ci,ui,pi,li,fi,hi,yi,di,_i,gi,bi,mi,vi,wi,ki,Oi,Pi,Ci,Ti,Ai,Si,Di,ji,Ii,xi,Ri,Ei,zi,Li,Mi,Wi,Fi,Vi,Bi,Ni,Hi,Ui,qi,Gi,Xi,Ki,Ji,Yi,$i,Qi,Zi,ta,ea,ra,oa,na;function ia(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ia(Object(r),!0).forEach((function(e){la(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o,n,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,n=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ca(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ca(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function ua(t,e,r,o,n,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(o,n)}function pa(t){return function(){var e=this,r=arguments;return new Promise((function(o,n){var i=t.apply(e,r);function a(t){ua(i,o,n,a,s,"next",t)}function s(t){ua(i,o,n,a,s,"throw",t)}a(void 0)}))}}function la(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fa(t,e){return(fa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=_a(t);if(e){var n=_a(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return ya(this,r)}}function ya(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?da(t):e}function da(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _a(t){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ga(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ba(t,e,r){return e&&ga(t.prototype,e),r&&ga(t,r),t}function ma(t,e,r,o){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function va(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(t,e,r,o,n){var i={};return Object.keys(o).forEach((function(t){i[t]=o[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,o){return o(t,e,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ka=function(t){return t.startsWith("MX")},Oa=function(t,r){return r?e().createElement(n.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}}):e().createElement(n.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}})},Pa=(Qe=wa(($e=function t(e){var r=e.container;va(this,t),this.container="",this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session="",ma(this,"iframe_height",Qe,this),ma(this,"iframe_url",Ze,this),this.container=r}).prototype,"iframe_height",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ze=wa($e.prototype,"iframe_url",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$e),Ca=(er=wa((tr=function t(){va(this,t),ma(this,"message",er,this),ma(this,"code",rr,this),ma(this,"fields",or,this),ma(this,"is_show_full_page",nr,this),ma(this,"onClickButton",ir,this),ma(this,"is_ask_uk_funds_protection",ar,this),ma(this,"is_self_exclusion_max_turnover_set",sr,this),ma(this,"is_ask_authentication",cr,this),ma(this,"is_ask_financial_risk_approval",ur,this)}).prototype,"message",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rr=wa(tr.prototype,"code",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),or=wa(tr.prototype,"fields",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nr=wa(tr.prototype,"is_show_full_page",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ir=wa(tr.prototype,"onClickButton",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ar=wa(tr.prototype,"is_ask_uk_funds_protection",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=wa(tr.prototype,"is_self_exclusion_max_turnover_set",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cr=wa(tr.prototype,"is_ask_authentication",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ur=wa(tr.prototype,"is_ask_financial_risk_approval",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tr),Ta=(pr=r.action.bound,fr=wa((lr=function(){function t(){va(this,t),this.list=[],ma(this,"agents",fr,this),ma(this,"container",hr,this),ma(this,"error",yr,this),ma(this,"filtered_list",dr,this),ma(this,"is_name_selected",_r,this),ma(this,"is_withdraw",gr,this),ma(this,"is_try_withdraw_successful",br,this),ma(this,"is_withdraw_successful",mr,this),ma(this,"confirm",vr,this),ma(this,"receipt",wr,this),ma(this,"selected_bank",kr,this),ma(this,"supported_banks",Or,this),ma(this,"verification",Pr,this),ma(this,"active_tab_index",Cr,this)}return ba(t,[{key:"setActiveTabIndex",value:function(t){this.active_tab_index=t}}]),t}()).prototype,"agents",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hr=wa(lr.prototype,"container",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent"}}),yr=wa(lr.prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ca}}),dr=wa(lr.prototype,"filtered_list",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_r=wa(lr.prototype,"is_name_selected",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gr=wa(lr.prototype,"is_withdraw",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),br=wa(lr.prototype,"is_try_withdraw_successful",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=wa(lr.prototype,"is_withdraw_successful",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vr=wa(lr.prototype,"confirm",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wr=wa(lr.prototype,"receipt",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kr=wa(lr.prototype,"selected_bank",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Or=wa(lr.prototype,"supported_banks",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pr=wa(lr.prototype,"verification",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ja}}),Cr=wa(lr.prototype,"active_tab_index",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wa(lr.prototype,"setActiveTabIndex",[pr],Object.getOwnPropertyDescriptor(lr.prototype,"setActiveTabIndex"),lr.prototype),lr),Aa=(Ar=wa((Tr=function t(){va(this,t),ma(this,"container",Ar,this),ma(this,"error",Sr,this),ma(this,"is_payment_agent",Dr,this),ma(this,"is_try_transfer_successful",jr,this),ma(this,"is_transfer_successful",Ir,this),ma(this,"confirm",xr,this),ma(this,"receipt",Rr,this),ma(this,"transfer_limit",Er,this)}).prototype,"container",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent_transfer"}}),Sr=wa(Tr.prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ca}}),Dr=wa(Tr.prototype,"is_payment_agent",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jr=wa(Tr.prototype,"is_try_transfer_successful",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ir=wa(Tr.prototype,"is_transfer_successful",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xr=wa(Tr.prototype,"confirm",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rr=wa(Tr.prototype,"receipt",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Er=wa(Tr.prototype,"transfer_limit",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tr),Sa=(zr=r.action.bound,Lr=r.action.bound,Mr=r.action.bound,Fr=wa((Wr=function(){function t(){va(this,t),ma(this,"accounts_list",Fr,this),ma(this,"container",Vr,this),ma(this,"error",Br,this),ma(this,"has_no_account",Nr,this),ma(this,"has_no_accounts_balance",Hr,this),ma(this,"is_transfer_confirm",Ur,this),ma(this,"is_mt5_transfer_in_progress",qr,this),ma(this,"minimum_fee",Gr,this),ma(this,"receipt",Xr,this),ma(this,"selected_from",Kr,this),ma(this,"selected_to",Jr,this),ma(this,"account_transfer_amount",Yr,this),ma(this,"transfer_fee",$r,this),ma(this,"transfer_limit",Qr,this)}return ba(t,[{key:"setBalanceByLoginId",value:function(t,e){this.accounts_list.find((function(e){return t===e.value})).balance=e}},{key:"setBalanceSelectedFrom",value:function(t){this.selected_from.balance=t}},{key:"setBalanceSelectedTo",value:function(t){this.selected_to.balance=t}}]),t}()).prototype,"accounts_list",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vr=wa(Wr.prototype,"container",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"account_transfer"}}),Br=wa(Wr.prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ca}}),Nr=wa(Wr.prototype,"has_no_account",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hr=wa(Wr.prototype,"has_no_accounts_balance",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ur=wa(Wr.prototype,"is_transfer_confirm",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qr=wa(Wr.prototype,"is_mt5_transfer_in_progress",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gr=wa(Wr.prototype,"minimum_fee",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xr=wa(Wr.prototype,"receipt",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kr=wa(Wr.prototype,"selected_from",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jr=wa(Wr.prototype,"selected_to",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Yr=wa(Wr.prototype,"account_transfer_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$r=wa(Wr.prototype,"transfer_fee",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qr=wa(Wr.prototype,"transfer_limit",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wa(Wr.prototype,"setBalanceByLoginId",[zr],Object.getOwnPropertyDescriptor(Wr.prototype,"setBalanceByLoginId"),Wr.prototype),wa(Wr.prototype,"setBalanceSelectedFrom",[Lr],Object.getOwnPropertyDescriptor(Wr.prototype,"setBalanceSelectedFrom"),Wr.prototype),wa(Wr.prototype,"setBalanceSelectedTo",[Mr],Object.getOwnPropertyDescriptor(Wr.prototype,"setBalanceSelectedTo"),Wr.prototype),Wr),Da=(to=wa((Zr=function t(){va(this,t),ma(this,"container",to,this),ma(this,"iframe_height",eo,this),ma(this,"iframe_url",ro,this),ma(this,"error",oo,this),ma(this,"verification",no,this),this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session=""}).prototype,"container",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"withdraw"}}),eo=wa(Zr.prototype,"iframe_height",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ro=wa(Zr.prototype,"iframe_url",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oo=wa(Zr.prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ca}}),no=wa(Zr.prototype,"verification",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ja}}),Zr),ja=(ao=wa((io=function t(){va(this,t),this.is_button_clicked=!1,this.timeout_button="",ma(this,"error",ao,this),ma(this,"is_email_sent",so,this),ma(this,"is_resend_clicked",co,this),ma(this,"resend_timeout",uo,this)}).prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ca}}),so=wa(io.prototype,"is_email_sent",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),co=wa(io.prototype,"is_resend_clicked",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uo=wa(io.prototype,"resend_timeout",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),io),Ia=(po=r.action.bound,lo=r.action.bound,fo=r.action.bound,ho=r.action.bound,yo=r.action.bound,_o=r.action.bound,go=r.action.bound,bo=r.action.bound,mo=r.action.bound,vo=r.action.bound,wo=r.action.bound,ko=r.action.bound,Oo=r.action.bound,Po=r.action.bound,Co=r.action.bound,To=r.action.bound,Ao=r.action.bound,So=r.action.bound,Do=r.action.bound,jo=r.action.bound,Io=r.action.bound,xo=r.action.bound,Ro=r.action.bound,Eo=r.action.bound,zo=r.action.bound,Lo=r.action.bound,Mo=r.action.bound,Wo=r.action.bound,Fo=r.action.bound,Vo=r.action.bound,Bo=r.action.bound,No=r.action.bound,Ho=r.action.bound,Uo=r.action.bound,qo=r.action.bound,Go=r.action.bound,Xo=r.action.bound,Ko=r.action.bound,Jo=r.action.bound,Yo=r.action.bound,$o=r.action.bound,Qo=r.action.bound,Zo=r.action.bound,tn=r.action.bound,en=r.action.bound,rn=r.action.bound,on=r.action.bound,nn=r.action.bound,an=r.action.bound,sn=r.action.bound,cn=r.action.bound,un=r.action.bound,pn=r.action.bound,ln=r.action.bound,fn=r.action.bound,hn=r.action.bound,yn=r.action.bound,dn=r.action.bound,_n=r.action.bound,gn=r.action.bound,bn=r.action.bound,mn=r.action.bound,vn=r.action.bound,wn=r.action.bound,kn=r.action.bound,On=r.action.bound,Pn=r.action.bound,Cn=r.action.bound,Tn=r.action.bound,An=r.action.bound,Sn=r.action.bound,Dn=r.action.bound,jn=r.action.bound,In=r.action.bound,xn=r.action.bound,Rn=r.action.bound,En=r.action.bound,zn=r.action.bound,Ln=r.action.bound,Mn=r.action.bound,Wn=r.action.bound,Fn=r.action.bound,Vn=r.action.bound,Bn=r.action.bound,Nn=r.action.bound,Hn=r.action.bound,Un=r.action.bound,qn=r.action.bound,Gn=r.action.bound,Xn=r.action.bound,Kn=r.action.bound,Jn=r.action.bound,Yn=r.action.bound,$n=r.action.bound,Qn=r.action.bound,Zn=r.action.bound,ti=r.action.bound,ei=r.action.bound,ri=r.action.bound,oi=r.action.bound,ni=r.action.bound,ii=r.action.bound,ai=r.action.bound,si=r.action.bound,ci=r.action.bound,ui=r.action.bound,pi=r.action.bound,li=r.action.bound,fi=r.action.bound,hi=r.action.bound,yi=r.action.bound,di=r.action.bound,_i=r.action.bound,gi=r.action.bound,bi=r.action.bound,mi=r.action.bound,vi=r.action.bound,wi=r.action.bound,ki=r.action.bound,Pi=wa((Oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fa(t,e)}(R,t);var i,a,s,c,u,p,l,f,h,y,d,_,g,b,m,v,w,k,O,P,C,T,A,S,D,j,I,x=ha(R);function R(t){var e,n,i=t.root_store,a=t.WS;return va(this,R),ma(n=x.call(this,{root_store:i}),"is_loading",Pi,da(n)),ma(n,"is_p2p_visible",Ci,da(n)),ma(n,"p2p_notification_count",Ti,da(n)),ma(n,"cashier_route_tab_index",Ai,da(n)),ma(n,"is_10k_withdrawal_limit_reached",Si,da(n)),ma(n,"is_deposit",Di,da(n)),ma(n,"should_show_all_available_currencies",ji,da(n)),ma(n,"is_cashier_default",Ii,da(n)),ma(n,"deposit_target",xi,da(n)),ma(n,"crypto_amount",Ri,da(n)),ma(n,"fiat_amount",Ei,da(n)),ma(n,"insufficient_fund_error",zi,da(n)),ma(n,"all_payment_agent_list",Li,da(n)),ma(n,"should_set_currency_modal_title_change",Mi,da(n)),ma(n,"p2p_advertiser_error",Wi,da(n)),ma(n,"has_set_currency",Fi,da(n)),ma(n,"withdraw_amount",Vi,da(n)),ma(n,"converter_from_amount",Bi,da(n)),ma(n,"converter_to_amount",Ni,da(n)),ma(n,"converter_from_error",Hi,da(n)),ma(n,"converter_to_error",Ui,da(n)),ma(n,"is_timer_visible",qi,da(n)),ma(n,"is_crypto_transactions_visible",Gi,da(n)),ma(n,"blockchain_address",Xi,da(n)),ma(n,"should_percentage_reset",Ki,da(n)),ma(n,"percentage",Ji,da(n)),ma(n,"is_withdraw_confirmed",Yi,da(n)),ma(n,"show_p2p_in_cashier_default",$i,da(n)),ma(n,"max_withdraw_amount",Qi,da(n)),ma(n,"config",Zi,da(n)),n.active_container=n.config.deposit.container,n.onRemount=function(){},n.is_populating_values=!1,n.containers=[n.config.deposit.container,n.config.withdraw.container],n.map_action=(la(e={},n.config.withdraw.container,"payment_withdraw"),la(e,n.config.payment_agent.container,"payment_agent_withdraw"),e),ma(n,"resetPaymentAgent",ta,da(n)),n.requestTransferBetweenAccounts=function(){var t=pa(regeneratorRuntime.mark((function t(e){var r,i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.amount,n.root_store.client.is_logged_in){t.next=3;break}return t.abrupt("return",null);case 3:return n.setLoading(!0),n.setErrorMessage(""),(i=n.config.account_transfer.selected_from.is_mt||n.config.account_transfer.selected_to.is_mt)&&n.setIsMT5TransferInProgress(!0),a=n.config.account_transfer.selected_from.currency,t.next=10,n.WS.authorized.transferBetweenAccounts(n.config.account_transfer.selected_from.value,n.config.account_transfer.selected_to.value,a,r);case 10:if(s=t.sent,i&&n.setIsMT5TransferInProgress(!1),!s.error){t.next=21;break}if("Fiat2CryptoTransferOverLimit"!==s.error.code){t.next=18;break}return t.next=16,n.WS.authorized.getAccountStatus();case 16:(c=t.sent).error||n.root_store.client.setAccountStatus(c.get_account_status);case 18:n.setErrorMessage(s.error),t.next=25;break;case 21:n.setReceiptTransfer({amount:(0,o.formatMoney)(a,r,!0)}),s.accounts.forEach((function(t){n.config.account_transfer.setBalanceByLoginId(t.loginid,t.balance),t.loginid===n.config.account_transfer.selected_from.value?n.config.account_transfer.setBalanceSelectedFrom(t.balance):t.loginid===n.config.account_transfer.selected_to.value&&n.config.account_transfer.setBalanceSelectedTo(t.balance),t.account_type===o.CFD_PLATFORMS.MT5&&Promise.all([n.WS.mt5LoginList(),n.WS.balanceAll()]).then((function(t){var e=sa(t,2),r=e[0],o=e[1];n.root_store.client.responseMt5LoginList(r),n.root_store.client.setBalanceOtherAccounts(o.balance)})),t.account_type===o.CFD_PLATFORMS.DXTRADE&&Promise.all([n.WS.tradingPlatformAccountsList(o.CFD_PLATFORMS.DXTRADE),n.WS.balanceAll()]).then((function(t){var e=sa(t,2),r=e[0],o=e[1];n.root_store.client.responseTradingPlatformAccountsList(r),n.root_store.client.setBalanceOtherAccounts(o.balance)}))})),n.setAccountTransferAmount(null),n.setIsTransferConfirm(!0);case 25:return n.setLoading(!1),t.abrupt("return",s);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ma(n,"resetAccountTransfer",ea,da(n)),ma(n,"requestTryPaymentAgentTransfer",ra,da(n)),ma(n,"requestPaymentAgentTransfer",oa,da(n)),ma(n,"resetPaymentAgentTransfer",na,da(n)),n.WS=a,(0,r.when)((function(){return n.root_store.client.is_logged_in}),(function(){n.attachCashierToMenu()})),n.has_set_currency||n.changeSetCurrencyModalTitle(),n.onramp=new fe({root_store:n.root_store,WS:n.WS}),n.account_prompt_dialog=new Ve(n.root_store),n.error_dialog=new Ue,n.transaction_history=new De({root_store:n.root_store,WS:n.WS}),n.init(),n}return ba(R,[{key:"is_crypto",get:function(){var t=this.root_store.client.currency;return!!t&&(0,o.isCryptocurrency)(t)}},{key:"is_payment_agent_visible",get:function(){return!(!this.config.payment_agent.filtered_list.length&&!this.config.payment_agent.agents.length)}},{key:"is_payment_agent_visible_in_onboarding",get:function(){var t,e,r;return!(null===(t=this.all_payment_agent_list)||void 0===t||null===(e=t.paymentagent_list)||void 0===e||null===(r=e.list)||void 0===r||!r.length)}},{key:"is_payment_agent_transfer_visible",get:function(){return this.config.payment_agent_transfer.is_payment_agent}},{key:"is_account_transfer_visible",get:function(){return"im"!==this.root_store.client.residence&&("malta"!==this.root_store.client.landing_company_shortcode||this.root_store.client.has_maltainvest_account)}},{key:"is_p2p_enabled",get:function(){return this.is_p2p_visible&&!this.root_store.client.is_eu}},{key:"showP2pInCashierDefault",value:function(){var t="RestrictedCountry"===this.p2p_advertiser_error,e=this.root_store.client.account_list.some((function(t){return"USD"===t.title})),r=this.root_store.client.account_list.some((function(t){return!(0,o.isCryptocurrency)(t.title)&&"Real"!==t.title}));t||this.root_store.client.is_virtual||r&&!e?this.show_p2p_in_cashier_default=!1:this.show_p2p_in_cashier_default=!0}},{key:"attachCashierToMenu",value:function(){this.has_set_currency||this.setHasSetCurrency(),this.root_store.menu.attach({id:"dt_cashier_tab",icon:e().createElement(Je,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,n.localize)("Cashier")},link_to:this.has_set_currency&&o.routes.cashier,onClick:!this.has_set_currency&&this.root_store.ui.toggleSetCurrencyModal,login_only:!0})}},{key:"replaceCashierMenuOnclick",value:function(){this.setHasSetCurrency(),this.root_store.menu.update({id:"dt_cashier_tab",icon:e().createElement(Je,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,n.localize)("Cashier")},link_to:this.has_set_currency&&o.routes.cashier,onClick:!this.has_set_currency&&this.root_store.ui.toggleSetCurrencyModal,login_only:!0},1)}},{key:"setHasSetCurrency",value:function(){this.has_set_currency=this.root_store.client.account_list.filter((function(t){return!t.is_virtual})).some((function(t){return"Real"!==t.title}))||!this.root_store.client.has_active_real_account}},{key:"changeSetCurrencyModalTitle",value:function(){this.should_set_currency_modal_title_change=!0}},{key:"onMountCashierDefault",value:(I=pa(regeneratorRuntime.mark((function t(){var e,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.has_set_currency||this.setHasSetCurrency(),this.setIsCashierDefault(!0),this.account_prompt_dialog.resetIsConfirmed(),this.setLoading(!0),void 0!==(null===(e=this.all_payment_agent_list)||void 0===e||null===(r=e.paymentagent_list)||void 0===r?void 0:r.list)){t.next=9;break}return t.next=7,this.getAllPaymentAgentList();case 7:o=t.sent,this.setAllPaymentAgentList(o);case 9:this.setLoading(!1);case 10:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)})},{key:"setIsWithdrawConfirmed",value:function(t){this.is_withdraw_confirmed=t,t&&this.setWithdrawAmount(this.converter_from_amount),!t&&this.config[this.active_container].verification&&this.clearVerification()}},{key:"setWithdrawAmount",value:function(t){this.withdraw_amount=t}},{key:"calculatePercentage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.converter_from_amount;this.active_container===this.config.account_transfer.container?this.percentage=+(t/+this.config.account_transfer.selected_from.balance*100).toFixed(0):this.percentage=+(t/+this.root_store.client.balance*100).toFixed(0),isFinite(this.percentage)||(this.percentage=0)}},{key:"percentageSelectorSelectionStatus",value:function(t){this.should_percentage_reset=t,t&&(this.percentage=0)}},{key:"saveWithdraw",value:(j=pa(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setErrorMessage(""),t.next=3,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:e}).then((function(t){t.error?(r.setErrorMessage(t.error),e&&r.clearVerification(),r.resetWithrawForm()):r.setIsWithdrawConfirmed(!0)}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)})},{key:"requestWithdraw",value:(D=pa(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.root_store.client.is_logged_in){t.next=2;break}return t.abrupt("return");case 2:if(this.converter_from_amount){t.next=5;break}return this.setConverterFromError((0,n.localize)("This field is required.")),t.abrupt("return");case 5:return t.next=7,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:e,dry_run:1}).then((function(t){t.error?r.error_dialog.setErrorMessage(t.error.message):r.saveWithdraw(e)}));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return D.apply(this,arguments)})},{key:"resetWithrawForm",value:function(){this.setBlockchainAddress(""),this.setConverterFromAmount(""),this.setConverterToAmount(""),this.clearVerification()}},{key:"setIsDeposit",value:function(t){this.is_deposit=t}},{key:"setShouldShowAllAvailableCurrencies",value:function(t){this.should_show_all_available_currencies=t}},{key:"setBlockchainAddress",value:function(t){this.blockchain_address=t}},{key:"setIsCashierDefault",value:function(t){this.is_cashier_default=t}},{key:"setDepositTarget",value:function(t){this.deposit_target=t}},{key:"continueRoute",value:function(){this.root_store.common.routeTo(this.deposit_target)}},{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"setActiveTabIndex",value:function(t){this.config.payment_agent.setActiveTabIndex(t),1===t&&this.sendVerificationEmail()}},{key:"init",value:function(){var t=this;(0,r.when)((function(){return t.root_store.client.is_logged_in}),pa(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAdvertizerError();case 2:return t.checkP2pStatus(),e.next=5,t.check10kLimit();case 5:case"end":return e.stop()}}),e)})))),(0,r.when)((function(){return t.is_payment_agent_visible}),(function(){return t.filterPaymentAgentList()})),(0,r.reaction)((function(){return[t.root_store.client.switched,t.root_store.client.is_logged_in,t.root_store.client.currency]}),pa(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.WS.wait("get_settings");case 2:if(!t.root_store.client.is_logged_in){e.next=10;break}return e.next=5,t.getAdvertizerError();case 5:if(t.account_prompt_dialog.resetLastLocation(),t.root_store.client.switched){e.next=10;break}return t.checkP2pStatus(),e.next=10,t.check10kLimit();case 10:case"end":return e.stop()}}),e)})))),(0,r.reaction)((function(){return[t.root_store.client.currency]}),(function(){t.setIsWithdrawConfirmed(!1)}))}},{key:"getAdvertizerError",value:(S=pa(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.p2pAdvertiserInfo();case 2:e=t.sent,this.setP2pAdvertiserError((0,o.getPropertyValue)(e,["error","code"]));case 4:case"end":return t.stop()}}),t,this)}))),function(){return S.apply(this,arguments)})},{key:"setP2pAdvertiserError",value:function(t){this.p2p_advertiser_error=t}},{key:"checkP2pStatus",value:function(){var t=this.p2p_advertiser_error,e="RestrictedCountry"===t||"RestrictedCurrency"===t;this.setIsP2pVisible(!(e||this.root_store.client.is_virtual))}},{key:"onMountCommon",value:(A=pa(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.client.is_logged_in){t.next=10;break}if(!this.is_populating_values){t.next=3;break}return t.abrupt("return");case 3:this.is_populating_values=!0,e&&(this.onRemount=this.onMountCommon),this.config.payment_agent.list.length||this.setPaymentAgentList().then(this.filterPaymentAgentList),this.config.payment_agent_transfer.is_payment_agent||this.checkIsPaymentAgent(),this.config.account_transfer.accounts_list.length||this.sortAccountsTransfer(),!this.onramp.is_onramp_tab_visible&&window.location.pathname.endsWith(o.routes.cashier_onramp)&&this.root_store.common.routeTo(o.routes.cashier_deposit),!this.is_crypto_transactions_visible&&window.location.pathname.endsWith(o.routes.cashier_crypto_transactions)&&(this.root_store.common.routeTo(o.routes.cashier_deposit),this.transaction_history.setIsCryptoTransactionsVisible(!0),this.transaction_history.onMount());case 10:case"end":return t.stop()}}),t,this)}))),function(t){return A.apply(this,arguments)})},{key:"setIsCryptoTransactionsVisible",value:function(t){this.is_crypto_transactions_visible=t}},{key:"setCashierTabIndex",value:function(t){this.cashier_route_tab_index=t}},{key:"willMountWithdraw",value:function(t){t&&this.clearVerification()}},{key:"onMountWithdraw",value:(T=pa(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setLoading(!0),!/^\w{8,128}$/.test(e)){t.next=8;break}return t.next=5,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:e,dry_run:1});case 5:r=t.sent,t.next=9;break;case 8:r={error:{code:"InvalidToken",message:"Your token has expired or is invalid."}};case 9:"InvalidToken"===r.error.code?(this.handleCashierError(r.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),e&&this.clearVerification()):this.setLoading(!1),this.config.withdraw.error&&this.setErrorMessage(this.config.withdraw.error,this.onMountWithdraw);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)})},{key:"onMountDeposit",value:(C=pa(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.active_container,this.setErrorMessage(""),this.setContainerHeight(0),this.setLoading(!0),this.config[this.active_container].is_session_timeout){t.next=7;break}return this.checkIframeLoaded(),t.abrupt("return");case 7:if(this.setIframeUrl(""),(this.active_container!==this.config.withdraw.container||e)&&!this.root_store.client.is_virtual){t.next=11;break}return this.setLoading(!1),t.abrupt("return");case 11:return t.next=13,this.WS.authorized.cashier(this.active_container,{verification_code:e});case 13:if(n=t.sent,r===this.active_container){t.next=17;break}return this.setLoading(!1),t.abrupt("return");case 17:if(!n.error){t.next=25;break}this.handleCashierError(n.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),e&&this.clearVerification(),t.next=36;break;case 25:if(!(0,o.isCryptocurrency)(this.root_store.client.currency)){t.next=31;break}this.setLoading(!1),this.setContainerHeight("380"),this.setIframeUrl(n.cashier),t.next=36;break;case 31:return t.next=33,this.checkIframeLoaded();case 33:this.setIframeUrl(n.cashier),this.setSessionTimeout(!1),this.setTimeoutCashierUrl();case 36:case"end":return t.stop()}}),t,this)}))),function(t){return C.apply(this,arguments)})},{key:"setNotificationCount",value:function(t){this.p2p_notification_count=t}},{key:"setIsP2pVisible",value:function(t){var e;this.is_p2p_visible=t,!t&&window.location.pathname.endsWith(o.routes.cashier_p2p)&&this.root_store.common.routeTo(null!==(e=this.account_prompt_dialog.last_location)&&void 0!==e?e:o.routes.cashier_deposit)}},{key:"onMount",value:(P=pa(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onRemount=this.onMount,t.next=3,this.onMountCommon();case 3:if(-1!==this.containers.indexOf(this.active_container)||this.root_store.client.is_switching||this.active_container===this.config.payment_agent.container){t.next=5;break}throw new Error("Cashier Store onMount requires a valid container name.");case 5:this.onMountDeposit(e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return P.apply(this,arguments)})},{key:"is_cashier_locked",get:function(){var t;return!(null===(t=this.root_store.client.account_status)||void 0===t||!t.status)&&this.root_store.client.account_status.status.some((function(t){return"cashier_locked"===t}))}},{key:"is_system_maintenance",get:function(){var t;return!(null===(t=this.root_store.client.account_status)||void 0===t||!t.cashier_validation)&&this.root_store.client.account_status.cashier_validation.some((function(t){return"system_maintenance"===t}))}},{key:"is_deposit_locked",get:function(){var t=this.root_store.client,e=t.is_authentication_needed,r=t.is_tnc_needed,o=t.is_financial_account,n=t.is_financial_information_incomplete,i=t.is_trading_experience_incomplete,a=t.account_status,s=t.is_eu,c=t.mt5_login_list,u=t.is_deposit_lock;if(null==a||!a.status)return!1;var p=this.config.deposit.error.is_ask_authentication||e&&s,l=o&&(n||i),f=(s||c.some((function(t){return"real"===t.account_type&&"financial_stp"===t.sub_account_type})))&&r;return u||p||f||l||this.config.deposit.error.is_ask_financial_risk_approval}},{key:"is_withdrawal_locked",get:function(){var t;if(null===(t=this.root_store.client.account_status)||void 0===t||!t.status)return!1;var e=this.root_store.client.account_status.authentication.needs_verification.includes("identity"),r=this.config.withdraw.error.is_ask_authentication&&e;return this.root_store.client.is_withdrawal_lock||r||this.config.withdraw.error.is_ask_financial_risk_approval}},{key:"is_transfer_locked",get:function(){var t=this.root_store.client,e=t.is_financial_account,r=t.is_financial_information_incomplete,o=t.is_trading_experience_incomplete,n=t.account_status;return!(null==n||!n.status)&&e&&(r||o)&&this.config.account_transfer.error.is_ask_financial_risk_approval}},{key:"setMaxWithdrawAmount",value:function(t){this.max_withdraw_amount=t}},{key:"check10kLimit",value:(O=pa(regeneratorRuntime.mark((function t(){var e,r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.root_store.client.getLimits();case 2:if(t.t1=e=t.sent,t.t0=null===t.t1,t.t0){t.next=6;break}t.t0=void 0===e;case 6:if(!t.t0){t.next=10;break}t.t2=void 0,t.next=11;break;case 10:t.t2=null===(r=e.get_limits)||void 0===r?void 0:r.remainder;case 11:n=t.t2,this.setMaxWithdrawAmount(n),i=(0,o.getMinWithdrawal)(this.root_store.client.currency),a=!!(void 0!==n&&+n<i),this.set10kLimitation(a);case 16:case"end":return t.stop()}}),t,this)}))),function(){return O.apply(this,arguments)})},{key:"set10kLimitation",value:function(t){this.is_10k_withdrawal_limit_reached=t}},{key:"checkIframeLoaded",value:(k=pa(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.removeOnIframeLoaded(),this.config[this.active_container].onIframeLoaded=function(t){/cashier|doughflow/.test(t.origin)&&(this.setLoading(!1),this.root_store.ui.is_mobile?this.setContainerHeight(window.innerHeight-100):this.setContainerHeight(window.innerHeight-190))}.bind(this),window.addEventListener("message",this.config[this.active_container].onIframeLoaded,!1);case 3:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[t].onIframeLoaded&&(window.removeEventListener("message",this.config[t].onIframeLoaded,!1),this.config[t].onIframeLoaded="")}},{key:"setIframeUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;t?(this.config[e].iframe_url="".concat(t,"&theme=").concat(this.root_store.ui.is_dark_mode_on?"dark":"light"),this.root_store.client.setVerificationCode("",this.map_action[e])):this.config[e].iframe_url=t}},{key:"setContainerHeight",value:function(t){this.config[this.active_container].iframe_height=t}},{key:"setErrorMessage",value:function(t,e,r,n){var i=aa({onClickButton:e,code:t.code,message:t.message,is_show_full_page:r||/InvalidToken|WrongResponse/.test(t.code)},(0,o.getPropertyValue)(t,["details","fields"])&&{fields:t.details.fields});n&&this.config[this.active_container].verification?this.config[this.active_container].verification.error=i:this.config[this.active_container].error=i}},{key:"handleCashierError",value:function(t){switch(t.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(t,null,!0);break;case"ASK_UK_FUNDS_PROTECTION":this.config[this.active_container].error={is_ask_uk_funds_protection:!0};break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.config[this.active_container].error={is_self_exclusion_max_turnover_set:!0};break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.config[this.active_container].error={is_ask_authentication:!0};break;case"ASK_FINANCIAL_RISK_APPROVAL":this.config[this.active_container].error={is_ask_financial_risk_approval:!0};break;default:this.config[this.active_container].error={is_ask_uk_funds_protection:!1,is_self_exclusion_max_turnover_set:!1,is_ask_authentication:!1,is_ask_financial_risk_approval:!1},this.setErrorMessage(t)}}},{key:"setErrorConfig",value:function(t,e){this.config[this.active_container].error=la({},t,e)}},{key:"submitFundsProtection",value:function(){var t=this;this.WS.send({ukgc_funds_protection:1,tnc_approval:1}).then((function(e){e.error?t.setErrorConfig("message",e.error.message):location.reload()}))}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setSessionTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].is_session_timeout=t,t&&this.removeOnIframeLoaded(e)}},{key:"setVerificationButtonClicked",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.is_button_clicked=t}},{key:"setVerificationEmailSent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.is_email_sent=t}},{key:"setVerificationResendClicked",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.is_resend_clicked=t}},{key:"setVerificationResendTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.resend_timeout=t}},{key:"clearTimeoutCashierUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[t].timeout_session&&clearTimeout(this.config[t].timeout_session)}},{key:"setTimeoutCashierUrl",value:function(){var t=this;this.clearTimeoutCashierUrl(),this.config[this.active_container].timeout_session=setTimeout((function(){t.setSessionTimeout(!0)}),6e4)}},{key:"clearTimeoutVerification",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[t].verification.timeout_button&&clearTimeout(this.config[t].verification.timeout_button)}},{key:"setTimeoutVerification",value:function(){var t=this;this.clearTimeoutVerification(),this.config[this.active_container].verification.timeout_button=setTimeout((function(){t.clearVerification()}),36e5)}},{key:"sendVerificationEmail",value:(w=pa(regeneratorRuntime.mark((function t(){var e,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config[this.active_container].verification.is_button_clicked&&this.root_store.client.email){t.next=2;break}return t.abrupt("return");case 2:return this.setErrorMessage(""),this.setVerificationButtonClicked(!0),e="payment".concat(this.active_container===this.config.payment_agent.container?"agent":"","_withdraw"),t.next=7,this.WS.verifyEmail(this.root_store.client.email,e);case 7:(r=t.sent).error?(this.clearVerification(),"PaymentAgentWithdrawError"===r.error.code?this.setErrorMessage(r.error,this.resetPaymentAgent,null,!0):this.setErrorMessage(r.error,(function(){o.setErrorMessage("",null,null,!0)}),null,!0)):(this.setVerificationEmailSent(!0),this.setTimeoutVerification());case 9:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"resendVerificationEmail",value:function(){this.config[this.active_container].verification.resend_timeout<60||(this.setVerificationButtonClicked(!1),this.setCountDownResendVerification(),this.sendVerificationEmail())}},{key:"setCountDownResendVerification",value:function(){var t=this;this.setVerificationResendTimeout(this.config[this.active_container].verification.resend_timeout-1);var e=setInterval((function(){t.config[t.active_container]&&t.config[t.active_container].verification?1===t.config[t.active_container].verification.resend_timeout?(t.setVerificationResendTimeout(60),clearInterval(e)):t.setVerificationResendTimeout(t.config[t.active_container].verification.resend_timeout-1):clearInterval(e)}),1e3)}},{key:"clearVerification",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.clearTimeoutVerification(t),this.setVerificationButtonClicked(!1,t),this.setVerificationEmailSent(!1,t),this.setVerificationResendClicked(!1,t),this.setVerificationResendTimeout(60,t),this.setErrorMessage("",null,null,!0),this.root_store.client.setVerificationCode("",this.map_action[t])}},{key:"setIsTimerVisible",value:function(t){this.is_timer_visible=t}},{key:"resetTimer",value:function(){this.setIsTimerVisible(!1)}},{key:"getExchangeRate",value:(v=pa(regeneratorRuntime.mark((function t(e,r){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.send({exchange_rates:1,base_currency:e});case 2:return o=t.sent,n=o.exchange_rates,t.abrupt("return",n.rates[r]);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return v.apply(this,arguments)})},{key:"setActiveTab",value:function(t){this.active_container=t}},{key:"onMountPaymentAgentList",value:(m=pa(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentList,t.next=4,this.onMountCommon();case 4:this.setLoading(!1);case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"getPaymentAgentList",value:(b=pa(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.payment_agent.list.length){t.next=2;break}return t.abrupt("return",this.WS.wait("paymentagent_list"));case 2:return t.next=4,this.WS.wait("get_settings");case 4:return t.abrupt("return",this.WS.authorized.paymentAgentList(this.root_store.client.residence,this.root_store.client.currency));case 5:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"getAllPaymentAgentList",value:(g=pa(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.wait("get_settings");case 2:return t.abrupt("return",this.WS.allPaymentAgentList(this.root_store.client.residence));case 3:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"setAllPaymentAgentList",value:function(t){this.all_payment_agent_list=t}},{key:"getPaymentAgentDetails",value:(_=pa(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.paymentAgentDetails();case 2:return e=t.sent,r=e.paymentagent_details,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)})},{key:"addSupportedBank",value:function(t){this.config.payment_agent.supported_banks.find((function(e){return e.value===t.toLowerCase()}))||this.config.payment_agent.supported_banks.push({text:t,value:t.toLowerCase()})}},{key:"sortSupportedBanks",value:function(){this.config.payment_agent.supported_banks.replace(this.config.payment_agent.supported_banks.slice().sort((function(t,e){return t.value<e.value?-1:t.value>e.value?1:0})))}},{key:"setPaymentAgentList",value:(d=pa(regeneratorRuntime.mark((function t(e){var r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,this.getPaymentAgentList();case 4:t.t0=t.sent;case 5:if((r=t.t0)&&r.paymentagent_list){t.next=8;break}return t.abrupt("return");case 8:r.paymentagent_list.list.forEach((function(t){o.config.payment_agent.list.push({email:t.email,phones:(null==t?void 0:t.phone_numbers)||(null==t?void 0:t.telephone),name:t.name,supported_banks:(null==t?void 0:t.supported_payment_methods)||(null==t?void 0:t.supported_banks),urls:(null==t?void 0:t.urls)||(null==t?void 0:t.url)}),t.supported_banks&&(null!=t&&t.supported_payment_methods?t.supported_payment_methods.map((function(t){return t.payment_method})):t.supported_banks.split(",")).forEach((function(t){o.addSupportedBank(t)}))})),this.sortSupportedBanks();case 10:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(t){var e=this;t?(this.config.payment_agent.filtered_list=[],this.config.payment_agent.list.forEach((function(r){r.supported_banks&&-1!==r.supported_banks.toLowerCase().split(",").indexOf(t)&&e.config.payment_agent.filtered_list.push(r)}))):this.config.payment_agent.filtered_list=this.config.payment_agent.list,!this.is_payment_agent_visible&&window.location.pathname.endsWith(o.routes.cashier_pa)&&this.root_store.common.routeTo(o.routes.cashier_deposit)}},{key:"onChangePaymentMethod",value:function(t){var e=t.target,r="0"===e.value?parseInt(e.value):e.value;this.config.payment_agent.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"onMountPaymentAgentWithdraw",value:(y=pa(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentWithdraw,t.next=4,this.onMountCommon();case 4:if(this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.config.payment_agent.agents.length){t.next=16;break}return t.next=10,this.getPaymentAgentList();case 10:(e=t.sent).paymentagent_list.list.forEach((function(t){r.addPaymentAgent(t)})),!e.paymentagent_list.list.length&&window.location.pathname.endsWith(o.routes.cashier_pa)&&this.root_store.common.routeTo(o.routes.cashier_deposit),this.setLoading(!1),t.next=17;break;case 16:this.setLoading(!1);case 17:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"setIsWithdraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.config.payment_agent.is_withdraw;this.config.payment_agent.is_withdraw=t}},{key:"setIsTryWithdrawSuccessful",value:function(t){this.setErrorMessage(""),this.config.payment_agent.is_try_withdraw_successful=t}},{key:"setIsWithdrawSuccessful",value:function(t){this.config.payment_agent.is_withdraw_successful=t}},{key:"setConfirmation",value:function(t){var e=t.amount,r=t.currency,o=t.loginid,n=t.payment_agent_name;this.config.payment_agent.confirm={amount:e,currency:r,loginid:o,payment_agent_name:n}}},{key:"setReceipt",value:function(t){var e=t.amount_transferred,r=t.payment_agent_email,o=t.payment_agent_id,n=t.payment_agent_name,i=t.payment_agent_phone,a=t.payment_agent_url;this.config.payment_agent.receipt={amount_transferred:e,payment_agent_email:r,payment_agent_id:o,payment_agent_name:n,payment_agent_phone:i,payment_agent_url:a}}},{key:"addPaymentAgent",value:function(t){this.config.payment_agent.agents.push({text:t.name,value:t.paymentagent_loginid,max_withdrawal:t.max_withdrawal,min_withdrawal:t.min_withdrawal,email:t.email,phone:t.telephone,url:t.url})}},{key:"requestTryPaymentAgentWithdraw",value:(h=pa(regeneratorRuntime.mark((function t(e){var r,o,n,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.loginid,o=e.currency,n=e.amount,i=e.verification_code,this.setErrorMessage(""),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:o,amount:n,verification_code:i,dry_run:1});case 4:2==+(a=t.sent).paymentagent_withdraw?(s=this.config.payment_agent.agents.find((function(t){return t.value===r})),this.setConfirmation(aa({amount:n,currency:o,loginid:r},s&&{payment_agent_name:s.text})),this.setIsTryWithdrawSuccessful(!0)):this.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"requestPaymentAgentWithdraw",value:(f=pa(regeneratorRuntime.mark((function t(e){var r,n,i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.loginid,n=e.currency,i=e.amount,a=e.verification_code,this.setErrorMessage(""),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:i,verification_code:a});case 4:1==+(s=t.sent).paymentagent_withdraw?(c=this.config.payment_agent.agents.find((function(t){return t.value===r})),this.setReceipt(aa(aa({amount_transferred:(0,o.formatMoney)(n,i,!0)},c&&{payment_agent_email:c.email,payment_agent_id:c.value,payment_agent_name:c.text,payment_agent_phone:c.phone,payment_agent_url:c.url}),!c&&{payment_agent_id:r})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.setErrorMessage(s.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"onMountAccountTransfer",value:(l=pa(regeneratorRuntime.mark((function t(){var e,r,o,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountAccountTransfer,t.next=4,this.onMountCommon();case 4:return t.next=6,this.WS.wait("website_status");case 6:if(this.config.account_transfer.has_no_accounts_balance&&Object.keys(this.root_store.client.active_accounts).find((function(t){return!i.root_store.client.active_accounts[t].is_virtual&&i.root_store.client.active_accounts[t].balance}))&&this.setHasNoAccountsBalance(!1),!this.root_store.client.is_logged_in){t.next=24;break}return t.next=11,this.WS.authorized.transferBetweenAccounts();case 11:if(!(r=t.sent).error){t.next=16;break}return this.setErrorMessage(r.error,this.onMountAccountTransfer),this.setLoading(!1),t.abrupt("return");case 16:if(this.canDoAccountTransfer(r.accounts)){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,this.sortAccountsTransfer(r);case 20:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(e=this.config.account_transfer.accounts_list)||void 0===e?void 0:e.length)>0&&(o=sessionStorage.getItem("cfd_transfer_to_login_id"),sessionStorage.removeItem("cfd_transfer_to_login_id"),(n=this.config.account_transfer.accounts_list.find((function(t){return t.value===o})))&&(ka(n.value)&&(n.error=Oa(n.value)),this.setSelectedTo(n)));case 24:this.setLoading(!1);case 25:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(t){var e=!0;return t.find((function(t){return+t.balance>0}))?this.setHasNoAccountsBalance(!1):(e=!1,this.setHasNoAccountsBalance(!0)),t.length<=1?(e=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),e||this.setLoading(!1),e}},{key:"setHasNoAccountsBalance",value:function(t){this.config.account_transfer.has_no_accounts_balance=t}},{key:"setHasNoAccount",value:function(t){this.config.account_transfer.has_no_account=t}},{key:"setTransferFee",value:function(){var t=(0,o.getPropertyValue)((0,o.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts","fees",this.config.account_transfer.selected_to.currency]);this.config.account_transfer.transfer_fee=Number(t||0)}},{key:"setMinimumFee",value:function(){var t=(0,o.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.minimum_fee=(1/Math.pow(10,t)).toFixed(t)}},{key:"setTransferLimit",value:function(){var t,e=this.config.account_transfer.selected_from.is_mt||this.config.account_transfer.selected_to.is_mt,r=this.config.account_transfer.selected_from.is_dxtrade||this.config.account_transfer.selected_to.is_dxtrade;t=e?"limits_mt5":r?"limits_dxtrade":"limits";var n=(0,o.getPropertyValue)((0,o.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts",t]),i=this.config.account_transfer.selected_from.balance,a=(0,o.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.transfer_limit={max:null==n||!n.max||+i>=((null==n?void 0:n.min)||0)&&+i<=(null==n?void 0:n.max)?i:null==n?void 0:n.max.toFixed(a),min:null!=n&&n.min?(+(null==n?void 0:n.min)).toFixed(a):null}}},{key:"sortAccountsTransfer",value:(p=pa(regeneratorRuntime.mark((function t(e){var r,n,i,a,s,c,u,p=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,this.WS.authorized.transferBetweenAccounts();case 4:t.t0=t.sent;case 5:if(i=t.t0,this.config.account_transfer.accounts_list.length){t.next=9;break}if(!i.error){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.WS.storage.mt5LoginList();case 11:if(t.t2=r=t.sent,t.t1=null===t.t2,t.t1){t.next=15;break}t.t1=void 0===r;case 15:if(!t.t1){t.next=19;break}t.t3=void 0,t.next=20;break;case 19:t.t3=r.mt5_login_list;case 20:return a=t.t3,t.next=23,this.WS.tradingPlatformAccountsList(o.CFD_PLATFORMS.DXTRADE);case 23:if(t.t5=n=t.sent,t.t4=null===t.t5,t.t4){t.next=27;break}t.t4=void 0===n;case 27:if(!t.t4){t.next=31;break}t.t6=void 0,t.next=32;break;case 31:t.t6=n.trading_platform_accounts;case 32:s=t.t6,c=i.accounts.map((function(t){if(t.account_type===o.CFD_PLATFORMS.MT5&&Array.isArray(a)&&a.length){var e=a.find((function(e){return e.login===t.loginid}));return void 0===e?t:aa(aa(aa({},t),e),{},{account_type:o.CFD_PLATFORMS.MT5})}if(t.account_type===o.CFD_PLATFORMS.DXTRADE&&Array.isArray(s)&&s.length){var r=s.find((function(e){return e.account_id===t.loginid}));return void 0===r?t:aa(aa(aa({},t),r),{},{account_type:o.CFD_PLATFORMS.DXTRADE})}return t})),i.accounts.length>1&&c.sort((function(t,e){var r=t.account_type===o.CFD_PLATFORMS.MT5,n=e.account_type===o.CFD_PLATFORMS.MT5,i=!r&&(0,o.isCryptocurrency)(t.currency),a=!n&&(0,o.isCryptocurrency)(e.currency),s=!r&&!i,c=!n&&!a;return r&&n?"gaming"===t.market_type||"synthetic"===t.market_type?-1:"financial"===t.sub_account_type?"gaming"===e.market_type||"synthetic"===e.market_type?1:-1:1:i&&a||s&&c?t.currency<e.currency?-1:1:i&&n||s&&a||s&&n||r?-1:1})),u=[],this.setSelectedTo({}),c.forEach((function(t){var e,r,n={mt5:{name:"DMT5",icon:"IcMt5"},dxtrade:{name:"Deriv X",icon:"IcDxtrade"}},i=Object.keys(n).includes(t.account_type),a=null===(e=n[t.account_type])||void 0===e?void 0:e.name,s="".concat(null===(r=n[t.account_type])||void 0===r?void 0:r.icon,"-").concat((0,o.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:p.root_store.client.is_eu})),c=aa({text:i?"".concat(a," ").concat((0,o.getCFDAccountDisplay)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:p.root_store.client.is_eu})):(0,o.getCurrencyDisplayCode)("eUSDT"!==t.currency?t.currency.toUpperCase():t.currency),value:t.loginid,balance:t.balance,currency:t.currency,is_crypto:(0,o.isCryptocurrency)(t.currency),is_mt:t.account_type===o.CFD_PLATFORMS.MT5,is_dxtrade:t.account_type===o.CFD_PLATFORMS.DXTRADE},i&&{platform_icon:s,market_type:(0,o.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:p.root_store.client.is_eu})});t.loginid===p.root_store.client.loginid?(ka(c.value)&&(c.error=Oa(c.value,!0)),p.setSelectedFrom(c)):(0,o.isEmptyObject)(p.config.account_transfer.selected_to)&&(ka(c.value)&&(c.error=Oa(c.value)),p.setSelectedTo(c)),u.push(c)})),this.setAccounts(u);case 39:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"setSelectedFrom",value:function(t){this.config.account_transfer.selected_from=t}},{key:"setSelectedTo",value:function(t){this.config.account_transfer.selected_to=t}},{key:"setAccounts",value:function(t){this.config.account_transfer.accounts_list=t}},{key:"setIsTryTransferSuccessful",value:function(t){this.setErrorMessage(""),this.config[this.active_container].is_try_transfer_successful=t}},{key:"setIsTransferConfirm",value:function(t){this.config[this.active_container].is_transfer_confirm=t}},{key:"setAccountTransferAmount",value:function(t){this.config[this.active_container].account_transfer_amount=t}},{key:"setIsTransferSuccessful",value:function(t){this.config[this.active_container].is_transfer_successful=t}},{key:"setIsMT5TransferInProgress",value:function(t){this.config[this.active_container].is_mt5_transfer_in_progress=t}},{key:"isMT5TransferInProgress",value:function(){var t;return null===(t=this.config[this.active_container])||void 0===t?void 0:t.is_mt5_transfer_in_progress}},{key:"setReceiptTransfer",value:function(t){var e=t.amount;this.config.account_transfer.receipt={amount_transferred:e}}},{key:"onChangeTransferFrom",value:function(t){var e=t.target;this.setErrorMessage(""),this.config.account_transfer.selected_from.error="";var r=this.config.account_transfer.accounts_list.find((function(t){return t.value===e.value}));if(r.value===this.config.account_transfer.selected_to.value)this.onChangeTransferTo({target:{value:this.config.account_transfer.selected_from.value}});else if(r.is_mt&&this.config.account_transfer.selected_to.is_mt||r.is_dxtrade&&this.config.account_transfer.selected_to.is_dxtrade||r.is_dxtrade&&this.config.account_transfer.selected_to.is_mt||r.is_mt&&this.config.account_transfer.selected_to.is_dxtrade){var o=this.config.account_transfer.accounts_list.find((function(t){return!t.is_mt&&!t.is_dxtrade}));this.onChangeTransferTo({target:{value:o.value}})}else if(r.is_crypto&&this.config.account_transfer.selected_to.is_crypto){var n=this.config.account_transfer.accounts_list.find((function(t){return!t.is_crypto}));this.onChangeTransferTo({target:{value:n.value}})}ka(r.value)&&(r.error=Oa(r.value,!0)),this.config.account_transfer.selected_from=r,this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(t){var e=t.target;this.setErrorMessage(""),this.config.account_transfer.selected_to.error="";var r=this.config.account_transfer.accounts_list;this.config.account_transfer.selected_to=r.find((function(t){return t.value===e.value}))||{},ka(this.config.account_transfer.selected_to.value)&&(this.config.account_transfer.selected_to.error=Oa(this.config.account_transfer.selected_to.value)),this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onMountPaymentAgentTransfer",value:(u=pa(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentTransfer,t.next=4,this.onMountCommon();case 4:if(this.config.payment_agent_transfer.transfer_limit.min_withdrawal){t.next=12;break}return t.next=7,this.getPaymentAgentList();case 7:return e=t.sent,t.next=10,this.getCurrentPaymentAgent(e);case 10:r=t.sent,this.setMinMaxPaymentAgentTransfer(r);case 12:this.setLoading(!1);case 13:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getCurrentPaymentAgent",value:(c=pa(regeneratorRuntime.mark((function t(e){var r,o,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.paymentagent_list.list.find((function(t){return t.paymentagent_loginid===n.root_store.client.loginid})),t.t0=r,t.t0){t.next=6;break}return t.next=5,this.getPaymentAgentDetails();case 5:t.t0=t.sent;case 6:return o=t.t0,t.abrupt("return",null!=o?o:{});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"checkIsPaymentAgent",value:(s=pa(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.storage.getSettings();case 2:r=t.sent.get_settings,this.setIsPaymentAgent(null!==(e=null==r?void 0:r.is_authenticated_payment_agent)&&void 0!==e&&e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setIsPaymentAgent",value:function(t){!t&&window.location.pathname.endsWith(o.routes.cashier_pa_transfer)&&this.root_store.common.routeTo(o.routes.cashier_deposit),this.config.payment_agent_transfer.is_payment_agent=!!t}},{key:"setMinMaxPaymentAgentTransfer",value:function(t){var e=t.min_withdrawal,r=t.max_withdrawal;this.config.payment_agent_transfer.transfer_limit={min:e,max:r}}},{key:"setConfirmationPaymentAgentTransfer",value:function(t){var e=t.amount,r=t.client_id,o=t.client_name,n=t.description;this.config.payment_agent_transfer.confirm={amount:e,client_id:r,client_name:o,description:n}}},{key:"setReceiptPaymentAgentTransfer",value:function(t){var e=t.amount_transferred,r=t.client_id,o=t.client_name;this.config.payment_agent_transfer.receipt={amount_transferred:e,client_id:r,client_name:o}}},{key:"accountSwitcherListener",value:function(){var t=this;return[this.config.withdraw.container,this.config.payment_agent.container].forEach((function(e){t.clearVerification(e)})),[this.config.deposit.container,this.config.withdraw.container].forEach((function(e){t.setIframeUrl("",e),t.clearTimeoutCashierUrl(e),t.setSessionTimeout(!0,e)})),this.config.payment_agent=new Ta,this.config.account_transfer=new Sa,this.config.payment_agent_transfer=new Aa,this.is_populating_values=!1,this.onRemount(),Promise.resolve()}},{key:"account_platform_icon",get:function(){var t=this;return this.root_store.client.account_list.find((function(e){return t.root_store.client.loginid===e.loginid})).icon}},{key:"setConverterFromAmount",value:function(t){this.converter_from_amount=t}},{key:"setConverterToAmount",value:function(t){this.converter_to_amount=t}},{key:"setConverterFromError",value:function(t){this.converter_from_error=t}},{key:"setConverterToError",value:function(t){this.converter_to_error=t}},{key:"onChangeConverterFromAmount",value:(a=pa(regeneratorRuntime.mark((function t(e,r,n){var i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.target,this.resetTimer(),!i.value){t.next=26;break}if(this.setConverterFromAmount(i.value),this.validateFromAmount(),this.percentageSelectorSelectionStatus(!0),this.calculatePercentage(),!this.converter_from_error){t.next=14;break}this.setConverterToAmount(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.setAccountTransferAmount(""),t.next=24;break;case 14:return t.next=16,this.getExchangeRate(r,n);case 16:a=t.sent,s=(0,o.getDecimalPlaces)(n),+(c=(a*i.value).toFixed(s))||this.converter_from_amount?this.setConverterToAmount(c):this.setConverterToAmount(""),this.validateToAmount(),this.setConverterToError(""),this.setIsTimerVisible(!0),this.setAccountTransferAmount(i.value);case 24:t.next=27;break;case 26:this.resetConverter();case 27:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return a.apply(this,arguments)})},{key:"onChangeConverterToAmount",value:(i=pa(regeneratorRuntime.mark((function t(e,r,n){var i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.target,this.resetTimer(),!i.value){t.next=24;break}if(this.setConverterToAmount(i.value),this.validateToAmount(),!this.converter_to_error){t.next=12;break}this.setConverterFromAmount(""),this.setConverterFromError(""),this.setIsTimerVisible(!1),this.setAccountTransferAmount(""),t.next=22;break;case 12:return t.next=14,this.getExchangeRate(r,n);case 14:a=t.sent,s=(0,o.getDecimalPlaces)(n),+(c=(a*i.value).toFixed(s))||this.converter_to_amount?this.setConverterFromAmount(c):this.setConverterFromAmount(""),this.percentageSelectorSelectionStatus(!0),this.calculatePercentage(),this.validateFromAmount(),this.converter_from_error?(this.setIsTimerVisible(!1),this.setAccountTransferAmount("")):(this.setConverterFromError(""),this.setIsTimerVisible(!0),this.setAccountTransferAmount(c));case 22:t.next=25;break;case 24:this.resetConverter();case 25:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"setTransferPercentageSelectorResult",value:function(t){var e=this.config.account_transfer.selected_from.currency,r=this.config.account_transfer.selected_to.currency;t>0||0==+this.config.account_transfer.selected_from.balance?(this.setConverterFromAmount(t),this.validateTransferFromAmount(),this.onChangeConverterFromAmount({target:{value:t}},e,r)):0==+this.config.account_transfer.selected_from.balance?(this.setConverterFromAmount(t),this.validateTransferFromAmount()):this.resetConverter(),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!1)}},{key:"setWithdrawPercentageSelectorResult",value:function(t){t>0?(this.setConverterFromAmount(t),this.validateWithdrawFromAmount(),this.onChangeConverterFromAmount({target:{value:t}},this.root_store.client.currency,this.root_store.client.current_fiat_currency||"USD")):this.resetConverter(),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!1)}},{key:"validateFromAmount",value:function(){this.active_container===this.config.account_transfer.container?this.validateTransferFromAmount():this.validateWithdrawFromAmount()}},{key:"validateToAmount",value:function(){this.active_container===this.config.account_transfer.container?this.validateTransferToAmount():this.validateWithdrawToAmount()}},{key:"validateTransferFromAmount",value:function(){if(this.converter_from_amount){var t=(0,o.validNumber)(this.converter_from_amount,{type:"float",decimals:(0,o.getDecimalPlaces)(this.config.account_transfer.selected_from.currency),min:this.config.account_transfer.transfer_limit.min,max:this.config.account_transfer.transfer_limit.max}),e=t.is_ok,r=t.message;e?+this.config.account_transfer.selected_from.balance<+this.converter_from_amount?this.setConverterFromError((0,n.localize)("Insufficient funds")):this.setConverterFromError(""):this.setConverterFromError(r)}else this.setConverterFromError((0,n.localize)("This field is required."))}},{key:"validateTransferToAmount",value:function(){if(this.converter_to_amount){var t=this.config.account_transfer.selected_to.currency,e=(0,o.validNumber)(this.converter_to_amount,{type:"float",decimals:(0,o.getDecimalPlaces)(t)}),r=e.is_ok,n=e.message;r?this.setConverterToError(""):this.setConverterToError(n)}}},{key:"validateWithdrawFromAmount",value:function(){var t="",r=this.root_store.client,i=r.balance,a=r.currency,s=r.website_status.crypto_config[a].minimum_withdrawal,c=+this.max_withdraw_amount>+i?+i:+this.max_withdraw_amount;if(this.converter_from_amount){var u=(0,o.validNumber)(this.converter_from_amount,{type:"float",decimals:(0,o.getDecimalPlaces)(a)}),p=u.is_ok,l=u.message;p||(t=l),+i<+this.converter_from_amount&&(t=(0,n.localize)("Insufficient funds")),(+this.converter_from_amount<+s||+this.converter_from_amount>+c)&&(t=e().createElement(n.Localize,{i18n_default_text:"The allowed withdraw amount is {{min_withdraw_amount}} to {{max_withdraw_amount}} {{currency}}",values:{min_withdraw_amount:s,max_withdraw_amount:c,currency:a}}))}this.setConverterFromError(t)}},{key:"validateWithdrawToAmount",value:function(){var t="",e=this.root_store.client.current_fiat_currency;if(this.converter_to_amount){var r=(0,o.validNumber)(this.converter_to_amount,{type:"float",decimals:(0,o.getDecimalPlaces)(e)}),n=r.is_ok,i=r.message;n||(t=i)}this.setConverterToError(t)}},{key:"resetConverter",value:function(){this.setConverterFromAmount(""),this.setConverterToAmount(""),this.setConverterFromError(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!0)}}]),R}(At)).prototype,"is_loading",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ci=wa(Oi.prototype,"is_p2p_visible",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ti=wa(Oi.prototype,"p2p_notification_count",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ai=wa(Oi.prototype,"cashier_route_tab_index",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Si=wa(Oi.prototype,"is_10k_withdrawal_limit_reached",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Di=wa(Oi.prototype,"is_deposit",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ji=wa(Oi.prototype,"should_show_all_available_currencies",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ii=wa(Oi.prototype,"is_cashier_default",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xi=wa(Oi.prototype,"deposit_target",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ri=wa(Oi.prototype,"crypto_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ei=wa(Oi.prototype,"fiat_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zi=wa(Oi.prototype,"insufficient_fund_error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Li=wa(Oi.prototype,"all_payment_agent_list",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mi=wa(Oi.prototype,"should_set_currency_modal_title_change",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wi=wa(Oi.prototype,"p2p_advertiser_error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Fi=wa(Oi.prototype,"has_set_currency",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vi=wa(Oi.prototype,"withdraw_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bi=wa(Oi.prototype,"converter_from_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ni=wa(Oi.prototype,"converter_to_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hi=wa(Oi.prototype,"converter_from_error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ui=wa(Oi.prototype,"converter_to_error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qi=wa(Oi.prototype,"is_timer_visible",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gi=wa(Oi.prototype,"is_crypto_transactions_visible",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xi=wa(Oi.prototype,"blockchain_address",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ki=wa(Oi.prototype,"should_percentage_reset",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ji=wa(Oi.prototype,"percentage",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yi=wa(Oi.prototype,"is_withdraw_confirmed",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$i=wa(Oi.prototype,"show_p2p_in_cashier_default",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qi=wa(Oi.prototype,"max_withdraw_amount",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zi=wa(Oi.prototype,"config",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{account_transfer:new Sa,deposit:aa(aa({},(0,r.toJS)(new Pa({container:"deposit"}))),{},{error:new Ca}),payment_agent:new Ta,payment_agent_transfer:new Aa,withdraw:new Da}}}),wa(Oi.prototype,"is_crypto",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_crypto"),Oi.prototype),wa(Oi.prototype,"is_payment_agent_visible",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_payment_agent_visible"),Oi.prototype),wa(Oi.prototype,"is_payment_agent_visible_in_onboarding",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_payment_agent_visible_in_onboarding"),Oi.prototype),wa(Oi.prototype,"is_payment_agent_transfer_visible",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_payment_agent_transfer_visible"),Oi.prototype),wa(Oi.prototype,"is_account_transfer_visible",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_account_transfer_visible"),Oi.prototype),wa(Oi.prototype,"is_p2p_enabled",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_p2p_enabled"),Oi.prototype),wa(Oi.prototype,"showP2pInCashierDefault",[po],Object.getOwnPropertyDescriptor(Oi.prototype,"showP2pInCashierDefault"),Oi.prototype),wa(Oi.prototype,"attachCashierToMenu",[lo],Object.getOwnPropertyDescriptor(Oi.prototype,"attachCashierToMenu"),Oi.prototype),wa(Oi.prototype,"replaceCashierMenuOnclick",[fo],Object.getOwnPropertyDescriptor(Oi.prototype,"replaceCashierMenuOnclick"),Oi.prototype),wa(Oi.prototype,"setHasSetCurrency",[ho],Object.getOwnPropertyDescriptor(Oi.prototype,"setHasSetCurrency"),Oi.prototype),wa(Oi.prototype,"changeSetCurrencyModalTitle",[yo],Object.getOwnPropertyDescriptor(Oi.prototype,"changeSetCurrencyModalTitle"),Oi.prototype),wa(Oi.prototype,"onMountCashierDefault",[_o],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountCashierDefault"),Oi.prototype),wa(Oi.prototype,"setIsWithdrawConfirmed",[go],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsWithdrawConfirmed"),Oi.prototype),wa(Oi.prototype,"setWithdrawAmount",[bo],Object.getOwnPropertyDescriptor(Oi.prototype,"setWithdrawAmount"),Oi.prototype),wa(Oi.prototype,"calculatePercentage",[mo],Object.getOwnPropertyDescriptor(Oi.prototype,"calculatePercentage"),Oi.prototype),wa(Oi.prototype,"percentageSelectorSelectionStatus",[vo],Object.getOwnPropertyDescriptor(Oi.prototype,"percentageSelectorSelectionStatus"),Oi.prototype),wa(Oi.prototype,"requestWithdraw",[wo],Object.getOwnPropertyDescriptor(Oi.prototype,"requestWithdraw"),Oi.prototype),wa(Oi.prototype,"resetWithrawForm",[ko],Object.getOwnPropertyDescriptor(Oi.prototype,"resetWithrawForm"),Oi.prototype),wa(Oi.prototype,"setIsDeposit",[Oo],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsDeposit"),Oi.prototype),wa(Oi.prototype,"setShouldShowAllAvailableCurrencies",[Po],Object.getOwnPropertyDescriptor(Oi.prototype,"setShouldShowAllAvailableCurrencies"),Oi.prototype),wa(Oi.prototype,"setBlockchainAddress",[Co],Object.getOwnPropertyDescriptor(Oi.prototype,"setBlockchainAddress"),Oi.prototype),wa(Oi.prototype,"setIsCashierDefault",[To],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsCashierDefault"),Oi.prototype),wa(Oi.prototype,"setDepositTarget",[Ao],Object.getOwnPropertyDescriptor(Oi.prototype,"setDepositTarget"),Oi.prototype),wa(Oi.prototype,"continueRoute",[So],Object.getOwnPropertyDescriptor(Oi.prototype,"continueRoute"),Oi.prototype),wa(Oi.prototype,"setAccountSwitchListener",[Do],Object.getOwnPropertyDescriptor(Oi.prototype,"setAccountSwitchListener"),Oi.prototype),wa(Oi.prototype,"setActiveTabIndex",[jo],Object.getOwnPropertyDescriptor(Oi.prototype,"setActiveTabIndex"),Oi.prototype),wa(Oi.prototype,"init",[Io],Object.getOwnPropertyDescriptor(Oi.prototype,"init"),Oi.prototype),wa(Oi.prototype,"getAdvertizerError",[xo],Object.getOwnPropertyDescriptor(Oi.prototype,"getAdvertizerError"),Oi.prototype),wa(Oi.prototype,"setP2pAdvertiserError",[Ro],Object.getOwnPropertyDescriptor(Oi.prototype,"setP2pAdvertiserError"),Oi.prototype),wa(Oi.prototype,"checkP2pStatus",[Eo],Object.getOwnPropertyDescriptor(Oi.prototype,"checkP2pStatus"),Oi.prototype),wa(Oi.prototype,"onMountCommon",[zo],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountCommon"),Oi.prototype),wa(Oi.prototype,"setIsCryptoTransactionsVisible",[Lo],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsCryptoTransactionsVisible"),Oi.prototype),wa(Oi.prototype,"setCashierTabIndex",[Mo],Object.getOwnPropertyDescriptor(Oi.prototype,"setCashierTabIndex"),Oi.prototype),wa(Oi.prototype,"willMountWithdraw",[Wo],Object.getOwnPropertyDescriptor(Oi.prototype,"willMountWithdraw"),Oi.prototype),wa(Oi.prototype,"onMountWithdraw",[Fo],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountWithdraw"),Oi.prototype),wa(Oi.prototype,"onMountDeposit",[Vo],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountDeposit"),Oi.prototype),wa(Oi.prototype,"setNotificationCount",[Bo],Object.getOwnPropertyDescriptor(Oi.prototype,"setNotificationCount"),Oi.prototype),wa(Oi.prototype,"setIsP2pVisible",[No],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsP2pVisible"),Oi.prototype),wa(Oi.prototype,"onMount",[Ho],Object.getOwnPropertyDescriptor(Oi.prototype,"onMount"),Oi.prototype),wa(Oi.prototype,"is_cashier_locked",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_cashier_locked"),Oi.prototype),wa(Oi.prototype,"is_system_maintenance",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_system_maintenance"),Oi.prototype),wa(Oi.prototype,"is_deposit_locked",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_deposit_locked"),Oi.prototype),wa(Oi.prototype,"is_withdrawal_locked",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_withdrawal_locked"),Oi.prototype),wa(Oi.prototype,"is_transfer_locked",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"is_transfer_locked"),Oi.prototype),wa(Oi.prototype,"setMaxWithdrawAmount",[Uo],Object.getOwnPropertyDescriptor(Oi.prototype,"setMaxWithdrawAmount"),Oi.prototype),wa(Oi.prototype,"check10kLimit",[qo],Object.getOwnPropertyDescriptor(Oi.prototype,"check10kLimit"),Oi.prototype),wa(Oi.prototype,"set10kLimitation",[Go],Object.getOwnPropertyDescriptor(Oi.prototype,"set10kLimitation"),Oi.prototype),wa(Oi.prototype,"checkIframeLoaded",[Xo],Object.getOwnPropertyDescriptor(Oi.prototype,"checkIframeLoaded"),Oi.prototype),wa(Oi.prototype,"setIframeUrl",[Ko],Object.getOwnPropertyDescriptor(Oi.prototype,"setIframeUrl"),Oi.prototype),wa(Oi.prototype,"setContainerHeight",[Jo],Object.getOwnPropertyDescriptor(Oi.prototype,"setContainerHeight"),Oi.prototype),wa(Oi.prototype,"setErrorMessage",[Yo],Object.getOwnPropertyDescriptor(Oi.prototype,"setErrorMessage"),Oi.prototype),wa(Oi.prototype,"handleCashierError",[$o],Object.getOwnPropertyDescriptor(Oi.prototype,"handleCashierError"),Oi.prototype),wa(Oi.prototype,"setErrorConfig",[Qo],Object.getOwnPropertyDescriptor(Oi.prototype,"setErrorConfig"),Oi.prototype),wa(Oi.prototype,"submitFundsProtection",[Zo],Object.getOwnPropertyDescriptor(Oi.prototype,"submitFundsProtection"),Oi.prototype),wa(Oi.prototype,"setLoading",[tn],Object.getOwnPropertyDescriptor(Oi.prototype,"setLoading"),Oi.prototype),wa(Oi.prototype,"setSessionTimeout",[en],Object.getOwnPropertyDescriptor(Oi.prototype,"setSessionTimeout"),Oi.prototype),wa(Oi.prototype,"setVerificationButtonClicked",[rn],Object.getOwnPropertyDescriptor(Oi.prototype,"setVerificationButtonClicked"),Oi.prototype),wa(Oi.prototype,"setVerificationEmailSent",[on],Object.getOwnPropertyDescriptor(Oi.prototype,"setVerificationEmailSent"),Oi.prototype),wa(Oi.prototype,"setVerificationResendClicked",[nn],Object.getOwnPropertyDescriptor(Oi.prototype,"setVerificationResendClicked"),Oi.prototype),wa(Oi.prototype,"setVerificationResendTimeout",[an],Object.getOwnPropertyDescriptor(Oi.prototype,"setVerificationResendTimeout"),Oi.prototype),wa(Oi.prototype,"setTimeoutCashierUrl",[sn],Object.getOwnPropertyDescriptor(Oi.prototype,"setTimeoutCashierUrl"),Oi.prototype),wa(Oi.prototype,"setTimeoutVerification",[cn],Object.getOwnPropertyDescriptor(Oi.prototype,"setTimeoutVerification"),Oi.prototype),wa(Oi.prototype,"sendVerificationEmail",[un],Object.getOwnPropertyDescriptor(Oi.prototype,"sendVerificationEmail"),Oi.prototype),wa(Oi.prototype,"resendVerificationEmail",[pn],Object.getOwnPropertyDescriptor(Oi.prototype,"resendVerificationEmail"),Oi.prototype),wa(Oi.prototype,"setIsTimerVisible",[ln],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsTimerVisible"),Oi.prototype),wa(Oi.prototype,"resetTimer",[fn],Object.getOwnPropertyDescriptor(Oi.prototype,"resetTimer"),Oi.prototype),wa(Oi.prototype,"getExchangeRate",[hn],Object.getOwnPropertyDescriptor(Oi.prototype,"getExchangeRate"),Oi.prototype),wa(Oi.prototype,"setActiveTab",[yn],Object.getOwnPropertyDescriptor(Oi.prototype,"setActiveTab"),Oi.prototype),wa(Oi.prototype,"onMountPaymentAgentList",[dn],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountPaymentAgentList"),Oi.prototype),wa(Oi.prototype,"getPaymentAgentList",[_n],Object.getOwnPropertyDescriptor(Oi.prototype,"getPaymentAgentList"),Oi.prototype),wa(Oi.prototype,"setAllPaymentAgentList",[gn],Object.getOwnPropertyDescriptor(Oi.prototype,"setAllPaymentAgentList"),Oi.prototype),wa(Oi.prototype,"getPaymentAgentDetails",[bn],Object.getOwnPropertyDescriptor(Oi.prototype,"getPaymentAgentDetails"),Oi.prototype),wa(Oi.prototype,"addSupportedBank",[mn],Object.getOwnPropertyDescriptor(Oi.prototype,"addSupportedBank"),Oi.prototype),wa(Oi.prototype,"sortSupportedBanks",[vn],Object.getOwnPropertyDescriptor(Oi.prototype,"sortSupportedBanks"),Oi.prototype),wa(Oi.prototype,"setPaymentAgentList",[wn],Object.getOwnPropertyDescriptor(Oi.prototype,"setPaymentAgentList"),Oi.prototype),wa(Oi.prototype,"filterPaymentAgentList",[kn],Object.getOwnPropertyDescriptor(Oi.prototype,"filterPaymentAgentList"),Oi.prototype),wa(Oi.prototype,"onChangePaymentMethod",[On],Object.getOwnPropertyDescriptor(Oi.prototype,"onChangePaymentMethod"),Oi.prototype),wa(Oi.prototype,"onMountPaymentAgentWithdraw",[Pn],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountPaymentAgentWithdraw"),Oi.prototype),wa(Oi.prototype,"setIsWithdraw",[Cn],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsWithdraw"),Oi.prototype),wa(Oi.prototype,"setIsTryWithdrawSuccessful",[Tn],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsTryWithdrawSuccessful"),Oi.prototype),wa(Oi.prototype,"setIsWithdrawSuccessful",[An],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsWithdrawSuccessful"),Oi.prototype),wa(Oi.prototype,"setConfirmation",[Sn],Object.getOwnPropertyDescriptor(Oi.prototype,"setConfirmation"),Oi.prototype),wa(Oi.prototype,"setReceipt",[Dn],Object.getOwnPropertyDescriptor(Oi.prototype,"setReceipt"),Oi.prototype),wa(Oi.prototype,"addPaymentAgent",[jn],Object.getOwnPropertyDescriptor(Oi.prototype,"addPaymentAgent"),Oi.prototype),wa(Oi.prototype,"requestTryPaymentAgentWithdraw",[In],Object.getOwnPropertyDescriptor(Oi.prototype,"requestTryPaymentAgentWithdraw"),Oi.prototype),wa(Oi.prototype,"requestPaymentAgentWithdraw",[xn],Object.getOwnPropertyDescriptor(Oi.prototype,"requestPaymentAgentWithdraw"),Oi.prototype),ta=wa(Oi.prototype,"resetPaymentAgent",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.setErrorMessage(""),t.setIsWithdraw(!1),t.clearVerification(),t.setActiveTabIndex(0)}}}),wa(Oi.prototype,"onMountAccountTransfer",[En],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountAccountTransfer"),Oi.prototype),wa(Oi.prototype,"setHasNoAccountsBalance",[zn],Object.getOwnPropertyDescriptor(Oi.prototype,"setHasNoAccountsBalance"),Oi.prototype),wa(Oi.prototype,"setHasNoAccount",[Ln],Object.getOwnPropertyDescriptor(Oi.prototype,"setHasNoAccount"),Oi.prototype),wa(Oi.prototype,"setTransferFee",[Mn],Object.getOwnPropertyDescriptor(Oi.prototype,"setTransferFee"),Oi.prototype),wa(Oi.prototype,"setMinimumFee",[Wn],Object.getOwnPropertyDescriptor(Oi.prototype,"setMinimumFee"),Oi.prototype),wa(Oi.prototype,"setTransferLimit",[Fn],Object.getOwnPropertyDescriptor(Oi.prototype,"setTransferLimit"),Oi.prototype),wa(Oi.prototype,"sortAccountsTransfer",[Vn],Object.getOwnPropertyDescriptor(Oi.prototype,"sortAccountsTransfer"),Oi.prototype),wa(Oi.prototype,"setSelectedFrom",[Bn],Object.getOwnPropertyDescriptor(Oi.prototype,"setSelectedFrom"),Oi.prototype),wa(Oi.prototype,"setSelectedTo",[Nn],Object.getOwnPropertyDescriptor(Oi.prototype,"setSelectedTo"),Oi.prototype),wa(Oi.prototype,"setAccounts",[Hn],Object.getOwnPropertyDescriptor(Oi.prototype,"setAccounts"),Oi.prototype),wa(Oi.prototype,"setIsTryTransferSuccessful",[Un],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsTryTransferSuccessful"),Oi.prototype),wa(Oi.prototype,"setIsTransferConfirm",[qn],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsTransferConfirm"),Oi.prototype),wa(Oi.prototype,"setAccountTransferAmount",[Gn],Object.getOwnPropertyDescriptor(Oi.prototype,"setAccountTransferAmount"),Oi.prototype),wa(Oi.prototype,"setIsTransferSuccessful",[Xn],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsTransferSuccessful"),Oi.prototype),wa(Oi.prototype,"setIsMT5TransferInProgress",[Kn],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsMT5TransferInProgress"),Oi.prototype),wa(Oi.prototype,"isMT5TransferInProgress",[Jn],Object.getOwnPropertyDescriptor(Oi.prototype,"isMT5TransferInProgress"),Oi.prototype),wa(Oi.prototype,"setReceiptTransfer",[Yn],Object.getOwnPropertyDescriptor(Oi.prototype,"setReceiptTransfer"),Oi.prototype),wa(Oi.prototype,"onChangeTransferFrom",[$n],Object.getOwnPropertyDescriptor(Oi.prototype,"onChangeTransferFrom"),Oi.prototype),wa(Oi.prototype,"onChangeTransferTo",[Qn],Object.getOwnPropertyDescriptor(Oi.prototype,"onChangeTransferTo"),Oi.prototype),ea=wa(Oi.prototype,"resetAccountTransfer",[Zn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return pa(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setIsTransferConfirm(!1);case 1:case"end":return e.stop()}}),e)})))}}),wa(Oi.prototype,"onMountPaymentAgentTransfer",[ti],Object.getOwnPropertyDescriptor(Oi.prototype,"onMountPaymentAgentTransfer"),Oi.prototype),wa(Oi.prototype,"setIsPaymentAgent",[ei],Object.getOwnPropertyDescriptor(Oi.prototype,"setIsPaymentAgent"),Oi.prototype),wa(Oi.prototype,"setMinMaxPaymentAgentTransfer",[ri],Object.getOwnPropertyDescriptor(Oi.prototype,"setMinMaxPaymentAgentTransfer"),Oi.prototype),wa(Oi.prototype,"setConfirmationPaymentAgentTransfer",[oi],Object.getOwnPropertyDescriptor(Oi.prototype,"setConfirmationPaymentAgentTransfer"),Oi.prototype),ra=wa(Oi.prototype,"requestTryPaymentAgentTransfer",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=pa(regeneratorRuntime.mark((function e(r){var o,n,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.amount,n=r.currency,i=r.description,a=r.transfer_to,t.setErrorMessage(""),e.next=4,t.WS.authorized.paymentAgentTransfer({amount:o,currency:n,description:i,transfer_to:a,dry_run:1});case 4:return 2==+(s=e.sent).paymentagent_transfer?(t.setConfirmationPaymentAgentTransfer({client_id:a,client_name:s.client_to_full_name,amount:o,description:i}),t.setIsTryTransferSuccessful(!0)):t.setErrorMessage(s.error,t.resetPaymentAgentTransfer),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),wa(Oi.prototype,"setReceiptPaymentAgentTransfer",[ii],Object.getOwnPropertyDescriptor(Oi.prototype,"setReceiptPaymentAgentTransfer"),Oi.prototype),oa=wa(Oi.prototype,"requestPaymentAgentTransfer",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=pa(regeneratorRuntime.mark((function e(r){var o,n,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.amount,n=r.currency,i=r.description,a=r.transfer_to,t.setErrorMessage(""),e.next=4,t.WS.authorized.paymentAgentTransfer({amount:o,currency:n,description:i,transfer_to:a});case 4:return 1==+(s=e.sent).paymentagent_transfer?(t.setReceiptPaymentAgentTransfer({amount_transferred:o,client_id:a,client_name:s.client_to_full_name}),t.setIsTransferSuccessful(!0),t.setIsTryTransferSuccessful(!1),t.setConfirmationPaymentAgentTransfer({})):t.setErrorMessage(s.error,t.resetPaymentAgentTransfer),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),na=wa(Oi.prototype,"resetPaymentAgentTransfer",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.setIsTransferSuccessful(!1),t.setErrorMessage("")}}}),wa(Oi.prototype,"account_platform_icon",[r.computed],Object.getOwnPropertyDescriptor(Oi.prototype,"account_platform_icon"),Oi.prototype),wa(Oi.prototype,"setConverterFromAmount",[ci],Object.getOwnPropertyDescriptor(Oi.prototype,"setConverterFromAmount"),Oi.prototype),wa(Oi.prototype,"setConverterToAmount",[ui],Object.getOwnPropertyDescriptor(Oi.prototype,"setConverterToAmount"),Oi.prototype),wa(Oi.prototype,"setConverterFromError",[pi],Object.getOwnPropertyDescriptor(Oi.prototype,"setConverterFromError"),Oi.prototype),wa(Oi.prototype,"setConverterToError",[li],Object.getOwnPropertyDescriptor(Oi.prototype,"setConverterToError"),Oi.prototype),wa(Oi.prototype,"onChangeConverterFromAmount",[fi],Object.getOwnPropertyDescriptor(Oi.prototype,"onChangeConverterFromAmount"),Oi.prototype),wa(Oi.prototype,"onChangeConverterToAmount",[hi],Object.getOwnPropertyDescriptor(Oi.prototype,"onChangeConverterToAmount"),Oi.prototype),wa(Oi.prototype,"setTransferPercentageSelectorResult",[yi],Object.getOwnPropertyDescriptor(Oi.prototype,"setTransferPercentageSelectorResult"),Oi.prototype),wa(Oi.prototype,"setWithdrawPercentageSelectorResult",[di],Object.getOwnPropertyDescriptor(Oi.prototype,"setWithdrawPercentageSelectorResult"),Oi.prototype),wa(Oi.prototype,"validateFromAmount",[_i],Object.getOwnPropertyDescriptor(Oi.prototype,"validateFromAmount"),Oi.prototype),wa(Oi.prototype,"validateToAmount",[gi],Object.getOwnPropertyDescriptor(Oi.prototype,"validateToAmount"),Oi.prototype),wa(Oi.prototype,"validateTransferFromAmount",[bi],Object.getOwnPropertyDescriptor(Oi.prototype,"validateTransferFromAmount"),Oi.prototype),wa(Oi.prototype,"validateTransferToAmount",[mi],Object.getOwnPropertyDescriptor(Oi.prototype,"validateTransferToAmount"),Oi.prototype),wa(Oi.prototype,"validateWithdrawFromAmount",[vi],Object.getOwnPropertyDescriptor(Oi.prototype,"validateWithdrawFromAmount"),Oi.prototype),wa(Oi.prototype,"validateWithdrawToAmount",[wi],Object.getOwnPropertyDescriptor(Oi.prototype,"validateWithdrawToAmount"),Oi.prototype),wa(Oi.prototype,"resetConverter",[ki],Object.getOwnPropertyDescriptor(Oi.prototype,"resetConverter"),Oi.prototype),Oi)})(),f.default})())}}]);