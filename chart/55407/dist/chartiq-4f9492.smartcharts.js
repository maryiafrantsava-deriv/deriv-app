(window.webpackJsonpsmartcharts=window.webpackJsonpsmartcharts||[]).push([[0],{373:function(e,t,i){"use strict";i.r(t),i.d(t,"CIQ",(function(){return Ce.c})),i.d(t,"SplinePlotter",(function(){return Ce.d})),i.d(t,"timezoneJS",(function(){return Ce.e})),i.d(t,"$$",(function(){return Ce.a})),i.d(t,"$$$",(function(){return Ce.b})),i.d(t,"createEngine",(function(){return Se.e})),i.d(t,"customCharts",(function(){return Se.f})),i.d(t,"drawing",(function(){return Se.g})),i.d(t,"easeMachine",(function(){return Se.h})),i.d(t,"equations",(function(){return Se.i})),i.d(t,"i18n",(function(){return Se.j})),i.d(t,"interaction",(function(){return Se.k})),i.d(t,"markers",(function(){return Se.l})),i.d(t,"market",(function(){return Se.m})),i.d(t,"movement",(function(){return Se.p})),i.d(t,"nameValueStore",(function(){return Se.q})),i.d(t,"quoteFeed",(function(){return Se.s})),i.d(t,"series",(function(){return Se.t})),i.d(t,"share",(function(){return Se.u})),i.d(t,"span",(function(){return Se.v})),i.d(t,"storage",(function(){return Se.w})),i.d(t,"studies",(function(){return Se.x})),i.d(t,"symbolLookupBase",(function(){return Se.y})),i.d(t,"theme",(function(){return Se.z})),i.d(t,"timezone",(function(){return Se.A})),i.d(t,"touch",(function(){return Se.C})),i.d(t,"visualization",(function(){return Se.D})),i.d(t,"medianPrice",(function(){return Se.n})),i.d(t,"momentum",(function(){return Se.o})),i.d(t,"priceRelative",(function(){return Se.r})),i.d(t,"vwap",(function(){return Se.E})),i.d(t,"zigzag",(function(){return Se.F})),i.d(t,"aggregations",(function(){return n})),i.d(t,"drawingAdvanced",(function(){return s})),i.d(t,"equationsAdvanced",(function(){return o})),i.d(t,"highPerformanceMarkers",(function(){return l})),i.d(t,"renderersAdvanced",(function(){return h})),i.d(t,"accumulationDistribution",(function(){return c})),i.d(t,"adx",(function(){return u})),i.d(t,"alligator",(function(){return d})),i.d(t,"aroon",(function(){return p})),i.d(t,"atr",(function(){return m})),i.d(t,"awesomeOscillator",(function(){return g})),i.d(t,"balanceOfPower",(function(){return f})),i.d(t,"bollinger",(function(){return y})),i.d(t,"cci",(function(){return v})),i.d(t,"centerOfGravity",(function(){return x})),i.d(t,"chaikin",(function(){return b})),i.d(t,"chande",(function(){return C})),i.d(t,"choppiness",(function(){return S})),i.d(t,"comparisonStudies",(function(){return w})),i.d(t,"coppock",(function(){return k})),i.d(t,"darvasBox",(function(){return L})),i.d(t,"detrended",(function(){return A})),i.d(t,"disparity",(function(){return D})),i.d(t,"easeOfMovement",(function(){return T})),i.d(t,"ehlerFisher",(function(){return M})),i.d(t,"elder",(function(){return F})),i.d(t,"fractalChaos",(function(){return P})),i.d(t,"highLowStudies",(function(){return _})),i.d(t,"ichimoku",(function(){return E})),i.d(t,"intradayMomentum",(function(){return K})),i.d(t,"keltner",(function(){return I})),i.d(t,"klinger",(function(){return N})),i.d(t,"linearRegression",(function(){return O})),i.d(t,"macd",(function(){return X})),i.d(t,"massIndex",(function(){return z})),i.d(t,"moneyFlow",(function(){return H})),i.d(t,"movingAverages",(function(){return R})),i.d(t,"parabolicSAR",(function(){return W})),i.d(t,"pivotPoints",(function(){return Q})),i.d(t,"prettyGoodOscillator",(function(){return V})),i.d(t,"priceMomentumOscillator",(function(){return B})),i.d(t,"priceVolumeOscillator",(function(){return U})),i.d(t,"primeNumber",(function(){return j})),i.d(t,"pring",(function(){return Y})),i.d(t,"projectedVolume",(function(){return q})),i.d(t,"psychologicalLine",(function(){return Z})),i.d(t,"qstick",(function(){return G})),i.d(t,"rainbow",(function(){return J})),i.d(t,"randomWalk",(function(){return ee})),i.d(t,"relativeVigor",(function(){return te})),i.d(t,"rsi",(function(){return ie})),i.d(t,"schaffTrendCycle",(function(){return ae})),i.d(t,"shinohara",(function(){return re})),i.d(t,"stochastics",(function(){return ne})),i.d(t,"supertrend",(function(){return se})),i.d(t,"swingIndex",(function(){return oe})),i.d(t,"trendIntensity",(function(){return le})),i.d(t,"trix",(function(){return he})),i.d(t,"twiggsMoneyFlow",(function(){return ce})),i.d(t,"typicalPrice",(function(){return ue})),i.d(t,"ulcerIndex",(function(){return de})),i.d(t,"ultimateOscillator",(function(){return pe})),i.d(t,"valuationLines",(function(){return me})),i.d(t,"volatilityIndex",(function(){return ge})),i.d(t,"volumeProfile",(function(){return fe})),i.d(t,"volumeStudies",(function(){return ye})),i.d(t,"vortex",(function(){return ve})),i.d(t,"williamsMFI",(function(){return xe})),i.d(t,"animation",(function(){return Te})),i.d(t,"continuousZoom",(function(){return Me})),i.d(t,"outliers",(function(){return Fe})),i.d(t,"plotComplementer",(function(){return Pe})),i.d(t,"extendedHours",(function(){return _e})),i.d(t,"fullScreen",(function(){return Ee})),i.d(t,"inactivityTimer",(function(){return Ke})),i.d(t,"rangeSlider",(function(){return Ie})),i.d(t,"shortcuts",(function(){return Ne})),i.d(t,"tableView",(function(){return Oe})),i.d(t,"tooltip",(function(){return Xe}));var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,Q,V,B,U,j,Y,q,Z,G,J,ee,te,ie,ae,re,ne,se,oe,le,he,ce,ue,de,pe,me,ge,fe,ye,ve,xe,be,Ce=i(374),Se=i(375);function we(){}we[10078]=function(){for(var e=2;9!==e;)switch(e){case 1:return globalThis;case 2:e="object"==typeof globalThis?1:5;break;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 5:t.TD4qJ=t,i=4;break;case 4:i="undefined"==typeof TD4qJ?3:9;break;case 2:Object.defineProperty(Object.prototype,"YohBb",{get:function(){for(;;)return this},configurable:!0}),t=YohBb,i=5;break;case 3:throw"";case 9:delete t.TD4qJ,delete Object.prototype.YohBb,i=6}}catch(e){t=window}return t}}(),we[131077]=function(e){for(var t=2;12!==t;)switch(t){case 2:var i=[arguments];i[7]="7m",i[9]="m",i[4]="",i[4]="E",t=9;break;case 9:i[5]=1,i[3]=i[4],i[3]+=i[7],i[3]+=i[9],t=14;break;case 14:var a=function(e,t,a,r){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];n(i[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=13;break;case 13:a(r,"charCodeAt",i[5],i[3]),t=12}function r(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function n(e,t,i,a,r){for(var n=2;13!==n;)switch(n){case 7:l[7]="definePrope",l[6]=8;try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[5]=(0,l[0][1])(l[0][0]),l[1]=[l[6],l[5].prototype][l[0][3]],l[8].value=l[1][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[4]=l[7],l[4]+=l[3],l[4]+=l[2],l[0][0].Object[l[4]](l[1],l[0][4],l[8]),o=3}}catch(e){}l[1][l[0][4]]=l[8].value,s=8}}catch(e){}n=13;break;case 2:var l=[arguments];l[2]="",l[2]="",l[2]="y",l[3]="",l[3]="rt",l[7]="",n=7}}}(we[10078]),we[141034]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}for(var i=2;71!==i;)switch(i){case 57:r[55]+=r[73],r[55]+=r[16],i=55;break;case 15:r[73]="u",r[35]="t7",r[16]="",r[16]="N",i=24;break;case 48:r[68]+=r[95],r[68]+=r[48],r[21]=r[7],r[21]+=r[1],i=65;break;case 19:r[4]="_",r[56]="abstract",r[35]="",r[35]="",i=15;break;case 77:a(s,"test",r[15],r[55]),i=76;break;case 36:r[29]=r[35],r[29]+=r[73],r[29]+=r[16],r[98]=r[4],r[98]+=r[4],r[98]+=r[56],r[68]=r[9],i=48;break;case 76:a(l,r[79],r[44],r[43]),i=75;break;case 73:a(t,"push",r[15],r[18]),i=72;break;case 40:r[89]+=r[48],r[18]=r[92],r[18]+=r[58],r[18]+=r[16],i=36;break;case 55:var a=function(e,t,i,a){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];n(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=77;break;case 75:a(l,r[21],r[44],r[68]),i=74;break;case 35:r[48]="",r[48]="uN",r[95]="",r[95]="",i=31;break;case 24:r[58]="7u",r[92]="",r[92]="y",r[48]="",i=35;break;case 13:r[1]="a",r[9]="",r[7]="__residu",r[9]="O",r[4]="",i=19;break;case 72:a(o,"apply",r[15],r[89]),i=71;break;case 65:r[21]+=r[6],r[43]=r[8],r[43]+=r[58],r[43]+=r[16],i=61;break;case 44:r[15]=1,r[44]=0,r[89]=r[72],r[89]+=r[95],i=40;break;case 8:r[8]="k",r[5]="_o",r[6]="l",r[1]="",i=13;break;case 2:var r=[arguments];r[3]="",r[3]="",r[2]="A7",r[3]="ptimize",r[6]="",i=8;break;case 74:a(l,r[98],r[44],r[29]),i=73;break;case 31:r[95]="7",r[72]="",r[72]="H",r[15]=3,i=44;break;case 61:r[79]=r[4],r[79]+=r[5],r[79]+=r[3],r[55]=r[2],i=57}function n(e,t,i,a,r){for(var n=2;7!==n;)switch(n){case 3:l[2]="nePro",l[4]="defi";try{for(var s=2;8!==s;)switch(s){case 2:l[7]={},l[5]=(0,l[0][1])(l[0][0]),l[8]=[l[5],l[5].prototype][l[0][3]],l[7].value=l[8][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[1]=l[4],l[1]+=l[2],l[1]+=l[6],l[0][0].Object[l[1]](l[8],l[0][4],l[7]),o=3}}catch(e){}l[8][l[0][4]]=l[7].value,s=8}}catch(e){}n=7;break;case 2:var l=[arguments];l[6]="",l[6]="perty",l[2]="",n=3}}function s(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].RegExp}}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Function}}function l(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}}(we[10078]),we.i3mK=function(){return"function"==typeof we[538215].o3mK?we[538215].o3mK.apply(we[538215],arguments):we[538215].o3mK},we.Y6v=function(){return"function"==typeof we[248996].m2b?we[248996].m2b.apply(we[248996],arguments):we[248996].m2b},we[22341]=we[397153],we[10078].N533=we,we[286920]="SOZ",we[265782]="zSX",we.k7Kh=function(){return"function"==typeof we[397153].l8uN?we[397153].l8uN.apply(we[397153],arguments):we[397153].l8uN},we.e3mK=function(){return"function"==typeof we[538215].r3mK?we[538215].r3mK.apply(we[538215],arguments):we[538215].r3mK},we.s1v=function(){return"function"==typeof we[248996].m2b?we[248996].m2b.apply(we[248996],arguments):we[248996].m2b},we[397153]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[8]=void 0,t[3]={},e=4;break;case 4:return t[3].l8uN=function(){for(var e=2;90!==e;)switch(e){case 34:i[64]={},i[64].J3mK=["B4mK"],i[64].S3mK=function(){return/\x58/.A7uN(function(){return"x".toLocaleUpperCase()}+[])},i[90]=i[64],e=30;break;case 64:i[87]="z3mK",i[73]="d3mK",e=62;break;case 58:i[70]=0,e=57;break;case 62:i[32]="J3mK",i[99]="A3mK",i[68]="S3mK",e=59;break;case 2:var i=[arguments];e=1;break;case 77:i[33]=0,e=76;break;case 71:i[33]++,e=76;break;case 1:e=t[8]?5:4;break;case 68:e=68;break;case 5:return 43;case 23:i[47]={},i[47].J3mK=["y4mK"],i[47].S3mK=function(){return"function"==typeof O7uN},i[21]=i[47],e=34;break;case 4:i[1]=[],i[9]={},i[9].J3mK=["B4mK"],e=8;break;case 39:i[51]={},i[51].J3mK=["B4mK"],i[51].S3mK=function(){return/\x3d/.A7uN(function(){return unescape("%3D")}+[])},e=36;break;case 53:i[1].y7uN(i[93]),i[1].y7uN(i[5]),i[1].y7uN(i[7]),i[1].y7uN(i[4]),i[1].y7uN(i[21]),i[1].y7uN(i[18]),i[1].y7uN(i[8]),e=46;break;case 75:i[53]={},i[53][i[71]]=i[41][i[32]][i[33]],i[53][i[99]]=i[19],i[65].y7uN(i[53]),e=71;break;case 46:i[1].y7uN(i[35]),i[1].y7uN(i[90]),i[65]=[],e=64;break;case 36:i[35]=i[51],i[1].y7uN(i[17]),e=53;break;case 30:i[44]={},i[44].J3mK=["y4mK"],i[44].S3mK=function(){return"function"==typeof t7uN},i[93]=i[44],i[25]={},i[25].J3mK=["y4mK"],i[25].S3mK=function(){var e=!1,t=[];try{for(var i in console)t.y7uN(i);e=0===t.length}catch(e){}return e},e=40;break;case 8:i[9].S3mK=function(){return!/\x79/.A7uN(function(){return"xy".substring(0,1)}+[])},i[7]=i[9],i[6]={},i[6].J3mK=["y4mK"],i[6].S3mK=function(){return"function"==typeof k7uN},i[4]=i[6],e=11;break;case 40:i[17]=i[25],e=39;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 24:a[6]++,t=16;break;case 19:a[6]++,t=7;break;case 18:a[4]=!1,t=17;break;case 14:t=void 0===a[9][a[3][i[71]]]?13:11;break;case 7:t=a[6]<a[0][0].length?6:18;break;case 25:a[4]=!0,t=24;break;case 11:a[9][a[3][i[71]]].t+=!0,t=10;break;case 2:var a=[arguments];t=1;break;case 8:a[6]=0,t=7;break;case 16:t=a[6]<a[7].length?15:23;break;case 1:t=0===a[0][0].length?5:4;break;case 5:return;case 20:a[9][a[3][i[71]]].h+=!0,t=19;break;case 4:a[9]={},a[7]=[],a[6]=0,t=8;break;case 10:t=a[3][i[99]]===i[87]?20:19;break;case 12:a[7].y7uN(a[3][i[71]]),t=11;break;case 23:return a[4];case 6:a[3]=a[0][0][a[6]],t=14;break;case 15:a[1]=a[7][a[6]],a[8]=a[9][a[1]].h/a[9][a[1]].t,t=26;break;case 13:a[9][a[3][i[71]]]=function(){for(var e=2;9!==e;)switch(e){case 4:return t[6].t=0,t[6];case 2:var t=[arguments];t[6]={},t[6].h=0,e=4}}.H7uN(this,arguments),t=12;break;case 26:t=a[8]>=.5?25:24;break;case 17:a[6]=0,t=16}}(i[65])?68:67;break;case 76:e=i[33]<i[41][i[32]].length?75:70;break;case 27:i[77]={},i[77].J3mK=["B4mK"],i[77].S3mK=function(){return/\u0032\x35/.A7uN(function(){return encodeURI("%")}+[])},i[18]=i[77],e=23;break;case 56:i[41]=i[1][i[70]];try{i[19]=i[41][i[68]]()?i[87]:i[73]}catch(e){i[19]=i[73]}e=77;break;case 20:i[2].S3mK=function(){return!/\x28\x5b/.A7uN(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},i[5]=i[2],i[3]={},e=17;break;case 11:i[2]={},i[2].J3mK=["B4mK"],e=20;break;case 17:i[3].J3mK=["B4mK"],i[3].S3mK=function(){var e=function(){return[]+"a".concat("a")};return!/\u005b\x5d/.A7uN(e+[])&&/\x61\x61/.A7uN(e+[])},i[8]=i[3],e=27;break;case 70:i[70]++,e=57;break;case 59:i[71]="D3mK",e=58;break;case 57:e=i[70]<i[1].length?56:69;break;case 67:return t[8]=66,60}},t[3]}}(),we.E3mK=function(){return"function"==typeof we[538215].r3mK?we[538215].r3mK.apply(we[538215],arguments):we[538215].r3mK},we.d7Kh=function(){return"function"==typeof we[397153].l8uN?we[397153].l8uN.apply(we[397153],arguments):we[397153].l8uN},we.N3mK=function(){return"function"==typeof we[538215].o3mK?we[538215].o3mK.apply(we[538215],arguments):we[538215].o3mK},we[248996]=(a=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{m2b:function(e,t,i){for(var r=i,n=-4&t,s=0;s<n;s+=4){var o=255&e.E7mm(s)|(255&e.E7mm(s+1))<<8|(255&e.E7mm(s+2))<<16|(255&e.E7mm(s+3))<<24;o=a(o,3432918353),r=5*(r=(524287&(r^=o=a(o=(131071&o)<<15|o>>>17,461845907)))<<13|r>>>19)+3864292196|0}switch(o=0,t%4){case 3:o=(255&e.E7mm(n+2))<<16;case 2:o|=(255&e.E7mm(n+1))<<8;case 1:o|=255&e.E7mm(n),o=a(o,3432918353),r^=o=a(o=(131071&o)<<15|o>>>17,461845907)}return r^=t,r=a(r^=r>>>16,2246822507),r=a(r^=r>>>13,3266489909),r^=r>>>16}}),we[538215]={r3mK:function(){var e,t=arguments;switch(r){case 13:e=(t[5]+t[1]+t[2]+t[3])/(t[4]-t[0]);break;case 139:e=-t[2]-t[1]+t[0];break;case 190:e=t[3]+(t[1]/t[2]-t[4]/t[0]);break;case 62:e=-t[3]-t[1]-t[2]+t[0];break;case 77:e=t[2]+(t[1]^t[0]);break;case 1:e=t[1]-t[0];break;case 64:e=(t[1]-t[2]-t[4])*t[0]-t[3];break;case 0:e=t[1]+t[0];break;case 70:e=t[2]*t[1]+t[3]-t[0];break;case 74:e=(t[4]+t[0]-t[2])/t[3]+t[1];break;case 116:e=(t[0]^t[1])*t[3]/t[2];break;case 93:e=t[1]+t[2]+t[0];break;case 162:e=-t[1]*t[0]*t[3]+t[2];break;case 30:e=(t[0]-t[1])/t[2];break;case 53:e=t[0]>>t[1];break;case 60:e=t[2]*t[1]*t[3]-t[0];break;case 118:e=(t[0]-t[4])*t[2]-t[3]+t[1];break;case 92:e=t[2]*t[0]+t[1];break;case 33:e=-t[1]/t[4]*t[3]/t[2]+t[0];break;case 56:e=-t[2]*t[1]+t[0];break;case 34:e=(-t[1]-t[3])*t[0]+t[2];break;case 57:e=-t[3]/t[2]-t[1]+t[0];break;case 81:e=(t[1]-t[0])/t[4]*t[3]+t[2];break;case 47:e=t[0]-t[2]/t[1];break;case 25:e=t[0]/t[2]-t[1]+t[4]+t[3];break;case 117:e=t[2]*t[1]/t[0];break;case 153:e=-t[1]-t[4]-t[2]-t[3]+t[0];break;case 187:e=(t[1]-t[0]+t[3])/t[2]+t[4];break;case 22:e=t[0]|t[1];break;case 159:e=(t[2]%t[0]+t[1])*t[3];break;case 133:e=t[1]/t[2]+t[0]-t[3];break;case 14:e=t[1]-t[0]-t[2];break;case 84:e=t[2]/(t[1]-t[0]);break;case 90:e=(t[2]*t[4]-t[1]*t[6])/(t[5]*t[3]-t[0]);break;case 88:e=t[4]*(t[0]+(t[1]^t[2]))/+t[3];break;case 143:e=t[3]*t[2]/(t[1]+t[0]);break;case 21:e=t[2]-(t[3]<<t[1])*t[0];break;case 124:e=t[0]*t[1]*t[3]-t[2]-t[4];break;case 167:e=t[1]/t[3]*t[2]+t[0]-t[4];break;case 10:e=t[0]/t[1];break;case 157:e=t[4]/t[3]*t[2]-t[1]+t[0];break;case 177:e=t[1]*-t[0];break;case 38:e=t[0]*t[1]<+t[2];break;case 129:e=(t[3]*t[4]+t[1])/t[0]-t[2];break;case 58:e=t[0]/t[2]+t[1];break;case 145:e=-t[2]+t[1]+t[0];break;case 131:e=(t[0]*t[1]-t[4])*t[3]-t[2];break;case 107:e=(t[2]+t[1])*t[0]/t[4]-t[3];break;case 44:e=(-t[3]+t[4])*t[1]+t[0]+t[2];break;case 72:e=(t[6]-t[4])*(t[3]-t[5])/(t[2]-t[0])+t[1];break;case 127:e=(t[2]-t[1]-t[0])/t[3]+t[4];break;case 101:e=(t[1]*t[0]+t[2])/t[3];break;case 132:e=-t[1]-t[0]+t[3]+t[2];break;case 105:e=t[2]*t[4]*t[3]*t[1]-t[0];break;case 108:e=(t[3]+t[2])*t[4]/t[0]+t[1];break;case 61:e=(t[2]-t[0])/t[1]-t[4]+t[3];break;case 173:e=t[1]-(t[2]&t[0]);break;case 41:e=(t[1]&t[3])*t[2]-t[0]-t[4];break;case 192:e=t[2]-(t[1]^t[0]);break;case 172:e=(t[4]/t[2]+t[3])*t[0]-t[1];break;case 3:e=t[0]-t[3]+t[1]+t[2];break;case 119:e=-t[2]/t[1]+t[0];break;case 66:e=(t[2]<<t[3])*t[0]-t[1];break;case 28:e=(t[3]+t[4])/t[2]-t[0]+t[1];break;case 65:e=(t[0]+t[1])/t[3]+t[2];break;case 95:e=-(t[1]-t[3])*t[2]+t[0];break;case 7:e=t[0]+t[1]-t[2];break;case 121:e=-t[3]+t[2]+t[4]+t[0]-t[1];break;case 85:e=t[2]+(t[0]-t[1])/t[3];break;case 35:e=t[4]-t[0]-t[2]-t[1]+t[3];break;case 67:e=t[0]<t[1];break;case 82:e=+t[0]/t[1];break;case 135:e=t[2]*t[3]/t[0]-t[1];break;case 54:e=(t[3]-t[0])/(t[1]-t[4])>t[2];break;case 99:e=t[1]+(t[0]|t[2]);break;case 168:e=(t[0]+t[1])/t[4]*t[2]-t[3];break;case 152:e=(t[2]+t[3])*t[1]*t[0]-t[4];break;case 130:e=-t[2]*t[3]+t[1]-t[0];break;case 185:e=t[1]==t[0];break;case 6:e=(t[1]+t[2])/t[0];break;case 94:e=t[2]+t[1]*t[0];break;case 5:e=t[1]*t[0];break;case 45:e=(t[3]+t[1])*t[2]-t[0];break;case 141:e=t[3]-t[4]+t[2]+t[0]-t[1];break;case 73:e=t[2]/t[0]+t[1]+t[3];break;case 191:e=-t[1]*t[4]+t[0]+t[2]-t[3];break;case 110:e=t[2]-t[0]-+t[1];break;case 128:e=t[4]*t[2]*t[3]/t[0]-t[1];break;case 120:e=t[1]+ +t[0];break;case 144:e=t[2]*t[1]*t[0];break;case 189:e=t[1]/t[0]-t[2]-t[4]+t[3];break;case 26:e=t[0]^t[1];break;case 50:e=t[0]-t[1]/(t[2]&t[3]);break;case 125:e=t[0]*t[2]*t[4]+(t[1]-t[6]*t[5])*t[3];break;case 91:e=(t[1]-t[0]*t[2])/t[3];break;case 63:e=(t[3]-t[4])/t[2]+t[1]+t[0];break;case 68:e=(t[1]-t[0])/(t[2]-t[3]);break;case 16:e=-t[1]+t[0];break;case 123:e=(t[1]-t[3])*t[2]*t[4]-t[0];break;case 89:e=t[0]*(t[1]*t[3]+t[4])/t[2];break;case 154:e=(-t[3]+t[2]+t[1])/t[4]-t[0];break;case 160:e=t[2]/(t[1]*t[3])<=t[0]<<t[4];break;case 178:e=(t[3]-t[1])/t[2]/t[4]+t[0];break;case 83:e=t[1]/+t[0];break;case 20:e=t[1]+(t[0]<<t[3])*t[2];break;case 114:e=t[1]*t[2]/t[0]/t[4]+t[3];break;case 155:e=t[3]-t[0]-t[2]+t[1];break;case 39:e=t[2]+(t[1]-t[0]);break;case 43:e=(t[1]-t[0])*t[2]*t[3]+t[4];break;case 176:e=t[0]-t[4]/(t[2]+t[3]/t[1]);break;case 12:e=t[2]/t[1]*t[0]-t[3];break;case 87:e=(-t[3]-t[2]+t[4])/t[0]+t[1];break;case 49:e=t[2]+t[0]/t[1];break;case 42:e=(t[1]-t[3])*t[0]+t[2];break;case 115:e=t[0]+t[1]-t[2]+t[4]-t[3];break;case 179:e=-t[0]/t[2]-t[1]-t[3]+t[4];break;case 164:e=t[2]*(t[1]+t[0]);break;case 138:e=-t[1]/t[3]*t[2]+t[0];break;case 76:e=t[1]-+t[0];break;case 148:e=t[0]*(t[1]/t[2]-t[3]);break;case 103:e=(t[2]+ +t[1]*t[3])/t[0];break;case 182:e=t[0]*t[4]/t[3]*t[1]-t[2];break;case 102:e=(t[2]+t[0])/+t[1];break;case 23:e=t[0]*t[2]-t[1];break;case 175:e=(t[2]-t[1]+t[0])*t[4]+t[3];break;case 97:e=t[0]+(t[6]-t[1])/(t[3]-t[2])*(t[5]-t[4]);break;case 122:e=(t[3]+(t[0]-t[2]))*t[1];break;case 69:e=(-t[0]+t[3])/t[1]*t[2]+t[4];break;case 2:e=t[0]-t[1]+t[2];break;case 55:e=t[2]*t[1]/t[3]+t[0];break;case 161:e=t[1]-t[2]*t[0];break;case 156:e=t[2]/t[1]/t[0]*t[4]+t[3];break;case 18:e=t[2]/t[1]-t[0]+t[3];break;case 136:e=(-t[2]-t[0]-t[3])/t[1]+t[4];break;case 151:e=+t[2]*(t[3]/t[1]-t[0]);break;case 19:e=t[0]+t[1]-t[3]+t[2];break;case 59:e=t[4]/t[1]+t[0]+t[2]-t[3];break;case 78:e=t[0]/t[1]*t[3]+t[2];break;case 98:e=t[0]+(t[1]>>t[2]);break;case 40:e=t[0]*t[1]-t[3]-t[2];break;case 150:e=(t[2]-t[1])/t[3]+t[4]-t[0];break;case 193:e=t[1]*t[3]*t[0]+t[4]-t[2];break;case 51:e=t[2]/t[0]+t[3]-t[1]-t[4];break;case 15:e=t[1]<<t[0];break;case 75:e=(t[1]-t[2])/t[3]-t[0];break;case 158:e=t[4]*t[1]-t[2]-t[3]-t[0];break;case 96:e=-t[1]/t[3]*t[4]+t[2]+t[0];break;case 24:e=t[3]/t[2]-t[0]+t[4]-t[1];break;case 9:e=(t[0]+t[2])/(t[3]|t[1]);break;case 149:e=t[0]+t[2]*(t[1]-t[3]);break;case 134:e=(-t[1]+t[0])/t[3]-t[2];break;case 100:e=(t[3]*t[2]+t[1])/+t[0];break;case 52:e=t[0]/t[2]-t[1];break;case 27:e=(t[4]/t[2]-t[3])/t[0]+t[1];break;case 29:e=t[0]-(t[2]-t[1]);break;case 140:e=(-t[1]+t[0])*t[4]*t[3]+t[2];break;case 31:e=t[0]+t[1]+t[3]-t[2];break;case 147:e=-t[0]/t[3]*t[1]*t[4]+t[2];break;case 181:e=t[3]*t[0]-t[1]+t[4]-t[2];break;case 113:e=t[0]*t[4]/t[1]+t[3]-t[2];break;case 170:e=t[4]-t[2]-t[1]/(t[0]+t[3]);break;case 48:e=t[1]+t[0]/+t[2];break;case 142:e=-t[2]*t[1]/t[3]+t[0];break;case 166:e=t[1]/t[3]/t[0]-t[2]+t[4];break;case 183:e=t[1]-t[0]*t[3]-t[2];break;case 184:e=t[0]+t[2]*t[3]+t[1];break;case 32:e=-t[4]*t[2]*t[3]+t[1]+t[0];break;case 80:e=t[4]*t[0]/t[2]*t[1]+t[3];break;case 165:e=t[0]*t[4]+t[3]+t[1]+t[2];break;case 79:e=t[3]+t[1]+t[2]+t[0]-t[4];break;case 37:e=(t[3]-t[4])*t[2]+t[1]+t[0];break;case 180:e=t[0]-t[3]-t[2]+t[1]-t[4];break;case 111:e=(t[1]-(t[3]+t[0]))/(t[2]^t[4]);break;case 163:e=t[0]>t[1];break;case 188:e=-t[1]-t[3]-t[2]+t[0]+t[4];break;case 17:e=(t[3]+t[1])/t[4]+t[2]+t[0];break;case 71:e=(t[1]-t[2])*t[0]-t[3];break;case 86:e=t[1]-t[0]*(t[3]-t[2]);break;case 126:e=t[3]+t[1]-t[4]-t[2]-t[0];break;case 171:e=-t[0]/t[3]/t[1]+t[2];break;case 186:e=t[2]+t[0]/t[1]+t[3];break;case 104:e=(t[0]+t[1]*t[2])/t[3];break;case 106:e=(t[4]-t[1])*t[0]/t[3]+t[2];break;case 169:e=(t[1]+t[0])/t[2]-t[3];break;case 137:e=(t[1]+t[2])/t[0]/t[4]-t[3];break;case 11:e=-t[1]+t[3]-t[0]+t[2];break;case 36:e=(t[1]-t[2])/t[3]+t[0];break;case 146:e=(t[2]&t[1])-t[4]/(t[5]+t[3]/t[0]);break;case 109:e=t[5]+t[1]+t[0]+t[3]+t[2]+t[4]+t[6]+t[7];break;case 46:e=(t[2]-t[4])/t[0]/t[3]-t[1];break;case 4:e=t[0]&t[1];break;case 174:e=t[2]/t[1]+t[0]-t[3]+t[4];break;case 112:e=t[2]+t[3]+t[1]+t[0];break;case 8:e=t[0]+t[1]-t[2]-t[3]}return e},o3mK:function(e){r=e}},n=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Renderer.Aggregations=function(e){var t,i;if(this.construct(e),t=this.params,we.d7Kh(),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,this.isAggregation=!0,t.highlightable=!1,"_main_series"!=t.name){console.warn("Aggregations are only allowed on main series."),-410998141,-826820892,i=2;for(var a=1;-410998141!==we.Y6v(a.toString(),a.toString().length,75890);a++)t.invalid=!1,i+=2;-826820892!==we.s1v(i.toString(),i.toString().length,50417)&&(t.invalid=!0),t.invalid=!0}},t.inheritsFrom(t.Renderer.Aggregations,t.Renderer.OHLC,!1),t.Renderer.Aggregations.requestNew=function(e,i){var a,r,n;a=null;for(var s=0;s<e.length;s++)switch(r=e[s]){case"kagi":case"pandf":a=r;break;case"heikinashi":case"linebreak":case"rangebars":case"renko":a="candle";break;default:return null}return null===a?null:(we.k7Kh(),(n=new t.Renderer["candle"==a?"OHLC":"Aggregations"]({params:t.extend(i,{type:a})})).isAggregation=!0,n)},t.Renderer.Aggregations.prototype.drawIndividualSeries=function(e,t){var i,a;if(!t.invalid)return we.d7Kh(),i=this.stx,a={colors:[]},"kagi"==t.type?("stx_kagi","_up","s","tx_kagi_do","wn",i.drawKagiSquareWave(e.panel,"stx_kagi_up","stx_kagi_down",t),a.colors.push(i.getCanvasColor("stx_kagi_up")),a.colors.push(i.getCanvasColor("stx_kagi_down"))):"pandf"==t.type&&("stx_pan","df_down",i.drawPointFigureChart(e.panel,"stx_pandf_up","X",t),a.colors.push(i.getCanvasColor("stx_pandf_up")),i.drawPointFigureChart(e.panel,"stx_pandf_down","O",t),a.colors.push(i.getCanvasColor("stx_pandf_down"))),a},t.ChartEngine.prototype.setAggregationType=function(e){var i;this.layout.chartType="candle",!1!==(i=this.chart).baseline.userLevel&&(i.baseline.userLevel=i.baseline.defaultLevel,i.panel.yAxis.scroll=t.ChartEngine.YAxis.prototype.scroll),this.layout.aggregationType=e,this.setMainSeriesRenderer(),we.d7Kh(),i.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},t.ChartEngine.prototype.drawKagiSquareWave=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L=we;n=e.chart,this.startClip(e.name),s=n.dataSegment,o=n.context,(l=e.yAxis).flipped&&(h=i,i=a,a=h),c=this.canvasStyle(i),u=this.canvasStyle(a),this.canvasColor(i),r.border_color_up&&(o.strokeStyle=r.border_color_up),d=o.strokeStyle,this.canvasColor(a),r.border_color_down&&(o.strokeStyle=r.border_color_down),p=o.strokeStyle,m=1,c.width&&parseInt(c.width,10)<=25&&(m=Math.max(1,t.stripPX(c.width))),g=1,u.width&&parseInt(u.width,10)<=25&&(g=Math.max(1,t.stripPX(u.width))),this.highlightedDraggable&&(o.globalAlpha*=.3),o.beginPath(),L.i3mK(0);var A=L.e3mK(1,0);f=n.dataSet.length-n.scroll-A,y=!0,v=null,x=null,L.N3mK(1),L.d7Kh();var D=L.E3mK(6,7);b=e.left-.5*this.layout.candleWidth+this.micropixels-D;for(var T=0;T<=s.length;T++)if(b+=this.layout.candleWidth,C=s[T]){if(C.projection)break;x=C.kagiTrend,l.flipped&&(x*=-1),C.transform&&n.transformFunc&&(S=C.kagiPrevOpen,(C=C.transform).kagiPrevOpen=n.transformFunc(this,n,S)),w=C.cache,L.i3mK(0),((k=L.E3mK(T,f))<e.cacheLeft||k>e.cacheRight||!w.kagiOpen)&&(w.kagiOpen=l.semiLog?l.height*(1-(Math.log(Math.max(C.Open,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-C.Open)*l.multiplier,w.kagiClose=l.semiLog?l.height*(1-(Math.log(Math.max(C.Close,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-C.Close)*l.multiplier,l.flipped?(w.kagiOpen=l.bottom-w.kagiOpen,w.kagiClose=l.bottom-w.kagiClose):(w.kagiOpen+=l.top,w.kagiClose+=l.top)),w.kagiClose,v=l.semiLog?l.height*(1-(Math.log(Math.max(C.kagiPrevOpen,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-C.kagiPrevOpen)*l.multiplier,l.flipped?v=l.bottom-v:v+=l.top,y?(o.moveTo(f>=0?e.left:Math.floor(b),w.kagiOpen),o.lineTo(Math.floor(b),w.kagiOpen),w.kagiClose<w.kagiOpen?(o.strokeStyle=d,o.lineWidth=m):(o.strokeStyle=p,o.lineWidth=g)):-1!=x&&w.kagiClose<v&&v<w.kagiOpen?(o.lineTo(Math.floor(b),v),o.stroke(),o.beginPath(),o.moveTo(Math.floor(b),v),o.strokeStyle=d,o.lineWidth=m):1!=x&&w.kagiClose>v&&v>w.kagiOpen&&(o.lineTo(Math.floor(b),v),o.stroke(),o.beginPath(),o.moveTo(Math.floor(b),v),o.strokeStyle=p,o.lineWidth=g),o.lineTo(Math.floor(b),w.kagiClose),T+1<s.length&&o.lineTo(Math.floor(b+this.layout.candleWidth),w.kagiClose),y=!1}o.stroke(),this.endClip(),o.lineWidth=1},t.ChartEngine.prototype.drawPointFigureChart=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P=we;function _(e,t,i){P.d7Kh(),P.i3mK(0),o.moveTo(P.E3mK(u,e),P.E3mK(i,c,x,P.N3mK(2))),P.N3mK(1),o.lineTo(P.e3mK(d,t),P.E3mK(i,h,x,v,P.i3mK(3))),P.N3mK(0),o.moveTo(P.e3mK(u,e),P.E3mK(i,h,x,v,P.i3mK(3))),P.N3mK(1),o.lineTo(P.E3mK(d,t),P.e3mK(i,c,x,P.N3mK(2)))}n=e.chart,this.startClip(e.name),s=n.dataSegment,o=n.context,this.canvasColor(i),"X"==a&&r.border_color_up?o.strokeStyle=r.border_color_up:"O"==a&&r.border_color_down&&(o.strokeStyle=r.border_color_down),l=this.canvasStyle(i),h=parseInt(l.paddingTop,10),c=parseInt(l.paddingBottom,10),u=parseInt(l.paddingLeft,10),d=parseInt(l.paddingRight,10),l.width&&parseInt(l.width,10)<=25?o.lineWidth=Math.max(1,t.stripPX(l.width)):(P.N3mK(4),o.lineWidth=P.E3mK("2",2147483647)),this.highlightedDraggable&&(P.N3mK(5),o.globalAlpha*=P.e3mK(1,"0.3")),o.beginPath(),p=this.chart.state.aggregation.box,P.i3mK(1);var E=P.E3mK(13,14);function K(e,t,i){P.N3mK(6),o.moveTo(P.e3mK(2,e,t),P.E3mK(i,h,x,P.i3mK(7))),P.N3mK(0),o.bezierCurveTo(P.E3mK(d,t),P.e3mK(i,h,x,P.i3mK(7)),P.e3mK(d,t,P.i3mK(0)),P.E3mK(i,v,c,x,P.N3mK(8)),P.E3mK(2,e,t,P.N3mK(6)),P.E3mK(i,v,c,x,P.N3mK(8))),P.N3mK(1),o.bezierCurveTo(P.E3mK(u,e),P.E3mK(i,v,c,x,P.i3mK(8)),P.E3mK(u,e,P.i3mK(1)),P.e3mK(i,h,x,P.i3mK(7)),P.e3mK(e,2,t,"2",P.i3mK(9)),P.e3mK(i,h,x,P.N3mK(7)))}m=n.dataSet.length-n.scroll-E,g=e.yAxis,P.k7Kh(),v=p*g.multiplier,P.N3mK(10),x=P.e3mK(v,2),b=this.layout.candleWidth,P.i3mK(2);var I=P.e3mK(0,2,3);C=e.left-b+this.micropixels-I;for(var N=0;N<s.length;N++)if(C+=b,S=s[N]){if(S.projection)break;if(w=S.pfOpen,k=S.pfClose,L=S.pfTrend,A=S.pfStepBack,S.transform&&n.transformFunc&&(S=S.transform,w=n.transformFunc(this,n,w),k=n.transformFunc(this,n,k)),D=S.cache,P.i3mK(0),((T=P.E3mK(N,m))<e.cacheLeft||T>e.cacheRight||!D.pfOpen)&&(g.flipped?(D.pfOpen=g.bottom-(g.high-w)*g.multiplier,D.pfClose=g.bottom-(g.high-k)*g.multiplier):(D.pfOpen=(g.high-w)*g.multiplier+g.top,D.pfClose=(g.high-k)*g.multiplier+g.top)),M=Math.round(C),P.N3mK(0),F=Math.round(P.E3mK(b,C)),f=Math.abs(Math.round((k-w)/p)),y=D.pfOpen,a==A&&("X"==A?(P.i3mK(1),_(M,F,P.e3mK(v,y))):"O"==A&&(P.i3mK(0),K(M,F,P.E3mK(v,y)))),a==L)for(;f>=0;f--)"X"==a?(_(M,F,y),y-=g.flipped?-v:v):"O"==a&&(K(M,F,y),y+=g.flipped?-v:v)}o.stroke(),this.endClip(),o.lineWidth=1},t.ChartEngine.calculateAggregation=function(e,i,a,r){var n,s,o;return n="hei",n+="kinashi",o=e.layout,we.d7Kh(),[n,"heikenashi"].indexOf(i)>-1?s=t.calculateHeikinAshi(e,a,r):"rangebars"==i?s=t.calculateRangeBars(e,a,o.rangebars,r):"kagi"==i?s=t.calculateKagi(e,a,o.kagi,r):"linebreak"==i?s=t.calculateLineBreak(e,a,o.priceLines,r):"renko"==i?s=t.calculateRenkoBars(e,a,o.renko,r):"pandf"==i&&(s=t.calculatePointFigure(e,a,o.pandf,r)),s},t.calculateHeikinAshi=function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,m=we;if(m.k7Kh(),!t.length)return t;i||(i=[]),a=[];for(var g=0;g<t.length;g++)if(r=t[g]){m.i3mK(11);var f=m.E3mK(17,2,17,3);if(!(n=a[a.length-f])&&!g){m.i3mK(12);var y=m.e3mK(7,1,5,34);n=i[i.length-y]}for(var v in n||(n=r),s=r.Close,o=(o=r.Open)||0===o?o:s,l=(l=r.High)||0===l?l:s,h=(h=r.Low)||0===h?h:s,u=((c=(c=n.Open)||0===c?c:n.Close)+n.Close)/2,m.i3mK(13),d=m.E3mK(0,l,h,s,"4",o),p={DT:r.DT,displayDate:r.displayDate,Date:r.Date,Open:u,Close:d,High:Math.max(l,Math.max(u,d)),Low:Math.min(h,Math.min(u,d)),Volume:r.Volume,iqPrevClose:n.Close},r)p[v]||0===p[v]||(p[v]=r[v]);a.push(p)}return a},t.calculateKagi=function(e,i,a,r){var n,s,o,l,h,c,u,d,p=we;if(p.k7Kh(),!i.length)return i;r||(r=[]),n=e.layout,s=e.chart,a=parseFloat(a),s.defaultChartStyleConfig.kagi=t.ChartEngine.isDailyInterval(n.interval)?4:.4,(isNaN(a)||a<=0)&&(a=s.defaultChartStyleConfig.kagi,t.Market.Symbology.isForexSymbol(s.symbol)&&(a/=4),null!==n.kagi&&(n.kagi=null,e.changeOccurred("layout"))),a/=100,o=[],p.N3mK(14);var m=p.e3mK(8,19,10);h=(l=r[r.length-m])?l.DT:0;for(var g=0;g<i.length;g++)if((c=i[g])&&(l||(p.i3mK(1),l=i[p.E3mK(1,g)]),l)){if((u=l.Open||0===l.Open?l.Open:l.Close)>l.Close){if(c.Close>l.Close*(1+a))c.Open=l.Close;else if(l.Close>c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,g<i.length-1)continue}else if(u<l.Close){if(c.Close<l.Close*(1-a))c.Open=l.Close;else if(l.Close<c.Close&&(l.Close=c.Close),l.Volume+=c.Volume,g<i.length-1)continue}else if(l.Close=c.Close,l.Volume+=c.Volume,g<i.length-1)continue;for(var f in d={DT:l.DT,displayDate:l.displayDate,Date:l.Date,Open:l.Open,Close:l.Close,High:Math.max(l.Open,l.Close),Low:Math.min(l.Open,l.Close),Volume:l.Volume,iqPrevClose:l.iqPrevClose},l)d[f]||0===d[f]||(d[f]=l[f]);o.length?d.kagiPrevOpen=o[o.length-1].Open:d.kagiPrevOpen=d.Open,d.Close>d.kagiPrevOpen&&d.kagiPrevOpen>d.Open?d.kagiTrend=1:d.Close<d.kagiPrevOpen&&d.kagiPrevOpen<d.Open&&(d.kagiTrend=-1),h<d.DT&&o.push(d),l=c,s.currentQuote={Close:c.Close}}return o},t.calculateLineBreak=function(e,t,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y;if(!t.length)return t;a||(a=[]),r=e.layout,n=e.chart,we.i3mK(15),n.defaultChartStyleConfig.priceLines=we.e3mK(1886190080,"3"),we.d7Kh(),i=parseInt(i,10),isNaN(i)||i<=0?(i=n.defaultChartStyleConfig.priceLines,null!==r.priceLines&&(r.priceLines=null,e.changeOccurred("layout"))):i>10&&(r.priceLines=i=10),o=(s=a.slice(-i)).length,l=0;e:for(var v=0;v<t.length;v++)if(h=t[v]){if(l+=h.Volume,(c=s[s.length-1])||(c={Open:h.Open,Close:h.Open,High:h.Open,Low:h.Open}),u=c.Close,d=(d=c.High)||0===d?d:u,p=(p=c.Low)||0===p?p:u,m=(m=c.Open)||0===m?m:u,g={DT:h.DT,displayDate:h.displayDate,Date:h.Date,Close:h.Close,Volume:l,iqPrevClose:u},n.currentQuote={Close:h.Close},h.Close>u&&c.Close>m);else if(h.Close<u&&c.Close<m);else if(h.Close>d){for(f=2;f<=i;f++)if((y=s[s.length-f])&&h.Close<=y.High)continue e}else{if(!(h.Close<p))continue;for(f=2;f<=i;f++)if((y=s[s.length-f])&&h.Close>=y.Low)continue e}for(var x in h.Close<c.Close?g.Open=Math.min(m,u):g.Open=Math.max(m,u),g.Low=Math.min(g.Open,g.Close),g.High=Math.max(g.Open,g.Close),h)g[x]||0===g[x]||(g[x]=h[x]);s.push(g),l=0}return s.slice(o)},we.d7Kh(),t.calculateRenkoBars=function(e,t,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=we;if("C","l","os","e",!t.length)return[];function b(e,t){var i;for(var a in x.d7Kh(),e=Number(e.toFixed(8)),t=Number(t.toFixed(8)),i={DT:p.DT,displayDate:p.displayDate,Date:p.Date,Open:e,Close:t,High:Math.max(e,t),Low:Math.min(e,t),Volume:0,iqPrevClose:e!=t?e:null},p)i[a]||0===i[a]||(i[a]=p[a]);c.push(i)}a||(a=[]),r=e.layout,(s=(n=e.chart).state.aggregation)||(s=n.state.aggregation={}),x.i3mK(5),o=Math.min(x.e3mK(1,"300"),t.length),s.minMax||(s.minMax=e.determineMinMax(t.slice(t.length-o),["Close","High","Low"])),x.i3mK(16);var C=x.E3mK(11,10);if(l=s.minMax[C]-s.minMax[0],!(h=e.panels[n.name].height))return[];x.i3mK(17);var S=x.e3mK(8,20,15,43,9);x.N3mK(18);var w=x.e3mK(7,4,9992,7509);if(n.defaultChartStyleConfig.renko=Math.floor(1e4*l/(h/S))/w,null===i||isNaN(i)||i<=0?(i=n.defaultChartStyleConfig.renko,null!==r.renko&&(r.renko=null,e.changeOccurred("layout"))):(x.N3mK(10),i=Math.max(i,x.e3mK(l,h)),r.renko!==i&&(r.renko=i,e.changeOccurred("layout"))),c=[],u=null,d=null,p=null,a.length){x.i3mK(19);var k=x.E3mK(0,3,5,7);u=(m=a[a.length-k]).Low-i,d=m.High+i}for(var L=0;L<t.length;L++)if(g=t[L]){for(u||d||(f=g.Open||0===g.Open?g.Open:g.Close,y=Math.floor(f/i)*i,v=isNaN(y)?f:y,x.i3mK(1),u=x.E3mK(i,v),x.N3mK(0),d=x.E3mK(i,v));;)if(p||(p=g),g.Close<=u)x.i3mK(0),b(x.e3mK(i,u),u),x.i3mK(20),d=x.E3mK("2",u,i,967378720),u-=i,p=null;else{if(!(g.Close>=d))break;x.N3mK(1),b(x.e3mK(i,d),d),x.i3mK(21),u=x.E3mK(i,485184896,d,"2"),d+=i,p=null}n.currentQuote=g}return u<t[t.length-1].Close&&u+i>t[t.length-1].Close?(x.N3mK(0),b(x.e3mK(i,u),t[t.length-1].Close)):d>t[t.length-1].Close&&d-i<t[t.length-1].Close&&(x.N3mK(1),b(x.E3mK(i,d),t[t.length-1].Close)),c},t.calculateRangeBars=function(e,t,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k=we;if(!t.length)return t;function L(e,t){for(k.k7Kh();;){if(g||(g=e),u<t){if(u=Math.min(t,d),k.N3mK(1),p=Math.max(p,k.e3mK(i,u)),t<d)break}else if(u>=t&&(u=Math.max(t,p),k.i3mK(0),d=Math.min(d,k.E3mK(i,u)),t>p))break;if(void 0===u)return void console.log("Uh oh undefined in calculateRangeBars:processMove");D(u),g=null,A()}}function A(){k.N3mK(0),k.d7Kh(),d=k.e3mK(i,u),k.i3mK(1),p=k.e3mK(i,u),m=u}function D(e){var t;for(var i in(t={DT:g.DT,displayDate:g.displayDate,Date:g.Date,Open:Number(m.toFixed(8)),Close:Number(e.toFixed(8)),High:Number(d.toFixed(8)),Low:Number(p.toFixed(8)),Volume:0}).iqPrevClose=t.Open,g)t[i]||0===t[i]||(t[i]=g[i]);c.push(t)}a||(a=[]),r=e.layout,(s=(n=e.chart).state.aggregation)||(s=n.state.aggregation={}),k.i3mK(22),o=Math.min(k.E3mK("300",260),t.length),s.minMax||(s.minMax=e.determineMinMax(t.slice(t.length-o),["Close","High","Low"])),k.i3mK(0);var T=k.e3mK(810554410,42660758);if(l=s.minMax["1">>T]-s.minMax[0],!(h=e.panels[n.name].height))return[];k.N3mK(2);var M=k.e3mK(667,15,9348);k.N3mK(23);var F=k.e3mK(3,15,15);k.i3mK(24);var P=k.e3mK(19,11983,5,11e4,2);n.defaultChartStyleConfig.range=Math.floor(M*l/(h/F))/P,null===i||isNaN(i)||i<0?(i=n.defaultChartStyleConfig.range,null!==r.range&&(r.range=null,e.changeOccurred("layout"))):(k.N3mK(10),i=Math.max(i,k.e3mK(l,h)),r.range!==i&&("lay","o","u","t",r.range=i,e.changeOccurred("layout"))),c=[],u=null,d=null,p=null,m=null,g=null;for(var _=0;_<t.length;_++)if(f=t[_]){if(k.N3mK(1),y=t[k.e3mK(1,_)],!_){if(!y){k.i3mK(25);var E=k.E3mK(229553120,14,4,631271082,12);y=a[a.length-("1">>E)]}y&&((u=y.Close)||0===u)&&A()}y&&(v=f.Close,x=f.Open,b=f.High,C=f.Low,(v||0===v)&&(x=x||0===x?x:v,b=b||0===b?b:v,C=C||0===C?C:v,u||0===u||(S=Math.floor(x/i)*i,u=isNaN(S)?x:S,A(),L(y,x)),_&&L(f,x),b-x<x-C?(b&&L(f,b),C&&L(f,C)):(C&&L(f,C),b&&L(f,b)),L(f,v),_==t.length-1&&v!=m&&(w=d,k.N3mK(0),d=k.E3mK(i,p),k.N3mK(1),p=k.E3mK(i,w),D(v))))}return c},t.calculatePointFigure=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w=we;if(w.k7Kh(),!i.length)return i;function k(e,t,i,a,r){w.d7Kh(),e.High=Math.max(t,e.High),e.Low=Math.min(i,e.Low),e.Close=a,e.Volume+=r}function L(e,t,i,a,r,n,s,o,l){return w.d7Kh(),{DT:e.DT,Date:e.Date,pfOpen:o,pfClose:l,Open:t,Close:r,High:i,Low:a,Volume:n,iqPrevClose:s}}function A(e,t){for(var i in e)t[i]||0===t[i]||(t[i]=e[i]);return t}r||(r=[]),n=e.layout,(o=(s=e.chart).state.aggregation)||(o=s.state.aggregation={}),s.defaultChartStyleConfig.box=1,s.defaultChartStyleConfig.reversal=3,a||(a={}),(l=a.box)||(n.pandf&&null!==n.pandf.box&&(n.pandf.box=null,e.changeOccurred("layout")),l=s.defaultChartStyleConfig.box,(h=i[i.length-1].Close)&&(h<.25?l=.0625:h<1?l=.125:h<5?l=.25:h<20?l=.5:h<100?l=1:h<200?l=2:h<500?(w.N3mK(5),l=w.E3mK(1,"4")):h<1e3?(w.N3mK(26),l=w.e3mK("5",0)):l=h<25e3?50:500),t.ChartEngine.isDailyInterval(n.interval)||(l/=10),t.Market.Symbology.isForexSymbol(s.symbol)&&(h&&(h<1?l=.001:h<2?l=.002:h<50?l=.02:h<200&&(l=.2)),t.ChartEngine.isDailyInterval(n.interval)&&(l*=10)),s.defaultChartStyleConfig.box=l),l=parseFloat(l),(isNaN(l)||l<=0)&&(n.pandf&&null!==n.pandf.box&&("la","y","out",n.pandf.box=null,e.changeOccurred("layout")),s.defaultChartStyleConfig.box=l=1),(c=Math.ceil(parseFloat(a.reversal)))>0&&c>a.reversal?(n.pandf.reversal=c,e.changeOccurred("layout")):(isNaN(c)||c<=0)&&(n.pandf&&null!==n.pandf.reversal&&("l","ayout",n.pandf.reversal=null,e.changeOccurred("layout")),c=s.defaultChartStyleConfig.reversal),o.box=l,c*=l,u=(l.toString()+".").split(".")[1].length,d=[],p=0;for(var D=0;D<i.length;D++)if(g=i[D])if(p+=g.Volume,y=g.Close,v=(v=g.Open)||0===v?v:y,x=(x=g.High)||0===x?x:y,b=(b=g.Low)||0===b?b:y,d.length||r.length){w.N3mK(27);var T=w.e3mK(11,2,7,12,7);(f=d[d.length-T])||(f=t.clone(r[r.length-1])),"O"==f.pfTrend?(b<=f.pfClose-l?(f.pfClose=Number((Math.ceil(b/l-1e-8)*l).toFixed(u)),"O"==f.pfStepBack&&(f.pfStepBack=null),k(f,x,b,y,p)):x>=f.pfClose+c?(C=f.pfClose+l,S=Number((Math.floor(x/l+1e-8)*l).toFixed(u)),m=L(g,v,x,b,y,p,f.pfClose,C,S),C==S&&(m.pfStepBack="X"),"O"==f.pfStepBack?(f.pfOpen=C,f.pfClose=S,f.pfTrend="X",k(f,x,b,y,p)):((m=A(g,m)).pfTrend="X",d.push(m))):k(f,x,b,y,p),w.i3mK(15),p=w.E3mK(1178501696,"0")):"X"==f.pfTrend&&(x>=f.pfClose+l?(f.pfClose=Number((Math.floor(x/l+1e-8)*l).toFixed(u)),"X"!=f.pfStepBack&&"-"!=f.pfStepBack||(f.pfStepBack=null),k(f,x,b,y,p)):b<=f.pfClose-c?(C=f.pfClose-l,S=Number((Math.ceil(b/l-1e-8)*l).toFixed(u)),m=L(g,v,x,b,y,p,f.pfClose,C,S),C==S&&(m.pfStepBack="O"),"X"==f.pfStepBack||"-"==f.pfStepBack?(f.pfOpen=C,f.pfClose=S,f.pfTrend="O",k(f,x,b,y,p),C!=S&&"-"==f.pfStepBack&&(f.pfStepBack=null)):((m=A(g,m)).pfTrend="O",d.push(m))):k(f,x,b,y,p),p=0)}else(m=A(g,L(g,v,x,b,y,p,x+l,Number((Math.ceil(b/l-1e-8)*l).toFixed(u)),Number((Math.floor(x/l+1e-8)*l).toFixed(u))))).pfTrend="X",m.pfOpen==m.pfClose&&(m.pfStepBack="-"),d.push(m),p=0;return d}},s=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.Drawing?("cq-wave-","paramete","rs","pat","t","ern","c","o","lor","f","o","nt","pa","tte","rn3","act","iv","e3","line","Wid","th","2","active","2","patte","rn","1","c","o","lor1","a","ctiv","e1","p","ara","meters","lin","e","Width","co","lor","f","il","lColor","c","o","lo","r","lineWi","dt","h","l","ineWidth","co","lor",t.Drawing.ray=function(){this.name="ray"},t.inheritsFrom(t.Drawing.ray,t.Drawing.line),t.Drawing.ray.prototype.calculateOuterSet=function(e){var i,a;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!t.ChartEngine.isDailyInterval(this.stx.layout.interval)){if(a=(i={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x1+1e3,we.d7Kh(),i.x0>i.x1){we.N3mK(28);var r=we.e3mK(17,1016,3017,3e3,17);a=i.x1-r}this.v0B=this.v0,this.v1B=t.yIntersection(i,a),this.d0B=this.d0,this.d1B=this.stx.dateFromTick(a,e.chart)}},t.Drawing.ray.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),t.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&this.setPoint(1,this.d1B,this.v1B,e.chart))},t.Drawing.continuous=function(){this.name="continuous",this.dragToDraw=!1,this.maxSegments=null},t.inheritsFrom(t.Drawing.continuous,t.Drawing.segment),t.Drawing.continuous.prototype.click=function(e,i,a){var r,n,s;if("vecto","r",r=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(i,a)?(this.stx.undo(),!0):(this.setPoint(1,i,a,r.chart),n=new(0,t.Drawing.segment),s=this.serialize(this.stx),n.reconstruct(this.stx,s),this.stx.addDrawing(n),this.stx.changeOccurred("vector"),this.stx.draw(),this.segment++,!!(this.maxSegments&&this.segment>this.maxSegments)||(this.setPoint(0,i,a,r.chart),!1)):(this.setPoint(0,i,a,r.chart),this.penDown=!0,!1)},t.Drawing.ellipse=function(){this.name="ellipse"},t.inheritsFrom(t.Drawing.ellipse,t.Drawing.BaseTwoPoint),t.Drawing.ellipse.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y=we;(i=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),y.i3mK(29),o=y.E3mK(a,a,r),l=r,h=n,c=s,y.i3mK(29),u=y.e3mK(n,n,s),y.i3mK(30),d=y.e3mK(c,u,6),(p=this.lineWidth)||(p=1.1),("auto"==(m=this.color)||t.isTransparent(m))&&(m=this.stx.defaultColor),this.highlighted&&(m=this.stx.getCanvasColor("stx_highlight_vector"),.1==p&&(p=1.1)),g=this.fillColor,e.beginPath(),e.moveTo(o,h),y.d7Kh(),y.N3mK(0),e.bezierCurveTo(o,y.e3mK(d,c),l,y.E3mK(d,c),l,h),y.i3mK(1),e.bezierCurveTo(l,y.E3mK(d,u),o,y.E3mK(d,u),o,h),g&&!t.isTransparent(g)&&"auto"!=g&&(e.fillStyle=g,e.globalAlpha=.2,e.fill(),e.globalAlpha=1),m&&"none"!=this.pattern&&(e.strokeStyle=m,e.lineWidth=p,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(p,this.pattern)),e.lineDashOffset=0),e.stroke()),e.closePath(),this.highlighted&&("p","1",f="p1"==this.highlighted,this.littleCircle(e,r,s,f)))},t.Drawing.ellipse.prototype.intersected=function(e,i,a){var r,n,s,o,l=we;if(!this.p0||!this.p1)return null;if(this.pointIntersection(this.p1[0],this.p1[1],a))return"p","1","d","r","a","g",this.highlighted="p1",{action:"drag",point:"p1"};r=this.p0[0]-(this.p1[0]-this.p0[0]),n=this.p1[0],l.N3mK(15),s=this.p1[l.E3mK(1992686592,"1")],l.N3mK(31);var h=l.e3mK(17,8,30,6);l.N3mK(32),l.k7Kh();var c=l.e3mK(3596,5,12,20,15);l.N3mK(33);var u=l.E3mK(5,2,5,20,2);return o=this.p0[h]-(this.p1[c]-this.p0[u]),!(a.x0>Math.max(r,n)||a.x1<Math.min(r,n))&&(!(a.y1>Math.max(o,s)||a.y0<Math.min(o,s))&&(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}))},t.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.ellipse.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,we.k7Kh(),this.adjust()},t.Drawing.ellipse.prototype.serialize=function(){return we.k7Kh(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},t.Drawing.channel=function(){this.name="channel",we.k7Kh(),this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.channel,t.Drawing.segment),t.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.channel.prototype.move=function(e,t,i){var a;if(this.penDown){if(this.copyConfig(),we.k7Kh(),null===this.p2)this.p1=[t,i];else{we.N3mK(34);var r=we.e3mK(15,18,451,12);a=i-(this.p1[1]-this.p0[r])/(this.p1[0]-this.p0[0])*(t-this.p1[0]),this.p2=[this.p1[0],a]}this.render(e)}},t.Drawing.channel.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,t,i,a.chart),this.penDown=!0,!1;if(this.accidentalClick(t,i))return this.stx.undo(),!0;if(null!==this.p2)return this.setPoint(2,this.p2[0],this.p2[1],a.chart),this.penDown=!1,!0;if(this.setPoint(1,t,i,a.chart),we.k7Kh(),this.p0[0]==this.p1[0]){2028741901,-732774386,2;for(var r=1;2028741901!==we.s1v(r.toString(),r.toString().length,84757);r++)return this.p1=1,!0;return-732774386!==we.Y6v(2..toString(),2..toString().length,63242)?(this.p1=2,!1):(this.p1=null,!1)}return this.p2=[this.p1[0],this.p1[1]],!1}},t.Drawing.channel.prototype.boxIntersection=function(e,t,i){var a,r,n,s,o,l=we;if(l.k7Kh(),a=this.p0,r=this.p1,n=this.p2,!a||!r||!n)return!1;if(i.x0>Math.max(a[0],r[0])||i.x1<Math.min(a[0],r[0]))return!1;l.N3mK(16);var h=l.e3mK(14,13);l.i3mK(7);var c=l.e3mK(8,14,21);l.i3mK(35);var u=l.e3mK(3,20,19,30,13);l.N3mK(1);var d=l.e3mK(19,20);s=(r[0]-a[0])*((n[1]<a[h]?i.y1:i.y0)-a[c])-(r[u]-a[d])*(e-a[0]),l.N3mK(1);var p=l.E3mK(20,21);l.N3mK(36);var m=l.E3mK(2,0,12,12);l.i3mK(37);var g=l.E3mK(10,18,9,4,7);l.i3mK(31);var f=l.E3mK(21,12,46,14);l.i3mK(1);var y=l.e3mK(5,535361157);l.N3mK(31);var v=l.e3mK(0,19,21,3);return o=(n[0]-a[0])*((n[p]>a[1]?i.y1:i.y0)-(a[m]+n[g]-r[f]))-(r["1">>y]-a[v])*(e-a[0]),l.N3mK(38),l.e3mK(s,o,"0")},t.Drawing.channel.prototype.intersected=function(e,i,a){var r;if(!this.p0||!this.p1||!this.p2)return null;for(var n in r={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(r[n][0],r[n][1],a))return we.N3mK(0),this.highlighted=we.e3mK(n,"p"),{action:"drag",point:"p"+n};return this.boxIntersection(e,i,a)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),p2:t.clone(this.p2),tick:e,value:i}):null},t.Drawing.channel.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f=we;if("n",f.k7Kh(),"one",i=this.stx.panels[this.panelName]){if(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),o=null,this.p2){1245812730,-423298506,l=2;for(var y=1;1245812730!==f.s1v(y.toString(),y.toString().length,4409);y++)o=this.stx.pixelFromValueAdjusted(i,this.p2[9],this.p2[6]),l+=2;-423298506!==f.s1v(l.toString(),l.toString().length,37978)&&(o=this.stx.pixelFromValueAdjusted(i,this.p2[0],this.p2[1]))}h=this.lineWidth,c=this.getLineColor(),u=this.fillColor,this.p2&&u&&!t.isTransparent(u)&&"auto"!=u&&(e.beginPath(),e.moveTo(a,n),e.lineTo(r,s),e.lineTo(r,o),f.N3mK(39),e.lineTo(a,f.E3mK(s,o,n)),e.closePath(),e.globalAlpha=.2,e.fillStyle=u,e.fill(),e.globalAlpha=1),d={pattern:this.pattern,lineWidth:h},(this.penDown||this.highlighted)&&"none"==this.pattern&&(d.pattern="dotted"),this.stx.plotLine(a,r,n,s,c,"segment",e,i,d),this.p2&&(f.i3mK(39),this.stx.plotLine(a,r,f.e3mK(s,o,n),o,c,"segment",e,i,d)),this.highlighted&&("p","0",p="p0"==this.highlighted,m="p1"==this.highlighted,g="p2"==this.highlighted,this.littleCircle(e,a,n,p),this.littleCircle(e,r,s,m),this.littleCircle(e,r,o,g))}},t.Drawing.channel.prototype.reposition=function(e,t,i,a){var r,n,s,o;if(t)if(we.k7Kh(),r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,"move"==t.action){this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),this.setPoint(1,t.p1[0]-n,t.p1[1]-s,r.chart),this.setPoint(2,t.p2[0]-n,t.p2[1]-s,r.chart),836012978,-1838160998,o=2;for(var l=1;836012978!==we.Y6v(l.toString(),l.toString().length,28264);l++)this.render(e),o+=2;-1838160998!==we.Y6v(o.toString(),o.toString().length,85503)&&this.render(e)}else"drag"==t.action&&(this[t.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(e))},t.Drawing.channel.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setPoint(2,this.d1,this.v2,e.chart))},t.Drawing.channel.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.v2=t.v2,this.adjust()},t.Drawing.channel.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2}},t.Drawing.pitchfork=function(){this.name="pitchfork",this.dragToDraw=!1,this.p2=null},t.inheritsFrom(t.Drawing.pitchfork,t.Drawing.channel),t.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"],t.Drawing.pitchfork.prototype.move=function(e,t,i){we.d7Kh(),this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[t,i]:this.p2=[t,i],this.render(e))},t.Drawing.pitchfork.prototype.intersected=function(e,i,a){var r,n;if(we.d7Kh(),!this.p0||!this.p1||!this.p2)return null;for(var s in r={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(r[s][0],r[s][1],a))return we.N3mK(0),this.highlighted=we.E3mK(s,"p"),{action:"drag",point:"p"+s};n=this.rays;for(var o=0;o<n.length;o++)if(this.lineIntersection(e,i,a,o?"ray":"segment",n[o][0],n[o][1],!0))return this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),p2:t.clone(this.p2),tick:e,value:i};return null},t.Drawing.pitchfork.prototype.render=function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C=we;if(t=this.stx.panels[this.panelName]){i=this.stx,(a=this.p2)||(a=this.p1),r=i.pixelFromTick(this.p0[0],t.chart),n=i.pixelFromTick(this.p1[0],t.chart),s=i.pixelFromTick(a[0],t.chart),o=i.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),l=i.pixelFromValueAdjusted(t,this.p1[0],this.p1[1]),h=i.pixelFromValueAdjusted(t,a[0],a[1]),c=this.lineWidth,u=this.getLineColor(),d={pattern:this.pattern,lineWidth:c},p=50,C.i3mK(40),m=C.e3mK(2,o,h,l),C.N3mK(41),(g=C.E3mK(n,"2",r,2147483647,s))<0&&(p*=-1),C.N3mK(10),m*=C.E3mK(p,g),C.N3mK(6),this.rays=[[[n,l],[s,h]],[[r,o],[C.E3mK(2,n,s),C.e3mK(2,l,h)]]],n==s&&l==h||(C.N3mK(1),this.rays.push([[n,l],[C.e3mK(p,n),C.e3mK(m,l)]],[[s,h],[C.E3mK(p,s),C.e3mK(m,h)]]));for(var S=0;S<this.rays.length;S++)"r","ay",f=this.rays[S],y=S?"ray":"segment",i.plotLine(f[0][0],f[1][0],f[0][1],f[1][1],u,y,e,t,d);this.highlighted&&(v="p0"==this.highlighted,x="p1"==this.highlighted,b="p2"==this.highlighted,this.littleCircle(e,r,o,v),this.littleCircle(e,n,l,x),this.littleCircle(e,s,h,b))}},t.Drawing.pitchfork.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setPoint(2,this.d2,this.v2,e.chart))},t.Drawing.pitchfork.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.d2=t.d2,this.tzo0=t.tzo0,this.tzo1=t.tzo1,we.k7Kh(),this.tzo2=t.tzo2,this.v0=t.v0,this.v1=t.v1,this.v2=t.v2,this.adjust()},t.Drawing.pitchfork.prototype.serialize=function(){return we.k7Kh(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2}},t.Drawing.gartley=function(){this.name="gartley",this.dragToDraw=!1,this.maxSegments=4,we.k7Kh(),this.shape=null,this.points=[]},t.inheritsFrom(t.Drawing.gartley,t.Drawing.continuous),t.Drawing.gartley.prototype.check=function(e,t){if(!t)return!0;if(e[0]>=t[0]||e[1]==t[1])return!1;if(1==this.segment)e[1]<t[1]?this.shape="M":this.shape="W";else if(2==this.segment){if("M"==this.shape&&e[1]<t[1])return!1;if("W"==this.shape&&e[1]>t[1])return!1;if((t[1]-e[1])/(this.points[0][1]-e[1])<.618)return!1;if((t[1]-e[1])/(this.points[0][1]-e[1])>=.786)return!1}else if(3==this.segment){if("M"==this.shape&&e[1]>t[1])return!1;if("W"==this.shape&&e[1]<t[1])return!1;if((t[1]-e[1])/(this.points[1][1]-e[1])<.618)return!1;if((t[1]-e[1])/(this.points[1][1]-e[1])>=.786)return!1}else if(4==this.segment){if("M"==this.shape&&(e[1]<t[1]||t[1]<this.points[0][1]))return!1;if("W"==this.shape&&(e[1]>t[1]||t[1]>this.points[0][1]))return!1;if((this.points[1][1]-t[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if((this.points[1][1]-t[1])/(this.points[1][1]-this.points[2][1])>=1.618)return!1}return!0},t.Drawing.gartley.prototype.click=function(e,t,i){var a;if(we.d7Kh(),a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,t,i,a.chart),this.pts=[],this.penDown=!0,this.segment=1,!1;if(this.accidentalClick(t,i))return this.penDown=!0,!1;if(this.check(this.p0,this.p1)){if(1==this.segment&&this.points.push(this.p0),this.points.push(this.p1),this.setPoint(1,t,i,a.chart),this.segment++,this.segment>this.maxSegments)return this.setPoint(0,this.points[0][0],this.points[0][1],a.chart),this.penDown=!1,!0;this.pts.push(this.d1,this.tzo1,this.v1),this.setPoint(0,t,i,a.chart)}return!1}},t.Drawing.gartley.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=we;if(i=this.stx.panels[this.panelName]){if(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),2==this.segment)this.drawDropZone(e,.618*this.points[0][1]+.382*this.p0[1],.786*this.points[0][1]+.214*this.p0[1],this.p0[0]);else if(3==this.segment){-698448920,x.i3mK(1),o=x.E3mK(0,"1054441398"),l=2;for(var b=1;-698448920!==x.s1v(b.toString(),b.toString().length,64441);b++)this.drawDropZone(e,(83296-this.points[3][0])%(38268-this.p0[4]),61841%this.points[0][4]/(13121/this.p0[2]),this.p0[3]),l+=2;x.s1v(l.toString(),l.toString().length,53312)!==o&&this.drawDropZone(e,(83296-this.points[3][0])%(38268-this.p0[4]),61841%this.points[0][4]/(13121/this.p0[2]),this.p0[3]),this.drawDropZone(e,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0])}else if(4==this.segment){x.i3mK(7);var C=x.e3mK(9,4,11);x.N3mK(0);var S=x.e3mK(1,0);x.N3mK(16);var w=x.e3mK(13,12);x.N3mK(42);var k=x.e3mK(7,0,85,12);h=1.618*this.points[C][S]-.618*this.points[w][k],h="M"==this.shape?Math.max(h,this.points[0][1]):Math.min(h,this.points[0][1]),this.drawDropZone(e,h,1.27*this.points[2][1]-.27*this.points[1][1],this.p0[0])}if(c=this.lineWidth,u=this.getLineColor(),d={pattern:this.pattern,lineWidth:c},(this.penDown||this.highlighted)&&"none"==this.pattern&&(d.pattern="dotted"),this.segment<=this.maxSegments&&this.stx.plotLine(a,r,n,s,u,this.name,e,i,d),p=this.fillColor,m=[],this.points.length){e.beginPath();for(var L=1;L<this.points.length&&L<=4;L++)g=this.stx.pixelFromTick(this.points[L-1][0],i.chart),f=this.stx.pixelFromTick(this.points[L][0],i.chart),y=this.stx.pixelFromValueAdjusted(i,this.points[L-1][0],this.points[L-1][1]),v=this.stx.pixelFromValueAdjusted(i,this.points[L][0],this.points[L][1]),1==L&&m.push(g,y),m.push(f,v),this.stx.plotLine(g,f,y,v,u,this.name,e,i,d);if(2!=this.points.length&&4!=this.points.length||m.push(r,s),this.points[2]&&m.push(this.stx.pixelFromTick(this.points[2][0],i.chart),this.stx.pixelFromValueAdjusted(i,this.points[2][0],this.points[2][1])),p&&"auto"!=p&&!t.isTransparent(p)){for(var A=0;A<m.length;A+=2)0===A&&e.moveTo(m[0],m[1]),e.lineTo(m[A],m[A+1]);e.fillStyle=p,e.globalAlpha=.2,e.closePath(),e.fill(),e.globalAlpha=1}}}},t.Drawing.gartley.prototype.lineIntersection=function(e,i,a,r){var n,s;if(n=this.points,s=this.stx.panels[this.panelName],we.d7Kh(),n.length!=this.maxSegments+1||!s)return!1;for(var o=0;o<n.length-1;o++)if(t.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,e,i,a,"segment",n[o],n[o+1]))return!0;return!1},t.Drawing.gartley.prototype.boxIntersection=function(e,t,i){var a,r;if(!this.p0||!this.p1)return!1;if(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))return!1;a=Math.min(this.p0[1],this.p1[1]),r=Math.max(this.p0[1],this.p1[1]);for(var n=0;n<this.points.length;n++)a=Math.min(a,this.points[n][1]),r=Math.max(r,this.points[n][1]);return!(i.y1>r||i.y0<a)&&(we.d7Kh(),!0)},t.Drawing.gartley.prototype.reposition=function(e,t,i,a){var r,n,s;if(t&&(r=this.stx.panels[this.panelName],n=t.tick-i,t.tick=i,s=t.value-a,t.value=a,we.d7Kh(),"move"==t.action)){this.pts=[];for(var o=0;o<this.points.length;o++)this.points[o][0]-=n,this.points[o][1]-=s,this.setPoint(1,this.points[o][0],this.points[o][1],r.chart),o&&o<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[o]=this.p1;this.setPoint(0,this.points[0][0],this.points[0][1],r.chart),this.render(e)}},t.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.gartley.prototype.adjust=function(){var e;we.k7Kh(),(e=this.stx.panels[this.panelName])&&(this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,e.chart),this.points.unshift(this.p0),this.setPoint(1,this.d1,this.v1,e.chart),this.points.push(this.p1))},t.Drawing.gartley.prototype.reconstructPoints=function(){var e,i;if(e=this.stx.panels[this.panelName]){this.points=[];for(var a=0;a<this.pts.length;a+=3)(i=t.strToDateTime(this.pts[a])).setMinutes(i.getMinutes()+Number(this.pts[a+1])-i.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(t.yyyymmddhhmmssmmm(i),e.chart),this.pts[a+2]])}},t.Drawing.gartley.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.pts=t.pts.split(","),this.adjust()},t.Drawing.gartley.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")}},t.Drawing.freeform=function(){we.d7Kh(),this.name="freeform",this.splineTension=.3,this.dragToDraw=!0},t.inheritsFrom(t.Drawing.freeform,t.Drawing.segment),t.Drawing.freeform.prototype.measure=function(){},t.Drawing.freeform.prototype.intersected=function(e,i,a){return"m","ov",we.d7Kh(),"e",a.x0>this.hiX||a.x1<this.lowX||a.y1>this.hiY||a.y0<this.lowY?null:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),tick:e,value:i})},t.Drawing.freeform.prototype.reposition=function(e,t,i,a){var r,n,s,o;if("mo","ve",t&&(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,"move"==t.action)){this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),2081777713,-996685222,o=2;for(var l=1;2081777713!==we.s1v(l.toString(),l.toString().length,77054);l++)this.adjust(),o+=2;-996685222!==we.Y6v(o.toString(),o.toString().length,20765)&&this.adjust(),this.render(e)}},t.Drawing.freeform.prototype.click=function(e,i,a){var r,n;if(r=this.stx.panels[this.panelName])return we.d7Kh(),!1===this.penDown?("point","er",this.copyConfig(),this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(i,r.chart))),this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(r,i,a))),n=this.stx.dateFromTick(i,r.chart,!0),this.d0=t.yyyymmddhhmmssmmm(n),this.tzo0=n.getTimezoneOffset(),this.v0=a,this.p0=[t.ChartEngine.crosshairX-this.startX,t.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=this.stx.layout.candleWidth,this.multiplier=r.yAxis.multiplier,this.interval=this.stx.layout.interval,this.periodicity=this.stx.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,document.body.style.cursor="pointer",this.penDown=!0,!1):(this.penDown=!1,this.splineTension=this.tempSplineTension,document.body.style.cursor="auto",!0)},t.Drawing.freeform.prototype.move=function(e,i,a){var r,n;if(we.k7Kh(),this.penDown)return r=this.stx.panels[this.panelName],n=this.stx.dateFromTick(i,r.chart,!0),this.d1=t.yyyymmddhhmmssmmm(n),this.tzo1=n.getTimezoneOffset(),this.v1=a,this.p1=[t.ChartEngine.crosshairX-this.startX,r.yAxis.flipped?this.startY-t.ChartEngine.crosshairY:t.ChartEngine.crosshairY-this.startY],this.pNodes.length>2&&(this.p1[0]==this.pNodes[this.pNodes.length-2][0]&&this.p1[0]==this.pNodes[this.pNodes.length-1][0]?(this.pNodes.length--,this.nodes.length-=2):this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1]&&(this.pNodes.length--,we.N3mK(1),this.nodes.length-=we.e3mK(0,"2"))),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(e),!1},t.Drawing.freeform.prototype.intervalRatio=function(e,i,a,r,n,s){var o,l=we;if(o=0,e==i)l.N3mK(26),o=l.E3mK("1",0);else if(isNaN(e)||isNaN(i))if(isNaN(e)){if("d","a","y","m","o","n","th","month"==e)"d","a","y","week"==i?o=h(n,s):"day"==i?o=30:isNaN(i)||(o=30*u(n,s)/i);else if("week"==e)"month"==i&&(o=1/h(n,s)),"day"==i?o=c(n,s):isNaN(i)||(o=c(n,s)*u(n,s)/i);else if("day"==e){if("mon","t","h","w","e","e","k","week"==i)l.N3mK(43),o=l.e3mK(20,0,18,2,721)/c(n,s);else if("month"==i){l.i3mK(44),o=l.e3mK(19,5,62,18,2)/30}else isNaN(i)||(o=u(n,s)/i)}}else isNaN(e)||("month"==i?o=e/(30*u(n,s)):"week"==i?o=e/(c(n,s)*u(n,s)):"day"==i&&(o=e/u(n,s)));else l.N3mK(10),o=l.E3mK(e,i);function h(e,t){return l.d7Kh(),5}function c(e,t){return l.d7Kh(),5}function u(e,i){return l.d7Kh(),t.Market.Symbology.isForexSymbol(i)?1440:390}return l.i3mK(10),o*=l.e3mK(a,r)},t.Drawing.freeform.prototype.render=function(e){var t,i,a,r,n,s,o,l,h,c,u,d;if((t=this.stx.panels[this.panelName])&&0!==(i=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,t.chart.symbol))){a=this.stx.layout.candleWidth/this.candleWidth,r=t.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,t.chart),n=this.stx.pixelFromTick(this.p0[0],t.chart),s=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),o=[],l=this.lineWidth,h=this.getLineColor(),c={pattern:this.pattern,lineWidth:l};for(var p=0;p<this.pNodes.length;p++){u=i*a*this.pNodes[p][0]+n,we.N3mK(45);var m=we.e3mK(5,3,2,0);d=r*this.pNodes[p][m],t.yAxis.flipped?(we.N3mK(1),d=we.e3mK(d,s)):d+=s,o.push(u,d)}o.length&&(this.splineTension<0?this.stx.connectTheDots(o,h,this.name,e,t,c):this.stx.plotSpline(o,this.splineTension,h,this.name,e,!0,c))}},t.Drawing.freeform.prototype.adjust=function(){var e,t,i,a,r,n,s,o;if(e=this.stx.panels[this.panelName]){t=[this.nodes[0],this.nodes[1]],this.pNodes=[t],this.lowX=this.nodes[0],this.hiX=this.nodes[0],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var l=2;l<this.nodes.length;l+=2)we.i3mK(0),i=[this.nodes[l],this.nodes[we.e3mK(1,l)]],this.pNodes.push(i),this.lowX=Math.min(this.lowX,i[0]),this.hiX=Math.max(this.hiX,i[0]),this.lowY=Math.max(this.lowY,i[1]),this.hiY=Math.min(this.hiY,i[1]);0!==(a=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,e.chart.symbol))&&(r=this.stx.layout.candleWidth/this.candleWidth,n=e.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,e.chart),s=this.stx.pixelFromTick(this.p0[0],e.chart),o=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),this.lowX=this.stx.tickFromPixel(Math.floor(a*r*this.lowX)+s,e.chart),this.hiX=this.stx.tickFromPixel(Math.ceil(a*r*this.hiX)+s,e.chart),e.yAxis.flipped?(this.lowY=this.stx.valueFromPixel(o-Math.floor(n*this.lowY),e),this.hiY=this.stx.valueFromPixel(o-Math.ceil(n*this.hiY),e)):(this.lowY=this.stx.valueFromPixel(Math.floor(n*this.lowY)+o,e),this.hiY=this.stx.valueFromPixel(Math.ceil(n*this.hiY)+o,e)))}},t.Drawing.freeform.prototype.serialize=function(){return we.d7Kh(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes}},t.Drawing.freeform.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.candleWidth=t.cw,this.multiplier=t.mlt,this.d0=t.d0,this.tzo0=t.tzo0,this.v0=t.v0,this.interval=t.inter,this.periodicity=t.pd,we.d7Kh(),this.nodes=t.nodes,this.adjust()},t.Drawing.callout=function(){this.name="callout",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text="",this.ta=null,this.fontSize=0,this.font={},this.stemEntry="",this.defaultWidth=50,we.i3mK(22),this.defaultHeight=we.E3mK("10",2)},t.inheritsFrom(t.Drawing.callout,t.Drawing.annotation),t.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"],t.Drawing.callout.prototype.copyConfig=function(e){t.Drawing.copyConfig(this,e),this.borderColor=this.color},t.Drawing.callout.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),this.p0=[t,i],this.render(e))},t.Drawing.callout.prototype.onChange=function(e){var i,a;this.stx.panels[this.panelName]&&(i=e.target,this.w=i.clientWidth,we.k7Kh(),this.h=i.clientHeight,a=this.context||this.stx.chart.tempCanvas.context,t.clearCanvas(a.canvas,this.stx),this.render(a),this.edit(a))},t.Drawing.callout.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C=we;if(this.context=e,(i=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),!isNaN(r))){e.font=this.fontString,e.textBaseline="top",n=a,s=r,C.i3mK(46);var S=C.E3mK(1,0,9,1,7);o=this.w/S,C.i3mK(0);var w=C.E3mK(2,0);if(l=this.h/w,this.penDown&&(o=this.defaultWidth,(l=this.defaultHeight)||(l=this.fontSize)),(h=this.lineWidth)||(h=1.1),("auto"==(c=this.color)||t.isTransparent(c))&&(c=this.stx.defaultColor),("auto"==(u=this.borderColor)||t.isTransparent(u))&&(u=this.stx.defaultColor),this.highlighted&&(u=this.stx.getCanvasColor("stx_highlight_vector")),f=Math.min(Math.min(o,l)/2,8),this.stem){if(this.stem.t){1880448580,-1685676834,y=2;for(var k=1;1880448580!==C.Y6v(k.toString(),k.toString().length,17221);k++)d=this.stx.pixelFromTick(this.stem.t),m=this.stx.pixelFromValueAdjusted(i,this.stem.t,this.stem.v),y+=2;-1685676834!==C.Y6v(y.toString(),y.toString().length,86718)&&(d=this.stx.pixelFromTick(this.stem.t),m=this.stx.pixelFromValueAdjusted(i,this.stem.t,this.stem.v))}else this.stem.x&&(d=n,m=s,n+=this.stem.x,s+=this.stem.y);v="",d>=n+o?(C.i3mK(0),p=C.e3mK(o,n),v="r"):d>n-o&&d<n+o?(p=n,v="c"):d<=n-o&&(C.i3mK(1),p=C.E3mK(o,n),v="l"),m>=s+l?(C.N3mK(0),g=C.e3mK(l,s),v+="b"):m>s-l&&m<s+l?(g=s,v+="m"):m<=s-l&&(C.N3mK(1),g=C.E3mK(l,s),v+="t"),this.stemEntry=v,"cm"!=v&&(d=Math.round(d),p=Math.round(p),m=Math.round(m),g=Math.round(g))}if(this.highlighted?this.stx.canvasColor("stx_annotation_highlight_bg",e):this.fillColor?(e.fillStyle=this.fillColor,C.N3mK(5),e.globalAlpha=C.E3mK(1,"0.4")):this.stem&&(e.fillStyle=this.stx.containerColor),e.strokeStyle=u,e.setLineDash){-20575527,-1747918254,x=2;for(var L=1;-20575527!==C.s1v(L.toString(),L.toString().length,74785);L++)e.setLineDash(t.borderPatternToArray(h,this.pattern)),e.lineDashOffset=0,x+=2;-1747918254!==C.Y6v(x.toString(),x.toString().length,36618)&&(e.setLineDash(t.borderPatternToArray(h,this.pattern)),C.N3mK(5),e.lineDashOffset=C.E3mK(1,"6"))}if(u&&("c","b","r","b",e.beginPath(),e.lineWidth=h,C.N3mK(7),e.moveTo(C.E3mK(n,o,f),C.E3mK(l,s,C.N3mK(1))),"rt"!=this.stemEntry?(C.i3mK(0),e.quadraticCurveTo(C.e3mK(o,n),C.E3mK(l,s,C.i3mK(1)),C.E3mK(o,n,C.N3mK(0)),C.e3mK(s,l,f,C.N3mK(2)))):(e.lineTo(d,m),C.i3mK(0),e.lineTo(C.E3mK(o,n),C.e3mK(s,l,f,C.N3mK(2)))),C.N3mK(0),e.lineTo(C.e3mK(o,n),C.E3mK(s,2,f,C.i3mK(47))),"rm"==this.stemEntry&&e.lineTo(d,m),C.i3mK(0),e.lineTo(C.e3mK(o,n),C.E3mK(f,s,"2",C.i3mK(48))),C.i3mK(0),e.lineTo(C.E3mK(o,n),C.E3mK(s,l,f,C.i3mK(7))),"rb"!=this.stemEntry?(C.i3mK(0),e.quadraticCurveTo(C.E3mK(o,n),C.e3mK(l,s,C.N3mK(0)),C.E3mK(n,o,f,C.i3mK(7)),C.E3mK(l,s,C.N3mK(0)))):(e.lineTo(d,m),C.i3mK(7),e.lineTo(C.e3mK(n,o,f),C.E3mK(l,s,C.N3mK(0)))),C.N3mK(49),e.lineTo(C.e3mK(f,2,n),C.E3mK(l,s,C.i3mK(0))),"cb"==this.stemEntry&&e.lineTo(d,m),C.i3mK(50),e.lineTo(C.E3mK(n,f,"2",2147483647),C.e3mK(l,s,C.i3mK(0))),C.i3mK(2),e.lineTo(C.e3mK(n,o,f),C.E3mK(l,s,C.N3mK(0))),"lb"!=this.stemEntry?(C.i3mK(1),e.quadraticCurveTo(C.e3mK(o,n),C.e3mK(l,s,C.N3mK(0)),C.E3mK(o,n,C.i3mK(1)),C.E3mK(s,l,f,C.i3mK(7)))):(e.lineTo(d,m),C.N3mK(1),e.lineTo(C.e3mK(o,n),C.E3mK(s,l,f,C.N3mK(7)))),C.N3mK(1),e.lineTo(C.e3mK(o,n),C.e3mK(f,s,"2",C.i3mK(48))),"lm"==this.stemEntry&&e.lineTo(d,m),C.N3mK(1),e.lineTo(C.E3mK(o,n),C.e3mK(s,2,f,C.N3mK(47))),C.N3mK(1),e.lineTo(C.e3mK(o,n),C.E3mK(s,l,f,C.i3mK(2))),"lt"!=this.stemEntry?(C.i3mK(1),e.quadraticCurveTo(C.e3mK(o,n),C.E3mK(l,s,C.N3mK(1)),C.e3mK(n,o,f,C.i3mK(2)),C.e3mK(l,s,C.i3mK(1)))):(e.lineTo(d,m),C.i3mK(2),e.lineTo(C.e3mK(n,o,f),C.E3mK(l,s,C.N3mK(1)))),C.i3mK(47),e.lineTo(C.E3mK(n,2,f),C.E3mK(l,s,C.i3mK(1))),"ct"==this.stemEntry&&e.lineTo(d,m),C.i3mK(49),e.lineTo(C.e3mK(f,2,n),C.E3mK(l,s,C.i3mK(1))),C.N3mK(7),e.lineTo(C.e3mK(n,o,f),C.E3mK(l,s,C.i3mK(1))),e.fill(),e.globalAlpha=1,"none"!=this.pattern&&e.stroke()),this.highlighted?this.stx.canvasColor("stx_annotation_highlight",e):e.fillStyle=c,s+=this.padding,!this.ta)for(var A=0;A<this.arr.length;A++)e.fillText(this.arr[A],n-o+this.padding,s-l),s+=this.fontSize;e.textBaseline="alphabetic",this.highlighted&&!this.noHandles&&("p","0",b="p0"==this.highlighted,this.littleCircle(e,d,m,b))}},t.Drawing.callout.prototype.click=function(e,t,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),we.N3mK(22),this.setPoint(we.E3mK("0",0),t,i,a.chart),this.penDown?(this.adjust(),this.edit(e),this.penDown=!1,!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)},t.Drawing.callout.prototype.reposition=function(e,t,i,a){var r,n,s,o;if(t){if(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,t.stem)"m","ove","drag"==t.action?this.stem={d:this.stx.dateFromTick(i,r.chart,!0),v:a}:"move"==t.action&&(this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(t.stem.d,r.chart)-n),v:t.stem.v-s}),this.adjust();else{1429573506,47460545,o=2;for(var l=1;1429573506!==we.s1v(l.toString(),l.toString().length,56665);l++)this.setPoint(4,t.p0[1]*n,t.p0[2]*s,r.chart),o+=2;47460545!==we.Y6v(o.toString(),o.toString().length,17397)&&this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart)}this.render(e)}},t.Drawing.callout.prototype.lineIntersection=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y=we;if(y.k7Kh(),n=this.stx.panels[this.panelName],s=this.stem,o=this.p0,l=this.stx,!o||!s||!n)return!1;if(h=s.t||this.stx.tickFromDate(s.d,n.chart),c={x0:o[0],x1:h,y0:o[1],y1:s.v},d=(u=t.convertBoxToPixels(l,this.panelName,c)).x0,p=u.y0,m=u.x1,g=u.y1,"string"==typeof this.stemEntry){if(this.stemEntry.indexOf("l")>-1){y.N3mK(0);var v=y.e3mK(2,0);d-=this.w/v}else this.stemEntry.indexOf("r")>-1&&(d+=this.w/2);if(this.stemEntry.indexOf("t")>-1){y.N3mK(42);var x=y.e3mK(4,0,78,19);p-=this.h/x}else if(this.stemEntry.indexOf("b")>-1){y.N3mK(51);var b=y.E3mK(1,14,17,20,21);p+=this.h/b}}return f=t.convertBoxToPixels(l,this.panelName,a),t.boxIntersects(f.x0,f.y0,f.x1,f.y1,d,p,m,g,r)},t.Drawing.callout.prototype.intersected=function(e,i,a){var r,n,s,o,l,h,c,u=we;if(r=this.stx.panels[this.panelName],!this.p0)return null;if(this.pointIntersection(this.stem.t,this.stem.v,a))return this.highlighted="p0",{action:"drag",stem:!0};n=this.stx.pixelFromTick(this.p0[0],r.chart)-this.w/2,u.i3mK(0);var d=u.e3mK(1,0);u.i3mK(52);var p=u.e3mK(20,0,10);return s=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[d])-this.h/p,u.k7Kh(),o=n+this.w,l=s+this.h,this.stem&&this.stem.x&&(n+=this.stem.x,o+=this.stem.x,s+=this.stem.y,l+=this.stem.y),h=this.stx.pixelFromTick(e,r.chart),c=this.stx.pixelFromValueAdjusted(r,e,i),h+a.r>=n&&h-a.r<=o&&c+a.r>=s&&c-a.r<=l?(this.highlighted=!0,{p0:t.clone(this.p0),tick:e,value:i}):this.lineIntersection(e,i,a,"segment")?(this.highlighted=!0,{action:"move",stem:t.clone(this.stem),p0:t.clone(this.p0),tick:e,value:i}):null},t.Drawing.fibonacci=function(){this.name="fibonacci",this.configurator="fibonacci"},t.inheritsFrom(t.Drawing.fibonacci,t.Drawing.BaseTwoPoint),t.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"},t.Drawing.fibonacci.prototype.recommendedLevels=[-.618,-.382,0,.382,.5,.618,1,1.382,1.618],t.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"],t.Drawing.fibonacci.prototype.initializeSettings=function(e){var t,i,a;t=2;for(var r=1;2133765463!==we.s1v(r.toString(),r.toString().length,15132);r++)i=this.recommendedLevels,we.N3mK(53),t+=we.e3mK("2",111772160);if(-164953594!==we.s1v(t.toString(),t.toString().length,94513)&&(i=this.recommendedLevels),i&&!e.currentVectorParameters.fibonacci.fibsAlreadySet){a=e.currentVectorParameters.fibonacci.fibs;for(var n=0;n<a.length;n++){delete a[n].display;for(var s=0;s<i.length;s++)a[n].level==i[s]&&(a[n].display=!0)}}},t.Drawing.fibonacci.prototype.setOuter=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,m;if(e=this.stx,we.d7Kh(),i=e.panels[this.panelName]){a=Math.max(this.p0[1],this.p1[1]),r=Math.min(this.p0[1],this.p1[1]),we.N3mK(1),n=we.E3mK(r,a),this.outer={p0:t.clone(this.p0),p1:t.clone(this.p1)},s=e.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),o=e.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),l=e.pixelFromTick(this.p0[0],i.chart),h=e.pixelFromTick(this.p1[0],i.chart),c=0,u=1;for(var g=0;g<this.parameters.fibs.length;g++)(d=this.parameters.fibs[g]).level>=c&&d.level<=u||!d.display||(p=e.pixelFromValueAdjusted(i,this.p0[0],o<s?a-n*d.level:r+n*d.level),m=t.xIntersection({x0:l,x1:h,y0:s,y1:o},p),d.level<c?(c=d.level,this.outer.p1[1]=e.valueFromPixel(p,i),this.outer.p1[0]=e.tickFromPixel(m,i.chart)):d.level>u&&(u=d.level,this.outer.p0[1]=e.valueFromPixel(p,i),this.outer.p0[0]=e.tickFromPixel(m,i.chart)))}},t.Drawing.fibonacci.prototype.click=function(e,i,a){var r;if(r=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(i,a)?this.dragToDraw:(this.setPoint(1,i,a,r.chart),we.d7Kh(),this.setOuter(),this.parameters=t.clone(this.parameters),this.penDown=!1,!0):(this.setPoint(0,i,a,r.chart),this.penDown=!0,!1)},t.Drawing.fibonacci.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O=we;if("se","g","ment","a","uto",(i=this.stx.panels[this.panelName])&&(a=i.yAxis,this.p1)){r=Math.max(this.p0[1],this.p1[1]),n=Math.min(this.p0[1],this.p1[1]),s=a.flipped?n-r:r-n,o=this.stx.pixelFromTick(this.p0[0],i.chart),l=this.stx.pixelFromTick(this.p1[0],i.chart),h=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),c=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),u=Math.min(c,h),d=Math.max(c,h),O.i3mK(1),p=O.E3mK(u,d),O.i3mK(54),m=O.E3mK(h,l,0,c,o),g={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=g),f=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",this.stx.canvasFont("stx_yaxis",e),O.N3mK(55);var X=O.E3mK(9,7,1,7);y=e.measureText("161.8%").width+X,v=Number.MAX_VALUE,x=Number.MAX_VALUE,O.N3mK(56);var z=O.E3mK(94,5,19);b=Number.MAX_VALUE*z,O.i3mK(57);var H=O.e3mK(29,13,1,17);C=Number.MAX_VALUE*H,("auto"==(S=this.color)||t.isTransparent(S))&&(S=this.stx.defaultColor),this.rays=[];for(var R=0;R<this.parameters.fibs.length;R++)if("a","u","t","o","a","u","t","o","aut","o",e.textAlign="left",e.fillStyle=S,(w=this.parameters.fibs[R]).display){if(k=this.stx.pixelFromValueAdjusted(i,this.p0[0],c<h?r-s*w.level:n+s*w.level),L=t.xIntersection({x0:o,x1:l,y0:h,y1:c},k),A=this.parameters.extendLeft?0:L,D=i.left+i.width,this.parameters.printLevels){O.N3mK(58);var W=O.e3mK(987,993,141);O.i3mK(7);var Q=O.E3mK(40,20,50);O.i3mK(59);var V=O.e3mK(11,2,16,33147,80960);O.i3mK(1);var B=O.E3mK(25740,34320);O.N3mK(60);O.e3mK(1195355,4,37485,8);O.i3mK(61);var U=O.E3mK(9,2871,2880,5779,20);T=Math.round(w.level*W)/Q+(4910!==V?B>=136.6?"%":U:"e"),D-=y,this.parameters.printValues&&(e.fillStyle=S,this.stx.canvasFont("stx_yaxis",e)),D<A&&(e.textAlign="right"),e.fillText(T,D,k),D<A?D+=5:D-=5}this.parameters.printValues&&L<i.width&&(M=this.stx.transformedPriceFromPixel(k,i),M=a.priceFormatter?a.priceFormatter(this.stx,i,M):this.stx.formatYAxisPrice(M,i),e==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,M,k,S,null,e),e==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(F=w.color)||t.isTransparent(F))&&(F=this.color),("auto"==F||t.isTransparent(F))&&(F=this.stx.defaultColor),("auto"==(P=w.color)||t.isTransparent(P))&&(P=this.fillColor),("auto"==P||t.isTransparent(P))&&(P=this.stx.defaultColor),e.fillStyle=P,_=t.clone(w.parameters),this.highlighted&&(_.opacity=1),this.stx.plotLine(A,D,k,k,this.highlighted?f:F,"segment",e,i,_),this.rays.push([[A,k],[D,k]]),e.globalAlpha=.05,e.beginPath(),e.moveTo(D,k),e.lineTo(A,k),A?e.lineTo(l,c):e.lineTo(A,c),e.lineTo(D,c),void 0!==P&&e.fill(),e.globalAlpha=1,k<x&&(v=L,x=k),k>C&&(b=L,C=k)}for(var j=0;j<=1;j++)E=m?d-p*j:u+p*j,(E=Math.round(E))<x&&(v=t.xIntersection({x0:o,x1:l,y0:h,y1:c},E),x=E),E>C&&(b=t.xIntersection({x0:o,x1:l,y0:h,y1:c},E),C=E);K=t.clone(this.parameters.trend.parameters),this.highlighted&&(K.opacity=1),this.stx.plotLine(v,b,x,C,f,"segment",e,i,K),this.highlighted&&("p","0",I="p0"==this.highlighted,N="p1"==this.highlighted,this.littleCircle(e,o,h,I),this.littleCircle(e,l,c,N))}},t.Drawing.fibonacci.prototype.reposition=function(e,i,a,r){i&&(t.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),we.k7Kh(),this.adjust())},t.Drawing.fibonacci.prototype.intersected=function(e,i,a){var r,n,s,o,l,h;if(we.k7Kh(),r=this.p0,n=this.p1,!r||!n)return null;for(var c in s={0:r,1:n})if(this.pointIntersection(s[c][0],s[c][1],a))return"d","r","a","g",we.N3mK(0),this.highlighted=we.e3mK(c,"p"),{action:"drag",point:"p"+c};if(o=this.outer,l=this.rays,!(h=o&&this.lineIntersection(e,i,a,"segment",o.p0,o.p1)))for(var u=0;u<l.length;u++)if(this.lineIntersection(e,i,a,"ray",l[u][0],l[u][1],!0)){h=!0;break}return h?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(n),tick:e,value:i}):null},t.Drawing.fibonacci.prototype.reconstruct=function(e,i){i=t.replaceFields(i,t.reverseObject(t.Drawing.fibonacci.mapping)),this.stx=e,this.parameters=i.parameters,this.parameters||(this.parameters=t.clone(this.stx.currentVectorParameters.fibonacci)),this.color=i.col,this.fillColor=i.fc,this.panelName=i.pnl,this.d0=i.d0,this.d1=i.d1,this.d2=i.d2,this.tzo0=i.tzo0,this.tzo1=i.tzo1,this.tzo2=i.tzo2,this.v0=i.v0,this.v1=i.v1,we.d7Kh(),this.v2=i.v2,this.adjust()},t.Drawing.fibonacci.prototype.adjust=function(){var e;e=this.stx.panels[this.panelName],we.k7Kh(),e&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),this.setOuter())},t.Drawing.fibonacci.prototype.serialize=function(){var e;return e={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2},t.replaceFields(e,t.Drawing.fibonacci.mapping)},t.Drawing.retracement=function(){we.d7Kh(),this.name="retracement"},t.inheritsFrom(t.Drawing.retracement,t.Drawing.fibonacci),t.Drawing.fibprojection=function(){var e;we.d7Kh(),this.name="fibprojection",this.dragToDraw=!1,e=2;for(var t=1;1237852862!==we.s1v(t.toString(),t.toString().length,50244);t++)this.p2=1,e+=2;1513606498!==we.Y6v(e.toString(),e.toString().length,55748)&&(this.p2=null)},t.inheritsFrom(t.Drawing.fibprojection,t.Drawing.fibonacci),we.N3mK(4),t.Drawing.fibprojection.prototype.recommendedLevels=[0,.618,we.e3mK("1",2147483647),1.272,1.618,2.618,4.236],t.Drawing.fibprojection.prototype.click=function(e,i,a){var r;if(r=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(i,a)?(this.stx.undo(),!0):null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.parameters=t.clone(this.parameters),!0):(this.setPoint(1,i,a,r.chart),this.p2=[this.p1[0],this.p1[1]],!1):(this.setPoint(0,i,a,r.chart),this.penDown=!0,!1)},t.Drawing.fibprojection.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F=we;if("a","uto","mi","dd","l","e","s","ol","id",(i=this.stx.panels[this.panelName])&&(a=i.yAxis,this.p1)){F.i3mK(0);var P=F.E3mK(1,0);F.N3mK(62);var _=F.E3mK(45,15,12,17);r=this.p1[P]-this.p0[_],n=this.stx.pixelFromTick(this.p0[0],i.chart),s=this.stx.pixelFromTick(this.p1[0],i.chart),o=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),h=null,c=null,this.p2&&(h=this.stx.pixelFromTick(this.p2[0],i.chart),c=this.stx.pixelFromValueAdjusted(i,this.p2[0],this.p2[1])),u={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=u),-1591282772,-1057598920,d=2;for(var E=1;-1591282772!==F.Y6v(E.toString(),E.toString().length,75200);E++)p=this.getLineColor(this.parameters.trend.color),d+=2;-1057598920!==F.Y6v(d.toString(),d.toString().length,79090)&&(p=this.getLineColor(this.parameters.trend.color)),e.textBaseline="middle",this.stx.canvasFont("stx_yaxis",e),F.N3mK(36);var K=F.E3mK(11,2,3,1);if(m=e.measureText("161.8%").width+K,("auto"==(g=this.color)||t.isTransparent(g))&&(g=this.stx.defaultColor),this.p2){this.rays=[];for(var I=0;I<this.parameters.fibs.length;I++)if("a","uto",e.textAlign="left",e.fillStyle=g,(f=this.parameters.fibs[I]).display){if(y=this.stx.pixelFromValueAdjusted(i,this.p2[0],this.p2[1]+r*f.level),v=t.xIntersection({x0:n,x1:s,y0:o,y1:l},y),x=this.parameters.extendLeft?0:n,b=i.left+i.width,this.parameters.printLevels){F.N3mK(63);var N=F.e3mK(26,3,1,1,20);F.i3mK(64);var O=F.E3mK(15,9681,6,135221,14);F.N3mK(0);F.E3mK(1861,109);F.i3mK(60);var X=F.e3mK(25831,7,574,8);F.i3mK(65);F.E3mK(2597,15,2,1);F.i3mK(27);var z=F.E3mK(3,5,1,15,25830);F.i3mK(58);var H=F.e3mK(56353,5122,56353);C=Math.round(1e3*f.level)/N+(O!==X?"%":491.02>=z?H:"p"),b-=m,this.parameters.printValues&&("st","x_yaxis",e.fillStyle=g,this.stx.canvasFont("stx_yaxis",e)),b<x&&(e.textAlign="right"),e.fillText(C,b,y),b<x?b+=5:(F.i3mK(26),b-=F.e3mK("5",0))}this.parameters.printValues&&v<i.width&&(S=this.stx.transformedPriceFromPixel(y,i),S=a.priceFormatter?a.priceFormatter(this.stx,i,S):this.stx.formatYAxisPrice(S,i),e==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,S,y,g,null,e),e==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(w=f.color)||t.isTransparent(w))&&(w=this.color),("auto"==w||t.isTransparent(w))&&(w=this.stx.defaultColor),("auto"==(k=f.color)||t.isTransparent(k))&&(k=this.fillColor),("auto"==k||t.isTransparent(k))&&(k=this.stx.defaultColor),e.fillStyle=k,L=t.clone(f.parameters),this.highlighted&&(L.opacity=1),this.stx.plotLine(x,b,y,y,this.highlighted?p:w,"segment",e,i,L),this.rays.push([[x,y],[b,y]]),e.globalAlpha=.05,e.beginPath(),e.moveTo(b,y),e.lineTo(x,y),x?e.lineTo(n,c):e.lineTo(x,c),e.lineTo(b,c),void 0!==k&&e.fill(),e.globalAlpha=1}}A=t.clone(this.parameters.trend.parameters),this.highlighted&&(A.opacity=1),this.stx.plotLine(n,s,o,l,p,"segment",e,i,A),this.p2&&this.stx.plotLine(s,h,l,c,p,"segment",e,i,A),this.highlighted&&("p","2",D="p0"==this.highlighted,T="p1"==this.highlighted,M="p2"==this.highlighted,this.littleCircle(e,n,o,D),this.littleCircle(e,s,l,T),this.littleCircle(e,h,c,M))}},t.Drawing.fibprojection.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[t,i]:this.p2=[t,i],this.render(e))},t.Drawing.fibprojection.prototype.reposition=function(e,t,i,a){var r,n,s;t&&(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,"move"==t.action?(this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),we.i3mK(5),this.setPoint(we.e3mK(1,"1"),t.p1[0]-n,t.p1[1]-s,r.chart),this.setPoint(2,t.p2[0]-n,t.p2[1]-s,r.chart),this.render(e)):"drag"==t.action&&(this[t.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(e)))},t.Drawing.fibprojection.prototype.intersected=function(e,i,a){var r,n,s,o,l,h;if("s","egment",r=this.p0,we.k7Kh(),n=this.p1,s=this.p2,!r||!n||!s)return null;for(var c in o={0:r,1:n,2:s})if(this.pointIntersection(o[c][0],o[c][1],a))return"d","ra","g",we.i3mK(0),this.highlighted=we.E3mK(c,"p"),{action:"drag",point:"p"+c};if(l=this.rays,!(h=this.lineIntersection(e,i,a,"segment",r,n)||this.lineIntersection(e,i,a,"segment",n,s)))for(var u=0;u<l.length;u++)if("r","a","y",this.lineIntersection(e,i,a,"ray",l[u][0],l[u][1],!0)){h=!0;break}return h?("m","o","v","e",this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(n),p2:t.clone(s),tick:e,value:i}):null},t.Drawing.fibprojection.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),we.N3mK(5),this.setPoint(we.e3mK(1,"1"),this.d1,this.v1,e.chart),this.setPoint(2,this.d2,this.v2,e.chart))},t.Drawing.fibarc=function(){this.name="fibarc"},t.inheritsFrom(t.Drawing.fibarc,t.Drawing.fibonacci),t.Drawing.fibarc.prototype.recommendedLevels=[.382,.5,.618,1],t.Drawing.fibarc.prototype.setOuter=function(){var e,i,a,r,n,s,o;(e=this.stx.panels[this.panelName])&&(this.outer={p0:t.clone(this.p0),p1:t.clone(this.p1)},i=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),a=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),r=this.stx.pixelFromTick(this.p0[0],e.chart),n=this.stx.pixelFromTick(this.p1[0],e.chart),we.N3mK(66),s=we.e3mK(i,a,"2",1739427072),o=t.xIntersection({x0:r,x1:n,y0:i,y1:a},s),this.outer.p0[1]=this.stx.valueFromPixel(s,e),we.N3mK(22),this.outer.p0[we.e3mK("0",0)]=this.stx.tickFromPixel(o,e.chart))},t.Drawing.fibarc.prototype.intersected=function(e,i,a){var r,n,s,o,l,h,c,u,d,p;if("m","o","v","e","se","g","me","nt",r=this.stx.panels[this.panelName]){if(n=this.p0,s=this.p1,o=this.outer,!n||!s)return null;for(var m in l={0:n,1:s})if(this.pointIntersection(l[m][0],l[m][1],a))return we.N3mK(0),this.highlighted=we.e3mK(m,"p"),{action:"drag",point:"p"+m};return this.lineIntersection(e,i,a,"segment",o.p0,o.p1)?(this.highlighted=!0,{action:"move",p0:t.clone(n),p1:t.clone(s),tick:e,value:i}):(h={x0:n[0],x1:s[0],y0:n[1],y1:s[1]},c=t.convertBoxToPixels(this.stx,this.panelName,h),u={x:Math.abs(Math.sqrt(2)*(c.x1-c.x0)),y:Math.abs(Math.sqrt(2)*(c.y1-c.y0))},d=this.stx.pixelFromTick(e,r.chart),p=this.stx.pixelFromValueAdjusted(r,e,i),d+a.r<c.x1-u.x||d-a.r>c.x1+u.x||p+a.r<c.y1-u.y||p-a.r>c.y1+u.y||c.y0<c.y1&&p-a.r>c.y1||c.y0>c.y1&&p+a.r<c.y1?null:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}))}},t.Drawing.fibarc.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k=we;if("segme","nt",(i=this.stx.panels[this.panelName])&&(a=i.yAxis,this.p1)){r=this.stx.pixelFromTick(this.p0[0],i.chart),n=this.stx.pixelFromTick(this.p1[0],i.chart),s=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),k.N3mK(67),l=k.E3mK(o,s),k.N3mK(68),h=Math.abs(k.e3mK(s,o,n,r)),k.d7Kh(),c=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",this.stx.canvasFont("stx_yaxis",e),("auto"==(u=this.color)||t.isTransparent(u))&&(u=this.stx.defaultColor);for(var L=0;L<this.parameters.fibs.length;L++)if("a","uto","au","to",e.fillStyle=u,!((d=this.parameters.fibs[L]).level<0)&&d.display){k.i3mK(56);var A=k.e3mK(14,13,1);k.i3mK(69);var D=k.e3mK(16,1,5,15,7);p=Math.abs(this.p1[1]-this.p0[A])*Math.sqrt(D)*d.level,k.N3mK(70);var T=k.e3mK(33,7,2,20);k.i3mK(56);var M=k.E3mK(76,15,5);k.i3mK(1);var F=k.e3mK(1,0);if(m=this.p1[T]+p*(l?-1:M)*(a.flipped?F:1),g=this.stx.pixelFromValueAdjusted(i,this.p0[0],m),f=t.xIntersection({x0:r,x1:n,y0:s,y1:o},g),this.parameters.printLevels){"cen","t","er",e.textAlign="center",k.N3mK(31);var P=k.E3mK(1018,15,39,6);k.N3mK(0);var _=k.E3mK(9,1);k.i3mK(1);var E=k.E3mK(166402,175160);k.N3mK(1);var K=k.e3mK(8,5678);k.N3mK(71);var I=k.e3mK(2,17040,19,31912);k.N3mK(7);k.E3mK(135e3,18,126018);y=Math.round(d.level*P)/_+(E==K?508.23>I&&"b":"%"),this.parameters.printValues&&(e.fillStyle=u,this.stx.canvasFont("stx_yaxis",e)),e.fillText(y,n,Math.round(g-5))}e.textAlign="left",this.parameters.printValues&&f<i.width&&(v=m,v=a.priceFormatter?a.priceFormatter(this.stx,i,v):this.stx.formatYAxisPrice(v,i),e==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,v,g,u,null,e),e==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(x=d.color)||t.isTransparent(x))&&(x=this.color),("auto"==x||t.isTransparent(x))&&(x=this.stx.defaultColor),e.strokeStyle=this.highlight?c:x,("auto"==(b=d.color)||t.isTransparent(b))&&(b=this.fillColor),("auto"==b||t.isTransparent(b))&&(b=this.stx.defaultColor),e.fillStyle=b,e.globalAlpha=this.highlighted?1:d.parameters.opacity,e.lineWidth=d.parameters.lineWidth,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(e.lineWidth,d.parameters.pattern)),e.lineDashOffset=0),e.save(),e.beginPath(),k.i3mK(10),e.scale(k.e3mK(1,h),1),k.i3mK(5),e.arc(k.e3mK(h,n),o,Math.abs(g-o),0,Math.PI,!l),"none"!=this.pattern&&e.stroke(),e.globalAlpha=.05,e.fill(),e.restore(),e.setLineDash&&e.setLineDash([]),e.globalAlpha=1}e.textAlign="left",C=t.clone(this.parameters.trend.parameters),this.highlighted&&(C.opacity=1),k.i3mK(23),this.stx.plotLine(n,k.E3mK(2,n,r),o,k.E3mK(2,o,s),c,"segment",e,i,C),this.highlighted&&("p","1",S="p0"==this.highlighted,w="p1"==this.highlighted,this.littleCircle(e,r,s,S),this.littleCircle(e,n,o,w))}},t.Drawing.fibfan=function(){this.name="fibfan"},t.inheritsFrom(t.Drawing.fibfan,t.Drawing.fibonacci),we.i3mK(15),t.Drawing.fibfan.prototype.recommendedLevels=[we.e3mK(261169184,"0"),.382,.5,.618,1],t.Drawing.fibfan.prototype.setOuter=function(){},t.Drawing.fibfan.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F=we;if("st","x","_yaxis",(i=this.stx.panels[this.panelName])&&(a=i.yAxis,this.p1)){r=this.stx.pixelFromTick(this.p0[0],i.chart),n=this.stx.pixelFromTick(this.p1[0],i.chart),s=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),l=Math.min(o,s),h=Math.max(o,s),F.N3mK(1),c=F.e3mK(l,h),F.N3mK(54),u=F.E3mK(s,n,0,o,r),d=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",this.stx.canvasFont("stx_yaxis",e),F.N3mK(58);var P=F.e3mK(22,9,22);p=e.measureText("161.8%").width+P,m=Number.MAX_VALUE,F.i3mK(12);var _=F.E3mK(16,9,9,17);g=Number.MAX_VALUE*_,("auto"==(f=this.color)||t.isTransparent(f))&&(f=this.stx.defaultColor),this.rays=[];for(var E=0;E<this.parameters.fibs.length;E++)if("a","u","t","o","au","to",e.fillStyle=f,(y=this.parameters.fibs[E]).display&&(v=this.stx.pixelFromValueAdjusted(i,this.p0[0],(this.p0[1]-this.p1[1])*y.level+this.p1[1]),x=t.xIntersection({x0:n,x1:n,y0:s,y1:o},v),b=i.left,n>r&&(b+=i.width),F.i3mK(72),C=F.e3mK(r,s,x,v,r,s,b),!(r>b-(this.parameters.printLevels?p+5:0)&&n>r||r<b+(this.parameters.printLevels?p+5:0)&&n<r))){if(this.parameters.printLevels){F.i3mK(58);var K=F.e3mK(1002,499,2);F.N3mK(1);var I=F.e3mK(4,14);F.i3mK(73);var N=F.E3mK(14008,8,70040,4107);F.i3mK(0);F.E3mK(4,1676);F.N3mK(18);var O=F.E3mK(7,6544,6544,6546);F.i3mK(74);var X=F.e3mK(7,5009,5,4999,4997);F.N3mK(0);F.E3mK(15,5170);F.N3mK(75);var z=F.E3mK(4,1327,3,1);F.i3mK(65);var H=F.e3mK(318,19,1269,337);S=Math.round(y.level*K)/I+(N<107.95?O===X?z:H:"%"),n>r?("l","e","f","t",b-=p,e.textAlign="left"):(b+=p,e.textAlign="right"),this.parameters.printValues&&("stx_y","axi","s",e.fillStyle=f,this.stx.canvasFont("stx_yaxis",e)),F.N3mK(72),C=F.e3mK(r,s,x,v,r,s,b),e.fillText(S,b,C),n>r?b-=5:b+=5}e.textAlign="left",this.parameters.printValues&&x<i.width&&(w=this.stx.transformedPriceFromPixel(v,i),w=a.priceFormatter?a.priceFormatter(this.stx,i,w):this.stx.formatYAxisPrice(w,i),e==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,w,v,f,null,e),e==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(k=y.color)||t.isTransparent(k))&&(k=this.color),("auto"==k||t.isTransparent(k))&&(k=this.stx.defaultColor),("auto"==(L=y.color)||t.isTransparent(L))&&(L=this.fillColor),("auto"==L||t.isTransparent(L))&&(L=this.stx.defaultColor),e.fillStyle=L,this.parameters.printLevels&&(F.i3mK(72),C=F.e3mK(r,s,x,v,r,s,b)),A=t.clone(y.parameters),this.highlighted&&(A.opacity=1),this.stx.plotLine(r,b,s,C,this.highlighted?d:k,"segment",e,i,A),this.rays.push([[r,s],[b,C]]),e.globalAlpha=.05,e.beginPath(),e.moveTo(b,C),e.lineTo(r,s),e.lineTo(b,s),e.fill(),e.globalAlpha=1,v<m&&(m=v),v>g&&(g=v)}for(var R=0;R<=1;R++)D=u?h-c*R:l+c*R,(D=Math.round(D))<m&&(m=D),D>g&&(g=D);this.highlighted&&("p","0",T="p0"==this.highlighted,M="p1"==this.highlighted,this.littleCircle(e,r,s,T),this.littleCircle(e,n,o,M))}},t.Drawing.fibtimezone=function(){this.name="fibtimezone",we.d7Kh()},t.inheritsFrom(t.Drawing.fibtimezone,t.Drawing.fibonacci),t.Drawing.fibtimezone.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C=we;if("c","enter","a","ut","o","st","x_y","ax","is","midd","l","e",(i=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),C.N3mK(1),o=[1,C.E3mK(0,"0")],l=this.getLineColor(this.parameters.trend.color),e.textBaseline="middle",this.stx.canvasFont("stx_yaxis",e),20,h=this.p1[0]-this.p0[0],("auto"==(c=this.color)||t.isTransparent(c))&&(c=this.stx.defaultColor),e.textAlign="center",u=a,d=i.yAxis.top,p=i.yAxis.bottom,m=0,("auto"==(g=this.parameters.timezone.color)||t.isTransparent(g))&&(g=this.color),("auto"==g||t.isTransparent(g))&&(g=this.stx.defaultColor),("auto"==(f=this.parameters.timezone.color)||t.isTransparent(f))&&(f=this.fillColor),("auto"==f||t.isTransparent(f))&&(f=this.stx.defaultColor),this.parameters.printLevels&&(C.N3mK(76),p-=C.E3mK("7",20)),y=t.clone(this.parameters.timezone.parameters),this.highlighted&&(y.opacity=1);do{if("segm","ent",u=this.stx.pixelFromTick(this.p0[0]+m*h,i.chart),a<r&&u>i.left+i.width)break;if(a>r&&u<i.left)break;this.parameters.printLevels&&(e.fillStyle=c,e.fillText(r>a?m:-1*m,u,p+7)),e.fillStyle=f,this.stx.plotLine(u,u,0,p,this.highlighted?l:g,"segment",e,i,y),e.globalAlpha=.05,e.beginPath(),e.moveTo(a,d),e.lineTo(u,d),e.lineTo(u,p),e.lineTo(a,p),e.fill(),e.globalAlpha=1,C.N3mK(2);var S=C.e3mK(0,3,4);m=o[0]+o[S],o.unshift(m)}while(h);e.textAlign="left",this.stx.plotLine(a,r,n,s,l,"segment",e,i,y),this.highlighted?(v="p0"==this.highlighted,x="p1"==this.highlighted,this.littleCircle(e,a,n,v),this.littleCircle(e,r,s,x)):(b=this.stx.valueFromPixel(i.height/2,i),this.setPoint(0,this.p0[0],b,i.chart),this.setPoint(1,this.p1[0],b,i.chart))}},t.Drawing.fibtimezone.prototype.intersected=function(e,i,a){var r,n,s,o;if(r=this.p0,n=this.p1,s=this.stx.panels[this.panelName],!r||!n||!s)return null;for(var l in o={0:r,1:n})if(this.pointIntersection(o[l][0],o[l][1],a))return we.N3mK(0),this.highlighted=we.e3mK(l,"p"),{action:"drag",point:"p"+l};return this.lineIntersection(e,i,a,"segment")||a.x0<=this.p0[0]&&a.x1>=r[0]?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(n),tick:e,value:i}):null},t.Drawing.arrow_v0=function(){var e,t=we;this.name="arrow",this.dimension=[11,11],e=2;for(var i=1;1747346774!==t.s1v(i.toString(),i.toString().length,31379);i++)t.i3mK(1),this.points=[[!1,7,9,!1,5,5,"L",9,2,"j",48,8,"L",8,89,"L",1,7,9545,9,t.e3mK(0,"2"),!1,5,3]],e+=2;-1075955818!==t.Y6v(e.toString(),e.toString().length,30569)&&(t.N3mK(22),this.points=[["M",3,0,"L",7,0,"L",7,5,"L",10,5,"L",5,10,"L",t.E3mK("0",0),5,"L",3,5,"L",3,0]])},t.inheritsFrom(t.Drawing.arrow_v0,t.Drawing.shape),t.Drawing.xcross=function(){var e=we;this.name="xcross",this.dimension=[7,7],e.i3mK(4),this.points=[["M",1,e.E3mK("0",2147483647),"L",3,2,"L",5,0,"L",6,1,"L",4,e.e3mK("3",3,e.i3mK(22)),"L",6,5,"L",5,6,"L",3,4,"L",1,e.e3mK(1,"6",e.i3mK(5)),"L",0,5,"L",2,3,"L",0,1,"L",e.E3mK("1",2147483647,e.N3mK(4)),0]]},t.inheritsFrom(t.Drawing.xcross,t.Drawing.shape),t.Drawing.check=function(){var e=we;this.name="check",this.dimension=[8,9],e.d7Kh(),e.N3mK(53),this.points=[["M",1,5,"L",e.e3mK("0",640540736),e.e3mK(1,"6",e.i3mK(5)),"L",2,8,"L",e.E3mK("7",0,e.N3mK(26)),1,"L",6,0,"L",e.e3mK(0,"2",e.N3mK(1)),6,"L",1,e.e3mK("5",2147483647,e.N3mK(4))]]},t.inheritsFrom(t.Drawing.check,t.Drawing.shape),t.Drawing.star=function(){var e=we;this.name="star",e.k7Kh(),this.dimension=[12,12],e.N3mK(1),this.points=[["M",0,4,"L",e.e3mK(0,"4"),e.E3mK("4",249449280,e.i3mK(53)),"L",5.5,0,"L",7,4,"L",11,4,"L",8,7,"L",9,11,"L",5.5,9,"L",2,11,"L",3,7,"L",0,4]]},t.inheritsFrom(t.Drawing.star,t.Drawing.shape),t.Drawing.heart=function(){var e=we;this.name="heart",this.dimension=[23,20],e.i3mK(22),e.k7Kh(),this.points=[["M",11,3,"B",11,2.4,10,0,6,0,"B",0,0,0,7.5,0,7.5,"B",e.e3mK("0",0),11,4,e.e3mK(0,"15.4",e.N3mK(1)),11,19,"B",18,15.4,22,11,22,7.5,"B",22,e.E3mK(0,"7.5",e.i3mK(1)),22,0,16,0,"B",13,0,11,2.4,11,3]]},t.inheritsFrom(t.Drawing.heart,t.Drawing.shape),t.Drawing.focusarrow=function(){var e=we;e.d7Kh(),this.name="focusarrow",this.dimension=[7,5],e.i3mK(4),this.points=[["M",0,e.e3mK("0",2147483647),"L",2,2,"L",0,4,"L",0,0],["M",6,0,"L",4,2,"L",e.E3mK(1528242624,"6",e.N3mK(15)),4,"L",6,0]]},t.inheritsFrom(t.Drawing.focusarrow,t.Drawing.shape),t.Drawing.crossline=function(){this.name="crossline"},t.inheritsFrom(t.Drawing.crossline,t.Drawing.horizontal),t.extend(t.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(e,t){return we.d7Kh(),!1},adjust:function(){var e;(e=this.stx.panels[this.panelName])&&(we.k7Kh(),we.i3mK(15),this.setPoint(we.e3mK(130656192,"0"),this.d0,this.v0,e.chart),this.p1=t.clone(this.p0))},intersected:function(e,i,a){var r;return this.p0&&this.p1?(this.p1[0]+=1,r=this.lineIntersection(e,i,a,"line"),this.p1=t.clone(this.p0),r||("li","n","e",this.p1[1]+=1,r=this.lineIntersection(e,i,a,"line"),this.p1=t.clone(this.p0),r)?(this.highlighted=!0,we.d7Kh(),this.pointIntersection(this.p0[0],this.p0[1],a)&&(this.highlighted="p0"),{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):null):null},render:function(e){var a,r,n,s,o,l,h,c,u,d,p,m,g,f=we;if("verti","cal","ho","riz","ont","al",a=this.stx.panels[this.panelName]){if(r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),f.k7Kh(),s=this.getLineColor(),o={pattern:this.pattern,lineWidth:this.lineWidth},f.N3mK(77),this.stx.plotLine(r,f.e3mK(0,"100",r),n,n,s,"horizontal",e,a,o),f.i3mK(0),this.stx.plotLine(r,r,n,f.e3mK(100,n),s,"vertical",e,a,o),this.axisLabel&&!this.repositioner){this.stx.endClip(),l=this.p0[1],a.chart.transformFunc&&(l=a.chart.transformFunc(this.stx,a.chart,l)),l=a.yAxis.priceFormatter?a.yAxis.priceFormatter(this.stx,a,l):this.stx.formatYAxisPrice(l,a),this.stx.createYAxisLabel(a,l,n,s),-1886380891,-731769199,h=2;for(var y=1;-1886380891!==f.Y6v(y.toString(),y.toString().length,44933);y++)this.stx.startClip(a.name),h+=2;if(-731769199!==f.s1v(h.toString(),h.toString().length,94899)&&this.stx.startClip(a.name),this.p0[0]>=0&&!this.stx.chart.xAxis.noDraw){if(c=this.stx.dateFromTick(this.p0[0],a.chart,!0),t.ChartEngine.isDailyInterval(this.stx.layout.interval))c.setHours(0,0,0,0);else{f.i3mK(78);var v=f.e3mK(100,25,976,6);d=c.getSeconds()*v+c.getMilliseconds(),i.Date&&this.stx.displayZone&&(u=new i.Date(c.getTime(),this.stx.displayZone),c=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes()),c=new Date(c.getTime()+d))}if(p=t.mmddhhmm(t.yyyymmddhhmm(c)),a.chart.xAxis.formatter)p=a.chart.xAxis.formatter(c,this.name,null,null,p);else if(this.stx.internationalizer){if(0!==c.getHours()||0!==c.getMinutes()){m=this.stx.internationalizer.monthDay.format(c),f.i3mK(79);f.e3mK(18,12,12,15906,7995);f.N3mK(23);f.e3mK(529,4231,19);f.i3mK(80);var x=f.e3mK(14,2,73080,5216,10440);f.N3mK(18);f.E3mK(4,11508,57540,9589);f.N3mK(23);var b=f.E3mK(6431,77159,13);m+=(6616===x||(4606!=b?" ":680))+this.stx.internationalizer.hourMinute.format(c)}else m=this.stx.internationalizer.yearMonthDay.format(c);p=m}this.stx.endClip(),this.stx.createXAxisLabel({panel:a,txt:p,x:r,backgroundColor:s,color:null,pointed:!0,padding:2}),this.stx.startClip(a.name)}}this.highlighted&&(g="p0"==this.highlighted,this.littleCircle(e,r,n,g))}}},!0),t.Drawing.speedarc=function(){this.name="speedarc",we.d7Kh(),this.printLevels=!0},t.inheritsFrom(t.Drawing.speedarc,t.Drawing.segment),t.extend(t.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var e;this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,e=2;for(var t=1;-1464635093!==we.s1v(t.toString(),t.toString().length,13205);t++)this.pattern=this.stx.currentVectorParameters.pattern,e+=2;-1756884491!==we.s1v(e.toString(),e.toString().length,32119)&&(this.pattern=this.stx.currentVectorParameters.pattern),this.pattern=this.stx.currentVectorParameters.pattern},intersected:function(e,i,a){var r,n,s,o,l;if("m","o","v","e",!this.p0||!this.p1)return null;for(var h in r={0:this.p0,1:this.p1})if(this.pointIntersection(r[h][0],r[h][1],a))return we.i3mK(0),this.highlighted=we.E3mK(h,"p"),{action:"drag",point:"p"+h};return this.lineIntersection(e,i,a,this.name)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):(n=this.p1[0]-(this.p0[0]-this.p1[0]),s=this.p0[0],o=this.p1[1],l=this.p0[1],e>Math.max(n,s)||e<Math.min(n,s)||i>Math.max(l,o)||i<Math.min(l,o)?null:(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}))},render:function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v=we;if((i=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),v.i3mK(67),o=v.e3mK(s,n),v.N3mK(68),l=Math.abs(v.e3mK(n,s,r,a)),h=this.getLineColor(),e.strokeStyle=h,("auto"==(c=this.fillColor)||t.isTransparent(c))&&(c=this.stx.defaultColor),e.fillStyle=c,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(this.lineWidth,this.pattern)),e.lineDashOffset=0),this.stx.canvasFont("stx_yaxis",e);for(var x=1;x<3;x++){"n","o","n","e",v.N3mK(0);var b=v.E3mK(1,0);v.i3mK(16);var C=v.e3mK(8,7);v.i3mK(81);var S=v.E3mK(15,11,19,17,4);v.i3mK(2);var w=v.e3mK(7,14,10);u=Math.abs(this.p1[b]-this.p0[C])*Math.sqrt(S)*x/w,v.N3mK(1);var k=v.e3mK(17,18);v.i3mK(1);var L=v.e3mK(1,0);v.i3mK(16);var A=v.e3mK(6,5);d=this.p1[k]+u*(o?-1:1)*(i.yAxis.flipped?L:A),p=this.stx.pixelFromValueAdjusted(i,this.p0[0],d),e.save(),e.beginPath(),v.i3mK(10),e.scale(v.e3mK(1,l),1),v.i3mK(5),e.arc(v.e3mK(l,r),s,Math.abs(p-s),0,Math.PI,!o),e.globalAlpha=this.highlighted?1:this.defaultOpacity,"none"!=this.pattern&&e.stroke(),e.globalAlpha=.1,e.fill(),e.restore(),e.globalAlpha=1,this.printLevels&&("/","3","cen","ter",e.fillStyle=h,e.textAlign="center",v.N3mK(0),m=v.E3mK("/3",x),e.fillText(m,r,Math.round(p-5)),e.fillStyle=c)}e.textAlign="left",g={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},this.stx.plotLine(a,r,n,s,h,"segment",e,i,g),e.setLineDash&&e.setLineDash([]),this.highlighted&&("p","1",f="p0"==this.highlighted,y="p1"==this.highlighted,this.littleCircle(e,a,n,f),this.littleCircle(e,r,s,y))}},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}}},!0),t.Drawing.speedline=function(){this.name="speedline",we.k7Kh(),this.printLevels=!0},t.inheritsFrom(t.Drawing.speedline,t.Drawing.speedarc),t.extend(t.Drawing.speedline.prototype,{intersected:function(e,i,a){var r,n,s,o;if(r=this.p0,n=this.p1,!r||!n)return null;for(var l in s={0:r,1:n})if(this.pointIntersection(s[l][0],s[l][1],a))return we.i3mK(0),this.highlighted=we.E3mK(l,"p"),{action:"drag",point:"p"+l};o=this.rays,we.d7Kh();for(var h=0;h<o.length;h++)if(this.lineIntersection(e,i,a,"ray",o[h][0],o[h][1],!0))return"m","o","v","e",this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(n),tick:e,value:i};return null},render:function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A=we;if("a","ut","o","s","t","x_ya","xis",(i=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",e),o=this.getLineColor(),("auto"==(l=this.color)||t.isTransparent(l))&&(l=this.stx.defaultColor),e.strokeStyle=l,("auto"==(h=this.fillColor)||t.isTransparent(h))&&(h=this.stx.defaultColor),e.fillStyle=h,c={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},p=["1","2/3","1/3","3/2","3"],A.i3mK(82),m=[1,A.e3mK("2",3),A.E3mK("3",1,A.i3mK(83)),A.E3mK(0,"2",3,A.N3mK(84)),3],g=[],this.rays=[];for(var D=0;D<m.length;D++)(f=m[D])>1&&!this.extension||(y=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]-(this.p0[1]-this.p1[1])*f),f>1?(v=t.xIntersection({x0:a,x1:r,y0:n,y1:y},s),g.push(v)):(v=t.xIntersection({x0:r,x1:r,y0:n,y1:s},y),g.push(y)),x=f>1?v:r,b=f>1?s:y,this.confineToGrid||(x=i.left,r>a&&(x+=i.width),A.N3mK(72),b=A.e3mK(a,n,r,y,a,n,x)),this.printLevels&&(1!=f||this.extension)&&(e.fillStyle=l,C=0,S=0,n>s?(A.N3mK(22),S=-A.E3mK("5",0),e.textBaseline="bottom"):("t","op",S=5,e.textBaseline="top"),a>r?("r","ig","ht",C=5,e.textAlign="right"):("l","e","ft",C=-5,e.textAlign="left"),f>1?e.fillText(p[D],v+(this.confineToGrid?0:C),s):e.fillText(p[D],r,y+(this.confineToGrid?0:S)),e.fillStyle=h),this.stx.plotLine(a,x,n,b,this.highlighted?o:l,"segment",e,i,c),1==f&&(u=x,d=b),this.rays.push([[a,n],[x,b]]),e.globalAlpha=.1,e.beginPath(),e.moveTo(x,b),e.lineTo(a,n),e.lineTo(u,d),e.fill(),e.globalAlpha=1);if(e.textAlign="left",e.textBaseline="middle",this.confineToGrid&&(e.globalAlpha=.3,e.beginPath(),A.i3mK(1),e.strokeRect(a,n,A.e3mK(a,r),A.E3mK(n,s)),e.moveTo(a,g[1]),e.lineTo(r,g[1]),e.moveTo(a,g[2]),e.lineTo(r,g[2]),this.extension&&(e.moveTo(g[3],n),e.lineTo(g[3],s),e.moveTo(g[4],n),e.lineTo(g[4],s)),e.stroke(),e.globalAlpha=1),this.highlighted){w="p0"==this.highlighted,k="p1"==this.highlighted,1538497037,731253460,L=2;for(var T=1;1538497037!==A.Y6v(T.toString(),T.toString().length,48399);T++)this.littleCircle(e,a,n,w),this.littleCircle(e,r,s,k),L+=2;731253460!==A.s1v(L.toString(),L.toString().length,16147)&&(this.littleCircle(e,a,n,w),this.littleCircle(e,r,s,k))}}}},!0),t.Drawing.gannfan=function(){this.name="gannfan",we.d7Kh(),this.printLevels=!0},t.inheritsFrom(t.Drawing.gannfan,t.Drawing.speedline),t.extend(t.Drawing.gannfan.prototype,{render:function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L=we;if("midd","l","e","st","x","_","yaxis",(i=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",e),o=this.getLineColor(),("auto"==(l=this.color)||t.isTransparent(l))&&(l=this.stx.defaultColor),e.strokeStyle=l,("auto"==(h=this.fillColor)||t.isTransparent(h))&&(h=this.stx.defaultColor),e.fillStyle=h,c={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},L.i3mK(15),p=[1,L.E3mK(855491104,"2"),3,4,8,L.e3mK(1,2,L.N3mK(10)),L.E3mK(1,3,L.i3mK(10)),L.e3mK(1,4,L.N3mK(10)),L.E3mK(1,8,L.i3mK(10))],-427332727,L.N3mK(15),m=L.E3mK(57454752,"71906681"),L.N3mK(22),g=L.E3mK("2",2);for(var A=1;-427332727!==L.s1v(A.toString(),A.toString().length,79177);A++)this.rays=[],g+=2;L.s1v(g.toString(),g.toString().length,28942)!==m&&(this.rays=[]);for(var D=0;D<p.length;D++)f=p[D],L.i3mK(85),y=L.E3mK(r,a,a,f),L.i3mK(86),v=L.E3mK(f,n,s,n),x=i.left,r>a&&(x+=i.width),L.N3mK(72),b=L.e3mK(a,n,r,v,a,n,x),this.printLevels&&(e.fillStyle=l,C=0,S=0,n>s?(S=5,e.textBaseline="top"):(S=-5,e.textBaseline="bottom"),a>r?(L.i3mK(4),C=L.E3mK("5",2147483647),e.textAlign="left"):("rig","ht",C=-5,e.textAlign="right"),f>1?("x","1",L.i3mK(0),e.fillText(L.e3mK("x1",f),L.E3mK(C,y),s)):("1","x",L.N3mK(49),e.fillText(L.e3mK(1,f,"1x"),r,L.E3mK(S,v,L.i3mK(0)))),e.fillStyle=h),this.stx.plotLine(a,x,n,b,this.highlighted?o:l,"segment",e,i,c),this.rays.push([[a,n],[x,b]]),1==f&&(u=x,d=b),e.globalAlpha=.1,e.beginPath(),e.moveTo(x,b),e.lineTo(a,n),e.lineTo(u,d),e.fill(),e.globalAlpha=1;e.textAlign="left",e.textBaseline="middle",this.highlighted&&("p","1",w="p0"==this.highlighted,k="p1"==this.highlighted,this.littleCircle(e,a,n,w),this.littleCircle(e,r,s,k))}}},!0),t.Drawing.timecycle=function(){this.name="timecycle",we.k7Kh(),this.printLevels=!0},t.inheritsFrom(t.Drawing.timecycle,t.Drawing.speedarc),t.extend(t.Drawing.timecycle.prototype,{intersected:function(e,i,a){var r,n,s,o;if("se","gm","en","t",r=this.p0,n=this.p1,s=this.stx.panels[this.panelName],!r||!n||!s)return null;for(var l in o={0:r,1:n})if(this.pointIntersection(o[l][0],o[l][1],a))return"d","r","a","g",we.i3mK(0),this.highlighted=we.e3mK(l,"p"),{action:"drag",point:"p"+l};return this.lineIntersection(e,i,a,"segment")||a.x0<=this.p0[0]&&a.x1>=r[0]?(this.highlighted=!0,{action:"move",p0:t.clone(r),p1:t.clone(n),tick:e,value:i}):null},render:function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b;if("a","uto",(i=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),o=0,l=this.getLineColor(),e.textBaseline="middle",this.stx.canvasFont("stx_yaxis",e),20,h=this.p1[0]-this.p0[0],e.textAlign="center",c=a,u=i.yAxis.top,d=i.yAxis.bottom,("auto"==(p=this.color)||t.isTransparent(p))&&(p=this.stx.defaultColor),("auto"==(m=this.fillColor)||t.isTransparent(m))&&(m=this.stx.defaultColor),this.printLevels&&(we.i3mK(1),d-=we.e3mK(7,20)),g={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},f=[],e.save(),e.fillStyle=m,e.globalAlpha=.05;do{if(c=this.stx.pixelFromTick(this.p0[0]+o*h,i.chart),o++,a<r&&c>i.left+i.width)break;if(a>r&&c<i.left)break;c<i.left||c>i.left+i.width||(e.beginPath(),e.moveTo(a,u),e.lineTo(c,u),e.lineTo(c,d),e.lineTo(a,d),e.fill(),f.push({c:o,x:c}))}while(h);e.globalAlpha=1,y=0;for(var C=0;C<f.length;C++)if(this.stx.plotLine(f[C].x,f[C].x,0,d,this.highlighted?l:p,"segment",e,i,g),this.printLevels){e.fillStyle=p,we.N3mK(2);var S=we.e3mK(20,20,3);this.stx.chart.context.measureText(f[C].c).width+S<this.stx.layout.candleWidth+y?(e.fillText(f[C].c,f[C].x,d+7),y=0):y+=this.stx.layout.candleWidth}e.restore(),e.textAlign="left",this.stx.plotLine(a,r,n,s,l,"segment",e,i,g),this.highlighted?(v="p0"==this.highlighted,x="p1"==this.highlighted,this.littleCircle(e,a,n,v),this.littleCircle(e,r,s,x)):(b=this.stx.valueFromPixel(i.height/2,i),this.setPoint(0,this.p0[0],b,i.chart),this.setPoint(1,this.p1[0],b,i.chart))}}},!0),t.Drawing.regression=function(){we.d7Kh(),this.name="regression"},t.inheritsFrom(t.Drawing.regression,t.Drawing.segment),t.extend(t.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1","lineWidth1","pattern1","active2","color2","lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(e){var i;t.Drawing.copyConfig(this,e),i=this.stx.currentVectorParameters,this.active1=!!i.active1,we.k7Kh(),this.active2=!!i.active2,this.active3=!!i.active3,this.color1=i.color1||"auto",this.color2=i.color2||"auto",this.color3=i.color3||"auto",this.lineWidth1=i.lineWidth1,this.lineWidth2=i.lineWidth2,this.lineWidth3=i.lineWidth3,this.pattern1=i.pattern1,this.pattern2=i.pattern2,this.pattern3=i.pattern3},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(e,t,i){var a,r,n,s;if(!(t<0)){if(this.copyConfig(),a=this.stx.panels[this.panelName],!this.penDown){if(we.N3mK(4),this.setPoint(we.E3mK("0",2147483647),t,i,a.chart),this.penDown=!0,r=this.stx,this.field=r.highlightedDataSetField,!this.field&&a!=r.chart.panel){for(var o in r.chart.seriesRenderers)if((n=r.chart.seriesRenderers[o]).params.panel==a.name){this.field=n.seriesParams[0].field;break}for(var l in r.layout.studies)if((s=r.layout.studies[l]).panel==a.name){this.field=Object.keys(s.outputMap)[0];break}}return!1}return we.d7Kh(),this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.penDown=!1,!0)}},getYValue:function(e){var i,a,r,n,s,o,l,h;if(i=this.stx.chart.dataSet[e],we.d7Kh(),a=this.stx.chart.dataSet[e],!i)return null;if(r=this.stx.panels[this.panelName],n=this.stx.getYAxisByField(r,this.field)||r.yAxis,this.stx.charts[r.name]&&r.chart.transformFunc&&n==r.yAxis&&(a=i.transform),!a)return null;if(s=null,o=null,l=this.stx.defaultPlotField||"Close",this.field){if(!(o=t.existsInObjectChain(a,this.field)))return null;if(s=o=o.obj[o.member],i!=a){439392553,1358520277,h=2;for(var c=1;439392553!==we.Y6v(c.toString(),c.toString().length,3934);c++)s=(s=t.existsInObjectChain(i,this.field)).obj[s.member],h+=2;1358520277!==we.Y6v(h.toString(),h.toString().length,31510)&&(s=(s=t.existsInObjectChain(i,this.field)).obj[s.member])}"object"==typeof o&&(o=o[l],s=s[l])}else o=a[l],s=i[l];return{transformed:o,untransformed:s}},render:function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K=we;if((t=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],t.chart),a=this.stx.pixelFromTick(this.p1[0],t.chart),i<t.left&&a<t.left||i>t.right&&a>t.right))){r=this.stx.getYAxisByField(t,this.field),n=[],s=[],o=0,l=0,h=0,K.i3mK(1),c=K.e3mK(0,"0"),u=Math.min(this.p1[0],this.p0[0]),K.N3mK(87);var I=K.e3mK(2,9,17,1,2);d=Math.max(this.p1[0],this.p0[0])+I,K.i3mK(1),p=K.e3mK(u,d);for(var N=u;N<d;N++)(m=this.getYValue(N))&&(n.push(m.transformed),s.push(m.untransformed));for(g=n.length,K.i3mK(88),f=K.e3mK(g,"1",0,"2",g),y=Math.pow(f,2),K.i3mK(89),v=K.E3mK(f,2,3,g,1),N=0;N<g;N++)h+=g*n[N]-o,o+=n[N],c+=g*s[N]-l,l+=s[N];if(K.i3mK(90),x=K.e3mK(y,f,g,v,h,g,o),K.i3mK(91),b=K.E3mK(x,o,f,g),K.N3mK(90),C=K.e3mK(y,f,g,v,c,g,l),K.N3mK(91),S=K.E3mK(x,l,f,g),this.p0[0]<this.p1[0]?(w=b,K.i3mK(92),k=K.E3mK(p,b,x),K.i3mK(53),this.p0[K.E3mK("1",2007925824)]=S,K.i3mK(92),this.p1[1]=K.E3mK(p,S,C)):(K.i3mK(92),w=K.e3mK(p,b,x),k=b,K.N3mK(92),this.p0[1]=K.e3mK(p,S,C),this.p1[1]=S),L=this.stx.pixelFromTransformedValue(w,t,r),A=this.stx.pixelFromTransformedValue(k,t,r),D=this.getLineColor(),T={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(i,a,L,A,D,"segment",e,t,T),K.d7Kh(),K.N3mK(1),this.stx.plotLine(i,i,K.E3mK(20,L),K.e3mK(20,L,K.i3mK(0)),D,"segment",e,t,T),K.i3mK(1),this.stx.plotLine(a,a,K.e3mK(20,A),K.e3mK(20,A,K.i3mK(0)),D,"segment",e,t,T),this.active1||this.active2||this.active3){for(K.i3mK(10),M=K.E3mK(o,g),F=0,N=0;N<g;N++)F+=Math.pow(n[N]-M,2);K.N3mK(10),P={context:e,panel:t,points:{0:{x:i,v:w},1:{x:a,v:k}},stddev:Math.sqrt(K.e3mK(F,g)),yAxis:r},this.lines={},this.active1&&(this.renderStddev("1","p",P),this.renderStddev("1","n",P)),this.active2&&(this.renderStddev("2","p",P),this.renderStddev("2","n",P)),this.active3&&(this.renderStddev("3","p",P),this.renderStddev("3","n",P))}this.highlighted?("p","0",_="p0"==this.highlighted,E="p1"==this.highlighted,this.littleCircle(e,i,L,_),this.littleCircle(e,a,A,E)):(this.pixelX=[i,a],this.pixelY=[L,A])}},renderStddev:function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w=we;w.N3mK(93),a=w.e3mK(t,"stddev",e),w.i3mK(0),r=w.e3mK(e,"color"),w.i3mK(0),n=w.E3mK(e,"pattern"),w.N3mK(0),s=w.E3mK(e,"lineWidth"),l=(o=i.points)[0].v,h=o[1].v,c=i.stddev,u="n"===t?-1*e:1*e,d=this.stx,p=i.panel,m=i.yAxis,g={name:a,color:this.getLineColor(this[r]),type:"segment",y0:d.pixelFromTransformedValue(l+c*u,p,m),y1:d.pixelFromTransformedValue(h+c*u,p,m),params:{pattern:this[n],lineWidth:this[s]}},this.lines&&(this.lines[a]=g),f=i.context,y=o[0].x,v=o[1].x,d.plotLine(y,v,g.y0,g.y1,g.color,g.type,f,p,g.params),d.plotLine(y,y,g.y0-10,g.y0+10,g.color,g.type,f,p,g.params),d.plotLine(v,v,g.y1-10,g.y1+10,g.color,g.type,f,p,g.params),w.i3mK(0),x=w.e3mK("",e),w.i3mK(60);var k=w.e3mK(355,20,1,18);b=Math.max(y,v)+k,C=y<v?g.y1:g.y0,f.fillStyle=g.color,f.save(),f.textBaseline="middle",f.fillText(x,b,C),f.restore(),i.formatPrice&&this.axisLabel&&!this.highlighted&&!this.penDown&&(y>=p.chart.left&&y<=p.chart.right||v>=p.chart.left&&v<=p.chart.right)&&(w.N3mK(94),S=w.e3mK(u,c,y<v?h:l),d.endClip(),d.createYAxisLabel(p,i.formatPrice(S,m),C,g.color,null,f,m),d.startClip(p.name))},intersected:function(e,i,a){var r,n,s,o,l,h,c,u=we;if(!this.pixelX||!this.pixelY)return null;if(r=this.repositionIntersection(e,i))return r;n={0:this.pixelX,1:this.pixelY};for(var d=0;d<2;d++)if(this.pointIntersection(n[0][d],n[1][d],a,!0))return u.N3mK(0),this.highlighted=u.E3mK(d,"p"),{action:"drag",point:"p"+d};if(s=this,u.i3mK(5),o=this.pixelX[u.e3mK(1,"0")],u.i3mK(4),l=this.pixelX[u.e3mK("1",2147483647)],!(c=(h=function(t){var r,n;return r=[o,t.y0],n=[l,t.y1],s.lineIntersection(e,i,a,s.name,r,n,!0)})({y0:this.pixelY[0],y1:this.pixelY[1]}))&&this.lines)for(var p in this.lines)if(h(this.lines[p])){c=!0;break}return c?("mov","e",this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):null},repositionIntersection:function(e,i){return!(!this.p0||!this.p1)&&(!(this!=this.stx.repositioningDrawing||!this.highlighted)&&(!0===this.highlighted?("m","o","v","e",{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):{action:"drag",point:this.highlighted}))},lineIntersection:function(e,i,a,r,n,s,o){var l,h,c;if(!o){" lineIntersection"," must accept p0 and p1 in pixels.  Please verify and"," set isPixe","ls=true.",we.N3mK(0),console.log(we.e3mK(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",r)),570809602,-82222325,2;for(var u=1;570809602!==we.Y6v(u.toString(),u.toString().length,43475);u++)return!0;if(-82222325!==we.s1v(2..toString(),2..toString().length,17993))return!1}return n||(n=this.p0),s||(s=this.p1),!(!n||!s)&&(l=this.stx,void 0!==(h=t.convertBoxToPixels(l,this.panelName,a)).x0&&(c={x0:n[0],x1:s[0],y0:n[1],y1:s[1]},t.boxIntersects(h.x0,h.y0,h.x1,h.y1,c.x0,c.y0,c.x1,c.y1)))},boxIntersection:function(e,t,i){for(var a=1;1323894182!==we.Y6v(a.toString(),a.toString().length,55291);a++)return!(i.cx0>Math.max(this.pixelX[0],this.pixelX[1])||i.cx1<Math.min(this.pixelX[0],this.pixelX[1]))&&!(!this.stx.repositioningDrawing&&(i.cy1<this.pixelY[0]||i.cy0>this.pixelY[1]));if(we.d7Kh(),-1675147780!==we.s1v(2..toString(),2..toString().length,64599))return i.cx0<=Math.max(this.pixelX[2],this.pixelX[0])&&i.cx1<=Math.min(this.pixelX[6],this.pixelX[3])||!!(-this.stx.repositioningDrawing||i.cy1<=this.pixelY[1]&&i.cy0>=this.pixelY[8])},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.color1=t.col1,this.color2=t.col2,this.color3=t.col3,this.active1=t.dev1,this.active2=t.dev2,this.active3=t.dev3,we.d7Kh(),this.panelName=t.pnl,this.pattern=t.ptrn,this.pattern1=t.ptrn1,this.pattern2=t.ptrn2,this.pattern3=t.ptrn3,this.lineWidth=t.lw,this.lineWidth1=t.lw1,this.lineWidth2=t.lw2,this.lineWidth3=t.lw3,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.field=t.fld,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),t.Drawing.trendline=function(){this.name="trendline"},t.inheritsFrom(t.Drawing.trendline,t.Drawing.segment),t.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern","font"],t.Drawing.trendline.prototype.measure=function(){we.d7Kh()},t.Drawing.trendline.prototype.reconstruct=function(e,i){t.Drawing.segment.prototype.reconstruct.call(this,e,i),this.callout=new t.Drawing.callout,this.callout.reconstruct(e,i.callout)},t.Drawing.trendline.prototype.serialize=function(){var e;return e=t.Drawing.segment.prototype.serialize.call(this),we.k7Kh(),e.callout=this.callout.serialize(),e},t.Drawing.trendline.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S=we;if("%",")"," ",(i=this.stx.panels[this.panelName])&&(t.Drawing.segment.prototype.render.call(this,e),this.callout||(this.callout=new t.Drawing.callout,a=t.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(this.stx,a)),this.callout.p0=t.clone(this.p0),r=this.stx.pixelFromTick(this.p0[0],i.chart),n=this.stx.pixelFromTick(this.p1[0],i.chart),s=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),isFinite(s)&&isFinite(o))){S.N3mK(6),l=S.e3mK(2,r,n),S.i3mK(6),h=S.E3mK(2,s,o),this.fontSize=t.stripPX(this.font&&this.font.size||13),c=1.2*this.callout.w+("c"==this.callout.stemEntry[0]?0:50),u=Math.sqrt(Math.pow(n-r,2)+Math.pow(o-s,2)),S.i3mK(1);var w=S.e3mK(16,17);S.i3mK(7);var k=S.E3mK(12,12,23);S.i3mK(60);var L=S.e3mK(1548,17,7,13);d=c/(u||c)*(this.p1[1]<this.p0[w]?k:L),S.i3mK(95),p=S.e3mK(l,o,d,h),S.N3mK(42),m=S.e3mK(d,n,h,l),this.callout.p0[0]=this.stx.tickFromPixel(p,i.chart),this.callout.p0[1]=this.stx.priceFromPixel(m,i),this.callout.v0=this.callout.p0[1],this.callout.p1=t.clone(this.p0),this.callout.stx=this.stx,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,S.i3mK(96);var A=S.e3mK(2,7,3,7,4);S.N3mK(36);var D=S.E3mK(14,0,13,1);g=this.p1[A]-this.p0[D],S.i3mK(16);var T=S.e3mK(14,13);S.N3mK(1);var M=S.e3mK(11,13);this.callout.text=Number(g).toFixed(2)+(0===this.p0[T]?"":" ("+Number(100*g/this.p0[1]).toFixed(M)+"%) ")+Math.abs(this.p1[0]-this.p0[0])+" Bars",f=Math.floor((this.p0[0]+this.p1[0])/2),Math.abs(this.p0[0]-this.p1[0])>1&&Math.abs(this.p0[0]-this.p1[0])<20?(v=this.stx.pixelFromTick(f,i.chart),S.N3mK(97),x=S.E3mK(s,s,r,n,r,v,o),y=this.stx.priceFromPixel(x,i)||h):y=this.stx.priceFromPixel(h,i),this.callout.stem={t:f,v:y},this.callout.renderText(),this.callout.render(e),this.highlighted&&(b="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(e,r,s,b),this.littleCircle(e,n,o,C))}},t.Drawing.trendline.prototype.lineIntersection=function(e,i,a,r){return t.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,e,i,a,"segment")},t.Drawing.trendline.prototype.intersected=function(e,i,a){var r,n;return this.p0&&this.p1?(r=this.callout.intersected(e,i,a),n=t.Drawing.segment.prototype.intersected.call(this,e,i,a),this.callout.highlighted=!(!r&&!n),n||(r?{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}:null)):null},t.Drawing.average=function(){this.name="average"},t.inheritsFrom(t.Drawing.average,t.Drawing.regression),t.extend(t.Drawing.average.prototype,{configs:t.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var e,i,a,r,n,s;this.p0&&this.p1&&(".mSticky","Interio","r",we.N3mK(22),this.stx.setMeasure(we.e3mK("0",0),!1,this.p0[0],this.p1[0],!0,this.name),e=[],i="",this.active1&&e.push("1"),this.active2&&e.push("2"),this.active3&&e.push("3"),e.length&&(i="&ensp;"+e.join(", ")+" &sigma;"),a=(this.stx.drawingContainer||document).querySelector(".mMeasure"),n=(r=this.stx.controls.mSticky)&&r.querySelector(".mStickyInterior"),a&&(a.innerHTML+=i),n&&((s=[]).push(t.capitalize(this.name)),s.push(this.field||this.stx.defaultPlotField||"Close"),s.push(n.innerHTML+i),n.innerHTML=s.join("<br>")))},render:function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S=we;if("segm","ent",(t=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],t.chart),a=this.stx.pixelFromTick(this.p1[0],t.chart),i<t.left&&a<t.left||i>t.right&&a>t.right))){r=this.stx.getYAxisByField(t,this.field),n=this.stx,s=Math.min(this.p1[0],this.p0[0]),S.i3mK(45);var w=S.e3mK(287,13,12,11);for(o=Math.max(this.p1[0],this.p0[0])+w,S.i3mK(1),S.E3mK(s,o),l=0,h=[],c=s;c<o;c++)null!==(u=this.getYValue(c))&&(l+=u.transformed,h.push(u));if(d=h.length){if(S.i3mK(10),p=S.E3mK(l,d),m=n.pixelFromTransformedValue(p,t,r),g=this.getLineColor(),f={pattern:this.pattern,lineWidth:this.lineWidth},n.plotLine(i,a,m,m,g,"segment",e,t,f),S.i3mK(1),n.plotLine(i,i,S.E3mK(20,m),S.e3mK(m,"20",1984037312,S.N3mK(98)),g,"segment",e,t,f),S.N3mK(1),n.plotLine(a,a,S.e3mK(20,m),S.E3mK("20",m,0,S.i3mK(99)),g,"segment",e,t,f),!this.axisLabel||this.highlighted||this.penDown||(i>=t.chart.left&&i<=t.chart.right||a>=t.chart.left&&a<=t.chart.right)&&(n.endClip(),n.createYAxisLabel(t,k(p,r),m,g,null,e,r),n.startClip(t.name)),this.active1||this.active2||this.active3){for(y=0,c=0;c<d;c++)u=h[c],y+=Math.pow(u.transformed-p,2);S.N3mK(10),v=Math.sqrt(S.E3mK(y,d)),x={context:e,formatPrice:k,panel:t,points:{0:{x:i,v:p},1:{x:a,v:p}},stddev:v,yAxis:r},this.lines={},this.active1&&(this.renderStddev("1","p",x),this.renderStddev("1","n",x)),this.active2&&(this.renderStddev("2","p",x),this.renderStddev("2","n",x)),this.active3&&(this.renderStddev("3","p",x),this.renderStddev("3","n",x))}this.highlighted?(b="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(e,i,m,b),this.littleCircle(e,a,m,C)):(this.pixelX=[i,a],this.pixelY=[m,m])}}function k(e,i){return S.k7Kh(),e=i&&i.priceFormatter?i.priceFormatter(n,t,e):n.formatYAxisPrice(e,t,null,i)}},reconstruct:function(e,i){we.d7Kh(),this.axisLabel=i.al,t.Drawing.regression.prototype.reconstruct.call(this,e,i)},serialize:function(){var e;return(e=t.Drawing.regression.prototype.serialize.call(this)).al=this.axisLabel,e}},!0),t.Drawing.quadrant=function(){this.name="quadrant"},t.inheritsFrom(t.Drawing.quadrant,t.Drawing.regression),t.extend(t.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,this.pattern=this.stx.currentVectorParameters.pattern},$controls:[],render:function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S=we;if("ti","r","one","qu","ad","r","ant",(a=(i=this.stx).panels[this.panelName])&&this.p1&&(r=i.pixelFromTick(this.p0[0],a.chart),n=i.pixelFromTick(this.p1[0],a.chart),!(r<a.left&&n<a.left||r>a.right&&n>a.right))){s=this.stx.getYAxisByField(a,this.field),o=null,l=null;for(var w=Math.min(this.p1[0],this.p0[0]);w<=Math.max(this.p1[0],this.p0[0]);w++)null!==(h=this.getYValue(w))&&((null===o||h.transformed>o)&&(o=h.transformed),(null===l||h.transformed<l)&&(l=h.transformed));c=i.pixelFromTransformedValue(o,a,s),S.i3mK(100),u=i.pixelFromTransformedValue(S.e3mK("4",l,o,3),a,s),S.N3mK(101),d=i.pixelFromTransformedValue(S.E3mK(o,2,l,3),a,s),S.i3mK(102),p=i.pixelFromTransformedValue(S.e3mK(l,"2",o),a,s),S.N3mK(103),m=i.pixelFromTransformedValue(S.e3mK(3,"2",o,l),a,s),S.i3mK(104),g=i.pixelFromTransformedValue(S.e3mK(o,3,l,4),a,s),f=i.pixelFromTransformedValue(l,a,s),this.p0[1]=0,this.p1[1]=!1,y=this.getLineColor(),("auto"==(v=this.fillColor)||t.isTransparent(v))&&(v=i.defaultColor),e.fillStyle=v,x={pattern:this.pattern,lineWidth:this.lineWidth},i.plotLine(r,n,c,c,y,"segment",e,a,x),i.plotLine(r,n,f,f,y,"segment",e,a,x),"quadrant"==this.name?(i.plotLine(r,n,u,u,y,"segment",e,a,x),i.plotLine(r,n,g,g,y,"segment",e,a,x)):"tirone"==this.name&&(i.plotLine(r,n,d,d,y,"segment",e,a,x),i.plotLine(r,n,m,m,y,"segment",e,a,x)),i.plotLine(r,r,c,f,y,"segment",e,a,x),i.plotLine(n,n,c,f,y,"segment",e,a,x),i.plotLine(r,n,p,p,y,"segment",e,a,t.extend(x,{opacity:"tirone"==this.name?.2:1})),e.globalAlpha=.1,e.beginPath(),S.N3mK(1),e.fillRect(r,c,S.E3mK(r,n),S.e3mK(c,f)),"quadrant"==this.name?(S.N3mK(1),e.fillRect(r,u,S.e3mK(r,n),S.E3mK(u,g))):"tirone"==this.name&&(S.i3mK(1),e.fillRect(r,d,S.E3mK(r,n),S.e3mK(d,m))),S.i3mK(5),e.globalAlpha=S.e3mK(1,"1"),this.highlighted?(b="p0"==this.highlighted,C="p1"==this.highlighted,this.littleCircle(e,r,p,b),this.littleCircle(e,n,p,C)):("quadra","nt",this.pixelX=[r,n],this.pixelY=[c,f,p],"quadrant"===this.name&&this.pixelY.push(u,g),"tirone"===this.name&&this.pixelY.push(d,m))}},intersected:function(e,i,a){var r,n,{pixelX:s,pixelY:o}=this;if(!s||!o)return null;if(r=this.repositionIntersection(e,i),we.k7Kh(),r)return r;for(var l=0;l<2;l++)if(this.pointIntersection(s[l],o[2],a,!0))return"dr","a","g",we.i3mK(0),this.highlighted=we.E3mK(l,"p"),{action:"drag",point:"p"+l};return n=[],s.forEach(e=>{n.push({p0:[e,o[0]],p1:[e,o[1]]})}),o.forEach(e=>{n.push({p0:[s[0],e],p1:[s[1],e]})}),n.some(t=>{let{p0:r,p1:n}=t;return we.k7Kh(),this.lineIntersection(e,i,a,this.name,r,n,!0)})?("mo","ve",this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):null},reconstruct:function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,we.k7Kh(),this.field=t.fld,this.adjust()},serialize:function(){return we.k7Kh(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),t.Drawing.tirone=function(){this.name="tirone"},t.inheritsFrom(t.Drawing.tirone,t.Drawing.quadrant),t.Drawing.elliottwave=function(){this.name="elliottwave",we.d7Kh(),this.lastPoint=0,this.points=[],this.pts=[],this.dx=0,this.dy=-20,this.dragToDraw=!1,this.annotationPoints=[],this.edit=null},t.inheritsFrom(t.Drawing.elliottwave,t.Drawing.annotation),t.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III","IV","V"],corrective:["A","B","C"],decoration:"enclosed",showLines:!0},t.Drawing.elliottwave.prototype.initializeSettings=function(e){we.k7Kh(),e.currentVectorParameters.waveParameters=t.clone(t.Drawing.elliottwave.defaultTemplate)},t.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern","font","waveParameters"],t.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"],t.Drawing.elliottwave.prototype.construct=function(e,t){var i;this.stx=e,this.panelName=t.name,we.k7Kh(),i=e.currentVectorParameters,Object.assign(this,i.waveParameters)},t.Drawing.elliottwave.prototype.serialize=function(){var e,i=we;e={};for(var a=0;a<this.points.length;a++)i.N3mK(0),e[i.E3mK(a,"d")]=this[i.e3mK(a,"d")],i.i3mK(0),e[i.E3mK(a,"tzo")]=this[i.E3mK(a,"tzo")],i.i3mK(0),e[i.e3mK(a,"v")]=this[i.e3mK(a,"v")];return e.annotations=this.annotationPoints.join(","),Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:t.removeNullValues(t.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},e)},t.Drawing.elliottwave.prototype.reconstruct=function(e,i){this.stx=e,this.color=i.col,this.panelName=i.pnl,this.pattern=i.ptrn,we.d7Kh(),this.lineWidth=i.lw,this.font=t.replaceFields(i.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.decoration=i.decor,this.showLines=i.show,this.dx=i.dx,this.dy=i.dy,this.trend=i.trend,this.annotationPoints=i.annotations.split(","),"enclosed"===i.decor&&this.calculateRadius(e.chart.tempCanvas.context),this.maxSegments=i.mxSeg,this.reconstructPoints(i),this.adjust()},t.Drawing.elliottwave.prototype.reconstructPoints=function(e){var i,a,r,n=we;if(i=this.stx.panels[this.panelName])for(var s=0;s<this.annotationPoints.length;s++)n.i3mK(0),this[n.e3mK(s,"d")]=e[n.e3mK(s,"d")],n.i3mK(0),this[n.e3mK(s,"v")]=e[n.e3mK(s,"v")],n.i3mK(0),this[n.E3mK(s,"tzo")]=e[n.E3mK(s,"tzo")],a=t.strToDateTime(e["d"+s]),r=this.stx.tickFromDate(a,i.chart),this.points.push([r,e["v"+s]])},t.Drawing.elliottwave.prototype.calculateRadius=function(e){var t,i,a;this.getFontString(),e.font=this.fontString,t=2;for(var r=1;-669994541!==we.s1v(r.toString(),r.toString().length,14292);r++)i=2,t+=2;-1576443193!==we.s1v(t.toString(),t.toString().length,31320)&&(i=9),i=0;for(var n=0;n<this.annotationPoints.length;n++)i<(a=e.measureText(this.annotationPoints[n]).width)&&(i=a);this.enclosedRadius=i},t.Drawing.elliottwave.prototype.check=function(e,t,i){var a,r,n,s=we;if(1===i&&2===this.points.length)return!0;function o(e){for(var t=2;t<e.length;t++)if(Math.sign(e[t][1]-e[t-1][1])==Math.sign(e[t-1][1]-e[t-2][1]))return!1;return!0}if(s.i3mK(1),(a=this.points[s.E3mK(1,i)])&&e<=a[0])return!1;if(s.d7Kh(),s.i3mK(0),(r=this.points[s.E3mK(1,i)])&&e>=r[0])return!1;n=2;for(var l=1;-458370240!==s.s1v(l.toString(),l.toString().length,25080);l++){if(+o(this.points))return!0;n+=2}return(790439122===s.s1v(n.toString(),n.toString().length,79306)||!-o(this.points))&&!!o(this.points)},t.Drawing.elliottwave.prototype.move=function(e,t,i){this.copyConfig(),we.d7Kh(),we.N3mK(7);var a=we.e3mK(20,14,33);this.points[this.lastPoint+a]=[t,i],this.render(e)},t.Drawing.elliottwave.prototype.adjust=function(){var e,i;if(e=this.stx.panels[this.panelName])for(var a=0;this.maxSegments+1>a;a++)we.i3mK(0),i=this[we.E3mK(a,"d")],this.setPoint(a,i,this["v"+a],e.chart),this.points[a][0]=this.stx.tickFromDate(t.strToDateTime(i),e.chart),we.i3mK(0),this.points[a][1]=this[we.e3mK(a,"v")]},t.Drawing.elliottwave.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(t,i)?(this.penDown=!0,!1):!!(this.check(t,i,this.lastPoint+1)&&(this.lastPoint++,this.setPoint(this.lastPoint,t,i,a.chart),1===this.lastPoint&&(this.trend=Math.sign(this.v1-this.v0)),this.segment++,this.segment>=this.maxSegments))&&(this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.points.push(this.p0),this.penDown=!0,this.segment=0,this.lastPoint=0,this.impulse&&(this.annotationPoints=this.annotationPoints.concat(this.impulse)),this.corrective&&(this.annotationPoints=this.annotationPoints.concat(this.corrective)),this.annotationPoints.unshift("0"),"enclosed"===this.decoration&&this.calculateRadius(e),this.maxSegments=this.annotationPoints.length-1,this.trend=1,!1)},t.Drawing.elliottwave.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M=we;if("ce","n","t","er",i=this.stx.panels[this.panelName]){if(a=this.stx,r=this.annotationPoints,n=this.pattern?t.borderPatternToArray(this.lineWidth,this.pattern):[],this.getFontString(),e.font=this.fontString,e.textAlign="center",e.textBaseline="middle",e.lineWidth=this.lineWidth,this.fontString!==this.lastFontString&&this.calculateRadius(e),this.lastFontString=this.fontString,s=this.getLineColor(),e.fillStyle=e.strokeStyle=s,e.save(),e.setLineDash(n),o=this.dx,l=this.dy,h=this.points,c=this.pts,u=!this.showLines&&this.highlighted,d=h.length,M.d7Kh(),this.penDown&&this.segment){M.i3mK(105);var F=M.E3mK(1934,11,8,11,2);p=this.trend*(d%F-.5)<0,i.yAxis.flipped&&(p=!p),this.drawDropZone(e,h[d-2][1],this.stx.priceFromPixel(i.yAxis[p?"top":"bottom"]),h[d-2][0])}else if("string"==typeof this.highlighted&&this.stx.repositioningDrawing){"b","o","tt","om","to","p",m=parseInt(this.highlighted.substring(1,this.highlighted.length),10),M.i3mK(106);var P=M.E3mK(5,11,4,10,7);p=this.trend*(m%P-.5)>0,M.i3mK(76),g=h[M.e3mK("1",m)],M.i3mK(0),f=h[M.E3mK(1,m)],y=m>0?g[1]:f[1],f&&(y=Math[p?"max":"min"](y,f[1])),i.yAxis.flipped&&(p=!p),this.drawDropZone(e,y,this.stx.priceFromPixel(i.yAxis[p?"top":"bottom"]),g?g[0]:null,f?f[0]:null)}for(var _=0;_<d;_++)v=h[_],x=a.pixelFromTick(v[0],i.chart),b=a.pixelFromValueAdjusted(i,v[0],v[1]),c[_]=[x,b];if(M.N3mK(53),_=M.e3mK("0",238282592),this.showLines||u){for(e.beginPath(),u&&(e.globalAlpha=.3);_<c.length;_++)e.lineTo(c[_][0],c[_][1]);e.stroke(),_=0}-751540229,1530855769,C=2;for(var E=1;-751540229!==M.s1v(E.toString(),E.toString().length,97372);E++)e.restore(),C+=2;for(1530855769!==M.Y6v(C.toString(),C.toString().length,33002)&&e.restore(),e.restore();_<d;_++)S=_%2?o:-o,w=_%2?l:-l,S*=this.trend,w*=this.trend,i.yAxis.flipped&&(S*=-1,w*=-1),L=(k=c[_])[2]=k[0]+S,A=k[3]=k[1]+w,D=this.enclosedRadius||8,T=r[_],"parentheses"===this.decoration&&(M.i3mK(93),T=M.E3mK(")","(",T)),e.fillText(T,L,A),"enclosed"===this.decoration&&(e.beginPath(),M.N3mK(53),e.arc(L,A,D,M.E3mK("0",1286202944),2*Math.PI,!1),e.stroke()),this.highlighted&&(e.save(),this.littleCircle(e,this.pts[_][0],this.pts[_][1],this.highlighted==="p"+_),e.restore())}},t.Drawing.elliottwave.prototype.reposition=function(e,t,i,a){var r,n,s,o,l;if(t){if(we.d7Kh(),r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,"move"===t.action)for(var h=0;t.points.length>h;h++){o=t.points[h],this.setPoint(h,o[0]-n,o[1]-s,r.chart),we.i3mK(107);var c=we.E3mK(19,16,10,493,1);this.points[h]=[o[0]-n,o[c]-s]}"drag"===t.action&&(l=t.point,this.points[l]=[i,a],this.check(i,a,l)&&this.setPoint(l,i,a,r.chart)),this.render(e)}},t.Drawing.elliottwave.prototype.intersected=function(e,i,a){var r,n;if(!this.p0||!this.p1)return null;for(var s=0;this.points.length>s;s++){if(n=this.points[s],this.pointIntersection(n[0],n[1],a))return we.i3mK(0),this.highlighted=we.e3mK(s,"p"),{action:"drag",point:s,tick:e,value:i};this.points[s+1]&&this.lineIntersection(e,i,a,"segment",n,this.points[s+1])&&(this.highlighted=!0,r={action:"move",points:t.clone(this.points),tick:e,value:i})}return r},t.Drawing.elliottwave.prototype.measure=function(){var e,i,a,r;this.points.length>=2&&(e=this.points,this.stx.setMeasure(e[0][1],e[e.length-1][1],e[0][0],e[e.length-1][0],!0),(a=(i=this.stx.controls.mSticky)&&i.querySelector(".mStickyInterior"))&&("<","b","r>",(r=[]).push(t.capitalize("Elliott Wave")),this.getYValue&&r.push(this.field||this.stx.defaultPlotField||"Close"),r.push(a.innerHTML),a.innerHTML=r.join("<br>")))},t.Drawing.printProjection=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=we;if((r=i.arr).length>1){b.i3mK(22),n=r[0][b.e3mK("0",0)],s=Math.round(.75*e.chart.maxTicks);for(var C=1;C<r.length;C++){for(b.i3mK(1),o=r[b.E3mK(1,C)][0],l=r[C][0],h=t.strToDateTime(o),c=t.strToDateTime(l).getTime(),u=e.standardMarketIterator(h),d=0;h.getTime()<c;)h=u.next(),d+=1;if((p=t.strToDateTime(o).getTime())>t.strToDateTime(a[a.length-1].Date).getTime())m=a.length-1,d+=1;else for(m=a.length-1;m>=0&&!(p<=t.strToDateTime(a[m].Date).getTime());m--);g={x0:0,x1:d,y0:a[m].Close,y1:r[C][1]},n=t.strToDateTime(o),u=e.standardMarketIterator(n),f=!1;for(var S=0;S<=d;S++)if("m","inute",f?n=u.next():f=!0,!(n.getTime()<=a[a.length-1].DT.getTime())){(y=t.yIntersection(g,S))||(y=0),b.N3mK(108);var w=b.E3mK(90297,8202,9,90288,6);b.N3mK(23);var k=b.e3mK(10015,80135,9);if(0===(v=Math.round(y*("10000"|w))/k)&&(v=r[C][1]),x={Date:t.yyyymmddhhmmssmmm(n),DT:n,Open:v,Close:v,High:v,Low:v,Volume:0,Adj_Close:v,Split_Close:v,projection:!0},"minute"==e.layout.interval&&s--<0)break;a[a.length]=x}}}}):console.error("drawingAdvanced feature requires first activating drawing feature.")},o=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).computeEquationChart?(t.formatEquation=function(e){var t,i,a,r,n,s=we;t="",i=[],a="",r=!1;for(var o=1;o<e.length;o++)"["!=(n=e[o].toUpperCase())||r?"]"==n&&r?(r=!1,""!==a&&(i.push(a),s.N3mK(93),t+=s.E3mK("]","[",a)),a=""):r?a+=n:"+"==n||"-"==n||"*"==n||"/"==n||":"==n||"%"==n||"("==n||")"==n?(""!==a&&isNaN(a)?(i.push(a),s.N3mK(93),t+=s.E3mK("]","[",a)):t+=a,":"==n&&(n="/"),t+=n,a=""):" "!=n&&(a+=n):r=!0;""!==a&&isNaN(a)?(i.push(a),s.N3mK(93),t+=s.E3mK("]","[",a)):t+=a;for(var l=1;465169327!==s.Y6v(l.toString(),l.toString().length,44040);l++)return{equation:t,symbols:i};if(2081150152!==s.Y6v(2..toString(),2..toString().length,74025))return{equation:t,symbols:i}},t.fetchEquationChart=function(e,i){var a,r,n,s,o;r=(a=t.formatEquation(e.symbol)).symbols,n=[],s=e.stx,e.stx=null;for(var l=0;l<r.length;l++)(o=t.shallowClone(e)).stx=s,o.symbol=r[l],o.symbolObject={symbol:r[l]},n.push(o);e.stx=s,s.quoteDriver.multiFetch(n,(function(r){var s,o,l,h,c;s={},e.loadMoreReplace=!0,o={charge:0};for(var u=0;u<r.length;u++){if((l=r[u]).dataCallback.error)return void i({error:l.dataCallback.error});s[l.params.symbol]=l.dataCallback.quotes,e.loadMoreReplace=e.loadMoreReplace&&l.params.loadMoreReplace,e.moreToLoad=e.moreToLoad||l.dataCallback.moreAvailable,(h=l.dataCallback.attribution)&&(h.charge&&(o.charge+=h.charge),o.source=h.source,void 0===o.exchange?o.exchange=h.exchange:o.exchange!=h.exchange&&(o.exchange=""))}if(n.length||!e.loadMore&&!e.update)try{c=t.computeEquationChart(a.equation,s),i({quotes:c,moreAvailable:e.moreToLoad,attribution:o})}catch(e){var d;"Invalid equatio","n: ",d={error:"Invalid equation: "+a.equation},e.name&&"NoException"==e.name&&(d.suppressAlert=!0),i(d)}}))}):console.error("equationsAdvanced feature requires first activating equations feature.")},l=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Marker?t.Marker.Performance||(t.ChartEngine.prototype.removeDOMMarker=function(e){we.k7Kh(),console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead."),t.Marker.Performance.prototype.removeDOMMarker.call(e.params.node,e)},t.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead."),t.Marker.Performance.drawMarkers(this)},t.ChartEngine.prototype.calculateMarkerStyles=function(e,i){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead."),we.d7Kh(),t.Marker.Performance.calculateMarkerStyles(this,e,i)},t.ChartEngine.prototype.drawCircleMarker=function(e,i,a){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead."),we.d7Kh(),t.Marker.Performance.drawCircleMarker(e,i,a)},t.ChartEngine.prototype.drawSquareMarker=function(e,i,a){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead."),we.d7Kh(),t.Marker.Performance.drawSquareMarker(e,i,a)},t.ChartEngine.prototype.drawCalloutMarker=function(e,i,a){we.d7Kh(),console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead."),t.Marker.Performance.drawCalloutMarker(e,i,a)},t.ChartEngine.prototype.drawMarkerStem=function(e,i,a){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead."),t.Marker.Performance.drawMarkerStem(e,i,a)},t.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead."),t.Marker.Performance.drawMarkers(this)},t.Marker.Performance=function(e){var i,a,r,n,s,o,l,h;this.params={displayCategory:!0,displayStem:!0,invert:!1,story:"",headline:""},t.extend(this.params,e),i=this.template=document.createElement("TEMPLATE"),we.N3mK(109),i.innerHTML=we.e3mK('<div class="stx-marker-content">','<div class="stx-visual">',"</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>",'<div class="stx-marker highlight">','<div class="stx-stem"></div>',"</div>"),(r=(a=this.template.content.cloneNode(!0)).querySelector(".stx-marker",i)).classList.add(e.type),r.classList.add(e.category),n=a.querySelector(".stx-visual",i),s=a.querySelector(".stx-marker-expand"),o=a.querySelector("h4",i),l=a.querySelector("p",i),o.innerText=this.params.headline,l.innerText=this.params.story,this.hasText=!!e.headline||!!e.story,this.deferAttach=!0,this.node=a.firstChild,this.node.params=this.params,this.visual=n,this.expand=s,"callout"===e.type&&(".","stx-marker-content",h=s.removeChild(o),a.querySelector(".stx-marker-content",i).insertBefore(h,s))},t.inheritsFrom(t.Marker.Performance,t.Marker.NodeCreator,!1),t.Marker.Performance.consolidateExpanded=function(e){var t,i,a,r,n;if((t=e.markerHelper.highlighted).length){we.i3mK(16);var s=we.e3mK(3,2);a=(i=t[t.length-s]).params.node,i.consolidated||(i.consolidated=[]);for(var o=t.length-2;o>=0;o--)"</c","on","solidated",">",r=l(t[o]),we.N3mK(93),n=we.E3mK("</consolidated>","<consolidated>",r),r.length&&(a.expand.innerHTML+=n);i.stxNodeCreator.quickCache(i)}function l(e){var t;return(t=e.params.node.expand)?"none"!==t.style.display?t.innerHTML:"":""}},t.Marker.Performance.reconstituteExpanded=function(e){var t,i;if((t=e.markerHelper.highlighted).length&&e.activeMarker)for(var a=(t=[e.activeMarker]).length-1;a>=0;a--)for(i=t[a].params.node.expand;"CONSOLIDATED"===i.lastElementChild.nodeName;)i.removeChild(i.lastElementChild)},t.Marker.Performance.drawMarkers=function(e){var t,i,a,r,n,s;t=e.getMarkerArray("all"),we.d7Kh(),i=e.chart;for(var o=0;o<t.length;o++)r=(a=t[o]).stxNodeCreator,n=i.dataSegment[0].tick,s=i.dataSegment[i.dataSegment.length-1].tick,n<=a.tick<=s&&r&&r.drawMarker&&r.drawMarker(a)},t.Marker.Performance.calculateMarkerStyles=function(e,t,i){var a,r,n;(a=document.querySelector(".stx-marker-templates"))||((a=document.createElement("DIV")).style.visibility="hidden",a.style.left="-1000px",document.body.append(a)),a.appendChild(t.node),r=getComputedStyle(t.stxNodeCreator.visual),e.styles.stx_marker_stem||(".st","x","-ste","m",n=getComputedStyle(document.querySelector(".stx-stem",t.node)),e.styles.stx_marker_stem=e.cloneStyle(n)),e.styles[i]=e.cloneStyle(r),a.removeChild(t.node)},t.Marker.Performance.drawCircleMarker=function(e,i,a){var r,n,s,o,l,h;r=e.params.stx.chart.context,n=a.x,s=a.y,o=a.radius,l=a.label,h=a.color?a.color:i.backgroundColor,r.beginPath(),r.setLineDash([]),r.lineWidth=1,r.fillStyle=h,r.strokeStyle=h,r.font="normal bold 12px Roboto, Helvetica, sans-serif",r.arc(n,s,o,0,2*Math.PI,!1),r.fill(),r.stroke(),r.closePath(),l&&("whi","te","b","l","ack","w","hite",r.fillStyle=t.colorsEqual("white",r.fillStyle)?"black":"white",r.fillText(l.charAt(0).toUpperCase(),n-4,s+1)),we.d7Kh(),(e.highlight||e.active)&&(r.beginPath(),we.i3mK(0),r.arc(n,s,we.E3mK(4,o),0,2*Math.PI,!1),r.stroke(),r.closePath())},t.Marker.Performance.drawSquareMarker=function(e,i,a){var r,n,s,o,l,h,c,u,d=we;if("normal bold 12px Roboto, Helve","ti","ca, sans-s","erif",r=e.params.stx.chart.context,n=a.x,s=a.y,o=a.half,l=a.label,h=a.color?a.color:i.backgroundColor,d.i3mK(5),c=d.E3mK(2,o),r.beginPath(),r.setLineDash([]),r.lineWidth=1,r.fillStyle=h,r.strokeStyle=h,r.font="normal bold 12px Roboto, Helvetica, sans-serif",d.N3mK(1),r.rect(d.e3mK(o,n),d.E3mK(o,s),c,c),r.fill(),(e.highlight||e.active)&&(d.N3mK(110),r.rect(d.e3mK(o,"4",n),d.E3mK(o,s,4,d.i3mK(14)),d.e3mK(8,c,d.i3mK(0)),d.E3mK(8,c,d.i3mK(0)))),r.stroke(),r.closePath(),l){1566665682,-920316284,u=2;for(var p=1;1566665682!==d.Y6v(p.toString(),p.toString().length,87570);p++)r.fillStyle=(t.colorsEqual("black",r.fillStyle),"white"),u+=2;-920316284!==d.Y6v(u.toString(),u.toString().length,67134)&&("wh","i","te",r.fillStyle=t.colorsEqual("white",r.fillStyle)?"black":"white"),r.fillText(l.charAt(0).toUpperCase(),n-4,s+1)}},t.Marker.Performance.drawCalloutMarker=function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,m=we;m.k7Kh(),a=e.params.stx.chart.context,r=e.params,i.x,n=i.y,s=i.half,o=i.midWidth,l=i.headline,h=i.color?i.color:t.backgroundColor,c=2*s||25,u=Math.round(a.measureText(l).width),d=o?2*o:u+8,a.beginPath(),a.setLineDash([]),m.i3mK(22),a.lineWidth=m.E3mK("1",0),a.fillStyle=h,a.strokeStyle=h,a.font="normal bold 12px Roboto, Helvetica, sans-serif",a.rect(r.box.x0,r.box.y0,d,c),a.fill(),a.stroke(),a.closePath(),a.beginPath(),a.fillStyle=e.highlight||e.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)",m.i3mK(111),p=m.E3mK(20,d,"2",u,0),a.rect(r.box.x0+p,n-s,u+40,22),a.fill(),a.stroke(),a.closePath(),a.fillStyle="black",a.fillText(l,r.box.x0+p+10,n)},t.Marker.Performance.drawMarkerStem=function(e,i,a){var r,n,s,o,l,h;r=e.params.stx.chart.context,n=a.x,a.y,r.beginPath(),s=2;for(var c=1;1312298356!==we.s1v(c.toString(),c.toString().length,24930);c++)r.strokeStyle=i.borderLeftColor,r.setLineDash([1,1]),we.i3mK(53),s+=we.e3mK("2",1009288064);-441865939!==we.s1v(s.toString(),s.toString().length,55979)&&(r.strokeStyle=i.borderLeftColor,r.setLineDash([4,2])),o=t.stripPX(i.height),l=a.invert?e.params.box.y0:e.params.box.y1,h=a.invert?e.params.box.y0-o:e.params.box.y1+o,r.moveTo(n,l),r.lineTo(n,h),r.stroke(),r.closePath()},t.Marker.Performance.prototype.drawMarker=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S=we;if(i=e.params,(a=e.params.stx)&&a.chart.dataSegment.length){r=a.panels[e.params.panelName],s=(n=e.stxNodeCreator.params).type,o=n.category,l=n.headline,h=n.displayCategory,c=n.color,u=n.invert,S.N3mK(112),d=S.e3mK(o,"_","stx_marker_",s),a.styles[d]||t.Marker.Performance.calculateMarkerStyles(a,e,d),p=e.style=a.styles[d],m=a.styles.stx_marker_stem,S.N3mK(113);var w=S.E3mK(6,2,16,2,8);S.i3mK(56);var k=S.E3mK(86,6,14);g=parseInt(p.height,w)/k,S.N3mK(0);var L=S.E3mK(1,1);f=parseInt(p.width,10)/L,y=n.displayStem?parseInt(m.height,10)+parseInt(m.marginBottom,10):0,S.N3mK(114);var A=S.E3mK(2,1,8,9,4);v=y+parseInt(p.height,A),x=y?y+g:0,b=a.pixelFromDate(i.x),C=i.node.calculateYPosition({marker:e,panel:r,height:v,half:g,offset:x,inverted:u}),(e.tick||0===e.tick)&&(i.box={x0:b-(f||g),y0:C-g,x1:b+(f||g),y1:C+g,midY:g,midX:f||g,stemHeight:y},h||(o=h),a.startClip(r.name),"circle"===s?t.Marker.Performance.drawCircleMarker(e,p,{x:b,y:C,radius:g,label:o,color:c}):"square"===s?t.Marker.Performance.drawSquareMarker(e,p,{x:b,y:C,half:g,label:o,color:c}):"callout"===s?t.Marker.Performance.drawCalloutMarker(e,p,{x:b,y:C,half:g,midWidth:f,headline:l,color:c}):(S.N3mK(93),console.warn(S.E3mK(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: ",s))),n.displayStem&&t.Marker.Performance.drawMarkerStem(e,m,{x:b,y:C,invert:u}),a.endClip(),e.attached&&this.positionPopUpNode(e))}},t.Marker.Performance.prototype.positionPopUpNode=function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=we;if("tr","a","nslateX(",e.attached&&e.params.box){if(i=(t=e.params).stx,a=t.box,r=e.params.node.expand,n=i.chart.dataSet,s=i.chart.dataSegment,e.tick){l=[n[s[0]&&s[0].tick-1],n[s[0]&&s[0].tick-2]],h=i.getFirstLastDataRecord(l.concat(s),"Date"),b.N3mK(0);var C=b.e3mK(1,0);b.i3mK(113);var S=b.E3mK(19,323,6,6,17);b.N3mK(16);var w=b.e3mK(12,11);b.i3mK(34);var k=b.E3mK(13,15,301,8);c=[n[s[s.length-C].tick+S],n[s[s.length-w].tick+k]],u=i.getFirstLastDataRecord(s.concat(c),"Date",!0),o=h.DT<=n[e.tick].DT&&n[e.tick].DT<=u.DT}else o=!1;if(e.highlight||e.active||(o=!1),r.style.visibility=o?"":"hidden",o){if(d=i.panels[t.panelName],m=(p=r.rects).height/2,f=e.node.params.infoOffset||0,b.k7Kh(),e.node.params.infoOnLeft)g=a.x0-p.width-f<d.left?a.x1+f:a.x0-p.width-f;else{-1652632372,760524195,b.i3mK(26),y=b.E3mK("2",0);for(var L=1;-1652632372!==b.Y6v(L.toString(),L.toString().length,50429);L++)g=a.x0+p.width>d.right?a.x0-p.width-f:a.x1+f,y+=2;760524195!==b.Y6v(y.toString(),y.toString().length,65202)&&(g=a.x0-p.width<=d.right?(a.x0+p.width)/f:a.x1-f)}g-=i.chart.left,v=a.y0-m>=d.top?a.y0+a.midY-m:a.y0,!t.avoidFlush&&a.y1+a.stemHeight===d.yAxis.bottom&&p.height>a.y1-a.y0+a.stemHeight&&(v=a.y1-p.height+a.stemHeight),v-=i.chart.panel.top,x="translateX("+Math.floor(g)+"px) translateY("+Math.floor(v)+"px) translateZ(0)",r.style.transform=x,r.transform={translateX:g,translateY:v}}}},t.Marker.Performance.prototype.quickCache=function(e){var i,a,r,n;i=e.params.node,we.k7Kh(),a=i.expand,r=e.style,n=t.stripPX(r.marginLeft)+t.stripPX(r.marginRight)+t.stripPX(r.borderRight)+t.stripPX(r.borderLeft),a.rects=a.getBoundingClientRect(),a.scrollBarWidth=a.rects.width-a.clientWidth-n},t.Marker.Performance.prototype.calculateYPosition=function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,m;if("abo","ve_candle",t=e.marker,i=e.panel,we.d7Kh(),a=e.height,r=e.half,n=e.offset,s=e.inverted,l=(o=t.params.stx).chart,h=o.chart.highLowBars,c=l.dataSet[t.tick]){switch(u=h?c.High:c.Close,t.params.yPositioner){case"value":d=t.params.y||0===t.params.y?o.pixelFromPrice(t.params.y,i)-.5*a+r:o.pixelFromPrice(u,i)-n;break;case"above_candle":d=o.pixelFromPrice(u,i)-n;break;case"below_candle":d=o.pixelFromPrice(c.Low||u,i),d+=s&&n?n:r;break;case"on_candle":p=c.High||c.Close,m=c.Low||0===c.Low||c.Close,we.i3mK(16);var g=we.e3mK(9,7);d=o.pixelFromPrice((p+m)/g,i)-.5*a+r;break;case"top":d=o.pixelFromPrice(i.yAxis.high,i),d+=s&&n?n:r;break;case"bottom":d=o.pixelFromPrice(i.yAxis.low,i)-(n||r)}return d}},t.Marker.Performance.prototype.prepareForHolder=function(e){var t,i;return t=this.expand,i=e.params.stx,t.classList.add(this.params.type),we.k7Kh(),i.markerHelper.domMarkers.push(e),t},t.Marker.Performance.prototype.addToHolder=function(e){var i,a;function r(t){a.activeMarker=e,a.activeMarker.click({cx:t.clientX,cy:t.clientY,panel:a.currentPanel}),t.stopPropagation()}i=this.expand,a=e.params.stx,t.Marker.Performance.reconstituteExpanded(a),t.Marker.Performance.consolidateExpanded(a),this.quickCache(e),i.clickClosure||(i.addEventListener("mousedown",r),i.addEventListener("touchstart",r),i.clickClosure=r)},t.Marker.Performance.prototype.remove=function(e){var t,i,a,r;(t=e.params.stx)&&t.markerHelper.domMarkers&&(-1!=(i=t.markerHelper.domMarkers.indexOf(e))&&t.markerHelper.domMarkers.splice(i,1),e.attached&&("clic","k",a=t.panels[e.params.panelName],(r=e.params.node.expand).parentNode===a.subholder&&a.subholder.removeChild(r),r.removeEventListener("click",r.clickClosure)))},t.Marker.Performance.prototype.click=function(e){var t,i,a;if(this.hasText){"number"==typeof arguments[0]&&(e={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]});var{cx:r,cy:n,marker:s,panel:o}=e;if(t=s.params.stx,s.attached){if((a=this.expand).rects.width-a.scrollBarWidth+a.transform.translateX<t.backOutX(r)&&t.backOutX(r)<a.rects.width+a.transform.translateX)return;this.remove(s)}else t.addToHolder(s),i=!0;s.attached=!s.attached,s.active=!s.active,i&&s.stxNodeCreator.positionPopUpNode(s)}}):console.error("highPerformanceMarkers feature requires first activating markers feature.")},h=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Renderer.OHLC.requestNew=function(e,i){var a,r,n,s,o,l,h;a=null,r=i.hlc,n=i.colored,s=i.hollow,o=i.volume,l=i.histogram;for(var c=0;c<e.length;c++)switch("b","ar",h=e[c]){case"bar":case"candle":a=h;break;case"volume":o=!0;break;case"hollow":s=!0;break;case"colored":n=!0;break;case"histogram":l=!0,a="candle";break;case"hlc":r=!0,a="bar";break;default:return null}return we.d7Kh(),null===a?null:new t.Renderer.OHLC({params:t.extend(i,{type:a,hlc:r,colored:n,hollow:s,volume:o,histogram:l})})},t.Renderer.OHLC.getChartParts=function(e,t){var i;return"border_color_e","ven","b","or","d","er_color_up","fil","l_co","lor_","up","s","tx_hollow_ca","ndle_even","cand","l","e","b","ord","er_color_down","fill_c","olor_down","border_c","olo","r_","up","border_c","ol","or_down","cand","l","e","border_color_eve","n","cand","le","stx_c","a","ndle_shad","ow_down","b","order_color_up","b","order_","color_dow","n","stx_","bar","_down","b","a","r","ba","r","borde","r_color","stx","_bar_chart","b","a","r","border_color_","even","stx_","histo","gra","m_even","h","istog","ram","b","order_color_up","fill","_color","_up","st","x_histogr","am","_up","h","ist","o","gram",1,2,4,we.N3mK(22),16,32,[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:i=we.E3mK("8",0),fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:32,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:e||"stx_bar_chart",border:"border_color",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:t?i:1,border:"border_color_up",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:t?16:2,border:"border_color_down",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:t?32:4,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:i,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:32,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:i,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:1,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:2,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:4,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:17,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:18,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:20,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:1|i,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:2|i,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:4|i,fill:"fill_color_even",border:"border_color_even"}]},t.Renderer.Bars=function(e){var t;this.construct(e),(t=this.params).type="bar",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.hlc=t.volume=t.hollow=t.histogram=!1},t.inheritsFrom(t.Renderer.Bars,t.Renderer.OHLC,!1),t.Renderer.HLC=function(e){var t;this.construct(e),(t=this.params).type="bar",t.hlc=!0,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.volume=t.hollow=t.histogram=!1},t.inheritsFrom(t.Renderer.HLC,t.Renderer.Bars,!1),we.d7Kh(),t.Renderer.Shading=function(e){var t;t=2;for(var i=1;-430151867!==we.Y6v(i.toString(),i.toString().length,74739);i++)this.construct(e),this.beenSetup=!1,this.errTimeout=null,this.params.useChartLegend=!1,t+=2;-914797189!==we.Y6v(t.toString(),t.toString().length,45856)&&(this.construct(e),this.beenSetup=!0,this.errTimeout=1,this.params.useChartLegend=!0),this.shading=[],"rangechannel"==this.params.type&&(this.highLowBars=!0)},t.inheritsFrom(t.Renderer.Shading,t.Renderer.Lines,!1),t.Renderer.Shading.requestNew=function(e,i){var a,r,n;a=null,r=null;for(var s=0;s<e.length;s++)"rang","echannel","rangechannel"==(n=e[s])?a="rangechannel":"step"==n&&(r=!0);return null===a?null:new t.Renderer.Shading({params:t.extend(i,{type:a,step:r})})},t.Renderer.Shading.prototype.setShading=function(e){we.k7Kh(),e.constructor!=Array&&(e=[e]),this.shading=e},t.Renderer.Shading.prototype.draw=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y;function v(e){var t,i,a;return(t=l[e])?(i=t.parameters.field,a=t.parameters.subField,we.N3mK(0),we.e3mK(a?"."+a:"",i)):e}for("range",we.k7Kh(),"channel","ran","ge","ch","annel",e=this.stx,i=this.params,a=e.panels[i.panel].chart,"rangechannel"==i.type&&(this.beenSetup?this.seriesParams.length>2&&this.removeSeries(this.seriesParams[2].id):("st","x_line_up",this.beenSetup=!0,i.display=this.seriesParams[0].display,i.yAxis=this.seriesParams[0].yAxis,r=this.seriesParams[0].color||"auto","",(n=this.seriesParams[0].symbol)&&(we.i3mK(0),we.e3mK(".",n)),this.removeAllSeries(!0),s=i.name,e.addSeries(null,{symbol:n,loadData:!!n,field:"High",renderer:"Shading",name:s,style:"stx_line_up",display:i.display,shareYAxis:!0}),e.addSeries(null,{symbol:n,loadData:!!n,field:"Low",renderer:"Shading",name:s,style:"stx_line_down",display:i.display,shareYAxis:!0}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:r}))),this.shading||this.errTimeout||("Warning: no sha","ding sc","heme set.  Use myRenderer",".setShading(scheme) to set.",console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set."),o=this,this.errTimeout=setTimeout((function(){var e;e=2;for(var t=1;1709253858!==we.s1v(t.toString(),t.toString().length,22164);t++)o.errTimeout=1,e+=2;24623114!==we.s1v(e.toString(),e.toString().length,86316)&&(o.errTimeout=null)}),1e4)),l={},h=0;h<this.seriesParams.length;h++)c={},a.series[this.seriesParams[h].id]&&(c=t.clone(a.series[this.seriesParams[h].id].parameters)),l[this.seriesParams[h].id]={parameters:t.extend(t.extend(c,i),this.seriesParams[h]),yValueCache:this.caches[this.seriesParams[h].id]};for(h in e.drawSeries(a,l,i.yAxis,this),a.legend&&"rangechannel"==i.type&&("stx_line_dow","n","st","x","_line_up",a.legend.colorMap||(a.legend.colorMap={}),u=i.display,d=[e.getCanvasColor("stx_line_up"),e.getCanvasColor("stx_line_down")],a.legend.colorMap[u]={color:d,display:u,isBase:this==e.mainSeriesRenderer}),l)this.caches[h]=l[h].yValueCache;for(h=0;h<this.shading.length;h++)"Cl","o","s","e",m=(p=this.shading[h]).color,"auto"==p.color&&(m=e.defaultColor),p.primary||(p.primary="Close"),!p.secondary&&this.seriesParams[0]&&(p.secondary=this.seriesParams[0].field),p.secondary&&(l[p.primary]||"Close"==p.primary)&&l[p.secondary]&&("Close"==p.primary&&i.yAxis&&i.yAxis!=a.yAxis||(g=v(p.primary).split("."),f=v(p.secondary).split("."),((y={topBand:g[0],topSubBand:g[1],topColor:p.greater||m||e.containerColor,topAxis:i.yAxis,bottomBand:f[0],bottomSubBand:f[1],bottomColor:p.lesser||m||e.containerColor,bottomAxis:"Close"==p.primary?null:i.yAxis,tension:i.tension||a.tension,opacity:.1,step:i.step}).topColor||y.bottomColor)&&(!i.highlight&&e.highlightedDraggable&&(y.opacity*=.3),t.fillIntersecting(e,i.panel,y))))},t.Renderer.Histogram=function(e){var t,i,a=we;this.construct(e),a.N3mK(22),t=-a.e3mK("226789662",75497488),a.N3mK(26),i=a.e3mK("2",0);for(var r=1;a.Y6v(r.toString(),r.toString().length,27234)!==t;r++)"hi","sto","gram",this.params.type="histogram",this.barsHaveWidth=this.standaloneBars=!0,i+=2;-683168925!==a.s1v(i.toString(),i.toString().length,12669)&&(this.params.type="",this.barsHaveWidth=this.standaloneBars=!1),this.params.yAxis&&(this.params.bindToYAxis=!0,"number"==typeof this.params.yAxis.baseline&&(this.params.yAxis.baseline={value:this.params.yAxis.baseline}))},t.inheritsFrom(t.Renderer.Histogram,t.Renderer,!1),t.Renderer.Histogram.prototype.adjustYAxis=function(){var e;(e=this.params.yAxis)&&!e.baseline&&(e.min=0,we.k7Kh(),e.highValue/=this.params.heightPercentage||1)},t.Renderer.Histogram.prototype.draw=function(){var e,i,a,r;we.d7Kh(),(e=t.clone(this.params)).type=e.subtype,this.useSum="stacked"==e.subtype,e.yAxis&&e.yAxis!=this.stx.chart.yAxis||(e.bindToYAxis=!0),this.stx.drawHistogram(e,this.seriesParams),(i=e.yAxis&&e.yAxis.baseline)&&i.color&&("desti","nation-over","sol","id",a=this.stx.panels[this.params.panel],r=this.stx.pixelFromPrice(i.value,a,this.params.yAxis)-.5,this.stx.plotLine({x0:a.left,x1:a.right,y0:r,y1:r,color:i.color,type:"line",context:a.chart.context,confineToPanel:a,pattern:i.pattern||"solid",lineWidth:i.lineWidth||1,opacity:i.opacity||.8,globalCompositeOperation:"destination-over"}))},t.Renderer.Histogram.prototype.getBasis=function(e,t,i){var a,r,n;if(we.i3mK(4),a=we.e3mK("0",2147483647),e&&this.useSum)for(var s=0;s<this.seriesParams.length&&("obj","ect",(r=this.seriesParams[s].field)!==t);s++)(n=e[r])&&"object"==typeof n&&(n=n[i||this.seriesParams[s].subField||this.stx.chart.defaultPlotField||"Close"]),n&&(a+=n);return a},t.Renderer.Heatmap=function(e){we.k7Kh(),this.construct(e),this.params.type="heatmap",this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},t.inheritsFrom(t.Renderer.Heatmap,t.Renderer,!1),t.Renderer.Heatmap.requestNew=function(e,i){var a;a=null;for(var r=0;r<e.length;r++)"heatmap"==e[r]&&(a="heatmap");return null===a?null:new t.Renderer.Heatmap({params:t.extend(i,{type:a})})},t.Renderer.Heatmap.prototype.draw=function(){we.d7Kh(),this.stx.drawHeatmap(t.clone(this.params),this.seriesParams)},t.Renderer.Scatter=function(e){we.d7Kh(),this.construct(e),this.standaloneBars=this.barsHaveWidth=!0,this.bounded=!0},t.inheritsFrom(t.Renderer.Scatter,t.Renderer.Lines,!1),t.Renderer.Scatter.requestNew=function(e,i){var a;a=null;for(var r=0;r<e.length;r++)"sca","tte","rplo","t","scatterplot"==e[r]&&(a="scatter");return null===a?null:new t.Renderer.Scatter({params:t.extend(i,{type:a})})},t.Renderer.Scatter.prototype.drawIndividualSeries=function(e,t){var i,a;return"Error, Scatter renderer req","uires customChart.","js",i=this.stx.panels[t.panel]||e.panel,a={colors:[]},this.stx.scatter?a=this.stx.scatter(i,t):console.warn("Error, Scatter renderer requires customChart.js"),a}},c=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Accumulation/Distribu","tion",t.Studies.calculateAccumulationDistribution=function(e,t){var i,a,r,n,s,o=we;o.k7Kh(),i=t.chart.scrubbed;for(var l=t.startFrom;l<i.length;l++)if("Resul","t ",l){if((a=i[l]).futureTick)break;o.i3mK(1),r=i[o.E3mK(1,l)],o.N3mK(53),n=o.e3mK("0",111400608),a.Close>r.Close?n=a.Close-Math.min(a.Low,r.Close):a.Close<r.Close&&(n=a.Close-Math.max(a.High,r.Close)),t.inputs["Use Volume"]&&(n*=a.Volume),(s=r["Result "+t.name])||(s=0),s+=n,isNaN(a.Close)||(a["Result "+t.name]=s)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:t.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}}})):console.error("accumulationDistribution feature requires first activating studies feature.")},u=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateADX=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y=we;if("Smoothing Per","iod",t.Studies.calculateStudyATR(e,i),a=i.chart.scrubbed,y.d7Kh(),r=i.days,(n=parseInt(i.inputs["Smoothing Period"],10))||0===n||(n=r),a.length<i.days+1)i.error=!0;else{s=0,o=0,l=0,h=0;for(var v=Math.max(1,i.startFrom);v<a.length;v++){if("+DI"," ","_s","m","+D","M ",c=a[v],(u=Math.max(0,c.High-a[v-1].High))>(d=Math.max(0,a[v-1].Low-c.Low))?d=0:u=d>u?0:d=0,v<=r)"T","rue Ra","n","ge ",o+=u,l+=d,s+=c["True Range "+i.name];else{"True R","a","ng","e ","_","s","mTR"," ","_s","m","-DM ",y.N3mK(24);var x=y.e3mK(8,8,1,10,7);y.i3mK(1);var b=y.e3mK(16,17);o=a[v-x]["_sm+DM "+i.name]*(r-b)/r+u,y.i3mK(115);var C=y.E3mK(14,5,15,15,12);y.i3mK(16);var S=y.E3mK(5,4);l=a[v-C]["_sm-DM "+i.name]*(r-S)/r+d,y.i3mK(23),s=a[v-("1">>y.e3mK(958836878,15341390030,17))]["_smTR "+i.name]*(r-1)/r+c["True Range "+i.name]}if(c["_sm+DM "+i.name]=o,c["_sm-DM "+i.name]=l,c["_smTR "+i.name]=s,!(v<r)){if(y.i3mK(116),p=y.e3mK("100",0,s,o),y.N3mK(117),m=y.E3mK(s,l,100),y.i3mK(58),g=("100"<<y.e3mK(808003121,808003103,808003121))*Math.abs(p-m)/(p+m),c["+DI "+i.name]=p,c["-DI "+i.name]=m,!1!==i.inputs.Series&&n)if(v<r+n-1){if(v==i.startFrom)for(var w=r;w<i.startFrom;w++){"+DI"," ","-DI"," ","+","D","I"," ",y.i3mK(23),h+=y.E3mK(113,2160,20)*Math.abs(a[w]["+DI "+i.name]-a[w]["-DI "+i.name])/(a[w]["+DI "+i.name]+a[w]["-DI "+i.name])}h+=g}else if(v==r+n-1)y.i3mK(10),c["ADX "+i.name]=y.e3mK(h,n);else{"A","DX ",y.N3mK(36);var k=y.E3mK(3,0,2,1);c["ADX "+i.name]=(a[v-1]["ADX "+i.name]*(n-k)+g)/n}if(i.inputs.Histogram){if("-","DI ","+D","I"," ",f=i.name+"_hist",!c["+DI "+i.name]&&0!==c["+DI "+i.name])continue;if(!c["-DI "+i.name]&&0!==c["-DI "+i.name])continue;c[f]=c["+DI "+i.name]-c["-DI "+i.name],!1===i.inputs.Series&&("-","DI"," ",c["+DI "+i.name]=null,c["-DI "+i.name]=null),i.outputMap[f]=""}}}}},t.Studies.displayADX=function(e,i,a){var r,n,s,o,l,h,c;r=i.underlay?.3:i.inputs.Series?.4:1,i.inputs.Series&&i.inputs.Shading&&("+","D","I"," ",n="+DI "+i.name,s="-DI "+i.name,o=t.Studies.determineColor(i.outputs[i.outputMap[n]]),l=t.Studies.determineColor(i.outputs[i.outputMap[s]]),h=i.getYAxis(e),c={topBand:n,bottomBand:s,topColor:o,bottomColor:l,skipTransform:e.panels[i.panel].name!=i.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!i.highlight&&e.highlightedDraggable&&(c.opacity*=.3),t.fillIntersecting(e,i.panel,c)),i.inputs.Histogram&&t.Studies.createHistogram(e,i,a,!1,r),!1!==i.inputs.Series?t.Studies.displaySeriesAsLine(e,i,a):i.inputs.Series||i.inputs.Histogram||e.displayErrorAsWatermark(i.panel,e.translateIf(i.name)+": "+e.translateIf("Nothing to display"))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:t.Studies.calculateADX,seriesFN:t.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:!1},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}})):("adx ","feature requires first activatin","g studies featu","re.",console.error("adx feature requires first activating studies feature."))},d=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.k7Kh(),t.Studies?("#FF","0000","#0","0","00FF","A","lli","ga","tor",t.Studies.calculateAlligator=function(e,i){var a,r,n,s,o,l,h,c=we;c.i3mK(15),a=c.e3mK(1526476128,"1020898704"),r=2;for(var u=1;1610106494!==c.Y6v(u.toString(),u.toString().length,73944);u++)n={J:Number(i.inputs["Jaw Period"]),T:Number(i.inputs["Teeth Period"]),L:Number(i.inputs["Lips Period"])},r+=2;if(c.k7Kh(),c.s1v(r.toString(),r.toString().length,95345)!==a&&(n={J:Number(i.inputs["Jaw Period"]),T:Number(i.inputs["Jaw Period"]),L:Number(i.inputs["Jaw Period"])}),(s=i.chart.scrubbed).length<Math.max(n.J,n.T,n.L)+1)i.error=!0;else{("Gator"===i.type||i.inputs["Show Lines"])&&("Lips"," Offset","well","es wilder",t.Studies.MA("welles wilder",n.J,"hl/2",i.inputs["Jaw Offset"],"Jaw",e,i),t.Studies.MA("welles wilder",n.T,"hl/2",i.inputs["Teeth Offset"],"Teeth",e,i),t.Studies.MA("welles wilder",n.L,"hl/2",i.inputs["Lips Offset"],"Lips",e,i));for(var d=i.startFrom;d<s.length;d++)if(s[d]&&("Gator"==i.type&&("_h","is","t","2","L","ip","s ",o=s[d]["Jaw "+i.name],l=s[d]["Lips "+i.name],((h=s[d]["Teeth "+i.name])||0===h)&&("_","h","ist","2",(o||0===o)&&(c.N3mK(1),s[d][i.name+"_hist1"]=Math.abs(c.E3mK(h,o))),(l||0===l)&&(c.i3mK(1),s[d][i.name+"_hist2"]=-Math.abs(c.E3mK(l,h)))),i.outputMap={},i.outputMap[i.name+"_hist1"]="",i.outputMap[i.name+"_hist2"]=""),i.inputs["Show Fractals"])){if(!(s[d-2]&&s[d-1]&&s[d]&&s[d+1]&&s[d+2]))continue;s[d-2].High&&s[d-1].High&&s[d].High&&s[d+1].High&&s[d+2].High&&s[d].High>s[d-1].High&&s[d].High>s[d-2].High&&s[d].High>s[d+1].High&&s[d].High>s[d+2].High&&("Fract","al ","H","igh ",s[d]["Fractal High "+i.name]=1),s[d-2].Low&&s[d-1].Low&&s[d].Low&&s[d+1].Low&&s[d+2].Low&&s[d].Low<s[d-1].Low&&s[d].Low<s[d-2].Low&&s[d].Low<s[d+1].Low&&s[d].Low<s[d+2].Low&&(s[d]["Fractal Low "+i.name]=1)}}},t.Studies.displayAlligator=function(e,i,a){var r;function n(t,i){var n,o;o=e.chart.panel.yAxis.flipped,"high"==t?(r.fillStyle=e.defaultColor,r.textBaseline=o?"top":"bottom",n=e.pixelFromPrice(a[i].High),r.fillText(o?"":"",e.pixelFromBar(s,e.chart)-r.measureText("").width/2+1,o?n+5:n-5)):"low"==t&&(r.fillStyle=e.defaultColor,r.textBaseline=o?"bottom":"top",n=e.pixelFromPrice(a[i].Low),r.fillText(o?"":"",e.pixelFromBar(s,e.chart)-r.measureText("").width/2+1,o?n-5:n+5))}if("Sh",we.d7Kh(),"ow"," Lin","es",r=i.getContext(e),i.inputs["Show Lines"]&&t.Studies.displaySeriesAsLine(e,i,a),i.inputs["Show Fractals"]){e.startClip(),r.globalAlpha=i.underlay?.3:1,!i.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3);for(var s=2;s<a.length-2;s++)a[s]&&("hi","g","h",a[s]["Fractal High "+i.name]&&n("high",s),a[s]["Fractal Low "+i.name]&&n("low",s));e.endClip()}},t.Studies.displayGator=function(e,i,a){var r,n,s,o,l,h,c,u,d,p=we;r=e.panels[i.panel],n=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,r,s),p.d7Kh(),p.N3mK(23);var m=p.E3mK(8,22,3);(l=e.layout.candleWidth-m)<2&&(l=1),h=t.Studies.determineColor(i.outputs["Increasing Bar"]),c=t.Studies.determineColor(i.outputs["Decreasing Bar"]),e.canvasColor("stx_histogram"),i.underlay||(n.globalAlpha=1),n.fillStyle="#CCCCCC",e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(n.globalAlpha*=.3);for(var g=0;g<a.length;g++)if(u=a[g],p.N3mK(1),d=a[p.e3mK(1,g)],u)for(var f=1;f<=2;f++)"_h","ist",d||(d=e.getPreviousBar(e.chart,i.name+"_hist"+f,g)),d?Math.abs(d[i.name+"_hist"+f])<Math.abs(u[i.name+"_hist"+f])?n.fillStyle=h:Math.abs(d[i.name+"_hist"+f])>Math.abs(u[i.name+"_hist"+f])&&(n.fillStyle=c):n.fillStyle="#CCCCCC",u.candleWidth&&(l=Math.floor(Math.max(1,u.candleWidth-2))),n.fillRect(Math.floor(e.pixelFromBar(g,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(u[i.name+"_hist"+f],r,s)-o));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!0,seriesFN:t.Studies.displayAlligator,calculateFN:t.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:t.Studies.displayGator,calculateFN:t.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}})):console.error("alligator feature requires first activating studies feature.")},p=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("a","uto","0 to ","10","0","Ar","oon",t.Studies.calculateAroon=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m=we;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{if(a=0,r=0,m.k7Kh(),n=null,s=null,t.startFrom>0){m.i3mK(118);var g=m.E3mK(0,101,12,16,7);(o=i[t.startFrom-g]["_state "+t.name])&&(a=o[0],r=o[1],n=o[2],s=o[3])}for(var f=t.startFrom;f<i.length&&("_state"," ",!(h=i[f]).futureTick);f++){if(null===n&&(n=h.High),null===s&&(s=h.Low),(n=Math.max(n,h.High))==h.High)a=0;else if(++a>t.days)for(n=h.High,a=0,l=1;l<=t.days;l++)(n=Math.max(n,i[f-l].High))==i[f-l].High&&(a=l);if((s=Math.min(s,h.Low))==h.Low)r=0;else if(++r>t.days)for(s=h.Low,r=0,l=1;l<=t.days;l++)(s=Math.min(s,i[f-l].Low))==i[f-l].Low&&(r=l);c=!isNaN(h.High),u=!isNaN(h.Low),m.N3mK(58);var y=m.E3mK(88,92,11);m.i3mK(119),d=y*(m.E3mK(2,15,15)-a/t.days),c&&(h["Aroon Up "+t.name]=d),m.N3mK(119),p=100*(m.e3mK(2,11,11)-r/t.days),u&&(h["Aroon Down "+t.name]=p),c&&u&&(h["Aroon Oscillator "+t.name]=h["Aroon Up "+t.name]-h["Aroon Down "+t.name]),h["_state "+t.name]=[a,r,n,s]}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:t.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:t.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}})):console.error("aroon feature requires first activating studies feature.")},m=e=>{var t,i,a,r=we;r.i3mK(15),t=-r.e3mK(95373664,"1180997017"),i=2;for(var n=1;r.s1v(n.toString(),n.toString().length,13521)!==t;n++)a=""!=!_CIQ?_CIQ:e.CIQ,i+=2;-268703385!==r.Y6v(i.toString(),i.toString().length,3754)&&(a="undefined"!=typeof _CIQ?_CIQ:e.CIQ),r.d7Kh(),a.Studies?("squarewa","ve","AT","R ","Trailing Stops","a","uto","a","ut","o","aut","o","Av","er","age ","True Range",a.Studies.calculateATRBands=function(e,t){var i;a.Studies.calculateStudyATR(e,t),(i=t.inputs.Field)&&"field"!=i||(i="Close"),a.Studies.calculateGenericEnvelope(e,t,t.inputs.Shift,i,"ATR "+t.name)},a.Studies.calculateSTARCBands=function(e,t){var i;a.Studies.calculateStudyATR(e,t),i=2;for(var n=1;1785758445!==r.s1v(n.toString(),n.toString().length,9750);n++)a.Studies.MA("_MA",t.inputs._MA,"_MA",3,"_MA",e,t),i+=2;-1346163251!==r.Y6v(i.toString(),i.toString().length,73449)&&("simp","l","e",a.Studies.MA("simple",t.inputs["MA Period"],"Close",0,"_MA",e,t)),a.Studies.calculateGenericEnvelope(e,t,t.inputs.Multiplier,"_MA "+t.name,"ATR "+t.name)},a.Studies.calculateATRStops=function(e,t){var i,n,s,o,l,h,c,u;if(i=t.chart.scrubbed,r.d7Kh(),i){a.Studies.calculateStudyATR(e,t),n=t.inputs.HighLow;for(var d=Math.max(t.startFrom-1,1);d<i.length-1;d++)"Sell"," St","ops"," ",s=i[d],r.i3mK(1),o=i[r.e3mK(1,d)],(l=s["Buy Stops "+t.name])||(l=s["Sell Stops "+t.name]),l||(l=0),s&&o&&(c=h=s.Close,u=s["ATR "+t.name]*t.inputs.Multiplier,s.Close>l&&o.Close>l?(n&&(h=s.High),r.N3mK(1),c=Math.max(l,r.E3mK(u,h))):s.Close<=l&&o.Close<=l?(n&&(h=s.Low),r.i3mK(0),c=Math.min(l,r.e3mK(u,h))):s.Close>l?(n&&(h=s.High),r.i3mK(1),c=r.E3mK(u,h)):s.Close<=l&&(n&&(h=s.Low),r.N3mK(0),c=r.E3mK(u,h)),h<=c?("Sell Sto","ps ",r.i3mK(0),i[r.e3mK(1,d)]["Buy Stops "+t.name]=c,r.i3mK(0),delete i[r.E3mK(1,d)]["Sell Stops "+t.name]):h>c&&(r.N3mK(120),i[r.E3mK("1",d)]["Sell Stops "+t.name]=c,r.N3mK(0),delete i[r.E3mK(1,d)]["Buy Stops "+t.name]),r.N3mK(0),i[r.e3mK(1,d)]["All Stops "+t.name]=c);t.referenceOutput="All Stops",t.outputMap={},t.outputMap["All Stops "+t.name]=""}},a.Studies.studyLibrary=a.extend(a.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:a.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:a.Studies.displayChannel,calculateFN:a.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:.1,step:.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:a.Studies.displayChannel,calculateFN:a.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:.1,step:.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:a.Studies.displayPSAR2,calculateFN:a.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:.1,step:.1}}}})):console.error("atr feature requires first activating studies feature.")},g=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#F","F0","00","0","#","00DD","0","0","A","w","esome Oscillator",t.Studies.calculateAwesomeOscillator=function(e,i){var a;if("_h","i","s",we.k7Kh(),"t","_","MA","3","4","s","imp","le",(a=i.chart.scrubbed).length<33)i.error=!0;else{t.Studies.MA("simple",5,"hl/2",0,"_MA5",e,i),t.Studies.MA("simple",34,"hl/2",0,"_MA34",e,i);for(var r=Math.max(i.startFrom,33);r<a.length;r++)"_","h","i","st",a[r]&&(a[r][i.name+"_hist"]=a[r]["_MA5 "+i.name]-a[r]["_MA34 "+i.name]);i.outputMap={},i.outputMap[i.name+"_hist"]=""}},t.Studies.displayAwesomeOscillator=function(e,i,a){var r,n,s,o,l,h,c,u,d;r=e.panels[i.panel],n=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,r,s),we.i3mK(121);var p=we.E3mK(12,19,9,8,8);(l=e.layout.candleWidth-p)<2&&(l=1),h=t.Studies.determineColor(i.outputs["Increasing Bar"]),c=t.Studies.determineColor(i.outputs["Decreasing Bar"]),e.canvasColor("stx_histogram"),i.underlay||(n.globalAlpha=1),n.fillStyle="#CCCCCC",e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(n.globalAlpha*=.3);for(var m=0;m<a.length;m++)"_his","t","_","hi","s","t",u=a[m],we.N3mK(1),(d=a[we.E3mK(1,m)])||(d=e.getPreviousBar(e.chart,i.name+"_hist",m)),u&&(d&&(d[i.name+"_hist"]<u[i.name+"_hist"]?n.fillStyle=h:d[i.name+"_hist"]>u[i.name+"_hist"]&&(n.fillStyle=c)),u.candleWidth&&(l=Math.floor(Math.max(1,u.candleWidth-2))),n.fillRect(Math.floor(e.pixelFromBar(m,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(u[i.name+"_hist"],r,s)-o)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:t.Studies.displayAwesomeOscillator,calculateFN:t.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):("awesomeOs","cillator fe","ature requires first ac","tivating studies feature.",console.error("awesomeOscillator feature requires first activating studies feature."))},f=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateBalanceOfPower=function(e,i){var a,r;if("R","es","ul","t","Moving ","Average Type",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var n=i.startFrom;n<a.length;n++)"_","Rati","o"," ",(r=a[n])["_Ratio "+i.name]=r.Close-r.Open,r.High-r.Low!=0&&(r["_Ratio "+i.name]/=r.High-r.Low);t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_Ratio "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:t.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}})):console.error("balanceOfPower feature requires first activating studies feature.")},y=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.k7Kh(),t.Studies?("m","a","Bo","llinger Bandwidt","h","au","t","o","f","ield","Bo","llinger"," %","b","au","t","o",t.Studies.calculateBollinger=function(e,i){var a;(a=i.inputs.Field)&&"field"!=a||(a="Close"),t.Studies.MA(i.inputs["Moving Average Type"],i.days,a,0,"_MA",e,i),i.std=new t.Studies.StudyDescriptor(i.name,"STD Dev",i.panel),i.std.chart=i.chart,i.std.startFrom=i.startFrom,i.std.days=i.days,i.std.inputs={Field:a,"Standard Deviations":1,Type:i.inputs["Moving Average Type"]},i.std.outputs={"_STD Dev":null},t.Studies.calculateStandardDeviation(e,i.std),t.Studies.calculateGenericEnvelope(e,i,i.inputs["Standard Deviations"],"_MA "+i.name,"_STD Dev "+i.name),"Boll %b"==i.type&&(i.zoneOutput="%b")},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!0,calculateFN:t.Studies.calculateBollinger,seriesFN:t.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:t.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:t.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}}})):console.error("bollinger feature requires first activating studies feature.")},v=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.d7Kh(),t.Studies?("Commodity Ch","annel Index",t.Studies.calculateCCI=function(e,i){var a,r,n;if("M","A","s","im","ple",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{t.Studies.MA("simple",i.days,"hlc/3",0,"MA",e,i);for(var s=Math.max(i.startFrom,i.days-1);s<a.length;s++)if(r=a[s]){n=0;for(var o=0;o<i.days;o++)n+=Math.abs(a[s-o]["hlc/3"]-r["MA "+i.name]);n/=i.days,Math.abs(n)<1e-8?r["Result "+i.name]=0:r["Result "+i.name]=(r["hlc/3"]-r["MA "+i.name])/(.015*n)}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:t.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}})):console.error("cci feature requires first activating studies feature.")},x=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("f","ie","l","d",t.Studies.calculateCenterOfGravity=function(e,t){var i,a,r,n,s,o=we;if("f","ield",(i=t.chart.scrubbed).length<t.days)t.error=!0;else{(a=t.inputs.Field)&&"field"!=a||(a="Close"),o.k7Kh();for(var l=Math.max(t.startFrom,t.days-1);l<i.length;l++){r=0,n=0;for(var h=0;h<t.days;h++)o.i3mK(1),s=i[o.E3mK(h,l)][a],o.N3mK(122),r-=o.e3mK("1",s,0,h),n+=s;n&&(o.i3mK(10),i[l]["Result "+t.name]=o.E3mK(r,n))}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:t.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}})):console.error("centerOfGravity feature requires first activating studies feature.")},b=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Chaik","in Money Flow",t.Studies.calculateChaikinMoneyFlow=function(e,t){var i,a,r,n;if((i=t.chart.scrubbed).length<t.days)t.error=!0;else{a=0,r=0,we.N3mK(23);var s=we.E3mK(2,33,17);(n=i[t.startFrom-s])&&("_","sumV ","_sumMF"," ",n["_sumMF "+t.name]&&(a=n["_sumMF "+t.name]),n["_sumV "+t.name]&&(r=n["_sumV "+t.name]));for(var o=t.startFrom;o<i.length;o++)"_su","mV ","_","MFV ",i[o].High==i[o].Low?i[o]["_MFV "+t.name]=0:i[o]["_MFV "+t.name]=i[o].Volume*(2*i[o].Close-i[o].High-i[o].Low)/(i[o].High-i[o].Low),a+=i[o]["_MFV "+t.name],r+=i[o].Volume,o>t.days-1&&("Res","ul","t"," ",a-=i[o-t.days]["_MFV "+t.name],(r-=i[o-t.days].Volume)&&(we.N3mK(10),i[o]["Result "+t.name]=we.e3mK(a,r))),i[o]["_sumMF "+t.name]=a,i[o]["_sumV "+t.name]=r}},t.Studies.calculateChaikinVolatility=function(e,i){var a,r,n;if("Rate ","Of Cha","nge",(a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(r=i.startFrom;r<a.length&&!a[r].futureTick;r++)a[r]["_High-Low "+i.name]=a[r].High-a[r].Low;for(t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_High-Low "+i.name,0,"_MA",e,i),(n=i.inputs["Rate Of Change"])||(n=i.days),r=Math.max(i.startFrom,n);r<a.length;r++)if("_","M","A"," ",a[r-n]["_MA "+i.name]){if(a[r].futureTick)break;we.N3mK(123);var s=we.E3mK(95720,1600,3,3,20);we.i3mK(0);var o=we.e3mK(1,0);a[r]["Result "+i.name]=s*(a[r]["_MA "+i.name]/a[r-n]["_MA "+i.name]-o)}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:t.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:t.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}})):console.error("chaikin feature requires first activating studies feature.")},C=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("au","to",t.Studies.prettify.variable="vma",t.Studies.movingAverage.conversions.vma="variable",t.Studies.movingAverage.translations.variable="Variable",t.Studies.movingAverage.typeMap.vma="Variable",t.Studies.movingAverage.typeMap.variable="Variable",t.Studies.calculateChandeForecast=function(e,i){var a,r,n;if("f","ield",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&"field"!=r||(r="Close"),t.Studies.MA("time series",i.days,r,0,"MA",e,i);for(var s=Math.max(1,i.startFrom);s<a.length;s++){(n=a[s][r])&&"object"==typeof n&&(n=n[i.subField]),we.N3mK(23);var o=we.e3mK(82,228,4);we.N3mK(31);var l=we.E3mK(0,13,25,13);a[s]["Result "+i.name]=o*(l-a[s]["MA "+i.name]/n)}}},t.Studies.calculateChandeMomentum=function(e,t){var i,a,r,n,s,o,l,h,c,u,d=we;for(var p in i=t.name,t.outputs)d.i3mK(93),i=d.E3mK(i,p," ");if((a=t.chart.scrubbed).length<t.days+1)t.error=!0;else{(r=t.inputs.Field)&&"field"!=r||(r="Close"),d.k7Kh(),n=0,s=0,o=[];for(var m=t.startFrom-t.days+1;m<a.length;m++)m<1||(l=a[m][r],d.N3mK(1),h=a[d.e3mK(1,m)][r],l&&"object"==typeof l&&(l=l.Close),h&&"object"==typeof h&&(h=h.Close),void 0!==h&&(d.N3mK(1),c=d.E3mK(h,l),o.push(c),n+=c,s+=Math.abs(c),o.length==t.days&&(d.i3mK(117),a[m][i]=d.E3mK(s,n,100),n-=u=o.shift(),s-=Math.abs(u))))}},t.Studies.calculateMovingAverageVariable=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=we;i.inputs.Type,a=i.chart.scrubbed,x.N3mK(124);var b=x.E3mK(11,2,19,20,419);x.i3mK(16);var C=x.e3mK(14,13);for(var S in r=b/(i.days+C),n=null,s=i.name,i.outputs)x.N3mK(93),s=x.E3mK(s,S," ");for((o=i.inputs.Field)&&"field"!=o||(o="Close"),i.cmo=new t.Studies.StudyDescriptor(i.name,"cmo",i.panel),i.cmo.chart=i.chart,i.cmo.days=9,i.cmo.inputs={Field:o},i.cmo.startFrom=i.startFrom,i.cmo.outputs={_CMO:null},t.Studies.calculateChandeMomentum(e,i.cmo),l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),d=i.startFrom,p=l,h=i.startFrom-1;h>=0;h--)if((c=a[h][s])||0===c){if(null===n&&(n=c),p<=0)break;p--,d=h}for(null===n&&(n=d=0),m=[],h=d;h<a.length;h++)if("_","CMO ","ob","ject",(c=(g=a[h])[o])&&"object"==typeof c&&(c=c[i.subField]),f=h+l>=0&&h+l<a.length?a[h+l]:null,c||0===c){if(g["_CMO "+i.name]||0===g["_CMO "+i.name]){x.i3mK(1);var w=x.E3mK(8,108);y=Math.abs(g["_CMO "+i.name])/w,x.N3mK(125),n=v=x.E3mK(r,1,y,n,c,y,r),h<i.days&&(v=null),f?f[s]=v:h+l>=a.length&&((u={})[s]=v,m.push(u))}}else f?f[s]=null:h+l>=a.length&&((u={})[s]=null,m.push(u));i.appendFutureTicks(e,m)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:t.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:t.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}})):console.error("chande feature requires first activating studies feature.")},S=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("0",".","1",t.Studies.calculateChoppiness=function(e,i){var a,r,n;function s(e,t){var i,r;we.k7Kh(),we.N3mK(126);var n=we.E3mK(7,13,10,11,6);i=Number.MAX_VALUE*(-1*n),r=Number.MAX_VALUE;for(var s=t-e+1;s<=t;s++)s<0||(i=Math.max(i,a[s].High),r=Math.min(r,a[s].Low));return[r,i]}if(t.Studies.calculateStudyATR(e,i),(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else for(var o=Math.max(i.startFrom,i.days);o<a.length;o++)if(r=a[o]){if(r.futureTick)break;if(n=s(i.days,o),r["Sum True Range "+i.name]){"Sum True Range"," ",we.i3mK(60);var l=we.e3mK(134300,16,1200,7);we.N3mK(0);var h=we.e3mK(1,0);r["Result "+i.name]=l*Math.log(r["Sum True Range "+i.name]/Math.max(1e-6,n[h]-n[0]))/Math.log(i.days)}else isNaN(r)||(r["Result "+i.name]=0)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:t.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}})):console.error("choppiness feature requires first activating studies feature.")},w=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?t.Studies.initPriceRelative?("S","P","Y","#","FF","000","0","-","1"," ","to 1","Co","rrelation C","oefficient",t.Studies.calculateCorrelationCoefficient=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f=we;if("Compare ","To",i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{if(f.k7Kh(),t.compare=t.inputs["Compare To"],t.compare)t.compare=[t.compare];else for(var y in t.compare=[],t.outputs={},t.outputMap={},e.chart.series)if((r=e.chart.series[y]).parameters.color){t.compare.push(r.display),t.outputs["Result "+r.display]=r.parameters.color,f.i3mK(127);var v=f.E3mK(13,18,715,171,5716);t.outputMap["Result "+r.display+(769.71!==v?" ":"L")+t.name]="Result "+r.display}if(t.compare.length)for(var x=0;x<t.compare.length;x++){f.N3mK(5),n=f.E3mK(1,"0"),f.N3mK(4),s=f.e3mK("0",2147483647),o=0,l=0,h=0,c=t.compare[x],u=0;for(var b=t.startFrom-a;b<i.length;b++)if("_te","mp","s"," ","_","te","m","ps ","_tem","ps"," ",i[b]){if((d=i[b][c])&&"object"==typeof d&&(d=d.Close),d||0===d||("_te","mp","s ",d=b>0&&i[b-1]&&i[b-1]["_temps "+t.name]&&i[b-1]["_temps "+t.name].c?i[b-1]["_temps "+t.name].c:0),d&&"object"==typeof d&&(d=d.Close),i[b]["_temps "+t.name]={},n+=i[b]["_temps "+t.name].b=i[b].Close,s+=i[b]["_temps "+t.name].c=d,o+=i[b]["_temps "+t.name].b2=Math.pow(i[b].Close,2),l+=i[b]["_temps "+t.name].c2=Math.pow(d,2),h+=i[b]["_temps "+t.name].bc=i[b].Close*d,u>=a){"_t","emps ","_","tem","ps ",n-=i[b-a]["_temps "+t.name].b,s-=i[b-a]["_temps "+t.name].c,o-=i[b-a]["_temps "+t.name].b2,l-=i[b-a]["_temps "+t.name].c2,h-=i[b-a]["_temps "+t.name].bc,f.N3mK(23);var C=f.E3mK(18,340,19);p=o/a-Math.pow(n/a,C),f.N3mK(128);var S=f.e3mK(3,406,8,9,17);m=l/a-Math.pow(s/a,S),f.N3mK(1);var w=f.e3mK(4,6);g=(h/a-n*s/Math.pow(a,w))/Math.sqrt(p*m),f.i3mK(93);f.E3mK(944,473,3);f.i3mK(105);f.e3mK(44940299,19,7731,18,17);f.i3mK(0);f.E3mK(6092,508);f.i3mK(40);f.E3mK(1081,17,8633,15);f.i3mK(71);f.e3mK(3,6173,9,12305);f.i3mK(7);f.e3mK(108306,10,102299);f.N3mK(36);f.E3mK(2614,132,4,8);i[b]["Result "+c+" "+t.name]=g}u++}}else t.error="Correlation Coefficient requires at least one comparison symbol"}},t.Studies.calculatePerformance=function(e,i){var a,r,n;if("_MA ","Com","p","m",we.d7Kh(),"a","C","l","o","se","Compari","so","n Symbol",a=i.chart.scrubbed,(r=i.inputs["Comparison Symbol"].toUpperCase())||(r=i.study.inputs["Comparison Symbol"]),i.days||(i.days=i.study.inputs.Period),a.length<i.days+1)i.error=!0;else{t.Studies.MA("ma",i.days,"Close",0,"_MA Base",e,i),t.Studies.MA("ma",i.days,r,0,"_MA Comp",e,i);for(var s=i.startFrom;s<a.length;s++)(n=a[s][r])&&(n.Close||0===n.Close)&&(n=n.Close),a[s]["Result "+i.name]=a[s].Close/n*(a[s]["_MA Comp "+i.name]/a[s]["_MA Base "+i.name])}},t.Studies.calculateBeta=function(e,i){var a,r,n,s,o=we;if("_V","ARn"," ","_C","OVAR",o.d7Kh(),"_","COVA","Rn"," ","m","a","C","omparis","on Symbo","l",a=i.chart.scrubbed,(r=i.inputs["Comparison Symbol"].toUpperCase())||(r=i.study.inputs["Comparison Symbol"]),i.days||(i.days=i.study.inputs.Period),a.length<i.days+1)i.error=!0;else{for(var l=Math.max(i.startFrom,1);l<a.length;l++){"_C","ompCha","n","ge ",o.i3mK(1);var h=o.e3mK(7,8);o.i3mK(1);var c=o.e3mK(8,9);a[l]["_BaseChange "+i.name]=a[l].Close/a[l-h].Close-c,(n=a[l][r])&&(n.Close||0===n.Close)&&(n=n.Close),o.N3mK(1),(s=a[o.E3mK(1,l)][r])&&(s.Close||0===s.Close)&&(s=s.Close),o.N3mK(52),a[l]["_CompChange "+i.name]=o.e3mK(n,1,s)}for(t.Studies.MA("ma",i.days,"_BaseChange "+i.name,0,"_MA Base",e,i),t.Studies.MA("ma",i.days,"_CompChange "+i.name,0,"_MA Comp",e,i),l=Math.max(i.startFrom,i.days);l<a.length;l++)"_MA Ba","se ","_BaseC","h","ang","e ",a[l]["_COVARn "+i.name]=(a[l]["_BaseChange "+i.name]-a[l]["_MA Base "+i.name])*(a[l]["_CompChange "+i.name]-a[l]["_MA Comp "+i.name]),a[l]["_VARn "+i.name]=Math.pow(a[l]["_CompChange "+i.name]-a[l]["_MA Comp "+i.name],2);for(t.Studies.MA("ma",i.days,"_COVARn "+i.name,0,"_COVAR",e,i),t.Studies.MA("ma",i.days,"_VARn "+i.name,0,"_VAR",e,i),l=Math.max(i.startFrom,2*i.days-1);l<a.length;l++)a[l]["Result "+i.name]=a[l]["_COVAR "+i.name]/a[l]["_VAR "+i.name]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:t.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0}})):console.error("comparisonStudies feature requires first activating priceRelative feature."):("comparisonStudies feature requires"," ","first activatin","g studies feature.",console.error("comparisonStudies feature requires first activating studies feature."))},k=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("fi","eld",t.Studies.calculateCoppock=function(e,i){var a,r,n,s,o,l,h,c=we;if("R","es","ul","t",a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),(n=parseInt(i.inputs["Long RoC"],10))||(n=14),(s=parseInt(i.inputs["Short RoC"],10))||(s=11),(o=i.days)||(o=10),!(n<s))if(a.length<Math.max(s,n,o)+1)i.error=!0;else{for(var u=Math.max(i.startFrom,n);u<a.length;u++)if(c.N3mK(1),l=a[c.E3mK(s,u)][r],c.i3mK(1),h=a[c.E3mK(n,u)][r],l&&h){"_S","um ",c.N3mK(36);var d=c.E3mK(3,0,11,11);a[u]["_Sum "+i.name]=100*(a[u][r]/l+a[u][r]/h-d)}t.Studies.MA("weighted",o,"_Sum "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:t.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}})):console.error("coppock feature requires first activating studies feature.")},L=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#69","9158","Dar","vas"," Box",t.Studies.calculateDarvas=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v=we;a="D",a+="arv",a+="as",r=i.chart.scrubbed,n=0,s=parseInt(i.inputs["ATH Lookback Period"],10),i.inputs["Volume Spike"]&&("Vo","lu","m","e",t.Studies.MA("simple",s,"Volume",0,"ADV",e,i)),v.N3mK(65);var x=v.E3mK(114,3,61,3);for(o=parseFloat(i.inputs["Volume % of Avg"])/x,l="none",h={},c=null,u=null,d=null,v.d7Kh(),p=parseFloat(i.inputs["Level Offset"]),!1,g={},[a,"Ghost","Profit","Loss","ATH","ADV","Spike"].forEach((function(e){v.N3mK(129);v.e3mK(1,17,55846,5077,12);v.i3mK(55);var t=v.E3mK(3403,19,200,950);g[e]=e+(!(t<=8100)||" ")+i.name})),m=i.startFrom-1;m>0;m--){if(!(f=r[m])[g.Darvas]&&!f[g.Ghost]){n=f[g.ATH]||0,u=f[g.Profit],d=f[g.Loss];break}for(var b in g)f[b]=null}for(;m<r.length;m++)if("P","rice"," Min","imum",y=r[m]){if(parseFloat(i.inputs["Price Minimum"])<=r[n].Close){if("da","rvas","h","i","g","h","Exit"," Fiel","d",!c||c.End&&m!=c.End+1||(r[m-1].Close>h.High?h={State:1,High:2*h.High-h.Low,Low:h.High,Start:m,End:2*h.End-h.Start+1}:c=null,c&&(y[g.Ghost]=t.clone(h),h.State=0,r[h.End]&&(r[h.End][g.Ghost]=t.clone(h)),c={Start:h.Start,End:h.End},u=h.High+p,(!d||d<h.Low-p)&&(d=h.Low-p))),y[g.Profit]=u,y[g.Loss]=d,(y.Close>=u||"high/low"==i.inputs["Exit Field"]&&y.High>=u)&&(u=null),"none"==l&&m==n+3&&!r[n+2][g.Darvas]&&!r[n+1][g.Darvas]&&!r[n][g.Darvas]&&r[n].High>y.High&&("h","i","g","h",l="high"),"high"==l&&(y.High>r[n].High?("non","e",l="none"):r[m-3].Low<r[m-2].Low&&r[m-3].Low<r[m-1].Low&&r[m-3].Low<y.Low&&(h={State:1,High:r[n].High,Low:r[m-3].Low,Start:n},r[n][g.Darvas]=t.clone(h),l="darvas",c&&(c.End>m&&r[c.Start]&&(y[g.Ghost]=t.clone(r[c.Start][g.Ghost]),y[g.Ghost].End=m,r[c.End]&&delete r[c.End][g.Ghost]),y[g.Ghost].State=0,r[c.Start][g.Ghost].End=m,c=null),u=h.High+p,(!d||d<h.Low-p)&&(d=h.Low-p))),"darvas"==l&&("n","o","n","e","hi","gh/","lo","w",y.Close>h.High||"high/low"==i.inputs["Exit Field"]&&y.High>h.High?c={}:(y.Close<h.Low||"high/low"==i.inputs["Exit Field"]&&y.Low<h.Low)&&(l="none"),c?l="none":"none"==l&&(u=null,d=null),i.inputs["Ghost Boxes"]||(c=null),"none"==l)){"Da","rv","as en","d:";for(var C=h.Start+1;C<m;C++)r[C][g.Darvas]=t.clone(h);h.State=0,h.End=m,y[g.Darvas]=t.clone(h),y[g.ATH]=n;continue}d&&("h","ig","h","/low","Exit Fie","ld",(y.Close<h.Low||"high/low"==i.inputs["Exit Field"]&&y.Low<h.Low)&&("no","ne","darvas"==l&&(l="none"),(y.Close<d||"high/low"==i.inputs["Exit Field"]&&y.Low<d)&&(u=null,d=null),c&&("Gho","s","t"," end:",c.End>m&&r[c.Start]&&(y[g.Ghost]=t.clone(r[c.Start][g.Ghost]),y[g.Ghost].End=m,r[c.End]&&delete r[c.End][g.Ghost]),y[g.Ghost].State=0,r[c.Start][g.Ghost].End=m,c=null)))}if(y.High>=r[n].High&&("All Ti","me ","Hig","h:",n=m),(m<3||y.High>=r[m-1].High&&y.High>=r[m-2].High&&y.High>=r[m-3].High)&&m-n>=s){n=m;for(var S=0;S<s&&!(m-S<0);S++)r[m-S].High>r[n].High&&(v.N3mK(1),n=v.E3mK(S,m));0}i.inputs["Volume Spike"]&&m>s&&m==n&&y[g.ADV]*o<y.Volume&&(y[g.Spike]=1),y[g.ATH]=n}},t.Studies.displayDarvas=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P=we;r=t.Studies.determineColor(i.outputs.Levels),P.k7Kh(),r&&"auto"!=r&&!t.isTransparent(r)||(r=e.defaultColor),(n=t.Studies.determineColor(i.outputs.Darvas))&&"auto"!=n&&!t.isTransparent(n)||(n=e.defaultColor),(s=t.Studies.determineColor(i.outputs.Ghost))&&"auto"!=s&&!t.isTransparent(s)||(s=e.defaultColor),o=e.panels[i.panel],l=i.getContext(e),P.i3mK(130);var _=P.e3mK(14,18,1,2);if((d=e.layout.candleWidth-_)<2&&(d=1),e.startClip(i.panel),i.inputs["Stop Levels"]){for(l.setLineDash&&l.setLineDash([2,2]),l.lineWidth=2,l.strokeStyle=r,l.beginPath(),h=0;h<a.length;h++)c=a[h],P.N3mK(1),p=a[P.E3mK(1,h)],c&&(u=c["Loss "+i.name]?Math.floor(e.pixelFromPrice(c["Loss "+i.name],o)):null,m=p&&p["Loss "+i.name]?Math.floor(e.pixelFromPrice(p["Loss "+i.name],o)):null,u&&(c.candleWidth&&(d=Math.floor(Math.max(1,c.candleWidth))),g=Math.floor(e.pixelFromBar(h,o.chart)+d/2),f=Math.floor(e.pixelFromBar(h,o.chart)-d/2),m&&m>=u?l.lineTo(f,u):0===h?l.moveTo(e.chart.left,u):l.moveTo(f,u),l.lineTo(g,u)));l.stroke(),l.setLineDash&&l.setLineDash([]),l.lineWidth=1}y=-10,P.i3mK(22),x=P.E3mK("0",0),P.i3mK(26),C=-P.e3mK("10",0),w=0,L=!1,A=!1,P.i3mK(131);var E=P.E3mK(10,18,506,3,11);for(D=l.measureText("").width/("2"*E),T=0,h=0;h<a.length;h++)if("D","a","r","vas ",a[h]){if((a[h].Close||0===a[h].Close)&&(T=h),a[h]["Spike "+i.name]&&("b","ot","to","m",l.fillStyle=n,l.textBaseline="bottom",M=e.pixelFromPrice(a[h].High,e.chart.panel),l.fillText("",e.pixelFromBar(h)-D,M-5)),a[h].candleWidth&&(d=Math.floor(Math.max(1,a[h].candleWidth))),a[h]["Darvas "+i.name])if(1!=(c=a[h]["Darvas "+i.name]).State||L){if(0===c.State){P.i3mK(132);var K=P.e3mK(14,7,5,18);x=Math.floor(e.pixelFromBar(h,o.chart)+d/K)-y,v=Math.floor(e.pixelFromPrice(c.High,o)),b=Math.floor(e.pixelFromPrice(c.Low,o))-v,l.strokeStyle=n,l.fillStyle=n,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.strokeRect(y,v,x,b),l.globalAlpha=.2),l.fillRect(y,v,x,b),l.globalAlpha=1,L=!1}}else y=Math.floor(e.pixelFromBar(h,o.chart)-d/2),v=Math.floor(e.pixelFromPrice(c.High,o)),b=Math.floor(e.pixelFromPrice(c.Low,o))-v,L=!0;if(a[h]["Ghost "+i.name]&&i.inputs["Ghost Boxes"])if(1!=(c=a[h]["Ghost "+i.name]).State||A){if(0===c.State){"S","top Le","vels",c.Start==c.End&&(C=Math.floor(e.pixelFromBar(h,o.chart)-d/2)),P.N3mK(23);var I=P.e3mK(12,142,12);w=Math.floor(e.pixelFromBar(h,o.chart)+d/I)-C,S=Math.floor(e.pixelFromPrice(c.High,o)),k=Math.floor(e.pixelFromPrice(c.Low,o))-S,l.strokeStyle=s,l.fillStyle=s,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.strokeRect(C,S,w,k),l.globalAlpha=.2),l.fillRect(C,S,w,k),l.globalAlpha=1,A=!1}}else C=Math.floor(e.pixelFromBar(h,o.chart)-d/2),S=Math.floor(e.pixelFromPrice(c.High,o)),w=Math.floor((c.End-c.Start+1)*e.layout.candleWidth+d/2),k=Math.floor(e.pixelFromPrice(c.Low,o))-S,A=!0}L&&(x=Math.floor(e.pixelFromBar(T,o.chart)+d/2)-y,l.strokeStyle=n,l.fillStyle=n,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.beginPath(),P.i3mK(94),l.moveTo(P.e3mK(x,2,y),v),l.lineTo(y,v),P.i3mK(0),l.lineTo(y,P.e3mK(b,v)),P.i3mK(94),l.lineTo(P.E3mK(x,2,y),P.e3mK(b,v,P.i3mK(0))),l.stroke(),l.globalAlpha=.2),P.i3mK(5),l.fillRect(y,v,P.e3mK(x,2),b),l.globalAlpha=1),A&&("Stop ","Levels",l.strokeStyle=s,l.fillStyle=s,i.inputs["Stop Levels"]?l.globalAlpha=.3:(l.strokeRect(C,S,w,k),l.globalAlpha=.2),l.fillRect(C,S,w,k),l.globalAlpha=1),(L||A)&&(i.inputs["Stop Levels"]&&(l.setLineDash&&(P.N3mK(53),l.setLineDash([P.E3mK("2",1144850944),2])),l.lineWidth=2,l.strokeStyle=r,F=Math.floor(e.pixelFromBar(T-1,o.chart)+d/2),u&&(l.beginPath(),l.moveTo(F,u),l.lineTo(L?y+2*x:C+w,u),l.stroke()),l.setLineDash&&l.setLineDash([]),l.lineWidth=1),L=!1,A=!1),e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!0,calculateFN:t.Studies.calculateDarvas,seriesFN:t.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":!1,"Level Offset":.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}}})):console.error("darvasBox feature requires first activating studies feature.")},A=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("m","a","fi","el","d","Detrended Price Os","cillator",t.Studies.calculateDetrendedPrice=function(e,i){var a,r,n,s,o;if(we.k7Kh(),(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&"field"!=r||(r="Close"),n=Math.floor(i.days/2+1),t.Studies.MA(i.inputs["Moving Average Type"],i.days,r,-n,"MA",e,i);for(var l=Math.max(i.days-n-1,i.startFrom-n);l<a.length-n;l++)"R","esult ",l<0||((s=a[l][r])&&"object"==typeof s&&(s=s[i.subField]),o=a[l]["MA "+i.name],!s&&0!==s||!o&&0!==o||(we.i3mK(1),a[l]["Result "+i.name]=we.e3mK(o,s)))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:t.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}})):console.error("detrended feature requires first activating studies feature.")},D=e=>{var t,i,a,r=we;if(r.k7Kh(),"u","ndefin","e","d",(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){t.Studies.calculateDisparity=function(e,i){var a,n,s;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(n=i.inputs.Field)&&"field"!=n||(n="Close"),t.Studies.MA(i.inputs["Moving Average Type"],i.days,n,0,"_MA",e,i);for(var o=Math.max(i.startFrom,i.days-1);o<a.length;o++)if("R","e","su","lt ",a[o]&&(s=a[o]["_MA "+i.name])){r.N3mK(58);var l=r.E3mK(96,84,6);r.N3mK(31);var h=r.E3mK(8,19,32,6);a[o]["Result "+i.name]=l*(a[o][n]/s-h)}}},-396119409,r.N3mK(5),i=r.e3mK(1,"2135585500"),a=2;for(var n=1;-396119409!==r.Y6v(n.toString(),n.toString().length,80587);n++)"m","a",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:t.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}}),a+=2;r.Y6v(a.toString(),a.toString().length,5751)!==i&&(t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Disparity:{name:"field",calculateFN:t.Studies.calculateDisparity,inputs:{Period:52,Field:"Moving Average Type","Moving Average Type":"Moving Average Type"}}}))}else console.error("disparity feature requires first activating studies feature.")},T=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateEaseOfMovement=function(e,i){var a,r,n,s,o,l,h=we;if("_E","OM1",h.d7Kh()," ",(a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(var c=Math.max(1,i.startFrom);c<a.length;c++){h.N3mK(133);var u=h.e3mK(17,18,1,33);r=(a[c].High+a[c].Low)/u,h.N3mK(134);var d=h.E3mK(17,1,0,16);h.N3mK(0);var p=h.E3mK(1,0);h.N3mK(135);var m=h.E3mK(15,3,5,15);n=(a[c-d].High+a[c-p].Low)/m,h.i3mK(1),s=h.E3mK(n,r),h.N3mK(7);var g=h.e3mK(6e8,3,500000003);o=a[c].Volume/g/(a[c].High-a[c].Low),h.N3mK(10),l=h.E3mK(s,o),isFinite(l)?a[c]["_EOM1 "+i.name]=l:a[c]["_EOM1 "+i.name]=NaN}t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_EOM1 "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:t.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}})):console.error("easeOfMovement feature requires first activating studies feature.")},M=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Eh","ler Fisher"," Tra","nsform",t.Studies.calculateEhlerFisher=function(e,t){var i,a,r,n,s,o=we;function l(e,t){var a,r,n;a=Number.MAX_VALUE,o.N3mK(136);var s=o.e3mK(4,1,19,18,40);r=Number.MAX_VALUE*s;for(var l=t-e+1;l<=t;l++){o.N3mK(135);var h=o.E3mK(187,0,22,17);n=(i[l].High+i[l].Low)/h,a=Math.min(a,n),r=Math.max(r,n)}return[a,r]}if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{if(a=0,t.startFrom>1){o.i3mK(137);var h=o.e3mK(1,0,14,13,1);a=i[t.startFrom-h]["_n "+t.name]}for(var c=t.startFrom;c<i.length&&("E","F"," ",!(r=i[c]).futureTick);c++)if(c<t.days-1)r["EF "+t.name]=r["EF Trigger "+t.name]=a;else{n=l(t.days,c),o.i3mK(7);var u=o.e3mK(2115981888,16,1410654608);o.N3mK(138);var d=o.e3mK(24,11,2,1);o.i3mK(0);var p=o.E3mK(1,0);(a=.33*("2"<<u)*(((i[c].High+i[c].Low)/d-n[0])/Math.max(1e-6,n[p]-n[0])-.5)+.67*a)>0?a=Math.min(a,.9999):a<0&&(a=Math.max(a,-.9999)),s=c?i[c-1]["EF "+t.name]:0,o.N3mK(60);var m=o.E3mK(197,11,6,3);o.N3mK(7);var g=o.e3mK(0,3,2);r["EF "+t.name]=.5*Math.log(("1"*m+a)/(g-a))+.5*s,r["EF Trigger "+t.name]=s,r["_n "+t.name]=a}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:t.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}})):console.error("ehlerFisher feature requires first activating studies feature.")},F=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.d7Kh(),t.Studies?("#DD3E","3","9","#00","D","D00","El","de","r Ray"," Index",t.Studies.calculateElderImpulse=function(e,i){var a,r,n,s,o;we.k7Kh(),a=i.chart.scrubbed,r=i.outputs.Bullish,n=i.outputs.Bearish,s=i.outputs.Neutral,we.N3mK(15),t.Studies.MA("exponential",we.E3mK(2115521056,"13"),"Close",0,"_MA",e,i),i.macd=new t.Studies.StudyDescriptor("_"+i.name,"macd",i.panel),i.macd.chart=i.chart,i.macd.days=i.days,i.macd.startFrom=i.startFrom,i.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},i.macd.outputs={_MACD:null,_Signal:null},t.Studies.calculateMACD(e,i.macd);for(var l=i.startFrom;l<a.length;l++)"R","e","su","lt ","_","M","A ",o=0===l?s:a[l]["_MA "+i.name]>a[l-1]["_MA "+i.name]&&a[l]["_"+i.name+"_hist"]>a[l-1]["_"+i.name+"_hist"]?r:a[l]["_MA "+i.name]<a[l-1]["_MA "+i.name]&&a[l]["_"+i.name+"_hist"]<a[l-1]["_"+i.name+"_hist"]?n:s,a[l]["Result "+i.name]=o},t.Studies.calculateElderRay=function(e,i){var a,r;a=2;for(var n=1;-552604838!==we.s1v(n.toString(),n.toString().length,57966);n++)r=i.chart.scrubbed,a+=2;if(1373720599!==we.Y6v(a.toString(),a.toString().length,93821)&&(r=i.chart.scrubbed),r.length<i.days)i.error=!0;else{t.Studies.MA("exponential",i.days,"Close",0,"_EMA",e,i);for(var s=Math.max(i.startFrom,i.days-1);s<r.length;s++)"_hi","s","t","2",r[s][i.name+"_hist1"]=r[s].High-r[s]["_EMA "+i.name],r[s][i.name+"_hist2"]=r[s].Low-r[s]["_EMA "+i.name];i.outputMap={},i.outputMap[i.name+"_hist1"]="",i.outputMap[i.name+"_hist2"]=""}},t.Studies.calculateElderForce=function(e,i){var a;if("_","E","F1 ",we.k7Kh(),(a=i.chart.scrubbed).length<i.days)i.error=!0;else{for(var r=Math.max(1,i.startFrom);r<a.length;r++){we.i3mK(18);var n=we.e3mK(14,4,16,11);a[r]["_EF1 "+i.name]=a[r].Volume*(a[r].Close-a[r-n].Close)}t.Studies.MA("exponential",i.days,"_EF1 "+i.name,0,"Result",e,i)}},t.Studies.initElderImpulse=function(e,i,a,r,n,s){var o;return o=t.Studies.initializeFN(e,i,a,r,n,s),n.calculateOnly||(e.chart.customChart={chartType:"colored_bar",colorFunction:function(e,t,i){var a;return"Resu","lt ",(a=t["Result "+o.name])&&"object"==typeof a&&(a=a.color),a}},e.setMainSeriesRenderer()),o},t.Studies.displayElderForce=function(e,i,a){var r,n,s,o;t.Studies.displaySeriesAsLine(e,i,a),r=t.Studies.determineColor(i.outputs.Result),n=e.panels[i.panel],s=i.getYAxis(e),o={skipTransform:n.name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:0,color:r,yAxis:s},!i.highlight&&e.highlightedDraggable&&(o.opacity=.3),o.direction=1,t.preparePeakValleyFill(e,o),o.direction=-1,t.preparePeakValleyFill(e,o)},t.Studies.displayElderRay=function(e,i,a){var r,n,s,o,l,h,c,u=we;function d(a,h,u,d){n.fillStyle=t.Studies.determineColor(i.outputs[u]),n.fillRect(Math.floor(e.pixelFromBar(a,r.chart)-l/2+l*h),Math.floor(o),Math.floor(l*(1-2*h)),Math.floor(e.pixelFromPrice(c[i.name+d],r,s)-o))}u.d7Kh(),r=e.panels[i.panel],n=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,r,s),u.i3mK(7);var p=u.e3mK(0,3,1);(l=e.layout.candleWidth-p)<2&&(l=1),e.canvasColor("stx_histogram"),h=n.fillStyle,i.underlay||(n.globalAlpha=1),e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(n.globalAlpha*=.3);for(var m=0;m<a.length;m++)"E","lder Bu","ll Power","El","der Bull ","Power",(c=a[m])&&(c.candleWidth&&(l=Math.floor(Math.max(1,c.candleWidth-2))),c[i.name+"_hist1"]>0&&d(m,0,"Elder Bull Power","_hist1"),c[i.name+"_hist2"]<0&&d(m,0,"Elder Bear Power","_hist2"),c[i.name+"_hist1"]<0&&(u.N3mK(5),d(m,u.e3mK(1,"0.1"),"Elder Bull Power","_hist1")),c[i.name+"_hist2"]>0&&d(m,.1,"Elder Bear Power","_hist2"));e.endClip(),n.fillStyle=h},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:t.Studies.calculateElderForce,seriesFN:t.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:t.Studies.displayElderRay,calculateFN:t.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:t.Studies.calculateElderImpulse,initializeFN:t.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(e,t){e.chart.customChart=null,we.k7Kh(),e.setMainSeriesRenderer()}}})):console.error("elder feature requires first activating studies feature.")},P=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateFractalChaos=function(e,t){var i,a,r,n,s,o,l,h=we;if(i=t.chart.scrubbed,h.k7Kh(),h.i3mK(4),a=h.E3mK("0",2147483647),r=0,n=0,t.startFrom&&"Fractal Chaos Bands"==t.type){"F","ractal Low ",h.N3mK(1);var c=h.E3mK(20,21);a=i[t.startFrom-c]["Fractal High "+t.name],h.i3mK(52);var u=h.e3mK(2,1,1);r=i[t.startFrom-"1"*u]["Fractal Low "+t.name]}for(var d=Math.max(4,t.startFrom);d<i.length&&("Fractal"," Chaos"," Bands",!i[d].futureTick);d++){for(s=!isNaN(i[d].High),o=!isNaN(i[d].Low),(s||o)&&(i[d]["Result "+t.name]=0),n=0,l=0;l<=d&&i[d-l]&&!(i[d-l].High>i[d-2].High)&&!(l<2&&i[d-l].High==i[d-2].High);l++)if(i[d-l].High<i[d-2].High&&n++,4==n){a=i[d-2].High;break}for("Fractal Chaos Bands"==t.type?s&&(i[d]["Fractal High "+t.name]=a>0?a:null):4==n&&(h.i3mK(4),i[d]["Result "+t.name]=h.E3mK("1",2147483647)),n=0,l=0;l<=d&&i[d-l]&&!(i[d-l].Low<i[d-2].Low)&&!(l<2&&i[d-l].Low==i[d-2].Low);l++)if(i[d-l].Low>i[d-2].Low&&n++,4==n){r=i[d-2].Low;break}"Fractal Chaos Bands"==t.type?o&&(i[d]["Fractal Low "+t.name]=r>0?r:null):4==n&&(i[d]["Result "+t.name]=-1)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:t.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:t.Studies.calculateFractalChaos,seriesFN:t.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}})):("fracta","lChaos feature requires first activating studies fe","ature.",console.error("fractalChaos feature requires first activating studies feature."))},_=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Verti","cal Horizontal"," Fil","ter","a","uto","Willi","ams %","R","aut","o",t.Studies.calculateMaxHighMinLow=function(e,t){var i,a,r,n,s,o,l,h=we;if("L","ow"," Peri","od","Hi","g","h"," Period",i=t.chart.scrubbed,a=t.days,r=t.days,t.inputs["High Period"]&&(a=t.inputs["High Period"]),t.inputs["Low Period"]&&(r=t.inputs["Low Period"]),i.length<Math.max(a,r)+1)t.error=!0;else{n=Number.MAX_VALUE,h.i3mK(139);var c=h.e3mK(6,3,4);if(s=Number.MAX_VALUE*c,t.startFrom>1){for(o=1;o<a;o++)t.startFrom-o>=0&&(s=Math.max(s,i[t.startFrom-o].High));for(o=1;o<r;o++)t.startFrom-o>=0&&(n=Math.min(n,i[t.startFrom-o].Low))}for(var u=Math.max(0,t.startFrom-1);u<i.length;u++){if("VT"," HZ Fil","ter",s=Math.max(s,i[u].High),n=Math.min(n,i[u].Low),u>=a&&i[u-a].High==s)for(s=i[u].High,o=1;o<a;o++)s=Math.max(s,i[u-o].High);if(u>=r&&i[u-r].Low==n)for(n=i[u].Low,o=1;o<r;o++)n=Math.min(n,i[u-o].Low);if(l=0,"HHV"==t.type)l=s;else if("LLV"==t.type)l=n;else if("Donchian Width"==t.type)h.i3mK(1),l=h.E3mK(n,s);else if("GAPO"==t.type||"Gopala"==t.type)l=Math.log(s-n)/Math.log(r);else{if("VT HZ Filter"==t.type){"_M","H","M","L ",h.i3mK(1),l=h.E3mK(n,s),i[u]["_MHML "+t.name]=l;continue}if("Williams %R"==t.type){h.i3mK(140),l=h.E3mK(2,114,4380,10,4)*(s-i[u].Close)/(s-n),i[u]["Result "+t.name]=l;continue}}if(u==i.length-1)break;i[u+1].futureTick||("Do","nchian Channel","Donchian Channel"==t.type?("Donch","ia","n Medi","an ","D","onchian"," High ",h.N3mK(0),i[h.e3mK(1,u)]["Donchian High "+t.name]=s,h.i3mK(0),i[h.e3mK(1,u)]["Donchian Low "+t.name]=n,h.i3mK(0),i[h.e3mK(1,u)]["Donchian Median "+t.name]=h.e3mK(2,s,n,h.i3mK(6))):(h.i3mK(120),i[h.E3mK("1",u)]["Result "+t.name]=l))}}},t.Studies.calculateVerticalHorizontalFilter=function(e,i){var a,r,n,s;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{i.mhml=new t.Studies.StudyDescriptor(i.name,i.type,i.panel),i.mhml.chart=i.chart,i.mhml.days=i.days,i.mhml.startFrom=i.startFrom,i.mhml.inputs={},i.mhml.outputs={_MHML:null},t.Studies.calculateMaxHighMinLow(e,i.mhml),we.d7Kh(),r=0,n=[];for(var o=Math.max(1,i.startFrom-i.days);o<a.length;o++)s=Math.abs(a[o].Close-a[o-1].Close),n.push(s),r+=s,n.length==i.days&&("_","MH","ML ",a[o]["Result "+i.name]=a[o]["_MHML "+i.name]/r,r-=n.shift())}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:t.Studies.calculateMaxHighMinLow,seriesFN:t.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:t.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:t.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:t.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(e,t){var i;i=t.chart.scrubbed;for(var a=t.startFrom;a<i.length;a++)i[a]["Result "+t.name]=i[a].High-i[a].Low},inputs:{}}})):console.error("highLowStudies feature requires first activating studies feature.")},E=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#","808000","#00","FF00","#","FF","0","000","Ichimo","ku"," Cl","ouds",t.Studies.calculateIchimoku=function(e,t){var i,a,r,n,s,o,l,h,c=we;for(c.k7Kh(),"Lagging S","pan Period",i=t.chart.scrubbed,a={Base:Number(t.inputs["Base Line Period"]),Conv:Number(t.inputs["Conversion Line Period"]),LeadB:Number(t.inputs["Leading Span B Period"]),Lag:Number(t.inputs["Lagging Span Period"])},r=t.startFrom;r<i.length;r++)if("L","ag","ging Sp","an ","Ba","se ","Line ","Co","nversion Line ",i[r]){n=f(a.Conv,r),c.i3mK(126);var u=c.E3mK(20,14,13,34,13);i[r]["Conversion Line "+t.name]=(n[1]+n[0])/u,n=f(a.Base,r),c.i3mK(43);var d=c.e3mK(13,5,16,8,1026);i[r]["Base Line "+t.name]=(n[1]+n[0])/d,r<a.Lag||(i[r-a.Lag]["Lagging Span "+t.name]=i[r].Close)}for(s=[],r=Math.max(0,t.startFrom-a.Base);r<i.length;r++){n=f(a.LeadB,r),c.i3mK(61);var p=c.e3mK(20,20,0,19,16);o=(i[r]["Conversion Line "+t.name]+i[r]["Base Line "+t.name])/p,c.i3mK(141);var m=c.E3mK(16,19,8,0,4);c.N3mK(52);var g=c.E3mK(12,1,4);l=(n[m]+n[0])/g,i[r+a.Base]?("Le","ading S","pan B ","L","eading Span ","A ",i[r+a.Base]["Leading Span A "+t.name]=o,i[r+a.Base]["Leading Span B "+t.name]=l):("Leading Span ","B ",(h={})["Leading Span A "+t.name]=o,h["Leading Span B "+t.name]=l,s.push(h))}function f(e,t){var a,r;a=Number.MAX_VALUE,c.N3mK(1);var n=c.e3mK(1,0);r=Number.MAX_VALUE*n;for(var s=t-e+1;s<=t;s++)s<0||(a=Math.min(a,i[s].Low),r=Math.max(r,i[s].High));return[a,r]}t.appendFutureTicks(e,s)},t.Studies.displayIchimoku=function(e,i,a){var r,n,s,o,l,h,c;r="Leading Span A "+i.name,n="Leading Span B "+i.name,s=t.Studies.determineColor(i.outputs[i.outputMap[r]]),o=t.Studies.determineColor(i.outputs[i.outputMap[n]]),l=e.panels[i.panel],h=i.getYAxis(e),c={topBand:r,bottomBand:n,topColor:s,bottomColor:o,skipTransform:l.name!=i.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!i.highlight&&e.highlightedDraggable&&(c.opacity*=.3),t.fillIntersecting(e,i.panel,c),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:t.Studies.calculateIchimoku,seriesFN:t.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}})):console.error("ichimoku feature requires first activating studies feature.")},K=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("a","u","t","o","a","u","t","o","Intraday"," Momentum Index",t.Studies.calculateIntradayMomentum=function(e,t){var i,a,r,n,s,o,l=we;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{if(r=0,l.k7Kh(),n=0,t.startFrom>1){l.N3mK(16);var h=l.E3mK(4,3);r=i[t.startFrom-h]["_totUp "+t.name],l.N3mK(142);var c=l.e3mK(31,15,12,6);n=i[t.startFrom-c]["_totDn "+t.name]}for(var u=t.startFrom;u<i.length;u++)"_t","ot","Dn"," ",(s=i[u].Close-i[u].Open)>0?r+=s:n-=s,u>=a&&((o=i[u-a].Close-i[u-a].Open)>0?r-=o:n+=o),l.N3mK(143),i[u]["Result "+t.name]=l.e3mK(n,r,r,100),i[u]["_totUp "+t.name]=r,i[u]["_totDn "+t.name]=n}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:t.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("intradayMomentum feature requires first activating studies feature.")},I=e=>{var t,i,a,r=we;if((t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies){"a","u","to",t.Studies.calculateKeltner=function(e,i){r.d7Kh(),t.Studies.MA(i.inputs["Moving Average Type"],i.days,"Close",0,"MA",e,i),t.Studies.calculateStudyATR(e,i),t.Studies.calculateGenericEnvelope(e,i,i.inputs.Shift,"MA "+i.name,"ATR "+i.name)},-822345410,r.i3mK(26),i=-r.e3mK("1527375596",0),r.N3mK(22),a=r.e3mK("2",2);for(var n=1;-822345410!==r.Y6v(n.toString(),n.toString().length,60288);n++)"Cha","nnel"," Fill","a","u","t","o",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Keltner:{name:"Channel Fill",overlay:!1,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateKeltner,inputs:{Period:97,Shift:2,"Moving Average Type":"Keltner Top","Channel Fill":!1},outputs:{"Keltner Top":"Keltner Bottom","Keltner Median":"auto","Keltner Bottom":"Channel Fill"},attributes:{Shift:{min:535,step:521}}}}),a+=2;r.s1v(a.toString(),a.toString().length,53135)!==i&&("Cha","n","nel ","Fill",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Keltner:{name:"Channel Fill",overlay:!1,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateKeltner,inputs:{Period:97,Shift:2,"Moving Average Type":"Keltner Top","Channel Fill":!1},outputs:{"Keltner Top":"Keltner Bottom","Keltner Median":"auto","Keltner Bottom":"Channel Fill"},attributes:{Shift:{min:535,step:521}}}})),t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!0},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}}})}else console.error("keltner feature requires first activating studies feature.")},N=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateKlinger=function(e,i){var a,r,n,s,o,l,h,c,u,d,p;if("Signal Pe","rio","ds","_EM","A-S ","K","lingerSi","gn","al ",a=i.chart.scrubbed,r=Number(i.inputs["Short Cycle"]),n=Number(i.inputs["Long Cycle"]),a.length<Math.max(r,n)+1)i.error=!0;else{for(s=i.name+"_hist",o="Klinger "+i.name,l="KlingerSignal "+i.name,h="_SV "+i.name,c="_EMA-S "+i.name,u="_EMA-L "+i.name,d=Math.max(1,i.startFrom);d<a.length;d++)p=a[d].Volume,a[d]["hlc/3"]<a[d-1]["hlc/3"]&&(p*=-1),p&&(a[d][h]=p);for(t.Studies.MA("exponential",r,h,0,"_EMA-S",e,i),t.Studies.MA("exponential",n,h,0,"_EMA-L",e,i),d=Math.max(n,i.startFrom);d<a.length&&(!a[d].futureTick&&null!==a[d][c]&&null!==a[d][u]);d++)a[d][o]=a[d][c]-a[d][u];for(t.Studies.MA("exponential",Number(i.inputs["Signal Periods"]),o,0,"KlingerSignal",e,i),d=i.startFrom;d<a.length;d++)a[d][s]=a[d][o]-a[d][l];i.outputMap[s]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:t.Studies.displayHistogramWithSeries,calculateFN:t.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):console.error("klinger feature requires first activating studies feature.")},O=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("fi","e","l","d","au","t","o","fi","e","l","d","Linear Reg Interce","pt","au","to","Tim","e","Serie","s","tim","e ","se","ries",t.Studies.prettify["time series"]="tsma",t.Studies.movingAverage.conversions.tsma="time series",t.Studies.movingAverage.translations["time series"]="Time Series",t.Studies.movingAverage.typeMap.tsma="TimeSeries",t.Studies.movingAverage.typeMap["time series"]="TimeSeries",t.Studies.calculateMovingAverageTimeSeries=function(e,i){var a,r,n,s,o,l,h,c,u=we;for(var d in i.ma=new t.Studies.StudyDescriptor(i.name,"ma",i.panel),i.ma.chart=i.chart,i.ma.days=i.days,i.ma.startFrom=i.startFrom,i.ma.inputs=i.inputs,t.Studies.calculateLinearRegressionIndicator(e,i.ma),a=i.name,i.outputs)u.i3mK(93),a=u.E3mK(a,d," ");r=parseInt(i.inputs.Offset,10),isNaN(r)&&(r=0),n=i.chart.scrubbed,s=r;for(var p=i.startFrom-1;p>=0;p--)if((o=n[p][a])||0===o){if(!(s>0))break;s--}for(l=[],u.d7Kh(),p++;p<n.length;p++)h=n[p],p+r>=0&&(p+r<n.length?(u.N3mK(0),n[u.E3mK(r,p)][a]=h["Forecast "+i.name]):((c={})[a]=h["Forecast "+i.name],l.push(c)));i.appendFutureTicks(e,l)},t.Studies.calculateLinearRegressionIndicator=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f=we;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{(a=t.inputs.Field)&&"field"!=a||(a="Close"),f.i3mK(70);var y=f.e3mK(87,5,15,13);f.N3mK(1);var v=f.E3mK(13,15);r=t.days*(t.days+y)/v,n=Math.pow(r,2),f.i3mK(45);var x=f.E3mK(37,2,19,0);f.N3mK(70);var b=f.e3mK(161,12,13,8);if(s=r*("2"*x*t.days+1)/b,o=0,l=0,h=0,t.startFrom){f.i3mK(28);var C=f.e3mK(14,8,1,0,7);(c=i[t.startFrom-C]["_sums "+t.name])&&(l=c[0],o=c[1],h=c[2])}for(var S=t.startFrom;S<i.length;S++)if("Fore","cast ","Int","e","rc","ept ","Slo","pe ",(u=i[S][a])&&"object"==typeof u&&(u=u[t.subField]),(u||0===u)&&(l+=t.days*u-o,o+=u,h+=Math.pow(u,2),!(S<t.days-1))){if(S>t.days-1){if("ob","je","c","t",(d=i[S-t.days][a])&&"object"==typeof d&&(d=d[t.subField]),!d&&0!==d)continue;o-=d,h-=Math.pow(d,2)}p=(t.days*l-r*o)/(t.days*s-n),i[S]["Slope "+t.name]=p,m=(o-p*r)/t.days,i[S]["Intercept "+t.name]=m,i[S]["Forecast "+t.name]=m+p*t.days,f.N3mK(1);var w=f.E3mK(8,10);g=(t.days*s-n)/(t.days*h-Math.pow(o,w)),f.N3mK(144),i[S]["RSquared "+t.name]=f.E3mK(g,p,p),i[S]["_sums "+t.name]=[l,o,h]}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!0,calculateFN:t.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}})):console.error("linearRegression feature requires first activating studies feature.")},X=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("M","A","C","D",t.Studies.calculateMACD=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m=we;if("_","hist","Signal"," Pe","rio","d","Fast MA P","eriod",a=i.chart.scrubbed,r=i.inputs,n=i.name,i.macd1Days||(i.macd1Days=parseFloat(r["Fast MA Period"])),i.macd2Days||(i.macd2Days=parseFloat(r["Slow MA Period"])),i.signalDays||(i.signalDays=parseFloat(r["Signal Period"])),i.days||(i.days=Math.max(i.macd1Days,i.macd2Days,i.signalDays)),a.length<i.days+1)i.error=!0;else{for((s=i.inputs.Field)&&"field"!=s||(s="Close"),(o=r["Moving Average Type"])||(o="exponential"),t.Studies.MA(o,i.macd1Days,s,0,"_MACD1",e,i),t.Studies.MA(o,i.macd2Days,s,0,"_MACD2",e,i),l=c=Math.max(i.startFrom,i.days-1);l<a.length;l++)"_M","AC","D","2 ","_MACD1"," ","_MACD","1 ",!(h=a[l])["_MACD1 "+n]&&0!==h["_MACD1 "+n]||!h["_MACD2 "+n]&&0!==h["_MACD2 "+n]||(m.i3mK(0),h[m.E3mK(n,"MACD ")]=h["_MACD1 "+n]-h["_MACD2 "+n]);for((u=r["Signal MA Type"])||(u="exponential"),t.Studies.MA(u,i.signalDays,"MACD "+n,0,"Signal",e,i),m.i3mK(0),d=m.e3mK("_hist",n),l=c;l<a.length;l++)"Signa","l ",h=a[l],m.N3mK(0),((p=h[m.E3mK(n,"Signal ")])||0===p)&&(h[d]=h["MACD "+n]-h["Signal "+n]);i.outputMap[d]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:t.Studies.calculateMACD,seriesFN:t.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):("mac","d"," feature requires first activating studies feature.",console.error("macd feature requires first activating studies feature."))},z=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Mass"," Ind","ex",t.Studies.calculateMassIndex=function(e,i){var a,r,n=we;if("_Hi","g","h-Low ",(a=i.chart.scrubbed).length<Math.max(9,i.days+1))i.error=!0;else{for(var s=i.startFrom;s<a.length;s++)a[s]["_High-Low "+i.name]=a[s].High-a[s].Low;if(t.Studies.MA("exponential",9,"_High-Low "+i.name,0,"_EMA",e,i),n.i3mK(5),t.Studies.MA("exponential",n.E3mK(1,"9"),"_EMA "+i.name,0,"_EMA2",e,i),r=0,a[i.startFrom-1]&&a[i.startFrom-1]["_total "+i.name]){n.i3mK(145);var o=n.e3mK(4,14,17);r=a[i.startFrom-o]["_total "+i.name]}for(var l=Math.max(17,i.startFrom);l<a.length;l++){if(r+=a[l]["_EMA "+i.name]/a[l]["_EMA2 "+i.name],l>=17+i.days-1){"_E","M","A","2 ","Resu","lt ",a[l]["Result "+i.name]=r,n.i3mK(2);var h=n.e3mK(0,16,17);r-=a[l-i.days+h]["_EMA "+i.name]/a[l-i.days+1]["_EMA2 "+i.name]}a[l]["_total "+i.name]=r}}},t.Studies.displayMassIndex=function(e,i,a){var r,n,s,o;t.Studies.displaySeriesAsLine(e,i,a),r=i.inputs["Bulge Threshold"],e.panels[i.panel],n=i.getYAxis(e),s=t.Studies.determineColor(i.outputs.Result),o={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:r,direction:1,color:s,yAxis:n,opacity:.3},we.d7Kh(),!i.highlight&&e.highlightedDraggable&&(o.opacity*=.3),t.preparePeakValleyFill(e,o),t.Studies.drawHorizontal(e,i,null,r,n,s)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:t.Studies.displayMassIndex,calculateFN:t.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:.1}}}})):console.error("massIndex feature requires first activating studies feature.")},H=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateMoneyFlowIndex=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p=we;if("Res","ul","t ",p.k7Kh(),(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{a=0,r=0,p.i3mK(36);var m=p.e3mK(2,7,16,9);n=i[t.startFrom-m],s="_rawMF "+t.name,o="_cumMF "+t.name,l="Result "+t.name,n&&n[o]&&(a=n[o][0],p.N3mK(1),r=n[o][p.E3mK(0,"1")]);for(var g=t.startFrom;g<i.length;g++)h=i[g]["hlc/3"],g>0&&!i[g].futureTick&&("h","lc/3",p.N3mK(1),c=i[p.e3mK(1,g)]["hlc/3"],u=h*i[g].Volume,h>c?a+=u:h<c?r-=u*=-1:u=0,g>t.days&&((d=i[g-t.days][s])>0?a-=d:r+=d,0===r?i[g][l]=100:i[g].Volume&&(p.N3mK(146),i[g][l]=p.e3mK(r,2147483647,"100",a,100,1))),i[g][s]=u,i[g][o]=[a,r])}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:t.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})):console.error("moneyFlow feature requires first activating studies feature.")},R=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("au","t","o","fi","eld","P","e","rce","nt","a","u","t","o","f","ie","ld","T","ripleEx","ponential","DoubleEx","ponential","Hu","l","l","H","u","l","l","t","e","m","a",t.Studies.prettify=t.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},t.Studies.prettify),t.extend(t.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}}),t.Studies.calculateMovingAverageHull=function(e,i){var a,r,n,s,o,l,h,c,u=we;for(u.k7Kh(),"_WMA","2","_WM","A1","Cl","o","s","e",a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),t.Studies.MA("wma",i.days,r,0,"_WMA1",e,i),t.Studies.MA("wma",Math.ceil(i.days/2),r,0,"_WMA2",e,i),n=i.startFrom-1;n>=0&&((s=a[n][r])&&"object"==typeof s&&(s=s[i.subField]),!s&&0!==s);n--);for(n++;n<a.length;n++){"_WM","A","2"," ",o=a[n],u.i3mK(36);var d=u.E3mK(1,17,9,8);o["_MMA "+i.name]=d*o["_WMA2 "+i.name]-o["_WMA1 "+i.name]}for(var p in l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),h=Math.floor(Math.sqrt(i.days)),t.Studies.MA("wma",h,"_MMA "+i.name,l,"_HMA",e,i),c=i.name,i.outputs)u.i3mK(93),c=u.E3mK(c,p," ");for(n=Math.max(i.days+h-1,i.startFrom);n<a.length;n++)a[n][c]=a[n]["_HMA "+i.name]},t.Studies.calculateMovingAverageDoubleExponential=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m=we;for(a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),m.k7Kh(),t.Studies.MA("ema",i.days,r,0,"_EMA1",e,i),t.Studies.MA("ema",i.days,"_EMA1 "+i.name,0,"_EMA2",e,i),n=parseInt(i.inputs.Offset,10),isNaN(n)&&(n=0),l=n,s=i.startFrom-1;s>=0;s--)if((o=a[s][r])&&"object"==typeof o&&(o=o[i.subField]),o||0===o){if(!(l>0))break;l--}for(var g in h=i.name,i.outputs)m.N3mK(93),h=m.e3mK(h,g," ");for(c=[],s++;s<a.length;s++){if(!(s<2*(i.days-1)))u=a[s],m.N3mK(7),d=("2"|m.e3mK(1,19,18))*u["_EMA1 "+i.name]-u["_EMA2 "+i.name],s+n>=0&&(s+n<a.length?(m.N3mK(0),a[m.E3mK(n,s)][h]=d):((p={})[h]=d,c.push(p)))}i.appendFutureTicks(e,c)},t.Studies.calculateMovingAverageTripleExponential=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g=we;for("_","EMA2","_EMA","1",a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),t.Studies.MA("ema",i.days,r,0,"_EMA1",e,i),t.Studies.MA("ema",i.days,"_EMA1 "+i.name,0,"_EMA2",e,i),t.Studies.MA("ema",i.days,"_EMA2 "+i.name,0,"_EMA3",e,i),n=parseInt(i.inputs.Offset,10),isNaN(n)&&(n=0),l=n,s=i.startFrom-1;s>=0;s--)if("obj","e","c","t",(o=a[s][r])&&"object"==typeof o&&(o=o[i.subField]),o||0===o){if(!(l>0))break;l--}for(var f in h=i.name,i.outputs)g.i3mK(93),h=g.E3mK(h,f," ");for(c=[],s++;s<a.length;s++)if("_","E","MA","3 ","_","EMA","2"," ",!(s<3*(i.days-1))){u=a[s],g.N3mK(147);var y=g.E3mK(4,4,15,4,3);g.N3mK(1);var v=g.e3mK(6,9);d=y*u["_EMA1 "+i.name]-v*u["_EMA2 "+i.name]+u["_EMA3 "+i.name],s+n>=0&&(s+n<a.length?(g.i3mK(0),a[g.e3mK(n,s)][h]=d):((p={})[h]=d,c.push(p)))}m=2;for(var x=1;-1417573364!==g.Y6v(x.toString(),x.toString().length,15427);x++)i.appendFutureTicks(e,c),g.i3mK(4),m+=g.E3mK("2",2147483647);-279626143!==g.Y6v(m.toString(),m.toString().length,44626)&&i.appendFutureTicks(e,c)},t.Studies.calculateMAEnvelope=function(e,i){var a,r,n;(a=i.inputs.Field)&&"field"!=a||(a="Close"),t.Studies.MA(i.inputs["Moving Average Type"],i.days,a,0,"MA",e,i),r=i.inputs["Shift Type"],n=i.inputs.Shift,r||("pe","rc","en","t",r="percent",n=i.inputs["Shift Percentage"]),"percent"==r?(we.i3mK(10),t.Studies.calculateGenericEnvelope(e,i,we.e3mK(n,100),"MA "+i.name)):"points"==r&&t.Studies.calculateGenericEnvelope(e,i,null,"MA "+i.name,null,Number(n))},t.Studies.calculateMADev=function(e,i){var a,r,n,s,o,l,h,c;if("_","hi","st","_","M","A","Points ","Or Percent",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&"field"!=r||(r="Close"),(n=i.inputs["Points Or Percent"])||(n="Points"),(s=i.inputs["Moving Average Type"])||(s="exponential"),t.Studies.MA(s,i.days,r,0,"_MA",e,i),o=i.name+"_hist";for(var u=Math.max(i.startFrom,i.days-1);u<a.length;u++)"obje","ct",(h=(l=a[u])[r])&&"object"==typeof h&&(h=h[i.subField]),((c=l["_MA "+i.name])||0===c)&&("Points"==n?(we.N3mK(1),l[o]=we.E3mK(c,h)):(we.i3mK(148),l[o]=we.e3mK(100,h,c,1)));i.outputMap={},i.outputMap[i.name+"_hist"]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:t.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:t.Studies.calculateMADev,seriesFN:t.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:t.Studies.displayChannel,calculateFN:function(e,i){i.inputs["Moving Average Type"]="triangular",t.Studies.calculateMAEnvelope(e,i)},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:.1,step:.1}}}})):("movingAverages fe","ature requires firs","t activating studies feature.",console.error("movingAverages feature requires first activating studies feature."))},W=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePSAR=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p=we;function m(){a=0,p.k7Kh(),r=null,n=!n}if("M","aximum AF","Mi","nimum AF",i=t.chart.scrubbed,a=0,r=null,n=!1,s=0,o=parseFloat(t.inputs["Minimum AF"]),l=parseFloat(t.inputs["Maximum AF"]),t.startFrom>0){"Re","su","l","t ",p.N3mK(141);var g=p.e3mK(4,3,2,11,13);s=i[t.startFrom-g]["Result "+t.name],(h=i[t.startFrom-1]["_state "+t.name])&&3==h.length&&(a=h[0],r=h[1],n=h[2])}for(var f=t.startFrom-1;f<i.length-1;f++)if(!(f<0)){if(i[f].futureTick)break;c=s,n?((!r||r<i[f].High)&&(r=i[f].High,p.i3mK(0),a=Math.min(p.e3mK(o,a),l)),p.N3mK(149),s=p.e3mK(c,r,a,c),u=Math.min(i[Math.max(1,f)-1].Low,i[f].Low),s>i[f+1].Low?(s=r,m()):s>u&&(s=u)):((!r||r>i[f].Low)&&(r=i[f].Low,p.i3mK(0),a=Math.min(p.e3mK(o,a),l)),p.N3mK(149),s=p.E3mK(c,r,a,c),d=Math.max(i[Math.max(1,f)-1].High,i[f].High),s<i[f+1].High?(s=r,m()):s<d&&(s=d)),p.i3mK(0),i[p.e3mK(1,f)]["_state "+t.name]=[a,r,n],isNaN(i[f].High)&&isNaN(i[f].Low)||("R","esu","lt ",p.N3mK(0),i[p.e3mK(1,f)]["Result "+t.name]=s)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:t.Studies.calculatePSAR,seriesFN:t.Studies.displayPSAR2,inputs:{"Minimum AF":.02,"Maximum AF":.2}}})):("parabolicSAR featu","re req","uires first activating studies feature.",console.error("parabolicSAR feature requires first activating studies feature."))},Q=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#ffd0c","f","a","u","t","o","f","ibon","acci","Pivo","t P","oints",t.Studies.calculatePivotPoints=function(e,i){var a,r,n,s,o,l,h,c,u,d,p=we;p.d7Kh(),a=i.chart.scrubbed,r="day",n=e.layout.interval,s=e.layout.timeUnit,"day"==n?r="month":t.ChartEngine.isDailyInterval(n)?r="year":"second"==n||"millisecond"==n||"second"==s||"millisecond"==s?r="15min":(o=e.layout.periodicity,"minute"!=n&&(o*=n),o>=30&&(r="week")),l=null,p.N3mK(55),h=p.e3mK(5,8,27,108)-t.getFromNS(e.chart,"market.beginningDayOfWeek",0),c={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},i.startFrom>1&&a[i.startFrom-1]["_pointers "+i.name]&&(c=t.clone(a[i.startFrom-1]["_pointers "+i.name]));for(var m=Math.max(1,i.startFrom);m<a.length;m++)if("y","e","a","r",a[m-1]){if(c.high=Math.max(c.high,a[m-1].High),c.low=Math.min(c.low>0?c.low:a[m-1].Low,a[m-1].Low),i.inputs.Continuous||"year"==r&&a[m].DT.getYear()!=a[m-1].DT.getYear()||"month"==r&&a[m].DT.getMonth()!=a[m-1].DT.getMonth()||"week"==r&&(a[m].DT.getDay()+h)%7<(a[m-1].DT.getDay()+h)%7?v():"day"==r?(null===l&&(l=t.Studies.getMarketOffset({stx:e,localQuoteDate:a[m].DT,shiftToDateBoundary:!0})),u=new Date(new Date(+a[m].DT).setMilliseconds(a[m].DT.getMilliseconds()+l)),(d=new Date(new Date(+a[m-1].DT).setMilliseconds(a[m-1].DT.getMilliseconds()+l))).getDate()!==u.getDate()&&0!==d.getDay()&&e.chart.market.isMarketDate(u)&&(l=null,v())):"15min"!=r||a[m].DT.getHours()==a[m-1].DT.getHours()&&Math.floor(a[m].DT.getMinutes()/15)==Math.floor(a[m-1].DT.getMinutes()/15)||v(),a[m]["Pivot "+i.name]=c.pivotPoint,"fibonacci"==i.inputs.Type.toLowerCase())"Su","p","por","t 3 ","Resis","tanc","e ","2 ",a[m]["Resistance 1 "+i.name]=c.pivotPoint+.382*c.hlSpread,a[m]["Resistance 2 "+i.name]=c.pivotPoint+.618*c.hlSpread,a[m]["Resistance 3 "+i.name]=c.pivotPoint+c.hlSpread,a[m]["Support 1 "+i.name]=c.pivotPoint-.382*c.hlSpread,a[m]["Support 2 "+i.name]=c.pivotPoint-.618*c.hlSpread,a[m]["Support 3 "+i.name]=c.pivotPoint-c.hlSpread;else{"Sup","port"," 3 ","S","uppo","rt 1 ","Resistanc","e 3"," ",p.i3mK(23);var g=p.E3mK(4,22,6);a[m]["Resistance 1 "+i.name]=g*c.pivotPoint-c.prevLow,a[m]["Resistance 2 "+i.name]=c.pivotPoint+c.hlSpread,a[m]["Resistance 3 "+i.name]=c.prevHigh+2*(c.pivotPoint-c.prevLow),p.i3mK(31);var f=p.e3mK(0,6,20,16);a[m]["Support 1 "+i.name]=f*c.pivotPoint-c.prevHigh,a[m]["Support 2 "+i.name]=c.pivotPoint-c.hlSpread,p.N3mK(135);var y=p.e3mK(6,98,30,20);a[m]["Support 3 "+i.name]=c.prevLow-y*(c.prevHigh-c.pivotPoint)}a[m]["_pointers "+i.name]=t.clone(c)}function v(){p.i3mK(31);var e=p.e3mK(0,11,13,3);p.i3mK(62);var t=p.E3mK(26,8,2,13);c.pivotPoint=(c.high+c.low+a[m-e].Close)/t,c.prevHigh=c.high,c.prevLow=c.low,c.hlSpread=c.high-c.low,c.high=c.low=0}},t.Studies.displayPivotPoints=function(e,i,a){var r,n;we.d7Kh(),i.noSlopes=!i.inputs.Continuous,t.Studies.displaySeriesAsLine(e,i,a),i.inputs.Shading&&("S","upport 2 ","Resis","tan","ce"," 1",r=e.panels[i.panel],n={noSlopes:i.noSlopes,opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:r.name!=i.chart.name,yAxis:i.getYAxis(e)},!i.highlight&&e.highlightedDraggable&&(n.opacity*=.3),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"Resistance 3 "+i.name,bottomBand:"Resistance 2 "+i.name,color:t.Studies.determineColor(i.outputs["Resistance 3"])},n)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"Resistance 2 "+i.name,bottomBand:"Resistance 1 "+i.name,color:t.Studies.determineColor(i.outputs["Resistance 2"])},n)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"Resistance 1 "+i.name,bottomBand:"Pivot "+i.name,color:t.Studies.determineColor(i.outputs["Resistance 1"])},n)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"Support 1 "+i.name,bottomBand:"Pivot "+i.name,color:t.Studies.determineColor(i.outputs["Support 1"])},n)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"Support 2 "+i.name,bottomBand:"Support 1 "+i.name,color:t.Studies.determineColor(i.outputs["Support 2"])},n)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"Support 3 "+i.name,bottomBand:"Support 2 "+i.name,color:t.Studies.determineColor(i.outputs["Support 3"])},n)))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:t.Studies.displayPivotPoints,calculateFN:t.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:.2}}}})):console.error("pivotPoints feature requires first activating studies feature.")},we.k7Kh(),V=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculatePrettyGoodOscillator=function(e,i){var a;if(we.k7Kh(),"true","Range",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{t.Studies.MA("exponential",i.days,"trueRange",0,"_EMA",e,i),t.Studies.MA("simple",i.days,"Close",0,"_SMA",e,i);for(var r=Math.max(1,i.startFrom);r<a.length;r++)"_","S","MA ","R","es","ult ",a[r]["_SMA "+i.name]&&a[r]["_EMA "+i.name]&&(a[r]["Result "+i.name]=(a[r].Close-a[r]["_SMA "+i.name])/a[r]["_EMA "+i.name])}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:t.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}})):("prettyGoodOscillator featu","re requires first activating studies feature.",console.error("prettyGoodOscillator feature requires first activating studies feature."))},B=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("0.0","5","aut","o",t.Studies.calculatePMO=function(e,i){var a,r,n,s,o,l=we;if("PM","O ","_E","MAx1","0"," ","_RO","C","x10"," ","Smo","o","thing Period",a={Smooth:Number(i.inputs["Smoothing Period"])-1,Double:Number(i.inputs["Double Smoothing Period"])-1,Signal:Number(i.inputs["Signal Period"])},(r=i.chart.scrubbed).length<a.Smooth+a.Double)i.error=!0;else{for((n=i.inputs.Field)&&"field"!=n||(n="Close"),s=i.startFrom;s<r.length;s++)if(r[s]&&r[s-1]&&(l.i3mK(1),o=r[l.E3mK(1,s)][n])){"_RO","Cx10"," ",l.i3mK(108);var h=l.E3mK(222,999,11,100,2);l.N3mK(150);var c=l.e3mK(6,9,10,1,6);r[s]["_ROCx10 "+i.name]=h*(r[s][n]/o-c)}t.Studies.MA("exponential",a.Smooth,"_ROCx10 "+i.name,0,"_EMAx10",e,i),t.Studies.MA("exponential",a.Double,"_EMAx10 "+i.name,0,"PMO",e,i),t.Studies.MA("exponential",a.Signal,"PMO "+i.name,0,"PMOSignal",e,i),i.zoneOutput="PMO"}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:t.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}})):("priceMoment","umOscillator feature requires first activating studies feature.",console.error("priceMomentumOscillator feature requires first activating studies feature."))},U=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#F","F000","0","#","00","DD00","Per","c","en","t","Poin","ts",t.Studies.calculatePriceOscillator=function(e,i){var a,r,n,s,o,l,h,c,u,d=we;if("Perc","e","n","t","Po","ints Or"," P","ercent",a=i.chart.scrubbed,r=Number(i.inputs["Short Cycle"]),n=Number(i.inputs["Long Cycle"]),a.length<Math.max(r,n)+1)i.error=!0;else{s=i.inputs.Field,(o=i.inputs["Moving Average Type"])||(o="simple"),s&&"field"!=s||(s="Close"),d.k7Kh(),i.parameters.isVolume&&(s="Volume",o="exponential"),(l=i.inputs["Points Or Percent"])||(l="Percent"),t.Studies.MA(o,r,s,0,"_Short MA",e,i),t.Studies.MA(o,n,s,0,"_Long MA",e,i);for(var p=Math.max(n,i.startFrom);p<a.length;p++)"_Lon","g ","M","A ",(h=a[p])&&(c=h["_Short MA "+i.name],u=h["_Long MA "+i.name],!c&&0!==c||!u&&0!==u||("Points"==l?(d.N3mK(1),h["Result "+i.name]=d.E3mK(u,c)):(d.N3mK(151),h["Result "+i.name]=d.E3mK(1,u,"100",c)),i.outputs["Increasing Bar"]&&("Res","u","lt"," ",h[i.name+"_hist"]=h["Result "+i.name],i.outputMap={},i.outputMap[i.name+"_hist"]="")))}},t.Studies.displayRAVI=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g=we;r=e.panels[i.panel],n=i.getContext(e),s=i.getYAxis(e),o=e.pixelFromPrice(0,r,s),g.i3mK(152);var f=g.e3mK(5,19,17,12,2753);(l=e.layout.candleWidth-f)<2&&(l=1),h=t.Studies.determineColor(i.outputs["Increasing Bar"]),c=t.Studies.determineColor(i.outputs["Decreasing Bar"]),e.startClip(i.panel),e.canvasColor("stx_histogram"),i.underlay||(n.globalAlpha=1),!i.highlight&&e.highlightedDraggable&&(g.i3mK(1),n.globalAlpha*=g.E3mK(0,"0.3"));for(var y=0;y<a.length;y++)"_h","is","t","_h","ist","_hi","st",u=a[y],g.N3mK(1),(d=a[g.e3mK(1,y)])||(d=e.getPreviousBar(e.chart,i.name+"_hist",y)),u&&(p=0,g.i3mK(5),m=g.E3mK(1,"0"),i.parameters&&i.parameters.studyOverZonesEnabled&&(p=parseFloat(i.parameters.studyOverBoughtValue),m=parseFloat(i.parameters.studyOverSoldValue)),d?u[i.name+"_hist"]>p&&d[i.name+"_hist"]<u[i.name+"_hist"]?n.fillStyle=h:u[i.name+"_hist"]<m&&d[i.name+"_hist"]>u[i.name+"_hist"]?n.fillStyle=c:n.fillStyle="#CCCCCC":n.fillStyle="#CCCCCC",u.candleWidth&&(l=Math.floor(Math.max(1,u.candleWidth-2))),n.fillRect(Math.floor(e.pixelFromBar(y,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(u[i.name+"_hist"],r,s)-o)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:t.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:t.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:"RAVI",seriesFN:t.Studies.displayRAVI,calculateFN:t.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}})):console.error("priceVolumeOscillator feature requires first activating studies feature.")},j=e=>{var t,i;if(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.d7Kh(),t.Studies)"-1 ","to 1",t.Studies.calculatePrimeNumber=function(e,t){var i,a,r,n,s,o,l,h,c=we;i=[],a=t.chart.scrubbed,c.d7Kh();for(var u=t.startFrom;u<a.length;u++)if("Prime Num","ber Bands",r=a[u]){if(n=r.High,!isNaN(n)){for(var d=0;n>0&&n<=10;d++)n*=10;for(g(n)&&(n+=2),(n=Math.ceil(n))%2==0&&n++;!g(n);)n+=2;c.N3mK(5),n/=Math.pow(c.e3mK(1,"10"),d)}if(s=r.Low,!isNaN(s)){for(var p=0;s>0&&s<=10;p++)s*=10;if(g(s)&&(s-=2),(s=Math.floor(s))%2==0&&s--,s>0){for(;!g(s);)s-=2;s/=Math.pow(10,p)}}if("Prime Number Bands"==t.type)"Pr","ime Bands To","p ",isNaN(n)||(r["Prime Bands Top "+t.name]=n),isNaN(s)||(r["Prime Bands Bottom "+t.name]=Math.max(0,s));else{o=0,c.i3mK(1);var m=c.E3mK(1600,1700);l=t.inputs["Tolerance Percentage"]*(n-s)/m,c.i3mK(153),(h=n+s-c.e3mK(24,9,3,6,4)*r.Close)<l?o=1:h>l&&(c.N3mK(5),o=-c.e3mK(1,"1")),o&&(r["Result "+t.name]=o)}}function g(e){var t;if(e<=0)return!1;if(e!=Math.floor(e))return!1;if(!0===i[e]||!1===i[e])return i[e];t=parseInt(Math.sqrt(e),10);for(var a=2;a<=t;a++)if(e%a==0)return i[e]=!1,!1;return i[e]=!0,!0}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:t.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:.1,step:.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:t.Studies.calculatePrimeNumber,seriesFN:t.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});else{-699919697,-1571753081,i=2;for(var a=1;-699919697!==we.s1v(a.toString(),a.toString().length,43971);a++)"primeNumber fe","ature requires first activating studies feature.",console.error("primeNumber feature requires first activating studies feature."),i+=2;-1571753081!==we.Y6v(i.toString(),i.toString().length,45054)&&console.error("")}},Y=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Pring'","s Spe","cial K","#F","F0000","f","i","e","ld","Pring's Kno","w Sure Thing",t.Studies.calculateKST=function(e,i){var a,r,n,s,o,l,h,c,u,d=we;a=i.chart.scrubbed,r=i.inputs.Field,n=2;for(var p=1;-683580816!==d.s1v(p.toString(),p.toString().length,29295);p++)"fi","el","d",r&&"field"!=r||(r="Close"),o={},(s={})[1]=Number(i.inputs["Lightest Rate of Change Period"]),s[2]=Number(i.inputs["Light Rate of Change Period"]),s[3]=Number(i.inputs["Heavy Rate of Change Period"]),s[4]=Number(i.inputs["Heaviest Rate of Change Period"]),o[1]=Number(i.inputs["Lightest SMA Period"]),n+=2;for(-936030243!==d.Y6v(n.toString(),n.toString().length,15768)&&("Ligh","test S","MA Peri","od","C","l","o","se",-r&&"Close"!=r&&(r="Close"),o={},(s={})[3]=Number(i.inputs["Heaviest Rate of Change Period"]),s[3]=Number(i.inputs["Lightest SMA Period"]),s[2]=Number(i.inputs.Close),s[8]=Number(i.inputs["Lightest SMA Period"]),o[6]=Number(i.inputs.Close)),o[2]=Number(i.inputs["Light SMA Period"]),o[3]=Number(i.inputs["Heavy SMA Period"]),d.i3mK(1),o[d.e3mK(0,"4")]=Number(i.inputs["Heaviest SMA Period"]),l=Number(i.inputs["Signal Period"]),h=i.startFrom;h<a.length;h++)if(a[h])for(c=1;c<=4;c++)if(h>=s[c]&&a[h-s[c]]&&a[h-s[c]][r]){d.i3mK(2);var m=d.e3mK(7,11,104);d.N3mK(154);var g=d.e3mK(0,11,8,17,2);a[h]["_ROC"+c+" "+i.name]=m*(a[h][r]/a[h-s[c]][r]-g)}for(c=1;c<=4;c++)"_","S","M","A",t.Studies.MA("simple",o[c],"_ROC"+c+" "+i.name,0,"_SMA"+c,e,i);for(h=i.startFrom;h<a.length;h++)for(a[h]["KST "+i.name]=null,c=1;c<=4;c++){"_S","M","A",d.N3mK(1);d.E3mK(15,36);d.N3mK(155);d.e3mK(7,10,10,8);d.i3mK(78);d.e3mK(34920,4365,5796,3);d.i3mK(156);d.E3mK(1,846,846,8455,6);d.i3mK(157);d.E3mK(631,16,8,42,42);((u=a[h]["_SMA"+c+" "+i.name])||0===u)&&(d.i3mK(5),a[h]["KST "+i.name]+=d.e3mK(u,c))}t.Studies.MA("simple",l,"KST "+i.name,0,"KSTSignal",e,i)},t.Studies.calculateSpecialK=function(e,i){var a,r,n,s,o,l,h,c,u=we;for("Clo","se",a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),(n=i.inputs.Interval)||(n="daily"),s={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},o={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},l=i.startFrom;l<a.length;l++)if(a[l])for(h=0;h<s[n].length;h++)if(l>=s[n][h]&&a[l-s[n][h]]&&a[l-s[n][h]][r]){u.N3mK(124);var d=u.e3mK(96,2,11,2,273);u.i3mK(7);var p=u.E3mK(0,11,10);a[l]["_ROC"+h+" "+i.name]=d*(a[l][r]/a[l-s[n][h]][r]-p)}for(h=0;h<o[n].length;h++)"d","a","i","ly",t.Studies.MA("daily"==n?"simple":"exponential",o[n][h],"_ROC"+h+" "+i.name,0,"_MA"+h,e,i);for(l=i.startFrom;l<a.length;l++)for(a[l]["Result "+i.name]=null,h=0;h<o[n].length;h++){u.i3mK(7);u.E3mK(64404,5,57253);u.N3mK(158);var m=u.e3mK(246,20,9,15,262);u.N3mK(1);u.e3mK(68440,76995);u.N3mK(0);u.e3mK(15,380);((c=a[l]["_MA"+h+(485.72===m||" ")+i.name])||0===c)&&(u.i3mK(159),a[l]["Result "+i.name]+=u.E3mK(4,1,h,c))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:t.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:t.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}})):console.error("pring feature requires first activating studies feature.")},q=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.Studies?t.Studies.studyLibrary.PVAT||("s","t","e","p","hh",":","m","m:ss","#b8","2c0c","#c","fb","d0e","Proj","ected Volume at"," Ti","me",t.Studies.initProjectedVolume=function(e,i,a,r,n,s){var o,l;var{market:h}=e.chart;return o="0",o+="0:0",we.k7Kh(),o+="0",h&&(o=h.getNormalOpen()),o.match(/^[\d]{2}:[\d]{2}$/)&&(o+=":00"),a["Anchor Time"]&&a["Anchor Time"].length||(a["Anchor Time"]=o),l=t.Studies.initializeFN(e,i,a,r,n,s),e.currentlyImporting||(l.defaultAnchorTime=o),l},t.Studies.validateProjectedVolumeLookback=function(e,t){var{interval:i,periodicity:a}=e.layout,{"Lookback Days":r}=t.inputs;return we.k7Kh(),we.N3mK(160),we.e3mK("10",i,r,a,945977472)},t.Studies.calculateProjectedVolume=function(e,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,Q,V,B,U,j,Y,q,Z,G=we;var{interval:J,timeUnit:$,aggregationType:ee}=e.layout,{symbol:te,scroll:ie,scrubbed:ae,market:re}=e.chart;if(r="PAV"===a.type,n=a.study?a.study.name:a.type,t.ChartEngine.isDailyInterval(J)?a.error="".concat(n," is Intraday Only"):"tick"===$?a.error="Tick mode not supported for ".concat(n):"minute"!==$?a.error="Sub-minute periodicities not supported for ".concat(n):ee&&["ohlc","heikinashi"].includes(ee)?t.Studies.validateProjectedVolumeLookback(e,a)||(a.error="Selected lookback/periodicity combo not supported for ".concat(n)):a.error="Aggregation type not supported for ".concat(n),!a.error){if(a.inputs["Anchor Selector"]?t.Studies.initAnchorHandle(e,a):t.Studies.removeAnchorHandle(e,a),(s=re?re.getNormalOpen():"00:00").match(/^[\d]{2}:[\d]{2}$/)&&(s+=":00"),!e.currentlyImporting)if(a.defaultAnchorTime){if(s!==a.defaultAnchorTime){"An","chor Time",a.defaultAnchorTime=s,a.inputs["Anchor Time"]=s,G.i3mK(26),o=-G.E3mK("1647446163",0),1474594140,l=2;for(var ne=1;G.Y6v(ne.toString(),ne.toString().length,83222)!==o;ne++)t.Studies.repositionAnchor(e,a),l+=2;return void(1474594140!==G.Y6v(l.toString(),l.toString().length,4772)&&t.Studies.repositionAnchor(e,a))}}else a.defaultAnchorTime=s;var{"Lookback Days":se,"Anchor Time":oe}=a.inputs;G.i3mK(5);var[le,he,ce=we.e3mK(1,"0")]=oe.split(":");if(h=t.getFn("Market.Symbology.isForexSymbol")(te),c=a.getDependents(e),u=0,d=[],c.forEach(e=>{let{inputs:t,outputMap:i}=e;t.Period&&(u=Math.max(parseInt(t.Period),u),d.push(...Object.keys(i)))}),a.dependentsOutputMap=d,m=ke(ae.length-1,!0),g=Math.ceil(ae.length-1-ie),G.i3mK(1),f=ke(G.E3mK(u,g)),h&&ae[f]&&t.dateToStr(ae[f].DT,"HH:mm")!==s&&(G.N3mK(76),f=ke(G.e3mK("1",f))),p=!h&&a.startFrom>f&&ae[f]&&void 0!==ae[f]["V "+a.name]&&d.every(e=>(G.d7Kh(),![void 0,null].includes(ae[f][e])))&&!1!==m?m:f,(y=De(Se(f),se)).setHours(0,0,0),x=((v=ke(0,!0))||0===v)&&Le(De(ae[v].DT,se,!0)),ae[0].DT>y){if(!e.quoteDriver)return a.error="Not enough data to calculate ".concat(n);if(e.quoteDriver.extendHistoricalData({from:y}),!(x>0))return;p=x}if(!(p<0||p>ae.length-1)){if(G.k7Kh(),b=ae.length-a.startFrom==1&&a.cachedFutureTicks&&a.cachedLastProjection&&+a.cachedLastProjection.DT==+ae[ae.length-1].DT&&ae[p]["PV "+a.name]){"P","V"," ",G.N3mK(119);var ue=G.e3mK(7,1,6);ae[ae.length-ue]["PV "+a.name]=a.cachedLastProjection.projectedValue,a.appendFutureTicks(e,a.cachedFutureTicks),p=a.startFrom}else{a.cachedFutureTicks=null,a.cachedLastProjection=null,C=[m],S=[];for(var de=0;de<se;de++)w=ke(C[0]-1),C.unshift(w);for(;C[se]>=p;){if(k=C.pop(),!ae[k])return Te(k);L=Ae(ae[k].DT);var{hours:pe,minutes:me}=L;if(D=void 0,A=re.getClose(ae[k].DT)){for(T=re.getNextClose(ae[k].DT),D=Ae(A);(0!==D.hours||0!==D.minutes)&&A.getDate()===T.getDate();)A=T,T=re.getNextClose(T);0===(D=Ae(A)).hours&&(D.hours=24)}else D={hours:24,minutes:0};M=C.slice();for(var ge=0;ge<M.length;ge++){if(F=M[ge],!ae[F])return Te(F);var{hours:fe,minutes:ye}=Ae(ae[F].DT);if(fe<pe||fe===pe&&ye<me)do{F++,({hours:fe,minutes:ye}=Ae(ae[F].DT))}while(fe!==pe||ye!==me);M[ge]=F}for(;pe<D.hours||pe===D.hours&&me<D.minutes;){P=!1,_=void 0,E=void 0,K=0,I=0;for(var ve=0;ve<M.length;ve++)if(null!==(N=M[ve])){if(!(O=ae[N]))return Te(N);var{hours:xe,minutes:be}=Ae(O.DT);X=O.DT.getDate(),xe===pe&&be===me&&(K+=O.Volume,I++,M[ve]++,ae[M[ve]].DT.getDate()!==X?M[ve]=null:P||(({hours:_,minutes:E}=Ae(ae[M[ve]].DT)),P=!0))}if(pe=_,me=E,0===I)break;G.N3mK(10),z=G.e3mK(K,I),ae[k]?ae[k]["PV "+a.name]=z:S.push({["PV "+a.name]:z}),k++}C.unshift(ke(C[0]-1))}a.cachedLastProjection={DT:ae[ae.length-1].DT,projectedValue:ae[ae.length-1]["PV "+a.name]},a.cachedFutureTicks=S,a.appendFutureTicks(e,S)}if(H=null,R=0,W=0,b&&r)for(;p>0;){if("V"," ",G.i3mK(161),(V=ae[G.E3mK(1,p,"1")]["V "+a.name])||0===V){R=V;break}p--}for(var Ce=p;Ce<ae.length;Ce++)if(U=(B=ae[Ce]).Volume,j=B["PV "+a.name],B.futureTick||(Q=Ce),null===H&&(H=t.Studies.getMarketOffset({stx:e,localQuoteDate:ae[Ce].DT,shiftToDateBoundary:!0})),Y=new Date(new Date(B.DT).getTime()+H),q=ae[Ce-1]&&new Date(new Date(ae[Ce-1].DT).getTime()+H),(Z=new i.Date(B.DT,re.market_def.market_tz||"America/New_York")).setHours(le,he,ce),G.N3mK(0),(Z=new Date(G.E3mK(H,Z))).setDate(Y.getDate()),q&&Y.getDate()!==q.getDate()&&(H=null,R=0,W=0),Y<Z)"V"," ",B["V "+a.name]=0,B["PV "+a.name]=0;else if(r?(R+=U,W+=j):(R=U,W=j),B["V "+a.name]=R,b||(B["PV "+a.name]=W),[NaN,null,void 0].includes(R)&&!B.futureTick)return void(a.error="".concat(n," requires volume"));a.cachedLastProjection.projectedValue=ae[Q]["PV "+a.name],a.outputMap={},a.outputMap["V "+a.name]="",a.outputMap["PV "+a.name]="Average Line",c.forEach(t=>{G.d7Kh(),t.startFrom=p,t.study.calculateFN(e,t)})}}function Se(t){return G.k7Kh(),e.dateFromTick(t,null,!0,"scrubbed")}function ke(i,a){var r,n,s,o,l;return r=Se(i),s=Le(n=re.getOpen(r)||(o=r,G.d7Kh(),o.setHours(0),o.setMinutes(0),l=t.Studies.getMarketOffset({stx:e,localQuoteDate:o}),new Date(o.getTime()+l))),a?(s<0&&(s=Le(De(n,1,!0))),!(s>=ae.length)&&s):s}function Le(t){return"s","cr","u","bbed",e.tickFromDate(t,null,null,!0,"scrubbed")}function Ae(e){return{hours:e.getHours(),minutes:e.getMinutes()}}function De(e,t,i){for(G.d7Kh();t;)e=new Date(new Date(e).setDate(e.getDate()+(i?1:-1))),re.isMarketDate(e)&&t--;return e}function Te(e){console.error("Expected data for ".concat(Se(e).toDateString()," but found none. This may be caused by gaps in your data or an improperly configured market definition."))}},t.Studies.displayProjectedVolume=function(e,i,a){var r,n,s,o,l,h,c,u=we;if("V"," ","obj","ec","t",i.error)return t.Studies.removeAnchorHandle(e,i);var{"Alert Threshold":d=""}=i.inputs;u.N3mK(162);var p=u.e3mK(2,2,35,9);u.N3mK(16);var m=u.e3mK(19,9);u.i3mK(58);var g=u.E3mK(86,99,86);r=parseInt(d.slice(0,p),m)/g,"object"==typeof(n=i.outputs["Alert Bar"])&&(n=n.color),i.volumeField="V "+i.name,i.alignStepToSide=!0,i.extendToEndOfLastBar=!0,i.lineWidth=2,s=e.canvasStyle("stx_volume_underlay_up").opacity,o=e.canvasStyle("stx_volume_underlay_down").opacity,i.colorFunction=function(t){var a,l,h,c,d,p;var{Open:m,Close:g,iqPrevClose:f}=t;return u.k7Kh(),a=e.colorByCandleDirection?m:f,u.N3mK(163),l=u.e3mK(a,g),h=t["PV "+i.name],c=t["V "+i.name],u.i3mK(164),d=u.E3mK(1,r,h),{fill_color:(p=r<0?c<d:c>d)&&n||(l?this.fill_color_down:this.fill_color_up),border_color:l?this.border_color_down:this.border_color_up,opacity:p?1:l?o:s,border_opacity:l?o:s}},l=i.study?i.study.name:i.type;var{loadingMore:f}=e.chart;if(h=a.some(e=>(u.k7Kh(),"P","V"," ",e&&e[i.volumeField]&&e["PV "+i.name])),c=a[0]&&!a[0].futureTick&&(void 0===a[0]["PV "+i.name]||(i.dependentsOutputMap||[]).some(e=>(u.k7Kh(),[void 0,null].includes(a[0][e])))),!h&&f)return i.error="Fetching data for ".concat(l);t.Studies.createVolumeChart(e,i,a),t.Studies.displaySeriesAsLine(e,i,a),i.anchorHandle&&t.Studies.displayAnchorHandleAndLine(e,i,a),c&&t.Studies.calculateProjectedVolume(e,i)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,zoom:0},calculateFN:t.Studies.calculateProjectedVolume,seriesFN:t.Studies.displayProjectedVolume,initializeFN:t.Studies.initProjectedVolume,removeFN:t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%","+50%","+25%","None","-25%","-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,zoom:0},calculateFN:t.Studies.calculateProjectedVolume,seriesFN:t.Studies.displayProjectedVolume,initializeFN:t.Studies.initProjectedVolume,removeFN:t.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}})):("projectedVolume feature requires first a","ctivating st","udies feature.",console.error("projectedVolume feature requires first activating studies feature."))},Z=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Ps","ych","olo","gical Line",t.Studies.calculatePsychologicalLine=function(e,t){var i,a,r,n,s;if((i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{a=[],we.i3mK(23),r=we.E3mK(111,455,5)/t.days,n=0;for(var o=Math.max(t.startFrom-t.days,1);o<i.length&&!i[o].futureTick;o++)(s=Number(i[o].Close>i[o-1].Close))&&(n+=r),a.push(s),a.length>t.days&&(n-=a.shift()*r),o<t.startFrom||isNaN(i[o].Close)||(i[o]["Result "+t.name]=n)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:t.Studies.calculatePsychologicalLine,inputs:{Period:20}}})):console.error("psychologicalLine feature requires first activating studies feature.")},G=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateQStick=function(e,i){var a;if("Mov","ing Average"," Type",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var r=i.startFrom;r<a.length;r++)"_Cl","ose-Ope","n ",a[r]["_Close-Open "+i.name]=a[r].Close-a[r].Open;t.Studies.MA(i.inputs["Moving Average Type"],i.days,"_Close-Open "+i.name,0,"Result",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:t.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}})):console.error("qstick feature requires first activating studies feature.")},J=e=>{var t,i;if(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.d7Kh(),t.Studies)"#","FF","0000","#","00","DD","00","f","i","e","ld","#","000","0","FF","#","FF7F00",t.Studies.calculateRainbow=function(e,i){var a,r,n,s,o,l,h,c,u,d=we;if("C","l","o","se",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{(r=i.inputs.Field)&&"field"!=r||(r="Close"),n=r;for(var p=1;p<=10;p++){"S","MA","S","M","A","s","im","pl","e",t.Studies.MA("simple",i.days,n,0,"SMA"+p,e,i),d.i3mK(156);var m=d.e3mK(39325,1,117975,7829,12);d.i3mK(165);var g=d.e3mK(276,10,253,13,4);d.N3mK(52);var f=d.e3mK(289,17,1);d.N3mK(155);var y=d.E3mK(14,34,7,5444);d.N3mK(131);var v=d.e3mK(9559,16,2743402,18,2);d.i3mK(0);d.E3mK(7657,696);d.i3mK(31);var x=d.E3mK(7727,6,20,5);d.N3mK(158);var b=d.E3mK(315162,4,20,8,80630);n="SMA"+p+(m<g?f>=y?v:593.72===x?"b":b:" ")+i.name}for(var C=Math.max(i.startFrom,10);C<a.length;C++)if("O","s","c",a[C]){if(a[C].futureTick)break;s=0,o=0,d.i3mK(162);var S=d.e3mK(7,4,251,9);for(l=Number.MAX_VALUE*S,h=Number.MAX_VALUE,p=1;p<=10;p++){d.N3mK(166);d.e3mK(4,2552,12,638,243);d.N3mK(137);var w=d.e3mK(1,19240,18,8149,2);d.i3mK(40);d.E3mK(435,2,443,2);d.i3mK(0);var k=d.e3mK(17,5039);d.i3mK(1);d.E3mK(4266,4503);d.i3mK(167);var L=d.E3mK(5,1185,10,1,11460);d.N3mK(168);d.e3mK(0,17,16,15,17);d.N3mK(1);var A=d.E3mK(80388,87087);((c=a[C]["SMA"+p+(w<k&&(L>763.72?A:" "))+i.name])||0===c)&&(s+=c,o++,l=Math.max(l,c),h=Math.min(h,c))}if(i.name.indexOf("Osc")>-1&&(u=P(i.inputs["HHV/LLV Lookback"],C),o)){d.i3mK(71);var D=d.E3mK(5,19015857344,14,93350572346);d.N3mK(169);var T=d.E3mK(5,1,6,0);d.i3mK(16);var M=d.e3mK(7,6);a[C][i.name+"_hist"]=("100"<<D)*(a[C][r]-s/o)/Math.max("0.000001"*T,u[M]-u[0]),d.N3mK(93);var F=d.e3mK(81,7,12);a[C]["Over "+i.name]=F*(l-h)/Math.max(1e-6,u[1]-u[0]),a[C]["Under "+i.name]=-a[C]["Over "+i.name],d.i3mK(53),a[C]["Zero "+i.name]=d.e3mK("0",138937760)}}i.name.indexOf("Osc")>-1&&("Zero"," ","P","ositiv","e"," Bar",i.outputMap={},i.outputMap["Over "+i.name]="Positive Bar",i.outputMap["Under "+i.name]="Negative Bar",i.outputMap["Zero "+i.name]="",i.outputMap[i.name+"_hist"]="")}function P(e,t){var i,r;d.i3mK(16);var n=d.e3mK(20,21);i=Number.MAX_VALUE*n,r=Number.MAX_VALUE;for(var s=t-e+1;s<=t;s++)s<0||(i=Math.max(i,a[s].Close),r=Math.min(r,a[s].Close));return[r,i]}},t.Studies.displayRainbowMA=function(e,i,a){var r;we.k7Kh(),r=e.panels[i.panel];for(var n=10;n>0;n--)t.Studies.displayIndividualSeriesAsLine(e,i,r,"SMA"+n+" "+i.name,a)},t.Studies.displayRainbowOsc=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m;t.Studies.displaySeriesAsLine(e,i,a),r=e.panels[i.panel],n=i.getContext(e),s=i.getYAxis(e),e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(we.N3mK(5),n.globalAlpha*=we.e3mK(1,"0.3")),o=e.pixelFromPrice(0,r,s),l=r.name!=i.chart.name,h=t.Studies.determineColor(i.outputs["Positive Bar"]),n.strokeStyle=h,e.plotDataSegmentAsLine("Over "+i.name,r,{skipTransform:l,label:!1,yAxis:s}),(c=n.createLinearGradient(0,o,0,s.flipped?s.bottom:s.top)).addColorStop(0,e.containerColor),c.addColorStop(1,h),t.prepareChannelFill(e,{skipTransform:l,color:c,opacity:!i.highlight&&e.highlightedDraggable?.3:1,panelName:i.panel,topBand:"Over "+i.name,bottomBand:"Zero "+i.name,yAxis:s}),u=t.Studies.determineColor(i.outputs["Negative Bar"]),n.strokeStyle=u,e.plotDataSegmentAsLine("Under "+i.name,r,{skipTransform:l,label:!1,yAxis:s}),(d=n.createLinearGradient(0,o,0,s.flipped?s.top:s.bottom)).addColorStop(0,e.containerColor),d.addColorStop(1,u),t.prepareChannelFill(e,{skipTransform:l,color:d,opacity:!i.highlight&&e.highlightedDraggable?.3:1,panelName:i.panel,topBand:"Zero "+i.name,bottomBand:"Under "+i.name,yAxis:s}),we.i3mK(107);var g=we.e3mK(20,20,0,3,80);(p=e.layout.candleWidth-g)<2&&(p=1),e.canvasColor("stx_histogram"),i.underlay||(n.globalAlpha=1),!i.highlight&&e.highlightedDraggable&&(n.globalAlpha*=.3),n.fillStyle="#CCCCCC";for(var f=0;f<a.length;f++)"_","h","ist",(m=a[f])&&(m[i.name+"_hist"]>0?n.fillStyle=h:m[i.name+"_hist"]<0&&(n.fillStyle=u),m.candleWidth&&(p=Math.floor(Math.max(1,m.candleWidth-2))),n.fillRect(Math.floor(e.pixelFromBar(f,r.chart)-p/2),Math.floor(o),Math.floor(p),Math.floor(e.pixelFromPrice(m[i.name+"_hist"],r,s)-o)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!0,calculateFN:t.Studies.calculateRainbow,seriesFN:t.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:t.Studies.calculateRainbow,seriesFN:t.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});else{-659124584,-1564706505,i=2;for(var a=1;-659124584!==we.s1v(a.toString(),a.toString().length,98858);a++)"ra","inbow feat","u","re requires first activating studies feature.",console.error("rainbow feature requires first activating studies feature."),i+=2;-1564706505!==we.Y6v(i.toString(),i.toString().length,21218)&&console.error("")}},ee=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#0000","F","F",t.Studies.calculateRandomWalk=function(e,t){var i,a,r,n,s,o,l,h,c;if(i=t.chart.scrubbed,we.d7Kh(),i.length<t.days+1)t.error=!0;else for(var u=Math.max(2,t.startFrom);u<i.length;u++){we.i3mK(15),a=we.e3mK(942087904,"0"),r=i[u].High,n=i[u].Low,s=0,o=0;for(var d=1;d<=t.days&&!i[u].futureTick;d++){if(u<=d){s=o=0;break}(l=(a+=i[u-d].trueRange)/d*Math.sqrt(d))&&(h=(r-i[u-d].Low)/l,c=(i[u-d].High-n)/l,s=Math.max(s,h),o=Math.max(o,c))}i[u].futureTick||isNaN(r)&&isNaN(n)||("Rand","o","m Wa","lk High ",i[u]["Random Walk High "+t.name]=s,i[u]["Random Walk Low "+t.name]=o)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:t.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}})):console.error("randomWalk feature requires first activating studies feature.")},te=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#00","DD","0","0","Relative Vigor I","n","de","x",t.Studies.calculateRelativeVigor=function(e,i){var a,r,n,s,o,l,h,c,u,d=we;if("Rel ","V","ig"," ","_D","en","o","m","tr","ian","gular","_N","u",d.k7Kh(),"mer","_","C","hange ",(a=i.chart.scrubbed).length<i.days+1){-1500487965,-483711252,r=2;for(var p=1;-1500487965!==d.s1v(p.toString(),p.toString().length,3793);p++)i.error=!0,d.i3mK(53),r+=d.E3mK("2",1431196064);-483711252!==d.Y6v(r.toString(),r.toString().length,34965)&&(i.error=!1)}else{for(n=i.startFrom;n<a.length;n++)"_Range"," ","_Chang","e"," ",s=a[n],isNaN(s.Close)||isNaN(s.Open)||(s["_Change "+i.name]=s.Close-s.Open),isNaN(s.High)||isNaN(s.Low)||(s["_Range "+i.name]=s.High-s.Low);for(t.Studies.MA("triangular",4,"_Change "+i.name,0,"_Numer",e,i),t.Studies.MA("triangular",4,"_Range "+i.name,0,"_Denom",e,i),o=[],l=[],n=Math.max(i.startFrom-i.days,0);n<a.length&&("Rel"," Vig"," ","_Nu","mer"," ","_D","en","om"," ",!a[n].futureTick);n++)if(null!==a[n]["_Numer "+i.name]||null!==a[n]["_Denom "+i.name]){for(o.push(a[n]["_Numer "+i.name]),l.push(a[n]["_Denom "+i.name]),o.length>i.days&&(o.shift(),l.shift()),h=0,c=0,u=0;u<o.length;u++)h+=o[u];for(u=0;u<l.length;u++)c+=l[u];0===c&&(c=1e-8),n<i.startFrom||(d.i3mK(10),a[n]["Rel Vig "+i.name]=d.e3mK(h,c))}for(t.Studies.MA("triangular",4,"Rel Vig "+i.name,0,"RelVigSignal",e,i),n=i.startFrom;n<a.length;n++)"Rel"," Vig ","_","hist",a[n][i.name+"_hist"]=a[n]["Rel Vig "+i.name]-a[n]["RelVigSignal "+i.name];i.outputMap[i.name+"_hist"]=""}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:t.Studies.displayHistogramWithSeries,calculateFN:t.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}})):console.error("relativeVigor feature requires first activating studies feature.")},ie=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("a","u","t","o","0 t","o"," 100","f","iel","d",t.Studies.calculateRSI=function(e,t){var i,a,r,n,s,o,l,h,c=we;if(c.d7Kh(),i=t.chart.scrubbed,(a=t.inputs.Field)&&"field"!=a||(a="Close"),i.length<t.days+1)t.error=!0;else{for(var u=t.startFrom;u<i.length;u++)if("_av","gL"," ",u&&(r=i[u],c.i3mK(1),n=i[c.E3mK(1,u)],(r[a]||0===r[a])&&(n[a]||0===n[a]))){if(s=r[a]-n[a],o=Math.min(u,t.days),(l=n["_avgG "+t.name])||(l=0),c.N3mK(10),l-=c.E3mK(l,o),(h=n["_avgL "+t.name])||(h=0),c.N3mK(10),h-=c.e3mK(h,o),s>0)c.N3mK(10),l+=c.E3mK(s,o);else{if(!(s<=0))continue;c.i3mK(10),h-=c.e3mK(s,o)}u>=t.days&&(!l&&0===l||!h&&0===h||(r["RSI "+t.name]=(d=l,m=void 0,0===(p=h)?100:(c.N3mK(10),m=c.E3mK(d,p),c.i3mK(170),c.E3mK(1,100,0,m,"100"))))),r["_avgG "+t.name]=l,r["_avgL "+t.name]=h}var d,p,m;t.zoneOutput="RSI"}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:t.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})):console.error("rsi feature requires first activating studies feature.")},ae=e=>{var t,i;if("u","ndefined",t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.d7Kh(),t.Studies){t.Studies.calculateSchaff=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g;if("Long ","Cycle","Shor","t ","Cycl","e",a=i.chart.scrubbed,r=i.days,n=Number(i.inputs["Short Cycle"]),s=Number(i.inputs["Long Cycle"]),a.length<Math.max(r,n,s)+1)i.error=!0;else{(o=i.inputs.Field)&&"field"!=o||(o="Close"),.5,t.Studies.MA(i.inputs["Moving Average Type"],n,o,0,"_MACD1",e,i),t.Studies.MA(i.inputs["Moving Average Type"],s,o,0,"_MACD2",e,i),l=0,we.d7Kh(),h=0;for(var f=i.startFrom;f<a.length;f++)"_M","AC","D",c=a[f],f<s-1||(u=c["_MACD1 "+i.name],d=c["_MACD2 "+i.name],(u||0===u||d||0===d)&&(we.i3mK(1),c["_MACD "+i.name]=we.E3mK(d,u)),p=c["_MACD "+i.name],f<s+(r-1)||(l=(m=y(r,f,"_MACD"))[1]>m[0]?100*(p-m[0])/(m[1]-m[0]):l,(p||0===p)&&("_P","F ",c["_PF "+i.name]=a[f-1]["_PF "+i.name]?a[f-1]["_PF "+i.name]+.5*(l-a[f-1]["_PF "+i.name]):l),g=c["_PF "+i.name],f<s+2*(r-1)||(h=(m=y(r,f,"_PF"))[1]>m[0]?100*(g-m[0])/(m[1]-m[0]):h,(g||0===g)&&("R","esult ","R","esu","lt"," ","Re","sult ",c["Result "+i.name]=a[f-1]["Result "+i.name]?a[f-1]["Result "+i.name]+.5*(h-a[f-1]["Result "+i.name]):h))))}function y(e,t,r){var n,s,o,l=we;l.k7Kh(),n=null,s=null;for(var h=t-e+1;h<=t;h++){l.N3mK(7);var c=l.E3mK(1914,19,3);l.N3mK(112);l.e3mK(7515,4,1255,9);l.i3mK(1);var u=l.E3mK(136220,145950);l.N3mK(58);var d=l.e3mK(6769,6768,967);l.i3mK(60);var p=l.e3mK(608250,5,8815,14);l.N3mK(70);var m=l.e3mK(63092,15,4853,2);(o=a[h][r+(c>728.88?u>d?" ":p:m)+i.name])&&(n=null===n?o:Math.min(n,o),s=null===s?o:Math.max(s,o))}return[n,s]}},1060436139,1739644818,i=2;for(var a=1;1060436139!==we.s1v(a.toString(),a.toString().length,5226);a++)"0 to ","10","0",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Schaff:{name:"ema",range:"0 to 100",calculateFN:t.Studies.calculateSchaff,inputs:{Period:86,Field:"auto","Short Cycle":40,"Long Cycle":68,"Moving Average Type":"0 to 100"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:87,studyOverBoughtColor:"auto",studyOverSoldValue:45,studyOverSoldColor:"auto"}}}}),i+=2;1739644818!==we.Y6v(i.toString(),i.toString().length,41905)&&("0 to ","100","0 t","o"," 10","0",t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Schaff:{name:"ema",range:"0 to 100",calculateFN:t.Studies.calculateSchaff,inputs:{Period:86,Field:"auto","Short Cycle":40,"Long Cycle":68,"Moving Average Type":"0 to 100"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:87,studyOverBoughtColor:"auto",studyOverSoldValue:45,studyOverSoldColor:"auto"}}}})),t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:t.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}})}else console.error("schaffTrendCycle feature requires first activating studies feature.")},re=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#5","F","7CB8","#E9","9","B5","4",t.Studies.calculateShinohara=function(e,i){var a,r,n,s=we;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{if(s.k7Kh(),r={weakNum:0,weakDen:0,strongNum:0,strongDen:0},i.startFrom>1){987057060,-1419853917,n=2;for(var o=1;987057060!==s.s1v(o.toString(),o.toString().length,76048);o++)r=t.clone(a[i.startFrom%7][""*i.name]),n+=2;-1419853917!==s.s1v(n.toString(),n.toString().length,91148)&&("_ac","cums ",r=t.clone(a[i.startFrom-1]["_accums "+i.name]))}for(var l=i.startFrom;l<a.length;l++){if(r.weakNum+=a[l].High-a[l].Close,r.weakDen+=a[l].Close-a[l].Low,l>0){r.strongNum+=a[l].High-a[l-1].Close,s.N3mK(16);var h=s.e3mK(20,19);r.strongDen+=a[l-h].Close-a[l].Low}if(l>=i.days){"Weak R","a","tio ",r.weakNum-=a[l-i.days].High-a[l-i.days].Close,r.weakDen-=a[l-i.days].Close-a[l-i.days].Low,s.i3mK(23);var c=s.E3mK(83,1477,19);if(a[l]["Weak Ratio "+i.name]=c*r.weakNum/r.weakDen,l>i.days){s.i3mK(16);var u=s.e3mK(15,14);r.strongNum-=a[l-i.days].High-a[l-i.days-("1"|u)].Close,s.i3mK(0);var d=s.E3mK(1,0);r.strongDen-=a[l-i.days-d].Close-a[l-i.days].Low,s.i3mK(25);var p=s.E3mK(10,5,2,97,3);a[l]["Strong Ratio "+i.name]=p*r.strongNum/r.strongDen}}a[l]["_accums "+i.name]=t.clone(r)}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:t.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}})):("shinohara f","eature requi","res first activating studies fea","ture.",console.error("shinohara feature requires first activating studies feature."))},ne=e=>{var t,i;if(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,we.k7Kh(),t.Studies)"a","u","to","au","to","f","i","e","ld","0"," ","to ","100","a","u","t","o","a","u","to","S","tocha","stic Moment","um Index",t.Studies.calculateStochastics=function(e,i){var a,r,n,s,o;function l(e,t,i){var a,r,s,o,l,h,c=we;c.i3mK(2),a=c.E3mK(e,i,1),c.i3mK(171);var u=c.e3mK(6,1,1,3);r=Number.MAX_VALUE*u,s=Number.MAX_VALUE;for(var d=a;d<=e;d++)"L","o","w",o=n[d]["Close"==t?"Low":t],l=n[d]["Close"==t?"High":t],(o||0===o)&&(l||0===l)&&(s=Math.min(s,o),r=Math.max(r,l));if(r==-1*Number.MAX_VALUE||s==Number.MAX_VALUE)return null;h=r==s?0:(n[e][t]-s)/(r-s)*100;for(var p=1;1470748283!==c.Y6v(p.toString(),p.toString().length,18949);p++)return h;return c.s1v(2..toString(),2..toString().length,69492),h}if("%","K"," ","%","K","%K Smooth","ing"," Period","s","C","lo","se",i.smooth||(i.smooth=i.inputs.Smooth),(a=i.inputs.Field)&&"field"!=a||(a="Close"),(r=i.inputs["%K Periods"])||(r=i.days),n=i.chart.scrubbed,we.d7Kh(),n.length<Math.max(r,i.days)+1)i.error=!0;else{(s=i.inputs["%K Smoothing Periods"])&&!i.inputs.Fast?i.smooth=!0:i.smooth&&(s=3),(o=i.inputs["%D Periods"])||(we.i3mK(53),o=we.e3mK("3",1560081344)),i.outputs.Fast&&("%","K"," ",i.outputMap={},i.outputMap["%K "+i.name]="Fast",i.outputMap["%D "+i.name]="Slow");for(var h=Math.max(r,i.startFrom);h<n.length;h++)null!==l(h,a,r)&&(n[h]["_Fast%K "+i.name]=l(h,a,r));t.Studies.MA("simple",i.smooth?s:1,"_Fast%K "+i.name,0,"%K",e,i),t.Studies.MA("simple",o,"%K "+i.name,0,"%D",e,i)}},t.Studies.calculateStochMomentum=function(e,i){var a,r,n,s,o,l,h,c,u=we;if("%","K"," ","%D Moving Av","erage Type","_D","H","L"," ","e","xponential","_","H","S1","_","H"," ",a=Number(i.inputs["%K Periods"]),r=Number(i.inputs["%K Smoothing Periods"]),n=Number(i.inputs["%K Double Smoothing Periods"]),s=Number(i.inputs["%D Periods"]),(o=i.chart.scrubbed).length<a+r+n-1||o.length<s)i.error=!0;else{for(l=Math.max(a,i.startFrom)-1;l<o.length;l++){h=o[l],c=f(a,l),u.N3mK(7);var d=u.E3mK(0,3,2);u.i3mK(0);var p=u.E3mK(1,1);h["_H "+i.name]=h.Close-(c[0]+c[d])/p,u.N3mK(155);var m=u.e3mK(8,17,8,0);h["_DHL "+i.name]=c[m]-c[0]}for(t.Studies.MA("exponential",r,"_H "+i.name,0,"_HS1",e,i),t.Studies.MA("exponential",n,"_HS1 "+i.name,0,"_HS2",e,i),t.Studies.MA("exponential",r,"_DHL "+i.name,0,"_DHL1",e,i),t.Studies.MA("exponential",n,"_DHL1 "+i.name,0,"_DHL2",e,i),l=a-1;l<o.length;l++){"_DHL","2 ",u.i3mK(58);var g=u.e3mK(6,94,1);o[l]["%K "+i.name]=o[l]["_HS2 "+i.name]/(.5*o[l]["_DHL2 "+i.name])*g}t.Studies.MA(i.inputs["%D Moving Average Type"],s,"%K "+i.name,0,"%D",e,i),i.zoneOutput="%K"}function f(e,t){var i,a;i=null,u.k7Kh(),a=null;for(var r=t-e+1;r<=t;r++)i=null===i?o[r].Low:Math.min(i,o[r].Low),a=null===a?o[r].High:Math.max(a,o[r].High);return[i,a]}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:t.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:t.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:t.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:!1,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast}}},centerline:50}});else{-748232014,985973126,i=2;for(var a=1;-748232014!==we.Y6v(a.toString(),a.toString().length,16173);a++)console.error(""),i+=2;985973126!==we.s1v(i.toString(),i.toString().length,9358)&&console.error(""),console.error("stochastics feature requires first activating studies feature.")}},se=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#8cc","17","6",t.Studies.calculateSupertrend=function(e,i){var a,r,n,s,o,l,h=we;if((a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{t.Studies.calculateStudyATR(e,i);for(var c=i.startFrom;c<a.length;c++)if(r=a[c]){h.N3mK(172);var u=h.E3mK(19,359,13,18,13);n=(r.High+r.Low)/u,s=i.inputs.Multiplier*r["ATR "+i.name],h.i3mK(1),o=h.e3mK(s,n),h.N3mK(0),l=h.e3mK(s,n),c&&("_U","ptren","d"," ",a[c-1]&&a[c-1].Close&&a[c-1].Close>a[c-1]["_Uptrend "+i.name]&&a[c-1]["_Uptrend "+i.name]>o&&(h.i3mK(173),o=a[h.E3mK(2147483647,c,"1")]["_Uptrend "+i.name]),a[c-1]&&a[c-1].Close&&a[c-1].Close<a[c-1]["_Downtrend "+i.name]&&a[c-1]["_Downtrend "+i.name]<l&&(h.N3mK(1),l=a[h.E3mK(1,c)]["_Downtrend "+i.name])),r["_Direction "+i.name]=1,c&&("_D","irec","tion"," ","_D","o","wntren","d ","_","Directio","n ",h.i3mK(1),r["_Direction "+i.name]=a[h.e3mK(1,c)]["_Direction "+i.name],r.Close>a[c-1]["_Downtrend "+i.name]?r["_Direction "+i.name]=1:r.Close<a[c-1]["_Uptrend "+i.name]&&(r["_Direction "+i.name]=-1)),r["_Uptrend "+i.name]=o,r["_Downtrend "+i.name]=l,r["Trend "+i.name]=r["_Direction "+i.name]>0?o:l}h.d7Kh(),i.outputMap={},i.outputMap["Trend "+i.name]=""}},t.Studies.displaySupertrend=function(e,t,i){var a,r,n,s,o,l,h,c,u,d;function p(e,i,a){return i&&i["_Direction "+t.name]<0?t.outputs.Downtrend:(we.d7Kh(),t.outputs.Uptrend)}a=e.panels[t.panel],r=t.getContext(e),n=t.getYAxis(e),s={skipTransform:a.name!=t.chart.name,skipProjections:!0,label:e.preferences.labels,yAxis:n,highlight:t.highlight},r.strokeStyle=p(e,i[i.length-1]),r.lineWidth=2,t.highlight&&(r.lineWidth=1.5),o="Trend "+t.name;for(var m=0;a.chart.transformFunc&&n!=a.chart.yAxis&&m<i.length;m++)(l=i[m])&&l.transform&&(l.transform[o]=a.chart.transformFunc(e,a.chart,l[o]));e.plotDataSegmentAsLine(o,a,s,p),r.lineWidth=1,r.globalAlpha=1,e.startClip(t.panel),!t.highlight&&e.highlightedDraggable&&(r.globalAlpha*=.3),we.i3mK(31);var g=we.e3mK(0,18,21,5);for(h=r.measureText("").width/g,c=0;c<i.length;c++)if("_Di","r","ect","ion ",i[c]&&i[c-1])if(i[c-1]["_Direction "+t.name]>i[c]["_Direction "+t.name]){r.fillStyle=t.outputs.Downtrend,r.textBaseline="bottom",u=e.pixelFromPrice(i[c].High,a,n);for(var f=5;f<=45;f+=10)n.flipped?r.fillText("",e.pixelFromBar(c)-h,u+f):r.fillText("",e.pixelFromBar(c)-h,u-f)}else if(i[c-1]["_Direction "+t.name]<i[c]["_Direction "+t.name]){r.fillStyle=t.outputs.Uptrend,r.textBaseline="top",d=e.pixelFromPrice(i[c].Low,a,n);for(var y=5;y<=45;y+=10)n.flipped?r.fillText("",e.pixelFromBar(c)-h,d-y):r.fillText("",e.pixelFromBar(c)-h,d+y)}e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:t.Studies.displaySupertrend,calculateFN:t.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:.1,step:.1}}}})):console.error("supertrend feature requires first activating studies feature.")},oe=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("S","w","ing Ind","ex",t.Studies.calculateSwingIndex=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p=we;if("Limit Move V","alue",(null===(i=t.inputs["Limit Move Value"])||isNaN(i))&&(i=99999),a=t.chart.scrubbed,p.N3mK(22),r=p.E3mK("0",0),t.startFrom>1){p.N3mK(2);var m=p.E3mK(0,15,16);r=a[t.startFrom-m]["Result "+t.name]}p.k7Kh();for(var g=Math.max(1,t.startFrom);g<a.length;g++){n=Math.abs(a[g].High-a[g-1].Close),s=Math.abs(a[g].Low-a[g-1].Close),o=Math.abs(a[g].High-a[g].Low),l=Math.abs(a[g-1].Close-a[g-1].Open),h=Math.max(n,s),c=Math.max(o,h),p.i3mK(94),u=p.e3mK(l,.25,c),c==n?(p.i3mK(5),u-=p.e3mK(s,.5)):c==s&&(p.N3mK(5),u-=p.e3mK(n,.5)),p.i3mK(174);var f=p.E3mK(16,13,39,18,49);p.N3mK(175);var y=p.e3mK(3,18,0,61,4);p.N3mK(12);var v=p.E3mK(18,7,14,35);p.i3mK(45);var x=p.e3mK(35,2,18,0);d=f*(a[g].Close-a[g-1].Close+"0.5"*y*(a[g].Close-a[g].Open)+.25*(a[g-v].Close-a[g-x].Open))/u*(h/i),0!==u&&0!==i||(d=0),"Swing"==t.type&&(r=0),r+=d,a[g]["Result "+t.name]=r}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},Swing:{name:"Swing Index",calculateFN:t.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}}})):console.error("swingIndex feature requires first activating studies feature.")},le=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("au","to",t.Studies.calculateTrendIntensity=function(e,i){var a,r,n,s,o,l,h,c,u=we;if("em","a",u.k7Kh(),"Clo","s","e",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for((r=i.inputs.Field)&&"field"!=r||(r="Close"),t.Studies.MA("ma",i.days,r,0,"_SMA",e,i),n=0,u.N3mK(26),s=u.e3mK("0",0),h=[],c=Math.ceil(i.days/2),o=Math.max(0,i.startFrom-c);o<a.length;o++)"_","S","M","A ",(a[o]["_SMA "+i.name]||0===a[o]["_SMA "+i.name])&&((l=a[o][r]-a[o]["_SMA "+i.name])<0?(u.N3mK(177),s+=u.E3mK(1,l)):n+=l,h.push(l),h.length>c&&((l=h.shift())<0?(u.i3mK(177),s-=u.E3mK(1,l)):n-=l),o<i.startFrom||(a[o]["TII "+i.name]=(d=n,p=s,Math.abs(p)<1e-8?100:(u.N3mK(176),u.e3mK(100,p,1,d,100)))));var d,p;t.Studies.MA("ema",i.inputs["Signal Period"],"TII "+i.name,0,"Signal",e,i)}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:t.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}})):("trendInte","nsi","ty feature requires first ","activating studies feature.",console.error("trendIntensity feature requires first activating studies feature."))},he=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateTRIX=function(e,i){var a,r,n,s,o,l,h=we;if("_","MA3 ","_","M","A","2 ","Clo","s","e",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{h.k7Kh(),r=i.name,h.N3mK(0),n=["Close",h.e3mK(r,"_MA1 "),h.E3mK(r,"_MA2 "),h.E3mK(r,"_MA3 ")];for(var c=0;c<n.length-1;c++)t.Studies.MA("exponential",i.days,n[c],0,"_MA"+(c+1).toString(),e,i);s=n[3];for(var u=Math.max(1,i.startFrom);u<a.length;u++)"Res","ult ",h.i3mK(76),(o=a[h.e3mK("1",u)][s])&&((l=a[u][s])||0===l)&&(h.i3mK(0),a[u][h.e3mK(r,"Result ")]=h.E3mK(100,l,o,1,h.i3mK(148)))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:t.Studies.calculateTRIX}})):console.error("trix feature requires first activating studies feature.")},ce=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateTwiggsMoneyFlow=function(e,t){var i,a,r,n,s,o,l=we;if((i=t.chart.scrubbed).length<t.days){t.error=!0,923756879,-132355928,2;for(var h=1;923756879!==l.Y6v(h.toString(),h.toString().length,66093);h++)return;if(-132355928!==l.s1v(2..toString(),2..toString().length,37665))return}a=0,r=0,l.d7Kh(),l.N3mK(1);var c=l.e3mK(4,5);(n=i[t.startFrom-c])&&("_","sumMF"," ",n["_sumMF "+t.name]&&(a=n["_sumMF "+t.name]),n["_sumV "+t.name]&&(r=n["_sumV "+t.name]));for(var u=Math.max(1,t.startFrom);u<i.length;u++){"_","MF","V"," ",s=Math.max(i[u-1].Close,i[u].High),o=Math.min(i[u-1].Close,i[u].Low),l.i3mK(178);var d=l.e3mK(3,20,20,0,1);if(i[u]["_MFV "+t.name]=i[u].Volume*(d*i[u].Close-s-o)/(s-o==0?999999:s-o),u>t.days-1){l.i3mK(1);var p=l.e3mK(31142876896,32781975680);a*=(t.days-("1">>p))/t.days,l.N3mK(0);var m=l.E3mK(1,0);r*=(t.days-m)/t.days}a+=i[u]["_MFV "+t.name],r+=i[u].Volume,u>t.days-1&&r&&(l.N3mK(10),i[u]["Result "+t.name]=l.E3mK(a,r>0?r:999999)),i[u]["_sumMF "+t.name]=a,i[u]["_sumV "+t.name]=r}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:t.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}})):("twiggsMoneyFlow feature requires first activati","ng studies feature.",console.error("twiggsMoneyFlow feature requires first activating studies feature."))},ue=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?t.Studies.calculateTypicalPrice?t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:t.Studies.calculateTypicalPrice,inputs:{Period:14}}}):console.error("typicalPrice feature requires first activating medianPrice feature."):console.error("typicalPrice feature requires first activating studies feature.")},de=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Ulce","r Ind","ex",t.Studies.calculateUlcerIndex=function(e,i){var a,r,n,s;if("_","M","A","sim",we.d7Kh(),"p","le",(a=i.chart.scrubbed).length<2*i.days-1)i.error=!0;else{for((r=i.inputs.Field)&&"field"!=r||(r="Close"),n=Math.max(i.startFrom,i.days-1);n<a.length;n++)a[n]["_PD2 "+i.name]=Math.pow(100*(a[n][r]/o(i.days,n,r)-1),2);for(t.Studies.MA("simple",i.days,"_PD2 "+i.name,0,"_MA",e,i),n=Math.max(i.startFrom,2*(i.days-1));n<a.length;n++)"Resu","lt ",((s=a[n]["_MA "+i.name])||0===s)&&(a[n]["Result "+i.name]=Math.sqrt(s))}function o(e,t,i){var r;r=null;for(var n=t-e+1;n<=t;n++)n<0||(r=null===r?a[n][i]:Math.max(r,a[n][i]));return r}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:t.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}})):("ulcerIndex"," feature requires first activ","ating st","udies feature.",console.error("ulcerIndex feature requires first activating studies feature."))},pe=e=>{var t;we.d7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("a","uto","Ultimate Oscil","lator",t.Studies.calculateUltimateOscillator=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=we;if("C","y","cle ","2",i=t.chart.scrubbed,a=[t.inputs["Cycle 1"],t.inputs["Cycle 2"],t.inputs["Cycle 3"]],r=Math.max(a[0],a[1],a[2]),i.length<r+1)t.error=!0;else{x.i3mK(128);var b=x.e3mK(8,25,8,2,13);n=a[0]*a[b],x.i3mK(2);var C=x.e3mK(0,5,7);s=a[0]*a[C],x.N3mK(155);var S=x.E3mK(17,37,19,0);x.i3mK(43);var w=x.E3mK(8,0,14,7,786);if(o=a[S]*a[w],l=[0,0,0],h=[0,0,0],t.startFrom){2040760712,-175380680,c=2;for(var k=1;2040760712!==x.s1v(k.toString(),k.toString().length,47408);k++)"_ac","ct","r ","_","acctr"," ",i[6*t.startFrom]["_acctr "*t.name]&&(l=i[t.startFrom+7]["_acctr "*t.name].slice()),i[t.startFrom/5]["_acctr "/t.name]&&(h=i[t.startFrom+7]["_acctr "/t.name].slice()),c+=2;-175380680!==x.Y6v(c.toString(),c.toString().length,35819)&&(i[t.startFrom+7]["_acctr "/t.name]&&(l=i[t.startFrom-6]["_acctr "-t.name].slice()),i[t.startFrom-6]["_acctr "%t.name]&&(h=i[8*t.startFrom]["_acctr "-t.name].slice())),i[t.startFrom-1]["_accbp "+t.name]&&(l=i[t.startFrom-1]["_accbp "+t.name].slice()),i[t.startFrom-1]["_acctr "+t.name]&&(h=i[t.startFrom-1]["_acctr "+t.name].slice())}for(var L=Math.max(1,t.startFrom);L<i.length;L++){u=Math.min(i[L].Low,i[L-1].Close),d=i[L].Close-u,x.i3mK(179);var A=x.E3mK(1,19,1,13,34);p=Math.max(i[L].High,i[L-A].Close)-u;for(var D=0;D<a.length;D++)if(l[D]+=d,h[D]+=p,L>a[D]){m=Math.min(i[L-a[D]].Low,i[L-a[D]-1].Close),g=i[L-a[D]].Close-m,x.i3mK(180);var T=x.e3mK(4,19,12,6,4);f=Math.max(i[L-a[D]].High,i[L-a[D]-T].Close)-m,l[D]-=g,h[D]-=f}if(i[L]["_accbp "+t.name]=l.slice(),i[L]["_acctr "+t.name]=h.slice(),!(L<r)){x.N3mK(133);var M=x.E3mK(12,13,13,12);x.i3mK(1);var F=x.e3mK(14,16);x.i3mK(181);var P=x.e3mK(3,13,30,14,3);y=o*l[0]/h[0]+s*l[1]/h[M]+n*l[F]/h["2"|P],x.i3mK(93),v=x.E3mK(n,o,s),x.N3mK(117),i[L]["Result "+t.name]=x.E3mK(v,y,100)}}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:t.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("ultimateOscillator feature requires first activating studies feature.")},me=e=>{var t;we.k7Kh(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#f","ff69","e","#8","5c9","9","e","#e1e","1e1","harm","oni","c","m","ean",t.Studies.calculateValuationLines=function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f=we;a="field"==t.inputs.Field?"Close":t.inputs.Field,r=t.inputs["Average Type"],n=t.inputs["Display Average"],s=t.inputs["Display 1 Standard Deviation (1)"],o=t.inputs["Display 2 Standard Deviation (2)"],l=t.inputs["Display 3 Standard Deviation (3)"],h=[];for(var y=0;y<i.length;++y)i[y]&&!isNaN(i[y][a])&&h.push(i[y][a]);c=function(e,t){var i,a,r,n,s,o;switch(i=e.length,a=0,f.k7Kh(),r=0,n=0,t){case"mean":for(r=i;n<i;++n)a+=e[n];break;case"harmonic":for(a=i;n<i;++n){f.N3mK(19),r+=f.e3mK(4,5,1,9)/e[n]}break;case"median":if(f.i3mK(10),s=Math.floor(f.e3mK(i,2)),o=e.slice().sort((function(e,t){return e>t?1:e<t?-1:0})),i%2==0){f.i3mK(182);var l=f.E3mK(12,13,64,36,15);a=o[s]+o[s-l],r=2}else a=o[s],r=1}return f.i3mK(10),f.e3mK(a,r)}(h,r),u=!(s||o||l)||function(e,t){var i,a;i=e.length,a=0,f.d7Kh();for(var r=0;r<i;++r)a+=Math.pow(e[r]-t,2);return f.i3mK(10),Math.sqrt(f.E3mK(a,i))}(h,c),t.data={Average:n?[c]:null,"1 Standard Deviation (1)":s?[c+u,c-u]:null,"2 Standard Deviation (2)":o?[c+2*u,c-2*u]:null,"3 Standard Deviation (3)":l?[c+3*u,c-3*u]:null},d=u,t.parameters||(t.parameters={}),l?(f.i3mK(183),t.parameters.range=[f.E3mK(u,c,d,3),f.E3mK(c,d,u,3,f.N3mK(184))]):o?(f.N3mK(183),t.parameters.range=[f.E3mK(u,c,d,2),f.e3mK(c,d,u,2,f.N3mK(184))]):s?(f.i3mK(14),t.parameters.range=[f.E3mK(u,c,d),f.E3mK(d,c,u,f.N3mK(93))]):n&&(f.i3mK(1),t.parameters.range=[f.e3mK(d,c),f.e3mK(d,c,f.N3mK(0))]),t.panel&&(p=e.panels[t.panel],(m=e.getYAxisByName(p,t.name))&&(m.decimalPlaces=p.chart.yAxis.printDecimalPlaces,g={yAxis:m},e.calculateYAxisRange(p,m,t.parameters.range[0],t.parameters.range[1]),e.createYAxis(p,g),e.drawYAxis(p,g)))},t.Studies.displayValuationLines=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w=we;for(var k in"stx_ya","x","is","ME","D","Average Ty","pe",a=e.panels[i.panel],r=i.getYAxis(e),n=i.getContext(e),s=i.data,o=i.parameters.labels,l=i.inputs["Average Type"],h={mean:"AVG",median:"MED",harmonic:"HAVG"},c=e.canvasStyle("ciq-valuation-average-line"),u=e.canvasStyle("ciq-valuation-deviation-line"),w.k7Kh(),3,d=e.getCanvasFontSize("stx_yaxis")+6,s)if(s[k])for(w.i3mK(185),p=w.e3mK("Average",k),m=t.Studies.determineColor(i.outputs[k]),g=s[k],f=0;f<g.length;++f)":"," ","da","shed",y=g[f],(v=e.pixelFromPrice(y,a,r))<=a.top||v>=a.yAxis.bottom||(C=p?{pattern:"none"!=c.borderStyle&&c.borderStyle||"solid",lineWidth:parseFloat(c.borderWidth)||1,opacity:parseFloat(c.opacity)||1,yAxis:r}:{pattern:"none"!=u.borderStyle&&u.borderStyle||"dashed",lineWidth:parseFloat(u.borderWidth)||1,opacity:parseFloat(u.opacity)||1,yAxis:r},e.plotLine(a.left,a.right,v,v,m,"line",n,a,C),"yaxis"!==o?(v+=Math.floor(C.lineWidth/2))+d>=a.yAxis.bottom||(x=(p?h[l]+": ":k[0]+": ")+e.formatYAxisPrice(y,a),b=n.measureText(x).width,S=a.right-b-3,r&&"left"==r.position&&(S=a.left+3),w.N3mK(186),n.strokeText(x,S,w.e3mK(d,2,v,.5))):e.createYAxisLabel(a,e.formatYAxisPrice(y,a),v,m,null,n,r))},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(e,i,a){t.Studies.calculateValuationLines(e,i,a),t.Studies.displayValuationLines(e,i)},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!0,"Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"}}})):("valuatio","nLines feature requires first activating studies feature.",console.error("valuationLines feature requires first activating studies feature."))},ge=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("fi","e","ld","0 to"," 1","00",t.Studies.calculateRelativeVolatility=function(e,i){var a,r,n,s,o,l,h,c=we;if("R","el ","V","ol","C","lose","STD"," P","erio","d",i.days=Number(i.inputs["Smoothing Period"]),a=Number(i.inputs["STD Period"]),(r=i.chart.scrubbed).length<i.days+a)i.error=!0;else{(n=i.inputs.Field)&&"field"!=n||(n="Close"),i.std=new t.Studies.StudyDescriptor(i.name,"sdev",i.panel),i.std.chart=i.chart,i.std.days=a,i.std.startFrom=i.startFrom,c.d7Kh(),i.std.inputs={Field:n,"Standard Deviations":1,Type:"ma"},i.std.outputs={_STD:null},t.Studies.calculateStandardDeviation(e,i.std),s=0,o=0,i.startFrom>1&&("_av","gL"," ",s=r[i.startFrom-1]["_avgG "+i.name]||0,o=r[i.startFrom-1]["_avgL "+i.name]||0);for(var u=Math.max(i.startFrom,i.days);u<r.length;u++)if("_","S","T","D ",l=r[u],c.i3mK(1),h=r[c.E3mK(1,u)],(l[n]||0===l[n])&&(h[n]||0===h[n])&&(l["_STD "+i.name]||0===l["_STD "+i.name])){if(l[n]>h[n]){c.N3mK(187);var d=c.e3mK(20,0,6,8,3);s=(s*(i.days-d)+l["_STD "+i.name])/i.days,c.i3mK(188);var p=c.e3mK(7,12,12,8,26);o=o*(i.days-p)/i.days}else{c.i3mK(16);var m=c.E3mK(3,2);o=(o*(i.days-m)+l["_STD "+i.name])/i.days,c.N3mK(8);var g=c.E3mK(10,13,4,18);s=s*(i.days-g)/i.days}l["Rel Vol "+i.name]=(f=s)+(y=o)===0?100:(c.i3mK(143),c.E3mK(y,f,f,100)),l["_avgG "+i.name]=s,l["_avgL "+i.name]=o}var f,y;i.zoneOutput="Rel Vol"}},t.Studies.calculateHistoricalVolatility=function(e,t){var i,a,r,n,s,o,l,h,c,u=we;if("C","los","e",(i=t.chart.scrubbed).length<t.days+1)t.error=!0;else{if((a=t.inputs.Field)&&"field"!=a||(a="Close"),(r=t.inputs["Standard Deviations"])<0&&(r=1),u.N3mK(189),n=u.e3mK(17,119,7,109,9)*Math.sqrt(function(t){"mo","n","t","h","w","e","ek","d","a","y",isNaN(t)&&(t=365);if("day"==e.layout.interval)return t;if("week"==e.layout.interval)return 52;if("month"==e.layout.interval)return 12;return t}(t.inputs["Days Per Year"]))*r,s=[],o=0,t.startFrom>1){"_sta","te ","_s","ta","te"," ",u.N3mK(1);var d=u.e3mK(17,18);o=i[t.startFrom-d]["_state "+t.name][0],s=i[t.startFrom-1]["_state "+t.name][1].slice()}for(var p=Math.max(1,t.startFrom);p<i.length;p++){if(u.N3mK(1),(l=i[u.e3mK(1,p)][a])&&(h=Math.log(i[p][a]/l),s.push(h),o+=h,p>=t.days)){"R","e","s","ult ",c=0,o/=t.days;for(var m=0;m<s.length;m++)c+=Math.pow(s[m]-o,2);o*=t.days,o-=s.shift(),i[p]["Result "+t.name]=Math.sqrt(c/t.days)*n}i[p]["_state "+t.name]=[o,s.slice()]}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:t.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:t.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}})):console.error("volatilityIndex feature requires first activating studies feature.")},fe=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.displayVolumeProfile=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L;function A(a,r){var n,s,o,h,d,p,m,g,y,k=we;r||(C-=2),k.k7Kh(),L.canvasColor(a),f.beginPath(),n=c[0][0],s=C;for(var A=1;A<c.length;A++){if(c[A][1]){k.i3mK(16);var D=k.E3mK(9,8);if(o=Math.round(C-c[A][D]*S/u)-.5,h=Math.round(L.pixelFromTransformedValue(n,x))+.5,d=Math.round(L.pixelFromTransformedValue(c[A][0],x))+.5,r||(h-=.5,d+=.5,o+=.5),h>b&&(h=b),d<b)if(f.moveTo(C,h),f.lineTo(C,d),f.lineTo(o,d),f.lineTo(o,h),r)(s>o||1==A)&&f.lineTo(s,h);else if(f.lineTo(C,h),l&&(p=t.condenseInt(c[A][1]),k.N3mK(1),m=k.e3mK(d,h),v<=m-2)){try{g=f.measureText(p).width}catch(e){g=0}f.textBaseline="top",y=f.fillStyle,f.fillStyle=w,k.i3mK(14),f.fillText(p,k.E3mK(g,o,3),k.E3mK(2,m,2,d,v,k.N3mK(190))),f.fillStyle=y}s=o}else s=C;n=c[A][0]}!i.highlight&&e.highlightedDraggable&&(f.globalAlpha*=.3),r||f.fill(),f.strokeStyle=w,r&&f.stroke(),f.closePath()}if("Bars ","Col","or","c","ol","o","r","s","tx","_volume_p","rofile",e&&e.chart.dataSet&&(r=e.chart,n=i.parameters.numberOfBars,s=i.parameters.widthPercentage,o=i.parameters.displayBorder,l=i.parameters.displayVolume,(!n||n<0)&&(n=30),n=Math.ceil(n),(!s||s<0)&&(s=.25),!1!==o&&(o=!0),!0!==l&&(l=!1),0!==(h=(r.highValue-r.lowValue)/n))){c=[];for(var D=r.lowValue;D<r.highValue+.1;D+=h)c.push([D,0]);if(c.length<2)e.displayErrorAsWatermark("chart",e.translateIf("Not enough data to render the Volume Profile"));else{we.N3mK(22),u=we.E3mK("0",0);for(var T=0;T<a.length;T++)if(d=a[T]){p=d.Volume,i.panel==r.name&&d.transform&&(d=d.transform),m=c[0][0],g=0;for(var M=1;M<c.length;M++)g=c[M][0],(d.Low>=m&&d.Low<=g||d.Low<m&&d.High>g||d.High>=m&&d.High<=g)&&(c[M][1]+=p,c[M][1]>u&&(u=c[M][1])),m=g}if(0===u)return"ch","art",void e.displayErrorAsWatermark("chart",e.translateIf("Not enough data to render the Volume Profile"));e.setStyle("stx_volume_profile","color",t.Studies.determineColor(i.outputs["Bars Color"])),f=i.getContext(e),y="stx-float-date",e.canvasFont(y,f),v=e.getCanvasFontSize(y),x=r.panel,b=x.yAxis.bottom,C=Math.round(r.right)-.5,S=r.width*s,w=e.canvasStyle("stx_volume_profile").borderTopColor,k=!t.isTransparent(e.canvasStyle("stx_volume_profile").borderTopColor)&&o,L=e,A("stx_volume_profile",!1),k&&("stx_vol","ume_p","rofile",A("stx_volume_profile",!0)),f.globalAlpha=1}}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:t.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!0,parameters:{init:{displayBorder:!0,displayVolume:!1,numberOfBars:30,widthPercentage:.25}},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}}})):console.error("volumeProfile feature requires first activating studies feature.")},ye=e=>{var t,i;we.d7Kh(),t=2;for(var a=1;-1776951374!==we.s1v(a.toString(),a.toString().length,43308);a++)"und","efined",i="undefined"!=typeof _CIQ?_CIQ:e.CIQ,t+=2;-923323027!==we.s1v(t.toString(),t.toString().length,20727)&&(i=""!=+_CIQ?_CIQ:e.CIQ),i.Studies?("0"," t","o max","Volume Rate"," of Chang","e","Trade Volum","e Index","a","ut","o","m","a","f","i","el","d",i.Studies.calculateOnBalanceVolume=function(e,t){var i,a,r,n,s,o,l,h,c=we;(i=t.inputs.Field)&&"field"!=i||(i="Close"),r=!1,(a=t.inputs["Min Tick Value"])||0===a||(r=!0,a=0),n=t.chart.scrubbed,c.i3mK(1),s=c.e3mK(0,"0");for(var u=t.startFrom;u<n.length;u++)"Res","ul","t"," ","Re","s","u","lt ",o=n[u],u&&o[i]&&(n[u-1][i]&&(c.i3mK(1),l=n[c.e3mK(1,u)]),l&&(o[i]-l[i]>a?s=1:l[i]-o[i]>a?s=-1:r&&(c.N3mK(53),s=c.e3mK("0",1522562016)),(h=l["Result "+t.name])||(h=0),h+=o.Volume*s,o["Result "+t.name]=h))},i.Studies.calculatePriceVolumeTrend=function(e,t){var i,a,r,n=we;if((i=t.inputs.Field)&&"field"!=i||(i="Close"),a=t.chart.scrubbed,n.k7Kh(),r=0,t.startFrom>1){"Result"," ",n.i3mK(191);var s=n.E3mK(4,1,13,0,16);r=a[t.startFrom-s]["Result "+t.name]}for(var o=Math.max(1,t.startFrom);o<a.length;o++)if(a[o][i]&&a[o-1][i]){n.i3mK(8);var l=n.E3mK(5,19,14,9);n.N3mK(45);var h=n.e3mK(107,10,6,8);r+=a[o].Volume*(a[o][i]-a[o-l][i])/a[o-h][i],a[o]["Result "+t.name]=r}},i.Studies.calculateVolumeIndex=function(e,t){var a,r,n,s,o,l,h,c=we;if("M","A","In","d","ex ","Ind","ex"," ","Clos","e",c.k7Kh(),(a=t.inputs.Field)&&"field"!=a||(a="Close"),(r=t.chart.scrubbed).length<t.days+1)t.error=!0;else{if(n=100,t.startFrom>1){c.N3mK(34);var u=c.E3mK(9,1,181,19);n=r[t.startFrom-u]["Index "+t.name]}for(var d=Math.max(1,t.startFrom);d<r.length;d++)"I","n","dex"," ","Po","s Vol","obj","ect",s=r[d][a],o=r[d].Volume,s&&"object"==typeof s&&(o=s.Volume,s=s[t.subField]),c.i3mK(1),l=r[c.e3mK(1,d)][a],h=r[d-1].Volume,l&&"object"==typeof l&&(h=l.Volume,l=l[t.subField]),s&&l&&(("Pos Vol"==t.type&&o>h||"Neg Vol"==t.type&&o<h)&&(c.N3mK(10),n*=c.e3mK(s,l)),r[d]["Index "+t.name]=n);i.Studies.MA(t.inputs["Moving Average Type"],t.days,"Index "+t.name,0,"MA",e,t)}},i.Studies.studyLibrary=i.extend(i.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:i.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:i.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:i.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:i.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:i.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(e,t){we.k7Kh(),i.Studies.calculateRateOfChange?i.Studies.calculateRateOfChange(e,t):(console.error("Volume Rate of Change study requires first activating momentum feature."),i.Studies.calculateRateOfChange=function(e,t){})},parameters:{init:{isVolume:!0}}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,position:"none",zoom:0,heightFactor:.25},seriesFN:i.Studies.createVolumeChart,calculateFN:i.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(e,t){e.layout.volumeUnderlay=!1,e.changeOccurred("layout")},attributes:{panelName:{hidden:!0}}}})):console.error("volumeStudies feature requires first activating studies feature.")},ve=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("a","u","t","o","#FF0","0","00","#00FF","00","V","ortex Indic","ato","r",t.Studies.calculateVortex=function(e,i){var a,r,n,s,o,l,h,c,u=we;if(a=i.chart.scrubbed,r=i.days,u.d7Kh(),a.length<r+1){-2066400425,-1576916126,2;for(var d=1;-2066400425!==u.s1v(d.toString(),d.toString().length,314);d++)return void(i.error=!0);if(-1576916126!==u.Y6v(2..toString(),2..toString().length,24125))return void(i.error=!1)}n={tr:0,vmPlus:0,vmMinus:0},i.startFrom>1&&(n=t.clone(a[i.startFrom-1]["_totals "+i.name]));for(var p=Math.max(i.startFrom,1);p<a.length;p++)"_Tr","ue R","a","nge ",s=a[p],u.N3mK(192),o=a[u.e3mK(0,"1",p)],l=Math.abs(s.High-o.Low),h=Math.abs(s.Low-o.High),c=Math.max(s.High,o.Close)-Math.min(s.Low,o.Close),n.tr+=c,n.vmPlus+=l,n.vmMinus+=h,p>r&&("_True R","ange ",u.i3mK(1),n.tr-=a[u.e3mK(r,p)]["_True Range "+i.name],u.N3mK(1),n.vmPlus-=a[u.e3mK(r,p)]["_VMPlus "+i.name],u.N3mK(1),n.vmMinus-=a[u.e3mK(r,p)]["_VMMinus "+i.name]),s["_True Range "+i.name]=c,s["_VMPlus "+i.name]=l,s["_VMMinus "+i.name]=h,p>=r&&(s["+VI "+i.name]=n.vmPlus/n.tr,s["-VI "+i.name]=n.vmMinus/n.tr),s["_totals "+i.name]=t.clone(n)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:t.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}})):console.error("vortex feature requires first activating studies feature.")},xe=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#5f","7","c","b8","Marke","t"," F","acilitation Index",t.Studies.calculateMFI=function(e,t){var i,a,r,n,s,o;if("Scale Fa",we.d7Kh(),"ctor",i=t.chart.scrubbed,r=0,(n=t.inputs["Scale Factor"])||(n=t.study.inputs["Scale Factor"]),s=Math.pow(10,Number(n)),t.startFrom>1){we.N3mK(193);var l=we.e3mK(16,4,147,2,20);r=i[t.startFrom-l]["_high "+t.name]}for(o=t.startFrom;o<i.length;o++)i[o]&&i[o].Volume&&("_","hi","gh"," ","_h","is","t",i[o][t.name+"_hist"]=a=s*(i[o].High-i[o].Low)/i[o].Volume,i[o]["_high "+t.name]=r=Math.max(r,a));t.outputMap={},t.outputMap[t.name+"_hist"]=""},t.Studies.displayMFI=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m;r=e.panels[i.panel],n=i.getContext(e),o=(s=i.getYAxis(e)).flipped?s.top:s.bottom,(l=e.layout.candleWidth-2)<2&&(l=1),h=t.Studies.determineColor(i.outputs.Green),c=t.Studies.determineColor(i.outputs.Fade),u=t.Studies.determineColor(i.outputs.Fake),d=t.Studies.determineColor(i.outputs.Squat),e.canvasColor("stx_histogram"),i.underlay||(n.globalAlpha=1),n.fillStyle="#CCCCCC",e.startClip(i.panel),!i.highlight&&e.highlightedDraggable&&(n.globalAlpha*=.3);for(var g=0;g<a.length;g++)"_","hist","_h","i","st","_hi","st","_h","i","s","t",p=a[g],we.N3mK(1),(m=a[we.E3mK(1,g)])||(m=e.getPreviousBar(e.chart,i.name+"_hist",g)),p&&(m&&(m[i.name+"_hist"]<p[i.name+"_hist"]?m.Volume<p.Volume?n.fillStyle=h:m.Volume>p.Volume&&(n.fillStyle=u):m[i.name+"_hist"]>p[i.name+"_hist"]&&(m.Volume<p.Volume?n.fillStyle=d:m.Volume>p.Volume&&(n.fillStyle=c))),p.candleWidth&&(l=Math.floor(Math.max(1,p.candleWidth-2))),n.fillRect(Math.floor(e.pixelFromBar(g,r.chart)-l/2),Math.floor(o),Math.floor(l),Math.floor(e.pixelFromPrice(p[i.name+"_hist"],r,s)-o)));e.endClip()},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:t.Studies.displayMFI,calculateFN:t.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}})):console.error("williamsMFI feature requires first activating studies feature.")},be={CIQ:Se.c,SplinePlotter:Se.d,timezoneJS:Se.B,$$:Se.a,$$$:Se.b},"undefined"!=typeof __TREE_SHAKE__&&__TREE_SHAKE__||(be.CIQ||Se.c).activateImports(n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,Q,V,B,U,j,Y,q,Z,G,J,ee,te,ie,ae,re,ne,se,oe,le,he,ce,ue,de,pe,me,ge,fe,ye,ve,xe,null);var ke=null;Ce.c.deprecationWarning=function(e){ke||(ke={},setInterval((function(){for(var e in ke)console.warn(e+" ("+ke[e]+" occurrences)"),delete ke[e]}),1e4)),ke[e]?ke[e]++:ke[e]=1};var Le=Ce.c.deprecationWarning;Function.prototype.ciqInheritsFrom||(Function.prototype.ciqInheritsFrom=function(e,t){Le("Function.prototype.ciqInheritsFrom() has been deprecated.  Use CIQ.inheritsFrom(me, ctor, autosuper) instead."),Ce.c.inheritsFrom(this,e,t)},Function.prototype.stxInheritsFrom=Function.prototype.ciqInheritsFrom),String.prototype.capitalize=function(){return Le("String.prototype.capitalize() has been deprecated.  Use CIQ.capitalize(string) instead."),Ce.c.capitalize(this)},CanvasRenderingContext2D.prototype.dashedLineTo=function(e,t,i,a,r){if(Le("CanvasRenderingContext2D.prototype.dashedLineTo() has been deprecated.  Use native CanvasRenderingContext2D methods such as moveTo(), lineTo() and setLineDash() instead."),!(r instanceof Array))return r&&console.log('WARNING: Unsupported drawing pattern "'+r+'"; defaulting to "solid"'),void this.stxLine(e,t,i,a,this.strokeStyle,this.globalAlpha,this.lineWidth);if(t!==1/0&&e!==1/0&&a!==1/0&&i!==1/0){var n=function(e,t){return e-t<=1e-8},s=function(e,t){return e-t>=-1e-8},o=function(e,t){return Math.min(e,t)},l=function(e,t){return Math.max(e,t)},h={thereYet:s,cap:o},c={thereYet:s,cap:o};if(t-a>0&&(c.thereYet=n,c.cap=l),e-i>0&&(h.thereYet=n,h.cap=l),this.moveTo(e,t),!isNaN(e)&&!isNaN(t))for(var u=e,d=t,p=0,m=!0;!h.thereYet(u,i)||!c.thereYet(d,a);){var g=Math.atan2(a-t,i-e),f=r[p];u=h.cap(i,u+Math.cos(g)*f),d=c.cap(a,d+Math.sin(g)*f),m?this.lineTo(u,d):this.moveTo(u,d),p=(p+1)%r.length,m=!m}}},CanvasRenderingContext2D.prototype.stxLine=function(e,t,i,a,r,n,s,o){Le("CanvasRenderingContext2D.prototype.stxLine() has been deprecated.  Use native CanvasRenderingContext2D methods such as moveTo() and lineTo() instead."),this.beginPath(),this.lineWidth=s,this.strokeStyle=r,this.globalAlpha=n,o&&o.length?this.dashedLineTo(e,t,i,a,o):(this.moveTo(e,t),this.lineTo(i,a)),this.stroke(),this.closePath(),this.lineWidth=1},CanvasRenderingContext2D.prototype.stxCircle=function(e,t,i,a){Le("CanvasRenderingContext2D.prototype.stxCircle() has been deprecated.  Use native CanvasRenderingContext2D methods such as arc() instead."),this.beginPath(),this.arc(e,t,i,0,2*Math.PI,!1),a&&this.fill(),this.stroke(),this.closePath()},Ce.c.getAjaxServer=function(e){return Le("CIQ.getAjaxServer() has been deprecated.  Use `new XMLHttpRequest` instead."),new XMLHttpRequest},Ce.c.convertClickToTouchEnd=function(e){Le("CIQ.convertClickToTouchEnd() has been deprecated.  Use CIQ.safeClickTouch() instead.");var t=document.getElementById(e),i=t.getAttribute("onClick");i&&(t.removeAttribute("onClick"),t.setAttribute("onTouchEnd",i))},Ce.c.standardUTCDate=function(e){Le("CIQ.standardUTCDate(dt) has been deprecated.  Use dt.toISOString() instead.");var t=e.getUTCMonth()+1;t<10&&(t="0"+t);var i=e.getUTCDate();i<10&&(i="0"+i);var a=e.getUTCHours();a<10&&(a="0"+a);var r=e.getUTCMinutes();r<10&&(r="0"+r);var n=e.getUTCSeconds();return n<10&&(n="0"+n),e.getUTCFullYear()+"-"+t+"-"+i+"T"+a+":"+r+":"+n+"Z"},Ce.c.isDST=function(e){Le("CIQ.isDST() has been deprecated.  Use dt.toISOString() instead."),e||(e=new Date);var t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),a=Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return e.getTimezoneOffset()!=a},Ce.c.getEventDOM=function(e){return Le("CIQ.getEventDOM() has been deprecated.  Use `e.target` instead."),e?e.target:window.event.srcElement},Ce.c.outerWidth=function(e){Le("CIQ.outerWidth() has been deprecated.  Use `CIQ.elementDimensions(node, {margin:1, padding:1, border:1}).width` instead.");var t=e.offsetWidth;return t+=Ce.c.stripPX(getComputedStyle(e).marginLeft),t+=Ce.c.stripPX(getComputedStyle(e).marginRight)},Ce.c.clearNode=function(e){if(Le("CIQ.clearNode() has been deprecated.  Use `node.innerHTML=''` instead."),e.hasChildNodes())for(;e.childNodes.length>=1;)e.removeChild(e.firstChild)},Ce.c.findClosestParent=function(e,t){var i,a;if(Le("CIQ.findClosestParent() has been deprecated.  Use `Element.parentElement.prototype.closest()` instead."),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(i=e,!0)})),!i)return!1;for(;e;){if((a=e.parentElement)&&a[i](t))return a;e=a}return null},Ce.c.appendClassName=function(e,t){if(Le("CIQ.appendClassName() has been deprecated.  Use `node.classList.add(className)` instead."),e&&e.className!=t){for(var i=e.className.split(" "),a=0;a<i.length;a++)if(i[a]==t)return;e.className?e.className+=" "+t:e.className=t}},Ce.c.unappendClassName=function(e,t){if(Le("CIQ.unappendClassName() has been deprecated.  Use `node.classList.remove(className)` instead."),e&&-1!=e.className.indexOf(t))if(e.className==t)e.className="";else{for(var i=e.className.split(" "),a="",r=0;r<i.length;r++)i[r]!=t&&(""!==a&&(a+=" "),a+=i[r]);e.className=a}},Ce.c.swapClassName=function(e,t,i){Le("CIQ.swapClassName() has been deprecated.  Use `node.classList.replace(oldClassName, newClassName)` instead."),Ce.c.unappendClassName(e,i),Ce.c.appendClassName(e,t)},Ce.c.hasClassName=function(e,t){return Le("CIQ.hasClassName() has been deprecated.  Use `node.classList.contains(className)` instead."),!!e&&(" "+e.className+" ").indexOf(" "+t+" ")>-1},Ce.c.toggleClassName=function(e,t){Le("CIQ.toggleClassName() has been deprecated.  Use `node.classList.toggle(className)` instead."),Ce.c.hasClassName(e,t)?Ce.c.unappendClassName(e,t):Ce.c.appendClassName(e,t)},function(){var e,t,i=document.attachEvent,a=navigator.userAgent.match(/Trident/),r=(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,20)},function(t){return e(t)}),n=(t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return t(e)});function s(e){var t=e.target||e.srcElement;t.__resizeRAF__&&n(t.__resizeRAF__),t.__resizeRAF__=r((function(){var i=t.__resizeTrigger__;i.__resizeListeners__.forEach((function(t){t.call(i,e)}))}))}function o(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",s)}Ce.c.addResizeListener=function(e,t){Le("CIQ.addResizeListener() has been deprecated.  Use CIQ.UI.addResizeListener() instead.");var r=document.querySelector("cq-ui-manager");if(r.length>0&&(r=r[0]).registerForResize(e),!e.__resizeListeners__)if(e.__resizeListeners__=[],i)e.__resizeTrigger__=e,e.attachEvent("onresize",s);else{var n=e.__resizeTrigger__=document.createElement("object");n.setAttribute("style","visibility:hidden; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; border:0px;"),n.__resizeElement__=e,n.onload=o,n.type="text/html",a&&e.appendChild(n),n.data="about:blank",a||e.appendChild(n)}e.__resizeListeners__.push(t)},Ce.c.removeResizeListener=function(e,t){Le("CIQ.removeResizeListener() has been deprecated.  Use CIQ.UI.removeResizeListener() instead.");var a=document.querySelector("cq-ui-manager");a.length>0&&(a=a[0]).unregisterForResize(e),e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(i?e.detachEvent("onresize",s):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",s),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)))}}(),Ce.c.Renderer.prototype.performCalculations=function(){Le("CIQ.Renderer.prototype.performCalculations has been deprecated.  Use CIQ.Renderer.prototype.adjustYAxis instead.")},Ce.c.ChartEngine.hideDates=function(){return Le("CIQ.Renderer.hideDates is no longer supported.  To hide an axis, set its noDraw property.  To hide the floating date label, set stxx.controls.floatDate=null."),!1},Ce.c.ChartEngine.chartShowsHighs=function(e){return Le("CIQ.ChartEngine.prototype.chartShowsHighs has been deprecated.  Use CIQ.ChartEngine.Chart.prototype.highLowBars instead."),1!={line:1,colored_line:1,mountain:1,colored_mountain:1,baseline_delta:1,baseline_delta_mountain:1,histogram:1,scatterplot:1,step:1,colored_step:1}[e]},Ce.c.ChartEngine.prototype.createBlock=function(e,t,i,a,r,n){Le("CIQ.ChartEngine.prototype.createBlock has been deprecated.  Use native canvas context operation fillRect instead."),n||(n=this.chart.context),void 0!==a&&(this.canvasColor(r,n),n.fillRect(e,i,t,a),n.globalAlpha=1)},Ce.c.ChartEngine.prototype.setVolumeUnderlay=function(e){Le("CIQ.ChartEngine.prototype.setVolumeUnderlay is no longer supported.  To enable a volume underlay, use CIQ.Studies.addStudy(stxx, 'vol undr').  To disable, use CIQ.Studies.removeStudy."),this.layout.volumeUnderlay=e,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},Ce.c.ChartEngine.prototype.serializeDrawings=function(){return Le("CIQ.ChartEngine.prototype.serializeDrawings has been deprecated.  Use CIQ.ChartEngine.prototype.exportDrawings instead."),this.exportDrawings()},Ce.c.ChartEngine.prototype.reconstructDrawings=function(e){Le("CIQ.ChartEngine.prototype.reconstructDrawings has been deprecated.  Use CIQ.ChartEngine.prototype.importDrawings instead."),this.importDrawings(e)},Ce.c.ChartEngine.prototype.computePosition=function(e,t){return Le("CIQ.ChartEngine.prototype.computePosition has been deprecated.  Use CIQ.ChartEngine.prototype.pixelFromBar instead."),void 0===t&&(t=0),e*this.layout.candleWidth+t+this.micropixels},Ce.c.ChartEngine.prototype.computeColor=function(e,t){return Le("CIQ.ChartEngine.prototype.computeColor has been deprecated.  There is no suggested alternative."),e<t?"stx_candle_up":e>t?"stx_candle_down":"stx_candle_shadow"},Ce.c.ChartEngine.prototype.computeLength=function(e,t){Le("CIQ.ChartEngine.prototype.computeLength has been deprecated.  Use CIQ.ChartEngine.prototype.pixelFromPrice to compute values and find the difference.");var i=this.pixelFromPrice(e);return this.pixelFromPrice(t)-i},Ce.c.ChartEngine.prototype.setCrosshairColors=function(){Le("CIQ.ChartEngine.prototype.setCrosshairColors is no longer supported.  Use CSS to set the crosshair color")},Ce.c.ChartEngine.prototype.valueFromPixelUntransform=function(e,t,i){return Le("CIQ.ChartEngine.prototype.valueFromPixelUntransform has been deprecated.  Use CIQ.ChartEngine.prototype.valueFromPixel instead."),this.valueFromPixel(e,t,i)},Ce.c.ChartEngine.prototype.pixelFromPriceTransform=function(e,t,i){return Le("CIQ.ChartEngine.prototype.pixelFromPriceTransform has been deprecated.  Use CIQ.ChartEngine.prototype.pixelFromPrice instead."),this.pixelFromPrice(e,t,i)},Ce.c.ChartEngine.prototype.isDailyInterval=function(e){return Le("CIQ.ChartEngine.prototype.isDailyInterval has been deprecated. Use CIQ.ChartEngine.isDailyInterval instead."),Ce.c.ChartEngine.isDailyInterval(e)},Ce.c.ChartEngine.prototype.newChart=function(e,t,i,a,r){Le("CIQ.ChartEngine.prototype.newChart has been deprecated. Use CIQ.ChartEngine.prototype.loadChart instead.");var n={masterData:t,chart:i};return Ce.c.extend(n,r,!0),this.loadChart(e,n,a)},Ce.c.ChartEngine.prototype.streamTrade=function(e,t,i,a){Le("CIQ.ChartEngine.prototype.streamTrade has been deprecated. Use CIQ.ChartEngine.prototype.updateChartData instead.");var r=this.chart;a||(a={}),a.chart&&(r=a.chart),a.fillGaps=this.streamParameters.fillGaps;var n="object"==typeof e,s=n?e.last:arguments[0],o=n?e.volume:arguments[1],l=n?e.bid:null,h=n?e.ask:null;n||(t=arguments[2],i=arguments[3]),i&&(a.secondarySeries=i);var c={DT:t,Last:s,Volume:o,Bid:l,Ask:h};this.updateChartData(c,r,a)},Ce.c.ChartEngine.prototype.appendMasterData=function(e,t,i){Le("CIQ.ChartEngine.prototype.appendMasterData has been deprecated. Use CIQ.ChartEngine.prototype.updateChartData instead."),this.updateChartData(e,t,i)},Ce.c.ChartEngine.prototype.setPeriodicityV2=function(e,t,i,a){Le("CIQ.ChartEngine.prototype.setPeriodicityV2 has been deprecated. Use CIQ.ChartEngine.prototype.setPeriodicity instead."),"function"==typeof i&&(a=i,i=null),this.runPrepend("setPeriodicityV2",arguments)||(this.setPeriodicity(e,t,i,a),this.runAppend("setPeriodicityV2",arguments))},Ce.c.ChartEngine.prototype.addChart=function(e,t){Le("CIQ.ChartEngine.prototype.addChart has been deprecated. Add manually to stxx.charts object instead."),t.name=e,this.charts[e]=t};var Ae=Ce.c.ChartEngine.prototype.changeOccurred;Ce.c.ChartEngine.prototype.changeOccurred=function(e){this.currentlyImporting||(this.changeCallback&&this.changeCallback(this,e),Ae.call(this,e))};var De=Ce.c.ChartEngine.prototype.construct;if(Ce.c.ChartEngine.prototype.construct=function(){function e(e,t,i){return e._deprecatedPropertyValues||(e._deprecatedPropertyValues={}),t in e._deprecatedPropertyValues||(e._deprecatedPropertyValues[t]=i),e._deprecatedPropertyValues[t]}function t(e,t,i){e._deprecatedPropertyValues||(e._deprecatedPropertyValues={}),e._deprecatedPropertyValues[t]=i}function i(t,i,a){return function(){return Le("CIQ.ChartEngine.prototype.callbacks have been deprecated.  Iterate through CIQ.ChartEngine.prototype.callbackListeners instead."),e(this,t,a||null)}}function a(e,t){return function(i){Le("CIQ.ChartEngine.prototype.callbacks have been deprecated.  Utilize CIQ.ChartEngine.prototype.addEventListener to add a callback, and/or CIQ.ChartEngine.prototype.removeEventListener to remove one."),this._deprecatedPropertyValues||(this._deprecatedPropertyValues={});var a=this._deprecatedPropertyValues[e];a&&t.removeEventListener(e,a),i&&t.addEventListener(e,i),this._deprecatedPropertyValues[e]=i}}var r;De.call(this),Object.defineProperties(this,{changeCallback:{enumerable:!0,get:function(){return e(this,"changeCallback",null)},set:function(e){Le("CIQ.ChartEngine.prototype.changeCallback has been deprecated.  Use CIQ.ChartEngine.prototype.addEventListener instead."),t(this,"changeCallback",e)}},highLowBars:{enumerable:!0,get:function(){return Le("CIQ.ChartEngine.prototype.highLowBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.highLowBars instead."),e(this,"highLowBars",{bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,wave:!0,rangechannel:!0,none:!0})},set:function(e){Le("CIQ.ChartEngine.prototype.highLowBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.highLowBars instead."),t(this,"highLowBars",e)}},standaloneBars:{enumerable:!0,get:function(){return Le("CIQ.ChartEngine.prototype.standaloneBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.standaloneBars instead."),e(this,"standaloneBars",{bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0})},set:function(e){Le("CIQ.ChartEngine.prototype.standaloneBars is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.standaloneBars instead."),t(this,"standaloneBars",e)}},barsHaveWidth:{enumerable:!0,get:function(){return Le("CIQ.ChartEngine.prototype.barsHaveWidth is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.barsHaveWidth instead."),e(this,"barsHaveWidth",{bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0,wave:!0})},set:function(e){Le("CIQ.ChartEngine.prototype.barsHaveWidth is no longer supported.  Use CIQ.ChartEngine.Chart.prototype.barsHaveWidth instead."),t(this,"barsHaveWidth",e)}}}),this.callbacks={},Object.defineProperties(this.callbacks,{studyOverlayEdit:{enumerable:!0,get:i("studyOverlayEdit"),set:a("studyOverlayEdit",this)},studyPanelEdit:{enumerable:!0,get:i("studyPanelEdit"),set:a("studyPanelEdit",this)},tap:{enumerable:!0,get:i("tap"),set:a("tap",this)},rightClick:{enumerable:!0,get:i("rightClick"),set:a("rightClick",this)},longhold:{enumerable:!0,get:i("longHold"),set:a("longHold",this)},move:{enumerable:!0,get:i("move"),set:a("move",this)},layout:{enumerable:!0,get:i("layout"),set:a("layout",this)},drawing:{enumerable:!0,get:i("drawing"),set:a("drawing",this)},drawingEdit:{enumerable:!0,get:i("drawingEdit"),set:a("drawingEdit",this)},preferences:{enumerable:!0,get:i("preferences"),set:a("preferences",this)},theme:{enumerable:!0,get:i("theme"),set:a("theme",this)},symbolChange:{enumerable:!0,get:i("symbolChange"),set:a("symbolChange",this)},symbolImport:{enumerable:!0,get:i("symbolImport"),set:a("symbolImport",this)},calculateTradingDecimalPlaces:{enumerable:!0,get:(r=this,function(){return Le("CIQ.ChartEngine.prototype.callbacks.calculateTradingDecimalPlaces has been deprecated.  Utilize CIQ.ChartEngine.Chart.prototype.calculateTradingDecimalPlaces instead."),e(this,"calculateTradingDecimalPlaces",r.chart.calculateTradingDecimalPlaces)}),set:function(e){return function(i){Le("CIQ.ChartEngine.prototype.callbacks.calculateTradingDecimalPlaces has been deprecated.  Utilize CIQ.ChartEngine.Chart.prototype.calculateTradingDecimalPlaces instead."),t(this,"calculateTradingDecimalPlaces",i),e.chart.calculateTradingDecimalPlaces=i}}(this)}}),Object.defineProperty(this.streamParameters,"fillGaps",{enumerable:!0,get:function(){return Le("CIQ.ChartEngine.prototype.streamParameters.fillGaps has been deprecated.  Use CIQ.ChartEngine.prototype.updateChartData instead, with params.fillGaps=true or rely on cleanupGaps as default behavior."),e(this,"fillGaps",!0)},set:function(e){Le("CIQ.ChartEngine.prototype.streamParameters.fillGaps has been deprecated.  Use CIQ.ChartEngine.prototype.updateChartData instead, with params.fillGaps=true or rely on cleanupGaps as default behavior."),t(this,"fillGaps",e)}})},"undefined"!=typeof window&&Object.defineProperties(window,{STX:{enumerable:!0,get:function(){return Le("STX namespace has been deprecated.  Use CIQ namespace instead."),Ce.c}},STXChart:{enumerable:!0,get:function(){return Le("STXChart namespace has been deprecated.  Use CIQ.ChartEngine namespace instead."),Ce.c.ChartEngine}}}),Ce.c.ChartEngine.prototype.attachEngineQuoteFeed=function(e,t){Le("CIQ.ChartEngine.prototype.attachEngineQuoteFeed has been deprecated. Use CIQ.ChartEngine.prototype.attachQuoteFeed instead."),this.attachQuoteFeed(e,t)},Ce.c.ChartEngine.prototype.dragPlot=function(e){Le("CIQ.ChartEngine.prototype.dragPlot is no longer supported.  Use CIQ.ChartEngine.prototype.dragPlotOrAxis instead.")},Ce.c.ChartEngine.prototype.dragYAxis=function(e){Le("CIQ.ChartEngine.prototype.dragYAxis is no longer supported.  Use CIQ.ChartEngine.prototype.dragPlotOrAxis instead.")},Ce.c.Drawing=Ce.c.Drawing||function(){this.chartsOnly=!1,this.penDown=!1},Ce.c.Drawing.prototype.setLineColor=function(){if(Le("CIQ.Drawing.prototype.setLineColor has been deprecated.  Use CIQ.Drawing.prototype.setLineColor instead."),Ce.c.Drawing.prototype.getLineColor)return Ce.c.Drawing.prototype.getLineColor.apply(this,arguments)},Ce.c.Studies=Ce.c.Studies||function(){},Ce.c.Studies.quickAddStudy=function(){if(Le("CIQ.Studies.quickAddStudy has been deprecated.  Use CIQ.Studies.addStudy instead."),Ce.c.Studies.addStudy)return Ce.c.Studies.addStudy.apply(null,arguments)},Ce.c.Studies.overZones=function(){if(Le("CIQ.Studies.overZones has been deprecated.  Use CIQ.Studies.drawZones instead."),Ce.c.Studies.drawZones)return Ce.c.Studies.drawZones.apply(null,arguments)},Ce.c.Studies.volUnderlay=function(){Le("CIQ.Studies.volUnderlay has been deprecated.  Use CIQ.Studies.createVolumeChart instead."),Ce.c.Studies.createVolumeChart&&Ce.c.Studies.createVolumeChart.apply(null,arguments)},Ce.c.Studies.determineMinMax=function(e,t,i){Le("CIQ.Studies.determineMinMax is no longer supported.  The calculation is done automatically elsewhere.")},Ce.c.Studies.createYAxis=function(e,t,i,a){Le("CIQ.Studies.createYAxis is no longer supported.  The action is done automatically elsewhere.")},Ce.c.Studies.volumeChart=function(e,t,i,a){Le("CIQ.Studies.volumeChart has been deprecated.  Use CIQ.ChartEngine.prototype.drawHistogram instead.");var r,n,s=-1*Number.MAX_VALUE;for(r in i)for(var o=0;o<i[r].length;o++)(n=i[r][o])&&n>s&&(s=n);var l=e.panels[t.panel],h=Math.floor(l.yAxis.bottom)+.5,c=h-(Math.floor(l.yAxis.top)+.5),u=e.layout.candleWidth,d=null;t.parameters&&t.parameters.displayBorder||(a=null);var p=0;a||(p=(u-e.chart.tmpWidth)/2);var m=t.getContext(e);for(r in m.lineWidth=1,e.startClip(t.panel),i){a&&(d=a[r]),m.fillStyle=r,d&&(m.strokeStyle=d),m.beginPath();for(var g,f=h+.5,y=Math.floor(e.pixelFromBar(0,l.chart)),v=0;v<i[r].length;v++)if(e.chart.dataSegment[v]&&e.chart.dataSegment[v].candleWidth?(u=e.chart.dataSegment[v].candleWidth,a||(p=u/4)):(u=e.layout.candleWidth,a||(p=(u-e.chart.tmpWidth)/2)),0===v&&(g=y-=u/2),n=i[r][v]){var x,b,C=n*(c/s),S=Math.min(Math.floor(h-c+(c-C))+.5,h);x=Math.floor(g+p),b=Math.floor(g+u-p),x=Math.max(x,y),m.moveTo(x,h),m.lineTo(b,h),m.lineTo(b,S),m.lineTo(x,S),a?(f>S||0===v)&&m.lineTo(x,f):m.lineTo(x,h),f=S,g+=u}else f=h,g+=u;m.fill(),m.strokeStyle=d,a&&e.layout.candleWidth>=2&&m.stroke(),m.closePath()}e.endClip()},"undefined"!=typeof window&&Object.defineProperty(window,"STXSocial",{enumerable:!0,get:function(){return Le("STXSocial namespace has been deprecated.  Use CIQ.Share namespace instead."),Ce.c.Share}}),"function"==typeof $&&$.fn){$.fn.extend($.expr[":"],{trulyvisible:function(e,t,i){Le("Use of jQuery has been deprecated. Use CIQ.trulyVisible() to return element visibility instead of custom pseudo-selector :trulyvisible.");var a=$(e).parents();a=a.add(e);for(var r=0;r<a.length;r++){var n=$(a[r]);if("0"===n.css("opacity"))return!1;if("hidden"===n.css("visibility"))return!1;if("0px"===n.css("height")&&"hidden"==n.css("overflow-y"))return!1;if(!n.is(":visible"))return!1}return!0}});$.fn.extend({stxtap:function(e,t){return Le("Use of jQuery has been deprecated. Use CIQ.UI.stxtap() to attach a listener instead of $.fn.stxtap()."),this.each((function(){Ce.c.installTapEvent(this),"string"==typeof e?$(this).on("stxtap",e,(function(e){t.call(this,e)})):$(this).on("stxtap",(function(t){e.call(this,t)}))}))},parentsAndMe:function(e){Le("Use of jQuery has been deprecated. Use CIQ.climbUpDomTree() instead of $.fn.parentsAndMe().");var t=$(this).parents();return t=t.add($(this)).get().reverse()},cqvirtual:function(e){Le("Use of jQuery has been deprecated. Use CIQ.cqvirtual() instead of $.fn.cqvirtual().");var t=this.clone(!0);return t.empty(),t.original=this,t},cqrender:function(e){if(Le("Use of jQuery has been deprecated. Use CIQ.cqrender() instead of $.fn.cqrender()."),this[0].innerHTML==this.original[0].innerHTML)return this.original;this.original.children(":not(template)").remove();var t=this.children();if(t.length){var i=t.detach();this.original.append(i)}return this.original},guaranteedWidth:function(){Le("Use of jQuery has been deprecated. Use CIQ.guaranteedSize() instead of $.fn.guaranteedWidth().");for(var e=this,t=e.width();!t;){if("BODY"===(e=e.parent())[0].tagName||e[0]===window)return window.innerWidth;t=e.width()}return t},guaranteedHeight:function(){Le("Use of jQuery has been deprecated. Use CIQ.guaranteedSize() instead of $.fn.guaranteedHeight().");for(var e=this,t=e.height();!t;){if("BODY"===(e=e.parent())[0].tagName||e[0]===window)return window.innerHeight;t=e.height()}return t},emptyExceptTemplate:function(){return Le("Use of jQuery has been deprecated. Use CIQ.removeChildIfNot(node, 'template') instead of $.fn.emptyExceptTemplate()."),this.children().not("template").remove(),this},truthyAttr:function(e){Le("Use of jQuery has been deprecated. Use ['false','0',null,undefined].indexOf(this.getAttribute('...'))==-1 instead of $.fn.truthyAttr().");var t=this.attr(e);return void 0!==t&&("false"!=t.toLowerCase()&&"0"!=t)},attrBetter:function(e,t){return Le("Use of jQuery has been deprecated. check attribute value before setting instead of $.fn.attrBetter()."),this.attr(e,(function(e,i){if(void 0===t&&(t="true"),t!==i)return t}))},removeAttrBetter:function(e){Le("Use of jQuery has been deprecated. check hasAttribute before removing instead of $.fn.removeAttrBetter().");var t=this.attr(e);return!(!t&&""!==t)&&(this.removeAttr(e),!0)},textBetter:function(e){return Le("Use of jQuery has been deprecated. check innerText before setting instead of $.fn.textBetter()."),this.text()!==e&&(this.text(e),!0)}}),$.queryString=function(e){Le("Use of jQuery has been deprecated. Use CIQ.qs() to return an object containing querystring tokens instead of $.querystring().");for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var a=t[i].split("=");if(a[0]==e)return a[1]}return null}}Ce.c.UI||(Ce.c.UI={}),Ce.c.UI.allContexts=function(){return Le("CIQ.UI.allContexts has been deprecated. Use document.querySelectorAll('cq-context,*[cq-context]') instead."),$("cq-context,*[cq-context]")},Ce.c.UI.observe=function(e){if(Le("CIQ.UI.observe has been deprecated.  Use CIQ.UI.observeProperty instead."),Object.observe){if("function"==typeof $&&$.fn){var t=this,i=function(e){e.forEach(a)};return Object.observe(e.obj,i,["update","add","delete"]),a({name:e.member}),i}Le("You must include jQuery in your project to use CIQ.UI.observe.")}else Le("You must include thirdparty/object-observe.js in your project to use CIQ.UI.observe.");function a(i){var a=!1;if(e.member){if(i.name===e.member)a=!0;else if(e.member.constructor==Array)for(var r=0;r<e.member.length;r++)i.name===e.member[r]&&(a=!0)}else a=!0;if(a){var n=$(e.selector);if(!n.length&&"callback"===e.action)return void e.value.call(t,e);"class"===e.action&&n.removeClass(e.value),n.each((function(){var i=!1;e.member&&(e.condition?e.obj[e.member]===e.condition&&(i=!0):i=e.obj[e.member]),"class"===e.action&&i&&n.addClass(e.value),"callback"===e.action&&e.value.call(t,e,this),"value"===e.action&&(e.value?this.value=e.value:e.obj[e.member]?this.value=e.obj[e.member]:this.value="")}))}}},Ce.c.UI.unobserve=function(e){Le("CIQ.UI.unobserve has been deprecated.  Use CIQ.UI.unobserveProperty instead."),Object.unobserve&&Object.unobserve(e.obj,e.handler)},Ce.c.UI.trulyVisible=function(e){return Le("CIQ.UI.trulyVisible has been deprecated.  Use CIQ.trulyVisible instead."),Ce.c.trulyVisible(e)},Ce.c.UI.Lookup=function(){},Ce.c.UI.Lookup.Driver=function(){this.deprecated=!0},Ce.c.UI.Lookup.Driver.prototype.acceptText=function(e,t,i,a){this.cb},Ce.c.UI.Lookup.Driver.ChartIQ=function(e){Le("CIQ.UI.Lookup.Driver.ChartIQ has been deprecated.  Use CIQ.ChartEngine.Driver.Lookup.ChartIQ instead."),this.exchanges=e,this.exchanges||(this.exchanges=["XNYS","XASE","XNAS","XASX","INDCBSX","INDXASE","INDXNAS","IND_DJI","ARCX","INDARCX","forex"]),this.url="https://symbols.chartiq.com/chiq.symbolserver.SymbolLookup.service",this.requestCounter=0},Ce.c.inheritsFrom(Ce.c.UI.Lookup.Driver.ChartIQ,Ce.c.UI.Lookup.Driver),Ce.c.UI.Lookup.Driver.ChartIQ.prototype.acceptText=function(e,t,i,a){"FX"==t&&(t="FOREX"),isNaN(parseInt(i,10))&&(i=100);var r=this.url+"?t="+encodeURIComponent(e)+"&m="+i+"&x=[";this.exchanges&&(r+=this.exchanges.join(",")),r+="]",t&&"ALL"!=t.toUpperCase()&&(r+="&e="+t);var n=++this.requestCounter,s=this;Ce.c.postAjax({url:r,cb:function(e,t){if(!(n<s.requestCounter)&&200==e)try{for(var i=(t=JSON.parse(t)).payload.symbols,r=[],o=0;o<i.length;o++){var l=i[o].split("|"),h={symbol:l[0],name:l[1],exchDisp:l[2]};r.push({display:[h.symbol,h.name,h.exchDisp],data:h})}a(r)}catch(e){}}})},Ce.c.UI.BaseComponent&&(Ce.c.UI.BaseComponent.bind=function(e,t){Le("CIQ.UI.BaseComponent.bind has been deprecated. Use CIQ.UI.BaseComponent.bindNode() instead."),Ce.c.UI.BaseComponent.bindNode(e,t)});let Te=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Animation=t.Animation||function(e){if(!e)throw new Error("Invalid constructor arguments.");var i,a,r;if(e instanceof t.ChartEngine?(i=arguments[0],a=arguments[1],r=arguments[2]):(i=e.stx,a=e.animationParameters,r=e.easeMachine),!i)return console.warn("No CIQ.ChartEngine provided. Cannot properly create CIQ.Animation instance");var n={stayPut:!1,ticksFromEdgeOfScreen:5,granularity:1e6};a=t.extend(n,a),n.tension&&(i.chart.tension=a.tension),i.tickAnimator=r||new t.EaseMachine(Math.easeOutCubic,1e3);var s=new t.EaseMachine(Math.easeInOutCubic,1e3),o=["#0298d3","#19bcfc","#5dcffc","#9ee3ff"],l=0,h=20,c=0,u=!1,d=null;function p(){u=!1,d=null}i.addEventListener(["symbolChange","layout"],(function(e){p()})),i.prepend("updateCurrentMarketData",(function(e,t,i,a){t||(t=this.chart),a&&a.fromTrade&&(t.closePendingAnimation||0===t.closePendingAnimation)&&(a.finalClose=t.closePendingAnimation)})),i.prepend("updateChartData",(function(e,i,r){var n=this;if(i||(i=n.chart),i&&i.defaultChartStyleConfig&&"none"!=i.defaultChartStyleConfig&&(void 0===r||!r.animationEntry&&!r.secondarySeries)&&i.dataSegment){var s=n.tickAnimator,o=this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation;if(o){if(!s)return void console.warn("Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js");if(this.prevSymbol!=i.symbol&&(this.prevQuote=0,i.closePendingAnimation=null,this.prevSymbol=i.symbol),D(),s.stop(),e.length>2)return}var l=t.clone(r);l||(l={}),l.animationEntry=!0,l.bypassGovernor=!0,l.noCreateDataSet=!1,l.appending=!0,l.firstLoop=!0;var h=this.chart.symbol,c=this.layout.periodicity,p=this.layout.interval,m=this.layout.timeUnit;if(o){var g=e[e.length-1];this.prevQuote=this.currentQuote();var f=!1,y=!1;if(1==c&&2==e.length){this.prevQuote=e[0];var v=i.dataSet.length;A(this.prevQuote),v==i.dataSet.length&&(y=!0)}if(!(g&&g.Close&&this.prevQuote&&this.prevQuote.Close))return!1;if(this.extendedHours&&i.market.market_def){var x=g.DT;if(t.ChartEngine.isDailyInterval(p))u=!i.market.isMarketDate(x);else if(!d||d<=x){var b=i.market.getSession(x);u=!(""===b||this.layout.marketSessions&&this.layout.marketSessions[b]),d=i.market[u?"getNextOpen":"getNextClose"](x)}if(u)return this.draw(),!1}var C=c;"second"==p||"second"==m?C*=1e3:"minute"!=p&&"minute"!=m||(C*=6e4),isNaN(p)||(C*=p),f="day"==p||"day"==m?g.DT.getDate()!=this.prevQuote.DT.getDate():"week"==p||"week"==m?g.DT.getDate()>=this.prevQuote.DT.getDate()+7:"month"==p||"month"==m?g.DT.getMonth()!=this.prevQuote.DT.getMonth():g.DT.getTime()>=this.prevQuote.DT.getTime()+C;var S=!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars,w=0;if(f){if(!this.animations.zoom.hasCompleted)return!1;var k=this.layout.candleWidth;if(i.scroll<=i.maxTicks)for(;this.micropixels>0;)i.scroll++,this.micropixels-=k;i.scroll<=i.maxTicks?(this.previousMicroPixels=this.micropixels,this.nextMicroPixels=this.micropixels+k,w=-1*k,i.dataSegment.length<i.maxTicks-a.ticksFromEdgeOfScreen&&!a.stayPut&&(this.nextMicroPixels=this.micropixels,i.scroll++),i.animatingHorizontalScroll=S,i.previousDataSetLength=i.dataSet.length):y||i.scroll++}i.closePendingAnimation=g.Close;var L=f&&!S?g.Open:this.prevQuote.Close;return s.run(function(e,r,o){return function(u){var d=u.Close;if(!i.dataSet.length||h!=i.symbol||c!=n.layout.periodicity||p!=n.layout.interval||m!=n.layout.timeUnit)return s.stop(),void D();var g=t.clone(e);g.Adj_Close=null,g.Close=Math.round(d*a.granularity)/a.granularity,o?(g.Open||0===g.Open||(g.Open=g.Close),g.High||0===g.High||(g.High=Math.max(g.Open,g.Close)),g.Low||0===g.Low||(g.Low=Math.min(g.Open,g.Close))):(e.Close>r.High&&(g.High=g.Close),e.Close<r.Low&&(g.Low=g.Close)),i.animatingHorizontalScroll&&(n.micropixels=u.micropixels,i.lastTickOffset=u.lineOffset),l.updateDataSegmentInPlace=!s.hasCompleted;var f=[g];o&&"tick"!==n.layout.interval&&f.unshift(r),n.updateChartData(f,i,l),l.firstLoop=!1,s.hasCompleted&&D()}}(g,t.clone(this.prevQuote),f),{Close:L,micropixels:this.nextMicroPixels,lineOffset:w},{Close:g.Close,micropixels:this.micropixels,lineOffset:0}),!0}}function A(e){if(i.masterData)for(var t=i.masterData.length-1;t>=0;t--){var a=i.masterData[t];if(a.Close||0===a.Close)return a.Close=e.Close,e.LastSize&&(a.LastSize=e.LastSize),e.LastTime&&(a.LastTime=e.LastTime),n.updateCurrentMarketData({Close:a.Close,DT:a.DT,LastSize:a.LastSize,LastTime:a.LastTime}),void n.createDataSet(null,null,{appending:!0})}}function D(){if(i.animatingHorizontalScroll&&(i.animatingHorizontalScroll=!1,n.micropixels=n.nextMicroPixels=n.previousMicroPixels,i.lastTickOffset=0),null!==i.closePendingAnimation){var e=i.closePendingAnimation;i.closePendingAnimation=null,A({Close:e})}}})),i.prepend("renderYAxis",(function(e){if(!this.grabbingScreen&&this.isHome()&&(this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation)){var i=e.panel.yAxis;if(!t.Comparison||i.priceFormatter!=t.Comparison.priceFormat)if(e.prevLowValue||0===e.prevLowValue||(e.prevLowValue=e.animatedLow=e.lowValue),e.prevHighValue||0===e.prevHighValue||(e.prevHighValue=e.animatedHigh=e.highValue),s.running||(e.animatingVerticalScroll=!1),e.prevLowValue>=e.lowValue&&e.prevHighValue<=e.highValue)e.animatingVerticalScroll&&(i.highValue=e.animatedHigh,i.lowValue=e.animatedLow);else if(s.running&&s.stop(),e.lowValue||e.highValue){var a,r=e.prevLowValue,n=e.prevHighValue;e.prevLowValue=e.lowValue,e.prevHighValue=e.highValue,e.animatingVerticalScroll=!0,s.run((a=this,function(t){e.animatedLow=t.low,e.animatedHigh=t.high,a.draw()}),{low:r,high:n},{low:e.lowValue,high:e.highValue}),i.lowValue=e.animatedLow,i.highValue=e.animatedHigh}}})),i.append("draw",(function(){if(!u&&this.chart.dataSet&&this.chart.dataSet.length&&this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation){c%h==0&&(l++,c=0),c++;var e=this.chart.context,t=this.chart.panel,i=this.currentQuote();if(!i)return;var a=i.Close,r=this.pixelFromTick(i.tick,this.chart);this.chart.lastTickOffset&&(r+=this.chart.lastTickOffset);var n=this.pixelFromPrice(a,t);this.chart.yAxis.left>r&&this.chart.yAxis.top<=n&&this.chart.yAxis.bottom>=n&&(l>=o.length&&(l=0),e.beginPath(),e.moveTo(r,n),e.arc(r,n,2+1.07*l,0,2*Math.PI,!1),e.fillStyle=o[l],e.fill())}}))}},Me=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.ContinuousZoom=t.ContinuousZoom||function(e){this.cssRequired=!0,this.update(e),this.stx.continuousZoom=this,this.addSmartZoomButton=function(){var e,t=this.stx.registerChartControl&&this.stx.registerChartControl("stx-smart-zoom","SmartZoom (Alt + 0)",(e=this,function(t){e.smartZoomToggle(t),t.stopPropagation()}));t&&(this.stx.addEventListener("layout",(function(e){!0===e.stx.layout.smartzoom?t.classList.add("active"):t.classList.remove("active")})),this.stx.addEventListener("symbolImport",(function(e){!1===e.stx.layout.smartzoom&&t.classList.remove("active")})))},this.smartZoomToggle=function(e){this.smartZoomEnable(!this.stx.layout.smartzoom)},this.smartZoomEnable=function(e){this.stx.layout.smartzoom=e,this.stx.changeOccurred("layout")},this.addSmartZoomButton(),this.smartZoomEnable(!0)},t.ContinuousZoom.prototype.update=function(e){e||(e={}),this.stx=e.stx,this.periodicities=e.periodicities,this.boundaries=e.boundaries},t.ContinuousZoom.prototype.execute=function(e){function t(e){var t=e.period||e.periodicity,i=e.interval,a=e.timeUnit||"minute";switch(isNaN(i)&&(a=i,i=1),a){case"month":i*=4.35;case"week":i*=7;case"day":i*=1440;case"minute":i*=60;case"second":break;case"millisecond":i/=1e3;break;default:return null}return t*i}if(this.stx&&this.stx.layout.smartzoom){var i=this.periodicities,a=this.boundaries,r=this.stx,n=r.layout,s=r.chart;if(i&&a&&(!e&&a.maxCandleWidth&&n.candleWidth>a.maxCandleWidth||e&&a.minCandleWidth&&n.candleWidth<a.minCandleWidth||!e&&a.minTicks&&s.maxTicks<a.minTicks||e&&a.maxTicks&&s.maxTicks>a.maxTicks)){for(var o={value:e?Number.MAX_VALUE:0},l=t(n),h=0;h<i.length;h++){var c=t(i[h]);(c>l&&c<o.value&&e||c<l&&c>o.value&&!e)&&(o={value:c,periodicity:i[h]})}var u=o.periodicity;u&&r.setRange({dtLeft:s.xaxis[0].DT,dtRight:s.xaxis[s.xaxis.length-1].DT,dontSaveRangeToLayout:!0,periodicity:u})}}}},Fe=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Outliers=t.Outliers||function(e){if(e||(e={}),e.stx){Array.isArray(e.altColors)||(e.altColors=["#323390","#66308f","#0073ba","#f4932f","#0056a4","#00a99c","#00a553","#ea1d2c","#e9088c","#fff126","#912a8e","#ee652e","#00afed","#8ec648"]),this.stx=e.stx,this.stx.outliers=this,this.cssRequired=!0,this.multiplier=e.multiplier||3,this.altColors=e.altColors,this.axisData={},this.stx.addEventListener("layout",(function(e){Object.keys(e.stx.outliers.axisData).forEach(function(e){this.removeAllMarkers(this.axisData[e]),delete this.axisData[e]}.bind(e.stx.outliers))})),this.processDataSet=function(e,t,i){if(!e.length||e.length<=1)return!1;var a=[0,0];if(!this.axisData[i.name]){var r="",n=-1;Object.keys(this.axisData).forEach(function(e){this.axisData[e].panel.name==t.name&&n++}.bind(this)),n>-1&&n<this.altColors.length&&(r=this.altColors[n]),this.axisData[i.name]={axis:i,panel:t,displayState:"none",isFlipped:!1,originalZoom:i.zoom,markerColor:r,markers:{},axisMarkers:{}}}var s=this.axisData[i.name];return Object.assign(s,this.find(e)),this.refreshMarkerArray(s),this.refreshMarkers(s),"low"!==s.displayState&&"all"!==s.displayState||null===s.outlierMin?a[0]=s.trendMin:a[0]=s.outlierMin,"high"!==s.displayState&&"all"!==s.displayState||null===s.outlierMax?a[1]=s.trendMax:a[1]=s.outlierMax,a},this.find=function(e){if(e.length&&!(e.length<=0)){var t,i,a=function(e,t){return{quote:e.quote,DT:e.quote.DT,value:e.value,position:t}},r=null,n=null,s=null,o=null,l=[],h=e.slice();h.sort((function(e,t){return e.value-t.value}));var c=h.length,u=h[Math.floor(c/4)].value,d=h[Math.floor(c*(3/4))].value,p=d-u;t=u-p*this.multiplier,i=d+p*this.multiplier;for(var m=0;m<c;m++){var g=h[m],f=h[c-(m+1)];if(g.value<=t&&l.push(a(g,"low")),f.value>=i&&l.push(a(f,"high")),null===s&&g.value<=t&&(s=g.value),null===o&&f.value>=i&&(o=f.value),null===r&&g.value>t&&(r=g.value),null===n&&f.value<i&&(n=f.value),null!==r&&null!==n)break}return{minValue:t,maxValue:i,trendMin:r,trendMax:n,outlierMin:s,outlierMax:o,activeOutliers:l}}},this.refreshMarkerArray=function(e){this.deprecateMarkers(e);var t=e.markers;e.activeOutliers.forEach(function(i){var a=i.DT.getTime().toString();t[a]||(t[a]={isFresh:!0,type:"quote",value:i.value,marker:this.markOutlier(i,i.position,e)}),t[a].isFresh=!0}.bind(this)),null!==e.outlierMax&&(t.axisHigh||(t.axisHigh={isFresh:!0,type:"axis",value:e.outlierMax,marker:this.markAxis("high",e)}),t.axisHigh.isFresh=!0),null!==e.outlierMin&&(t.axisLow||(t.axisLow={isFresh:!0,type:"axis",value:e.outlierMin,marker:this.markAxis("low",e)}),t.axisLow.isFresh=!0)},this.setDisplayState=function(e,t){"high"!=e&&"low"!=e&&"all"!=e&&(e="none");var i=e;"all"==t.displayState&&"high"==e?i="low":"all"==t.displayState&&"low"==e?i="high":"high"==t.displayState&&"low"==e||"low"==t.displayState&&"high"==e?i="all":t.displayState==e&&(i="none"),t.displayState=i,t.axis.zoom=t.originalZoom,this.refreshMarkers(t),this.stx.draw()},this.deprecateMarkers=function(e){Object.keys(e.markers).forEach(function(e){var t;(t=this.markers[e]).marker&&!t.isFresh?(t.marker.remove&&t.marker.remove(),t.marker=null):t.isFresh=!1,this.markers[e].marker||delete this.markers[e]}.bind(e))},this.removeAllMarkers=function(e){Object.keys(e.markers).forEach((function(t){var i=e.markers[t].marker;i&&(i.remove&&i.remove(),i=null),i||delete e.markers[t]}))},this.updateMarkerVisibility=function(){Object.keys(this.markers).forEach(function(e){"all"==this.displayState||this.markers[e].marker.node.classList.contains(this.displayState)?this.markers[e].marker.node.style.display="none":this.markers[e].marker.node.style.display="block"}.bind(this))},this.refreshAxisMarkers=function(e,t){var i=!1;e.classList.contains("high")&&(i=!0);var a=t.axis.top;(!t.isFlipped&&!i||t.isFlipped&&i)&&(a=t.axis.bottom-50),e.classList.contains("nano")&&(a=t.axis.top+t.axis.height/2-22);var r=Math.floor(t.axis.left).toString()+"px",n=Math.floor(a).toString()+"px",s=i?t.outlierMax:t.outlierMin;e.style.transform="translate("+r+", "+n+")",e.querySelector(".outlier-value").innerText=this.stx.formatYAxisPrice(s),"0px"===r?e.classList.add("right"):e.classList.remove("right")},this.refreshMarkers=function(e){Object.keys(e.markers).forEach(function(e,t){var i=e.markers[t].marker,a=e.markers[t].value,r=e.markers[t].type;a>e.trendMax&&e.axis.high>=a||a<e.trendMin&&e.axis.low<=a?"quote"==r?i.node.style.display="none":"axis"==r&&i.node.classList.add("compress"):"quote"==r?i.node.style.display="block":"axis"==r&&i.node.classList.remove("compress"),"axis"==r&&this.refreshAxisMarkers(i.node,e),e.axis.height<100?i.node.classList.add("nano"):i.node.classList.remove("nano"),e.axis.height<250?i.node.classList.add("micro"):i.node.classList.remove("micro")}.bind(this,e)),e.isFlipped!==e.axis.flipped&&this.flipMarkers(e)},this.markAxis=function(e,i){var a=document.createElement("div");a.classList.add("outlier-sticker","axis","mini",e),a.innerHTML='<div class="expansion"><div class="pill"><div class="icon"></div></div><div class="tick"></div><span class="outlier-value"></div><div class="compression"><div class="pill"><div class="icon"></div></div></div></span>',this.matchYAxisStyle(a),this.setMarkerColor(a,i.markerColor);var r=this.handleMarkerClick.bind(this,e,i,a);return a.addEventListener("click",r),a.addEventListener("touchend",r),new t.Marker({stx:this.stx,xPositioner:"none",yPositioner:"none",label:"expand",permanent:!0,chartContainer:!0,node:a})},this.markOutlier=function(e,i,a){if(e){a||(a={panel:this.stx.panels.chart}),i=i||"high";var r=document.createElement("div");r.classList.add("outlier-sticker","quote","mini",i),r.innerHTML='<div class="pill"><div class="icon"></div></div><span class="outlier-value">'+this.stx.formatYAxisPrice(e.value,a.panel)+"</span>",this.matchYAxisStyle(r),this.setMarkerColor(r,a.markerColor);var n=this.handleMarkerClick.bind(this,i,a,r);return r.addEventListener("click",n),r.addEventListener("touchend",n),new t.Marker({stx:this.stx,xPositioner:"date",yPositioner:"high"==i?"top":"bottom",x:e.quote.DT,panelName:a.panel.name,node:r})}},this.handleMarkerClick=function(e,t,i){i.classList.contains("nano")&&(e="all"),this.setDisplayState(e,t),this.stx.draw()},this.matchYAxisStyle=function(e){if(this.stx.styles.stx_yaxis){var t=this.stx.styles.stx_yaxis;e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.color=t.color,e.style.borderColor=t.color}},this.setMarkerColor=function(e,t){if(""!=t)for(var i=e.querySelectorAll(".pill"),a=0;a<i.length;a++)i[a].style.backgroundColor=t},this.flipMarkers=function(e){e.isFlipped=e.axis.flipped,Object.keys(e.markers).forEach(function(e,t){var i=e.markers[t].marker,a=e.markers[t].value,r=e.markers[t].type;e.isFlipped?i.node.classList.add("flipped"):i.node.classList.remove("flipped"),"quote"==r&&(a>e.trendMax?e.isFlipped?i.params.yPositioner="bottom":i.params.yPositioner="top":a<e.trendMin&&(e.isFlipped?i.params.yPositioner="top":i.params.yPositioner="bottom"))}.bind(this,e))};var i=t.ChartEngine.prototype.determineMinMax.bind(this.stx);t.ChartEngine.prototype.determineMinMax=function(e,t,a,r,n,s,o,l,h){return h||(h=[]),o&&l&&this.layout.outliers&&h.push(this.outliers.processDataSet.bind(this.outliers)),i(e,t,a,r,n,s,o,l,h)}}else console.warn("The Outliers addon requires an stx parameter")}},Pe=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.PlotComplementer=t.PlotComplementer||function(e){var i=e.stx,a=t.uniqueID();e.decorator||(e.decorator={});var r=e.decorator.symbol||"_"+a,n=e.decorator.display||" (addl)";i.plotComplementers||(i.plotComplementers=[]),i.plotComplementers.push(this),this.id=e.id||a,this.defaultRenderingParameters={chartType:"line",width:1,opacity:.5},e.renderingParameters&&(this.defaultRenderingParameters=e.renderingParameters);var s=this;function o(i,a,o,l){if("err"!=function(t){if(t.quoteDriver&&e.quoteFeed){for(var i=0;i<t.quoteDriver.quoteFeeds.length;i++)if(t.quoteDriver.quoteFeeds[i].engine==e.quoteFeed)return;return"err"}}(i)&&(l||(l=a),!i.isEquationChart(a)&&(o||(o={}),!o.isComparison&&l&&-1==l.indexOf(r)))){var h=l+r,c=a+r,u=i.getRendererFromSeries(l),d=t.extend({display:a+n,name:h,symbol:c,symbolObject:{symbol:c,generator:s.id,masterSymbol:a},overChart:!1,gapDisplayStyle:!0,permanent:!0,panel:o.panel,yAxis:o.yAxis,shareYAxis:!0,loadData:!!s.quoteFeed,dependentOf:u?u.params.name:i.mainSeriesRenderer.params.name},s.renderingParameters);d.color||(d.color=o.color||"auto"),i.addSeries(h,d,(function(e,t){e&&i.removeSeries(h,i.chart),i.chart.seriesRenderers[h]&&(i.chart.seriesRenderers[h].params.display=d.display)}))}}function l(e,t,i){t&&-1==t.indexOf(r)&&e.removeSeries(t+r,i)}function h(e){"master"==e.action?(e.prevSymbol||(e.prevSymbol=e.symbol),l(e.stx,e.prevSymbol,e.stx.chart),o(e.stx,e.symbol)):"add-series"==e.action?(l(e.stx,e.id,e.stx.chart),o(e.stx,e.symbol,e.parameters,e.id)):"remove-series"==e.action&&l(e.stx,e.id,e.stx.chart)}i.addEventListener("symbolChange",h),i.addEventListener("symbolImport",h),this.resetRenderingParameters=function(){this.renderingParameters=this.defaultRenderingParameters},this.setQuoteFeed=function(e){if(e.quoteFeed&&e.behavior){var a=t.clone(e.behavior);a.generator=this.id;var r=e.filter;i.attachQuoteFeed(e.quoteFeed,a,(function(e){return!(r&&!r(e))&&e.symbolObject.generator==a.generator})),this.quoteFeed=e.quoteFeed}},this.setQuoteFeed(e),this.resetRenderingParameters()}},_e=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.ExtendedHours=t.ExtendedHours||function(e){var i=e.stx;this.filter=e.filter,i||(i=e,this.filter=!1);var a={};this.stx=i,this.stx.extendedHours=this,this.cssRequired=!0,i.addEventListener("theme",(function(e){for(var t in a={},i.layout.marketSessions)a.session||(a.session={}),a.session[t]=i.canvasStyle("stx_market_session "+t)})),i.addEventListener("symbolChange",(function(e){"master"!=e.action||!i.layout.extended||i.chart.market.market_def&&i.chart.market.sessions.length||t.alert("There are no Extended Hours for this instrument.")})),this.prepare=function(e,t){for(var r in i.layout.extended=e,i.layout.marketSessions)a.session={},i.chart.market.disableSession(r);if(i.layout.marketSessions={},e)if(t||(t=["pre","post"]),t.length)for(var n=0;n<t.length;n++)i.layout.marketSessions[t[n]]=!0;else i.layout.marketSessions=t;for(r in i.layout.marketSessions)a.session||(a.session={}),a.session[r]=i.canvasStyle("stx_market_session "+r),i.chart.market.disableSession(r,!0)},this.complete=function(e){i.changeOccurred("layout"),i.chart.market.market_def?this.filter?(i.createDataSet(),i.draw(),e&&e()):i.loadChart(i.chart.symbol,e):e&&e()},this.set=function(e,t,i){this.prepare(e,t),this.complete(i)},this.stx.append("drawYAxis",(function(e,r){if(this.layout.extended&&e.yAxis==r.yAxis&&!1!==e.shareChartXAxis&&!e.hidden){var n=e.chart;if(!t.ChartEngine.isDailyInterval(this.layout.interval)&&(a.divider=this.canvasStyle("stx_market_session divider"),a.session)){for(var s,o,l=n.market,h=[],c={},u=0;u<n.dataSegment.length;u++){var d=n.dataSegment[u];if(d&&d.DT){var p=null;if(l.market_def)if(!s||s<=d.DT)o=l.getSession(d.DT),s=l[!(""===o||this.layout.marketSessions&&this.layout.marketSessions[o])?"getNextOpen":"getNextClose"](d.DT);var m=a.session[o];if(m&&(p=m.backgroundColor),c.color&&c.color!=p&&(h.push({start:c.start,end:c.end,color:c.color}),c={}),p){var g=this.layout.candleWidth;d.candleWidth&&(g=d.candleWidth),c.end=this.pixelFromBar(u,n)+g/2,c.start||0===c.start||(c.start=c.end-g+1),c.color=p}else c={}}}(c.start||0===c.start)&&h.push({start:c.start,end:c.end,color:c.color});var f=t.isTransparent(a.divider.backgroundColor),y=a.divider.width.replace(/px/g,""),v={y0:e.bottom,y1:e.top,color:a.divider.backgroundColor,type:"line",context:n.context,confineToPanel:e,pattern:"dashed",lineWidth:y,deferStroke:!0};for(this.startClip(e.name),n.context.beginPath(),i.highlightedDraggable&&(n.context.globalAlpha*=.3),u=0;u<h.length;u++)n.context.fillStyle=h[u].color,!f&&h[u].start>n.left&&this.plotLine(t.extend({x0:h[u].start,x1:h[u].start},v)),n.context.fillRect(h[u].start,e.top,h[u].end-h[u].start,e.bottom-e.top),!f&&h[u].end<n.right&&this.plotLine(t.extend({x0:h[u].end,x1:h[u].end},v));n.context.stroke(),this.endClip()}}}))}},Ee=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.FullScreen=t.FullScreen||function(e){if(e||(e={}),e.stx){try{if(window.location.host!==window.top.location.host)throw new Error(window.location.host+" does not match "+window.top.location.host)}catch(e){return void console.warn("Full screen mode disabled.")}this.stx=e.stx,this.stx.fullScreen=this,this.fullScreenButton=null,this.fullScreenState=!1,this.addFullScreenButton=function(){var e;this.stx.registerChartControl&&(this.fullScreenButton=this.stx.registerChartControl("stx-full-screen","Full Screen",(e=this,function(t){e.fullScreenToggle(t),t.stopPropagation()})))},this.fullScreenToggle=function(e){document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullscreen||document.documentElement.msRequestFullscreen?this.getFullScreenElement()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullscreen?document.documentElement.mozRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():(this.fullScreenState=!this.fullScreenState,this.fullScreenRender())},this.fullScreenRender=function(){var e=null;(e=this.stx.container.closest("*[cq-context], cq-context, body"))&&(!0===this.fullScreenState?(this.fullScreenButton&&this.fullScreenButton.classList.add("active"),e.classList.add("full-screen")):(this.fullScreenButton&&this.fullScreenButton.classList.remove("active"),e.classList.remove("full-screen")),window.dispatchEvent(new Event("resize")))},this.onFullScreenChange=function(){this.getFullScreenElement()?this.fullScreenState=!0:this.fullScreenState=!1,this.fullScreenRender()},this.getFullScreenElement=function(){return document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement},document.addEventListener("fullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("mozfullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("MSFullscreenChange",this.onFullScreenChange.bind(this),!1),this.addFullScreenButton()}else console.warn("The Full Screen addon requires an stx parameter")}},Ke=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.InactivityTimer=t.InactivityTimer||function(e){if(e.minutes){(!e.interval||e.interval<0)&&(e.interval=60),this.stx=e.stx,this.timeout=e.minutes,this.interval=e.interval,this.wakeCB=e.wakeCB,this.sleepCB=e.sleepCB,this.sleepTimer=null,this.sleeping=!1,this.last=(new Date).getTime(),this.wakeChart=function(){clearTimeout(this.sleepTimer),this.last=(new Date).getTime(),this.sleeping&&(this.stx.quoteDriver&&this.stx.quoteDriver.updateChartLoop(),this.sleeping=!1,document.body.classList.remove("ciq-sleeping")),this.sleepTimer=setTimeout(this.sleepChart.bind(this),6e4*this.timeout),this.wakeCB&&this.wakeCB()},this.sleepChart=function(){this.sleeping||(this.stx.quoteDriver&&this.stx.quoteDriver.updateChartLoop(this.interval),this.sleeping=!0,document.body.classList.add("ciq-sleeping")),this.sleepCB&&this.sleepCB()};var t=this;["mousemove","mousedown","touchstart","touchmove","pointerdown","pointermove","keydown","wheel"].forEach((function(e){document.body.addEventListener(e,(function(e){t.wakeChart()}))})),this.wakeChart()}}},Ie=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.RangeSlider=t.RangeSlider||function(e){this.cssRequired=!0;var i=e.stx;i.slider=this;var a=e.height?e.height:"95px",r=e.chartContainer?e.chartContainer:e.stx.container,n=document.createElement("div");n.className="ciq-chart";var s=document.createElement("div");s.className="chartContainer",n.appendChild(s),r.parentElement.parentElement.insertBefore(n,r.parentElement.nextSibling),Object.assign(n.style,{height:a,paddingTop:"5px",display:"none"}),s.style.height="100%",s.dimensionlessCanvas=!0;var o=this.slider=new t.ChartEngine({container:s,preferences:{labels:!1,whitespace:0}});o.xaxisHeight=30,o.manageTouchAndMouse=!1,o.minimumCandleWidth=0,o.chart.panel.subholder.style.cursor="ew-resize";var l=o.chart.panel.yAxis;l.drawCurrentPriceLabel=!1,Object.defineProperty(l,"position",{get:function(){return i.slider.yAxisPosition||i.chart.panel.yAxis.position},set:function(e){i.slider.yAxisPosition=e}});const{get:h,set:c}=Object.getOwnPropertyDescriptor(t.ChartEngine.YAxis.prototype,"width");Object.defineProperty(l,"width",{get:function(){return Math.max(h.call(l),i.chart.yAxis.width)},set:function(e){c.call(l,e)}}),t.extend(l,e.yAxis),o.chart.baseline.userLevel=!1,o.controls.home&&(o.controls.home.style.width=0),o.initializeChart();var u=o.chart.panel.subholder;this.updateStyles=function(e,t,a){i.setStyle(e,t,a),this.style=i.canvasStyle("stx_range_slider shading")},this.display=function(e){if(i.layout.rangeSlider!==e)return i.layout.rangeSlider=e,void i.changeOccurred("layout");n.style.display=e?"":"none",i.resizeChart(),window.dispatchEvent(new Event("resize")),e&&(o.resizeChart(),o.initializeChart(),o.draw(),this.drawSlider())},this.setSymbol=function(e){o.chart.panel.display=o.chart.symbol=e,o.setMainSeriesRenderer(),o.resizeChart(),this.adjustRange(i.chart),o.draw(),this.drawSlider()},this.acceptLayoutChange=function(e){var a=!1;o.layout.rangeSlider!==e.rangeSlider&&i.slider.display(e.rangeSlider);["chartType","aggregationType","periodicity","interval","timeUnit","chartScale","rangeSlider","flipped","extended","marketSessions","kagi","rangebars","renko","priceLines","pandf"].forEach((function(i){t.equals(o.layout[i],e[i])||(o.layout[i]=e[i],a=!0)})),t.trulyVisible(n)&&a&&(o.setMainSeriesRenderer(),o.draw(),this.drawSlider())},this.adjustRange=function(e){if(e.dataSet&&e.endPoints&&e.endPoints.begin){var t=o.chart;if(t.width){var a=0,r=0;if(i.quoteDriver){var n={symbol:e.symbol,symbolObject:e.symbolObject,interval:i.layout.interval};"month"!=n.interval&&"week"!=n.interval||i.dontRoll||(n.interval="day");var s=i.quoteDriver.getQuoteFeed(n).behavior;s&&s.bufferSize&&(e.moreAvailable&&(a=s.bufferSize),i.isHistoricalMode()&&(r=s.bufferSize))}t.baseline.defaultLevel=e.baseline.actualLevel,t.scroll=Math.max(0,e.dataSet.length-i.tickFromDate(e.endPoints.begin)-a)+1,t.maxTicks=t.scroll-r+1,o.layout.candleWidth=t.width/t.maxTicks}}},this.copyData=function(e){if(e.dataSet){var t=o.chart;t.masterData=o.masterData=e.masterData,t.dataSet=e.dataSet,t.state=e.state,o.draw(),this.drawSlider()}},this.calculateYAxisPosition=function(){var e=o.chart.panel;o.getYAxisCurrentPosition(e.yAxis,e)!=e.yAxis.position&&o.calculateYAxisPositions()},this.drawSlider=function(){if(t.trulyVisible(n)&&i.chart.dataSet&&i.chart.dataSet.length){var e=this.style;e||(e=this.style=i.canvasStyle("stx_range_slider shading"));var a=i.chart.panel,r=o.chart.context,s=o.chart.segmentImage||[],l=o.layout.candleWidth/2,h=o.tickLeft=Math.max(i.tickFromPixel(a.left+l),0),c=o.tickRight=Math.min(i.tickFromPixel(a.right-l),i.chart.dataSet.length-1),d=o.pixelLeft=o.pixelFromTick(h)-(s[h]?s[h].candleWidth/2:l),p=o.pixelRight=o.pixelFromTick(c)+(s[c]?s[c].candleWidth/2:l),m=u.offsetLeft,g=m+u.offsetWidth;r.save(),r.beginPath(),r.fillStyle=e.backgroundColor,r.fillRect(m,u.offsetTop,d-m,u.offsetHeight),r.fillRect(g,u.offsetTop,p-g,u.offsetHeight),r.strokeStyle=e.borderTopColor,r.lineWidth=parseInt(e.borderWidth,10),r.moveTo(d,u.offsetTop),r.lineTo(d,u.offsetTop+u.offsetHeight),r.moveTo(p,u.offsetTop),r.lineTo(p,u.offsetTop+u.offsetHeight),r.stroke(),r.beginPath(),r.lineWidth=parseInt(e.width,10),r.lineCap="round",r.moveTo(d,u.offsetTop+u.offsetHeight/4),r.lineTo(d,u.offsetTop+3*u.offsetHeight/4),r.moveTo(p,u.offsetTop+u.offsetHeight/4),r.lineTo(p,u.offsetTop+3*u.offsetHeight/4),r.stroke(),r.restore()}},i.addEventListener("layout",(function(e){e.stx.slider.acceptLayoutChange(e.stx.layout)})),i.addEventListener("preferences",(function(e){const{language:i}=e.stx.preferences;t.I18N&&o.preferences.language!=i&&t.I18N.setLocale(o,i),o.preferences.language=i,o.draw()})),i.addEventListener("symbolChange",(function(e){"master"==e.action&&e.stx.slider.setSymbol(e.symbol)})),i.addEventListener("symbolImport",(function(e){"master"==e.action&&e.stx.slider.setSymbol(e.symbol),e.stx.slider.acceptLayoutChange(e.stx.layout)})),i.addEventListener("theme",(function(e){if(o.clearPixelCache(),o.styles={},o.chart.container.style.backgroundColor="",t.ThemeHelper){var i=new t.ThemeHelper({stx:e.stx});i.params.stx=o,i.update()}})),i.append("createDataSet",(function(){this.slider.adjustRange(this.chart),this.slider.copyData(this.chart)})),i.append("draw",(function(){t.trulyVisible(n)&&o.chart.dataSet&&(this.slider.adjustRange(this.chart),this.slider.calculateYAxisPosition(),o.draw(),this.slider.drawSlider())})),i.prepend("resizeChart",(function(){var e=r.parentElement,i=e.parentElement,a=(parseFloat(getComputedStyle(e).height),parseFloat(getComputedStyle(r).height),t.elementDimensions(i).height),s=i.querySelectorAll(".chartContainer");Array.from(s).forEach((function(e){e!==r&&t.trulyVisible(e)&&(a-=t.elementDimensions(e,{border:1,padding:1,margin:1}).height)})),e.style.height=a+"px",this.layout.rangeSlider?(o.chart.breakpoint!==this.chart.breakpoint&&o.notifyBreakpoint(this.chart.breakpoint),n.style.display="",o.resizeChart(),o.initializeChart(),o.draw(),this.slider.drawSlider()):n.style.display="none"})),["mousedown","touchstart","pointerdown"].forEach((function(e){u.addEventListener(e,(function(e){var a=o.backOutX(e.pageX);if(a||0===a){a-=e.target.offsetLeft,o.startDrag=a,o.startPixelLeft=o.pixelLeft,o.startPixelRight=o.pixelRight;var r=i.slider.style;r||(r=i.slider.style=i.canvasStyle("stx_range_slider shading"));var n=parseInt(r.borderLeftWidth,10);(a+=this.offsetLeft)<o.pixelRight-n&&(o.needsLeft=!0),a>o.pixelLeft+n&&(o.needsRight=!0),t.touchDevice||o.needsLeft&&o.needsRight&&e.target.classList.add("stx-drag-chart")}}),{passive:!1})})),["mouseup","mouseover","touchend","pointerup"].forEach((function(e){u.addEventListener(e,(function(e){const{which:t,type:i}=e;1===t&&"pointerup"!==i&&"mouseup"!==i||(e.target.classList.remove("stx-drag-chart"),o.chart.panel.subholder.style.cursor="ew-resize",o.startDrag=null,o.needsLeft=!1,o.needsRight=!1)}))})),["mousemove","touchmove","pointermove"].forEach((function(e){u.addEventListener(e,(function(e){var t=o.startDrag;if(t||0===t){var a=e.touches,r=(a&&a.length?o.backOutX(a[0].pageX):o.backOutX(e.pageX))-e.target.offsetLeft;if(r||0===r){r-=t;var n=o.tickLeft,s=o.tickRight,l=o.startPixelLeft,h=o.startPixelRight,c=o.needsLeft,u=o.needsRight;if(c)l+r<o.chart.left&&(r=o.chart.left-l),u&&h+r>=o.chart.right&&(r=o.chart.right-h,o.isHome()||(r+=o.layout.candleWidth/2)),n=o.tickFromPixel(l+r),u&&(s=n+o.tickRight-o.tickLeft);else{if(!u)return;s=Math.min(o.tickFromPixel(h+r),i.chart.dataSet.length-1)}var d=i.chart.width/(s-n+1);s>=n&&d>=i.minimumCandleWidth&&(o.tickLeft=n,o.tickRight=s,i.chart.scroll=i.chart.dataSet.length-n,c&&u||i.setCandleWidth(d),i.micropixels=0,i.draw())}}}),{passive:!1})})),this.adjustRange(i.chart),this.copyData(i.chart)}},Ne=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Shortcuts=t.Shortcuts||function(){let{stx:e,width:t=580,windowForEachChart:i=!0,config:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?(this.stx=e,this.width=t,this.windowForEachChart=i,this.content=this.getShortcutContent(a),this.enclosingContainer=e.container.querySelector(".stx-subholder"),this.ensureMessagingAvailable(e),this.enableUI(e),this.cssRequired=!0,e.shortcuts=this):console.warn("The Shortcuts addon requires an stx parameter")},t.Shortcuts.prototype.enableUI=function(e){e&&t.UI&&setTimeout(()=>{e.uiContext.getAdvertised("Layout").showShortcuts=(e,t)=>this.toggle(t)})},t.Shortcuts.prototype.ensureMessagingAvailable=function(e){setTimeout(()=>{const t=e.uiContext.topNode;t.querySelector("cq-floating-window")||t.append(document.createElement("cq-floating-window"))})},t.Shortcuts.prototype.getShortcutContent=function(e){const t=(e.drawingTools||[]).filter(e=>e.shortcut).map(e=>{let{label:t,shortcut:i}=e;return'<div class="ciq-shortcut">\n\t\t\t\t\t<div>'.concat(t,"</div>\n\t\t\t\t\t<div><span>Alt</span> + <span>").concat(i.toUpperCase(),"</span></div>\n\t\t\t\t</div>")}).join(""),i=e=>" + "===e?"<span>+</span>":e.split("+").map(e=>e&&" "!==e?"<span>"+e+"</span>":"").join(" + "),a=this.stx.container.closest("cq-context"),r=(e.hotkeyConfig&&e.hotkeyConfig.hotkeys||[]).map(e=>{let{label:t,action:r,commands:n,extension:s}=e;return s&&(o=s,!a.hasAttribute(o.toLowerCase()+"-active"))?"":'<div class="ciq-shortcut"><div>'.concat(t||r,"</div><div>").concat((e=>e.map(e=>e.replace(/Arrow|Key|Digit|^ | $/g,"")).map(e=>e.replace(/\+/," + ")).reduce((e,t)=>{return!e.includes(t)&&(i=t).charCodeAt(i.length-1)<127?e.concat(t):e;var i},[]).map(i).join("<br>"))(n),"</div></div>");var o}).join("");return'\n\t\t<div class="ciq-shortcut-container">\n\t\t\t<div>\n\t\t\t\t<div><b>Drawing tools shortcuts</b></div>\n\t\t\t\t<div>'.concat(t,"</div>\n\t\t\t</div>\n\t\t\t<hr>\n\t\t\t<div>\n\t\t\t\t<div><b>Hotkeys</b></div>\n\t\t\t\t<div>").concat(r,"</div>\n\t\t\t</div>\n\t\t</div>\n\t")},t.Shortcuts.prototype.toggle=function(e){this.stx.dispatch("floatingWindow",{type:"shortcut",title:"Shortcuts",content:this.content,container:this.enclosingContainer,onClose:()=>this.closed=!0,width:this.width,status:e,tag:this.windowForEachChart?void 0:"shortcut"})}},Oe=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;function i(){}t.TableView=t.TableView||function(){let{stx:e,minColumnWidth:a="84px",coverUIMaxWidth:r=400,coverContainer:n,usePreviousCloseForChange:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?(this.stx=e,this.viewAdditionalColumns=!1,this.minColumnWidth=a,this.coverUIMaxWidth=r,this.coverContainer=n,this.usePreviousCloseForChange=s,this.builder=i,this.listeners=[],e.tableView=this,this.cssRequired=!0,t.UI&&t.UI.observeProperty("uiContext",e,e=>{let{value:i}=e;i&&setTimeout(()=>{this.subscribeToChanges(i);const e=t.getFromNS(i.config,"hotkeyConfig.hotkeys",[]).find(e=>{let{action:t}=e;return"tableView"===t});e&&(e.action=()=>{const{tableView:e}=document.body.keystrokeHub.context.stx;if(e)return e.toggle(),!0})})})):console.warn("The TableView addon requires an stx parameter")},t.TableView.prototype.open=function(e){e&&(this.params=e);const{config:i={},onClose:a}=this.params||{};if(this.view&&this.close(!1),i.minColumnWidth=this.minColumnWidth,i.coverUIMaxWidth=this.coverUIMaxWidth,i.coverContainer=this.coverContainer,this.onClose=a,this.view=this.builder.createTable(this.stx,i),!this.view)return;t.I18N&&t.I18N.translateUI(null,this.view);const{stx:r}=this,n=this.close.bind(this);setTimeout(()=>this.removeCloseListener=function(e){const i=r.uiContext.topNode,a=e=>{let{target:t}=e;return!t.closest(".ciq-data-table-container")&&n()};i.addEventListener("click",a);const s=e=>{if("Escape"===e.code){const{tableView:t}=document.body.keystrokeHub.context.stx;t&&(t.close(),e.preventDefault())}};document.body.addEventListener("keydown",s);const o=t.getFn("UI.getUIManager")();o&&(e.view.show=e.view.hide=function(){},o.openMenu(e.view,{}));return()=>{i.removeEventListener("click",a),document.body.removeEventListener("keydown",s),o&&o.closeMenu(e.view)}}(this));const s=t.getFromNS(r,"uiContext.config.scrollbarStyling");s&&(s.refresh(this.view.querySelector("tbody")),s.refresh(this.view.querySelector(".ciq-data-table-wrapper"),{suppressScrollY:!0}))},t.TableView.prototype.close=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.view&&(this.view.remove(),this.view=null),e&&this.onClose&&this.onClose(),this.removeCloseListener&&(this.removeCloseListener(),this.removeCloseListener=null)},t.TableView.prototype.toggle=function(){this[this.view?"close":"open"]()},t.TableView.prototype.subscribeToChanges=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channels.tableView";const{channelSubscribe:a,channelWrite:r}=t.UI.BaseComponent.prototype,{channels:{tableView:n=i}={}}=e.config||{},{stx:s}=this;a(n,e=>{e?s.tableView.open({onClose:()=>{r(n,!1,s)}}):s.tableView.close()},s)},i.colHeaders={date:{label:"Date"},open:{label:"Open"},high:{label:"High"},low:{label:"Low"},close:{label:"Close"},pctChange:{label:"% Change",cls:"ciq-extra"},pctChangeVsAvg:{label:"% Change vs Average",cls:"ciq-extra"},volume:{label:"Volume",cls:"ciq-extra"}},i.percentDecimalPlaces=2,i.createTable=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.chart||!e.chart.dataSegment)return;const{builder:i}=e.tableView,{getChartData:a,dataToHtml:r,dataToCsv:n,downloadCsv:s,getDateFormatter:o,getValueFormatter:l,getVolumeFormatter:h,getFilenameFormatter:c,getSeriesDataNames:u,getStudyDataNames:d,getChartCover:p}=i,m=Object.assign({},this.colHeaders);if(e.chart.highLowBars||(delete m.open,delete m.high,delete m.low),!e.tableView.viewAdditionalColumns)for(let e in m)m[e].cls&&delete m[e];const g=Object.values(m).map(e=>e.label),f=u(e);f.forEach(e=>m[e]={label:e});const y=d(e);y.forEach(e=>{g.includes(e)||(m[e]={label:e})});const v=f.concat(y),{dateFormatter:x=o(e),valueFormatter:b=l(e),percentFormatter:C=l(e,this.percentDecimalPlaces),volumeFormatter:S=h(e),fileNameFormatter:w=c(e),minColumnWidth:k="84px"}=t,L=a(e,{dateFormatter:x,valueFormatter:b,percentFormatter:C,volumeFormatter:S,additionalDataFields:v}),A=p(e,t),{symbolDisplay:D,symbol:T}=e.chart,M=i.getCoverToolbar({symbol:D||T,viewAdditionalColumns:e.tableView.viewAdditionalColumns,copyFn:P,downloadFn:_,toggleAdditionalColumnsFn:()=>{const{tableView:t}=e;t.viewAdditionalColumns=!t.viewAdditionalColumns,t.open()},closeFn:()=>e.tableView.close()});A.appendChild(M);const F=r(L,{colHeaders:m,minColumnWidth:k});return A.appendChild(F),A;function P(){const t=document.createElement("textArea");document.body.appendChild(t),t.textContent=n(L,{colHeaders:m}),t.select(),document.execCommand("copy"),t.remove(),e.dispatch("notification","copytoclipboard")}function _(){const e=n(L,{colHeaders:m}),t=w(e);s(e,t)}},i.dataToHtml=function(e,t){let{colHeaders:i,minColumnWidth:a}=t;const r=Object.keys(i).length,n="calc((100% - ".concat(10+4*r,"px ) / ").concat(r,")"),s=Object.entries(i).map((e,t)=>{let[,{label:i}]=e;return'<th\n\t\t\tscope="col"\n\t\t\tstyle="width: '.concat(n,';"\n\t\t\t>').concat(i.replace("(","  ("),"</th>")}),o=e.map(e=>{const t=Object.keys(i).map((t,i)=>{const a=e[t];return 0===i?'<th scope="row"\n\t\t\t\t\t\t\t\tstyle="width: '.concat(n,'"\n\t\t\t\t\t\t\t\t>').concat(a,"</th>"):'<td style="width: '.concat(n,'">').concat(a,"</td>")}).join("");return"<tr>".concat(t,"</tr>")}),l=document.createElement("div");l.classList.add("ciq-data-table-wrapper");const h=a?"calc(".concat(r," * ").concat(a,")"):"";return l.innerHTML='\n\t\t<table class="header-fixed"\t'.concat(h?'style="min-width: '.concat(h,'"'):"",">\n\t\t<thead>").concat(s.join(""),"</thead>\n\t\t<tbody>").concat(o.join(""),"</tbody>\n\t\t</table>"),l},i.dataToCsv=function(e,t){let{colHeaders:i,colSeparator:a="\t"}=t;const r=Object.entries(i).map(e=>{let[,{label:t}]=e;return'"'.concat(t,'"')}).join(a),n=e.map(e=>Object.keys(i).map(t=>'"'.concat(e[t],'"')).join(a));return"".concat(r,"\n").concat(n.join("\n"))},i.downloadCsv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"filename";const i=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=window.URL.createObjectURL(i,{type:"text/plain"}),a.download="".concat(t,".csv"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},i.getChartData=function(e,i){let{dateFormatter:a,valueFormatter:r,percentFormatter:n,volumeFormatter:s,additionalDataFields:o}=i;const l=e.chart.dataSegment.filter(e=>null!==e),{usePreviousCloseForChange:h}=e.tableView;let c=[],u=0;const d=l.reduce((e,t)=>{let{Close:i,iqPrevClose:a,Open:r}=t;const n=h?a:r;return void 0===i||Number.isNaN(i)||void 0===n||Number.isNaN(n)?e:(u++,e+(i-n)/n)},0)/u;return l.forEach((i,l)=>{const{DT:u,displayDate:p,High:m,Low:g,Open:f,Close:y,iqPrevClose:v,Volume:x}=i,b=h?v:f,C=(y-b)/b,S=p||(e.displayZone?t.convertTimeZone(u,e.dataZone,e.displayZone):u),w={DT:u,date:a(S),open:r(f),close:r(y),change:r(y-b),pctChange:n(100*C),pctChangeVsAvg:n(100*(C-d)),high:r(m),low:r(g),volume:s(x)};o.forEach(e=>{let t=i[e];null!=t?("object"==typeof t&&(t=t.Close),w[e]=r(t)):w[e]=""}),c.push(w)}),c.sort((e,t)=>t.DT-e.DT),c},i.getDateFormatter=function(e){return(i,a)=>i?t.displayableDate(e,e.chart,i,!0):""},i.getValueFormatter=function(e,t){const{chart:{panel:i,yAxis:a},layout:{chartScale:r}}=e;let n;return n=a.originalPriceFormatter&&a.originalPriceFormatter.func?r=>a.originalPriceFormatter.func(e,i,r,t):a.priceFormatter&&"percent"!=r&&"relative"!=r?r=>a.priceFormatter(e,i,r,t):a=>e.formatYAxisPrice(a,i,t),e=>n(e).replace(/^-*0\.0*$/,"0")},i.getVolumeFormatter=function(e){return t=>{if(null==t)return"";if(e.internationalizer)return e.internationalizer.priceFormatters[0].format(t);const i=t.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),i[0]}},i.getFilenameFormatter=function(e){return t=>{const i=e.chart.symbolDisplay||e.chart.symbol;let a,r;if(t){const e=t.split("\n");e.length>1&&([,a=""]=e[1].match(/^"([^"]*)"/)||[],[,r=""]=e[e.length-1].match(/^"([^"]*)"/)||[],a=a.replace(/:/g,".").replace(/\//g,"-"),r=r.replace(/:/g,".").replace(/\//g,"-"))}return"".concat(i).concat(a?" (".concat(a," _ ").concat(r,")"):"")}},i.getChartCover=function(e,t){let{coverUIMaxWidth:i,coverContainer:a}=t;const r=a&&document.querySelector(a)||(e.uiContext&&e.container.offsetWidth<i?e.uiContext.topNode:e.container.parentElement.parentElement),n=document.createElement("div");return Object.assign(n.style,{top:0,left:0,right:0,bottom:0}),n.classList.add("ciq-data-table-container"),r.appendChild(n),n},i.getCoverToolbar=function(e){let{symbol:t,viewAdditionalColumns:i,copyFn:a,downloadFn:r,toggleAdditionalColumnsFn:n,closeFn:s}=e;const o=document.createElement("div");o.classList.add("ciq-data-table-toolbar"),o.innerHTML='\n\t\t<div class="ciq-data-table-title"></div>\n\t\t<button class="ciq-data-table-copy">'.concat(this.copyLabel,'</button>\n\t\t<button class="ciq-data-table-download">').concat(this.downloadLabel,'</button>\n\t\t<button class="ciq-data-table-additionalColumns">').concat(this.getAdditionalColumnLabel(i),"</button>\n\t\t<cq-close />\n\t");o.querySelector(".ciq-data-table-title").textContent=t;const l=o.querySelector(".ciq-data-table-copy");a?l.addEventListener("click",a):l.style.display="none";const h=o.querySelector(".ciq-data-table-download");r?h.addEventListener("click",(function(){h.blur(),r()})):h.style.display="none";const c=o.querySelector(".ciq-data-table-additionalColumns");return n?c.addEventListener("click",n):c.style.display="none",o.close=s,o},i.copyLabel="Copy",i.downloadLabel="Download",i.getAdditionalColumnLabel=function(e){return"<span>".concat(e?"- ":"+ ","</span>Additional columns")},i.getStudyDataNames=function(e){return Object.values(e.layout.studies||{}).map((function(e){return Object.keys(e.outputMap).filter(t)})).reduce((e,t)=>e.concat(t),[]);function t(t){return e.chart.dataSegment.some(e=>e&&e[t])}},i.getSeriesDataNames=function(e){return Object.values(e.chart.seriesRenderers||{}).filter(e=>"_main_series"!==e.params.name).map(e=>e.seriesParams.map(e=>{let{symbol:t}=e;return t})).reduce((e,t)=>e.concat(t),[])}},Xe=e=>{var t="undefined"!=typeof _CIQ?_CIQ:e.CIQ;t.Marker?t.Tooltip=t.Tooltip||function(e){if(!t.Marker)return void console.warn("CIQ.Tooltip addon requires CIQ.Marker module to be enabled.");this.cssRequired=!0;const{stx:i,ohl:a,change:r,volume:n,series:s,studies:o,interpolation:l,showOverBarOnly:h,showBarHighlight:c=!0,useDataZone:u}=e,{container:d}=i.chart;let p=d.querySelector("stx-hu-tooltip");p||(p=document.createElement("stx-hu-tooltip"),d.appendChild(p));let m=d.querySelector(".stx-hu-tooltip-highlight");function g(){const{headsUp:e}=i.layout,t=!!i.huTooltip,a="object"!=typeof e,r=!1===e,n=e&&("floating"===e||e.floating);if(t&&(!n&&!a||r)){const{huTooltip:e}=i,{node:t}=e||{};return t&&(t.style.left="-50000px",t.style.right="auto",e.lastBar={},e.highlightEl&&(e.highlightEl.style.display="none")),!0}return!1}function f(){if(!g()){var e=this.barFromPixel(this.cx),h=this.chart.dataSegment[e];if(h){if(!t.Marker.Tooltip.sameBar(h,this.huTooltip.lastBar)||e==this.chart.dataSegment.length-1){var c=this.huTooltip.node;Array.from(c.parentElement.querySelectorAll("[auto]")).forEach((function(e){e.remove()})),Array.from(c.parentElement.querySelectorAll("stx-hu-tooltip-field-value")).forEach((function(e){e.innerHTML=""}));var d=this.chart.panel,p=d.yAxis,m={},f=[];if(f.push({member:"DT",display:"DT",panel:d,yAxis:p}),f.push({member:"Close",display:"Close",panel:d,yAxis:p}),m.DT=m.Close=1,r&&t.ChartEngine.isDailyInterval(this.layout.interval)&&f.push({member:"Change",display:"Change",panel:d,yAxis:p}),a&&(f.push({member:"Open",display:"Open",panel:d,yAxis:p}),f.push({member:"High",display:"High",panel:d,yAxis:p}),f.push({member:"Low",display:"Low",panel:d,yAxis:p}),m.Open=m.High=m.Low=1),n&&(f.push({member:"Volume",display:"Volume",panel:null,yAxis:null}),m.Volume=1),s){var y=this.chart.seriesRenderers;for(var v in y){var x=y[v];if(x!==this.mainSeriesRenderer){d=this.panels[x.params.panel],!(p=x.params.yAxis)&&x.params.shareYAxis&&(p=d.yAxis);for(var b=0;b<x.seriesParams.length;b++){var C=x.seriesParams[b],S=C.symbol,w=C.field;S?w&&S!=w&&(S=t.createObjectChainNames(S,w)[0]):S=w;var k=C.display||C.symbol||C.field;S&&!m[k]&&(f.push({member:S,display:k,panel:d,yAxis:p,isSeries:!0}),m[k]=1)}}}}if(o)for(var L in this.layout.studies){var A=this.layout.studies[L];for(var D in p=(d=this.panels[A.panel])&&A.getYAxis(this),this.layout.studies[L].outputMap)D&&!m[D]&&(f.push({member:D,display:D,panel:d,yAxis:p}),m[D]=1);m[L+"_hist"]||(f.push({member:L+"_hist",display:L+"_hist",panel:d,yAxis:p}),f.push({member:L+"_hist1",display:L+"_hist1",panel:d,yAxis:p}),f.push({member:L+"_hist2",display:L+"_hist2",panel:d,yAxis:p}),m[L+"_hist"]=1)}for(var T=0;T<f.length;T++){var M=f[T],F=M.member,P=M.display,_="DT"==F;!_||u||t.ChartEngine.isDailyInterval(i.layout.interval)||(F="displayDate"),d=M.panel;var E=null;(p=M.yAxis)&&(d&&d===d.chart.panel?(E=Math.max(p.printDecimalPlaces,d.chart.decimalPlaces),(p.maxDecimalPlaces||0===p.maxDecimalPlaces)&&(E=Math.min(E,p.maxDecimalPlaces))):p.decimalPlaces||0===p.decimalPlaces?E=p.decimalPlaces:(p.maxDecimalPlaces||0===p.maxDecimalPlaces)&&(E=p.maxDecimalPlaces));var K=null,I=t.existsInObjectChain(h,F);I?K=I.obj[I.member]:"Change"==F&&(K=h.Close-h.iqPrevClose);var N=P.replace(/^(Result )(.*)/,"$2");if(l&&f[T].isSeries&&null==K){var O=this.valueFromInterpolation(e,N,"Close",d,p);if(null===O)break;K=O}if(!K&&0!==K||!_&&"object"==typeof K&&!K.Close&&0!==K.Close){var X=c.querySelector('stx-hu-tooltip-field[field="'+N+'"]');if(X)""!==X.querySelector("stx-hu-tooltip-field-name").innerHTML&&(X.querySelector("stx-hu-tooltip-field-value").innerHTML="n/a")}else{var z="";(K.Close||0===K.Close)&&(K=K.Close),K.constructor==Number?z=p?p.originalPriceFormatter&&p.originalPriceFormatter.func?p.originalPriceFormatter.func(this,d,K,E):p.priceFormatter&&p.priceFormatter!=t.Comparison.priceFormat?p.priceFormatter(this,d,K,E):this.formatYAxisPrice(K,d,E,p):K:K.constructor==Date?_&&this.controls.floatDate&&this.controls.floatDate.innerHTML?z=this.chart.xAxis.noDraw?"N/A":t.displayableDate(this,d.chart,K):(z=t.yyyymmdd(K),t.ChartEngine.isDailyInterval(this.layout.interval)||(z+=" "+K.toTimeString().substr(0,8))):z=K;var H=c.querySelector('stx-hu-tooltip-field[field="'+N+'"]');if(H){H.querySelector("stx-hu-tooltip-field-value").innerHTML=z;var R=H.querySelector("stx-hu-tooltip-field-name");""===R.innerHTML&&(R.innerHTML=this.translateIf(N))}else{var W=document.createElement("stx-hu-tooltip-field");W.setAttribute("auto",!0);var Q=document.createElement("stx-hu-tooltip-field-name");Q.innerHTML=this.translateIf(N),W.appendChild(Q);var V=document.createElement("stx-hu-tooltip-field-value");V.innerHTML=z,W.appendChild(V),c.appendChild(W)}}}this.huTooltip.render()}}else this.positionMarkers()}}m||(m=document.createElement("div"),m.classList.add("stx-hu-tooltip-highlight"),d.appendChild(m)),t.Marker.Tooltip=function(e){this.className||(this.className="CIQ.Marker.Tooltip"),this.highlightEl=m,e.label="tooltip",t.Marker.call(this,e)},t.inheritsFrom(t.Marker.Tooltip,t.Marker,!1),t.Marker.Tooltip.sameBar=function(e,t){return!(!e||!t)&&(+e.DT==+t.DT&&(e.Close==t.Close&&(e.Open==t.Open&&e.Volume==t.Volume)))},t.Marker.Tooltip.placementFunction=function(e){if(!g()){for(var i=e.stx,a=0;a<e.arr.length;a++){var r,n,s,o=e.arr[a],l=i.barFromPixel(i.cx),u=i.chart.dataSegment[l],p=!0;if("undefined"!=u&&u&&u.DT&&(r=!0,u.High&&(n=i.pixelFromPrice(u.High)),u.Low&&(s=i.pixelFromPrice(u.Low)),i.chart.highLowBars||u.Close&&(n=i.pixelFromPrice(u.Close)-15,s=i.pixelFromPrice(u.Close)+15),!h||i.cy>=n&&i.cy<=s||(p=!1)),!i.insideChart||i.openDialog||i.activeDrawing||i.grabbingScreen||!r||!p)return m.style.display="none",o.node.style.left="-50000px",o.node.style.right="auto",void(o.lastBar={});if(t.Marker.Tooltip.sameBar(i.chart.dataSegment[l],o.lastBar)&&l!=i.chart.dataSegment.length-1)return;o.lastBar=i.chart.dataSegment[l];var f=o.lastBar.candleWidth||i.layout.candleWidth;parseInt(getComputedStyle(o.node).width,10)+i.chart.panel.left+30+f<i.backOutX(t.ChartEngine.crosshairX)?(o.node.style.left="auto",o.node.style.right=Math.round(d.clientWidth-i.pixelFromBar(l)+30)+"px"):(o.node.style.left=Math.round(i.pixelFromBar(l)+30)+"px",o.node.style.right="auto");var y=parseInt(getComputedStyle(o.node).height,10),v=Math.round(t.ChartEngine.crosshairY-i.top-y/2);if(v+y>i.height&&(v=i.height-y),v<0&&(v=0),o.node.style.top=v+"px",c&&!i.layout.crosshair){const e=o.lastBar.candleWidth||i.layout.candleWidth,t=i.pixelFromBar(l)-e/2;let a=e;t+a>i.chart.width&&(a=i.chart.width-t),m.style.display="block",m.style.left=t+"px",m.style.width=a+"px"}else m.style.display="none"}var x=i.overXAxis,b=i.overYAxis;i.overXAxis=i.overYAxis=!1,i.overXAxis=x,i.overYAxis=b}},i.append("deleteHighlighted",(function(){this.huTooltip.lastBar={},this.headsUpHR()})),i.append("headsUpHR",f),i.append("createDataSegment",f),i.huTooltip=new t.Marker.Tooltip({stx:i,xPositioner:"bar",chartContainer:!0,node:p})}:console.error("tooltip addon requires first activating markers feature.")},ze=Ce.c;"undefined"!=typeof __TREE_SHAKE__&&__TREE_SHAKE__||(ze||Ce.c).activateImports(Te,Me,Fe,Pe,_e,Ee,Ke,Ie,Ne,Oe,Xe,null)},374:function(e,t,i){"use strict";(function(e){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W;function Q(){}i.d(t,"c",(function(){return V})),i.d(t,"d",(function(){return B})),i.d(t,"e",(function(){return U})),i.d(t,"a",(function(){return j})),i.d(t,"b",(function(){return Y})),function(){var e,t=["127.0.0.1","localhost","binary.com","binary.sx","binary.me","binary.bot","deriv.com","deriv.app","deriv.me"];if(e=new Date("2022/04/01").getTime()){var i=(new Date).getTime();if(e<=i)console.error("This license has expired!");else;}if("undefined"!=typeof document&&t&&t.length>0){for(var a=document.location.href,r=!1,n=0;n<t.length;n++)if(a.indexOf(t[n])>-1){r=!0;break}r||(alert("ERROR: Not licensed for domain "+a),console.error("ERROR: Not licensed for domain "+a))}}(),Q[10078]=function(){for(var e=2;9!==e;)switch(e){case 1:return globalThis;case 2:e="object"==typeof globalThis?1:5;break;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 5:t.uzg0s=t,i=4;break;case 4:i="undefined"==typeof uzg0s?3:9;break;case 2:Object.defineProperty(Object.prototype,"hQWh$",{get:function(){for(;;)return this},configurable:!0}),t=hQWh$,i=5;break;case 3:throw"";case 9:delete t.uzg0s,delete Object.prototype.hQWh$,i=6}}catch(e){t=window}return t}}(),Q[131077]=function(e){for(var t=2;12!==t;)switch(t){case 2:var i=[arguments];i[7]="5s",i[9]="s",i[4]="",i[4]="o",t=9;break;case 9:i[5]=1,i[3]=i[4],i[3]+=i[7],i[3]+=i[9],t=14;break;case 14:var a=function(e,t,a,r){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];n(i[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=13;break;case 13:a(r,"charCodeAt",i[5],i[3]),t=12}function r(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function n(e,t,i,a,r){for(var n=2;13!==n;)switch(n){case 7:l[7]="definePrope",l[6]=8;try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[5]=(0,l[0][1])(l[0][0]),l[1]=[l[6],l[5].prototype][l[0][3]],l[8].value=l[1][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[4]=l[7],l[4]+=l[3],l[4]+=l[2],l[0][0].Object[l[4]](l[1],l[0][4],l[8]),o=3}}catch(e){}l[1][l[0][4]]=l[8].value,s=8}}catch(e){}n=13;break;case 2:var l=[arguments];l[2]="",l[2]="",l[2]="y",l[3]="",l[3]="rt",l[7]="",n=7}}}(Q[10078]),Q[141034]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function i(e,t,i,a,r){for(var n=2;14!==n;)switch(n){case 2:var s=[arguments];s[1]="",s[1]="ty",s[9]="",s[9]="",s[9]="ineProper",n=8;break;case 8:s[4]="",s[4]="def";try{for(var o=2;8!==o;)switch(o){case 2:s[3]={},s[8]=(0,s[0][1])(s[0][0]),s[6]=[s[8],s[8].prototype][s[0][3]],s[3].value=s[6][s[0][2]],o=3;break;case 3:try{for(var l=2;3!==l;)switch(l){case 2:s[5]=s[4],s[5]+=s[9],l=5;break;case 5:s[5]+=s[1],s[0][0].Object[s[5]](s[6],s[0][4],s[3]),l=3}}catch(e){}s[6][s[0][4]]=s[3].value,o=8}}catch(e){}n=14}}function a(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}for(var r=2;42!==r;)switch(r){case 19:s[2]="g",s[5]=8,s[5]=2,s[5]=1,r=15;break;case 15:s[18]=0,s[38]=s[2],s[38]+=s[3],s[38]+=s[1],r=24;break;case 28:n(t,"fromCharCode",s[18],s[55]),r=44;break;case 44:n(o,"substring",s[5],s[94]),r=43;break;case 24:s[94]=s[9],s[94]+=s[1],s[94]+=s[1],s[55]=s[6],s[55]+=s[7],s[55]+=s[4],r=33;break;case 29:n(a,"String",s[18],s[98]),r=28;break;case 43:n(o,"charCodeAt",s[5],s[38]),r=42;break;case 30:var n=function(e,t,a,r){for(var n=2;5!==n;)switch(n){case 2:var o=[arguments];i(s[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),n=5}};r=29;break;case 2:var s=[arguments];s[4]="BB",s[8]="M",s[6]="",s[7]="7",s[6]="G",s[9]="",r=7;break;case 7:s[9]="O7",s[1]="",s[1]="",s[1]="B",r=12;break;case 12:s[3]="",s[3]="",s[3]="7B",s[2]="",r=19;break;case 33:s[98]=s[8],s[98]+=s[7],s[98]+=s[4],r=30}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}}(Q[10078]),Q[265782]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}function i(e,t,i,a,r){for(var n=2;14!==n;)switch(n){case 2:var s=[arguments];s[4]="eProperty",s[8]="",s[8]="fin",s[1]="",s[1]="de",n=8;break;case 8:s[2]=2,s[2]=8;try{for(var o=2;8!==o;)switch(o){case 9:s[3][s[0][4]]=s[5].value,o=8;break;case 2:s[5]={},s[6]=(0,s[0][1])(s[0][0]),s[3]=[s[2],s[6].prototype][s[0][3]],s[5].value=s[3][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 5:s[9]+=s[4],s[0][0].Object[s[9]](s[3],s[0][4],s[5]),l=3;break;case 2:s[9]=s[1],s[9]+=s[8],l=5}}catch(e){}o=9}}catch(e){}n=14}}for(var a=2;15!==a;)switch(a){case 16:n(t,"map",r[1],r[6]),a=15;break;case 2:var r=[arguments];r[5]="",r[9]="X",r[5]="55",a=3;break;case 3:r[7]="7",r[4]="",r[4]="Z",r[1]=3,r[1]=6,r[1]=1,a=13;break;case 17:n(s,"replace",r[1],r[3]),a=16;break;case 18:var n=function(e,t,a,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];s=1;break;case 1:i(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=17;break;case 13:r[6]=r[4],r[6]+=r[7],r[6]+=r[5],r[3]=r[9],a=20;break;case 20:r[3]+=r[7],r[3]+=r[5],a=18}function s(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}}(Q[10078]),Q[286920]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].RegExp}}function i(e,t,i,a,r){for(var n=2;7!==n;)switch(n){case 3:l[3]="fine",l[5]="de";try{for(var s=2;8!==s;)switch(s){case 4:l[2].value=l[1][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[9]=l[5],l[9]+=l[3],l[9]+=l[6],l[0][0].Object[l[9]](l[1],l[0][4],l[2]),o=3}}catch(e){}l[1][l[0][4]]=l[2].value,s=8;break;case 2:l[2]={},l[8]=(0,l[0][1])(l[0][0]),l[1]=[l[8],l[8].prototype][l[0][3]],s=4}}catch(e){}n=7;break;case 2:var l=[arguments];l[6]="",l[6]="",l[6]="Property",n=3}}function a(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Function}}for(var r=2;70!==r;)switch(r){case 29:s[69]="6",s[79]="n",s[45]=8,s[45]=1,r=42;break;case 48:s[93]=s[23],s[93]+=s[9],s[93]+=s[7],s[58]=s[2],r=65;break;case 76:n(o,"push",s[45],s[59]),r=75;break;case 65:s[58]+=s[44],s[58]+=s[5],s[22]=s[3],s[22]+=s[8],r=61;break;case 57:s[59]=s[6],s[59]+=s[44],s[59]+=s[5],r=77;break;case 61:s[22]+=s[4],s[63]=s[1],s[63]+=s[44],s[63]+=s[5],r=57;break;case 35:s[23]="_",s[75]="",s[75]="m",s[86]="",s[86]="HH",s[79]="",r=29;break;case 19:s[5]="",s[5]="H",s[44]="6H",s[35]="",r=15;break;case 14:s[2]="k",s[3]="__",s[9]="",s[9]="",s[9]="_resi",s[7]="dual",r=19;break;case 37:s[27]+=s[69],s[27]+=s[86],s[26]=s[23],s[26]+=s[17],r=52;break;case 75:n(t,"test",s[45],s[63]),r=74;break;case 9:s[8]="",s[8]="abstra",s[4]="ct",s[2]="",r=14;break;case 24:s[17]="",s[17]="",s[17]="_op",s[23]="",r=35;break;case 74:n(l,s[22],s[78],s[58]),r=73;break;case 71:n(a,"apply",s[45],s[89]),r=70;break;case 73:n(l,s[93],s[78],s[98]),r=72;break;case 42:s[78]=0,s[89]=s[79],s[89]+=s[69],s[89]+=s[86],s[27]=s[75],r=37;break;case 77:var n=function(e,t,a,r){for(var n=2;5!==n;)switch(n){case 2:var o=[arguments];i(s[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),n=5}};r=76;break;case 15:s[35]="K",s[36]="",s[36]="",s[36]="timize",r=24;break;case 52:s[26]+=s[36],s[98]=s[35],s[98]+=s[44],s[98]+=s[5],r=48;break;case 72:n(l,s[26],s[78],s[27]),r=71;break;case 2:var s=[arguments];s[6]="",s[6]="L",s[1]="",s[1]="j",r=9}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}function l(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}}(Q[10078]),Q.a0C=function(){return"function"==typeof Q[397153].x5A?Q[397153].x5A.apply(Q[397153],arguments):Q[397153].x5A},Q.q0C=function(){return"function"==typeof Q[397153].L5A?Q[397153].L5A.apply(Q[397153],arguments):Q[397153].L5A},Q[248996]=(a=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{G51:function(e,t,i){for(var r=i,n=-4&t,s=0;s<n;s+=4){var o=255&e.o5ss(s)|(255&e.o5ss(s+1))<<8|(255&e.o5ss(s+2))<<16|(255&e.o5ss(s+3))<<24;o=a(o,3432918353),r=5*(r=(524287&(r^=o=a(o=(131071&o)<<15|o>>>17,461845907)))<<13|r>>>19)+3864292196|0}switch(o=0,t%4){case 3:o=(255&e.o5ss(n+2))<<16;case 2:o|=(255&e.o5ss(n+1))<<8;case 1:o|=255&e.o5ss(n),o=a(o,3432918353),r^=o=a(o=(131071&o)<<15|o>>>17,461845907)}return r^=t,r=a(r^=r>>>16,2246822507),r=a(r^=r>>>13,3266489909),r^=r>>>16}}),Q.j0C=function(){return"function"==typeof Q[397153].x5A?Q[397153].x5A.apply(Q[397153],arguments):Q[397153].x5A},Q[22341]=function(e){function t(t){for(var i=2;15!==i;)switch(i){case 5:u=a[e[4]],i=4;break;case 12:i=s--?10:11;break;case 19:return r;case 4:i=s--?9:3;break;case 14:i=s--?12:13;break;case 6:l=o&&u(o,n),i=14;break;case 2:var r,n,o,l,h,c,u;i=1;break;case 3:n=26,i=9;break;case 1:i=s--?4:5;break;case 10:i=c>=0&&l>=0?20:18;break;case 18:i=c>=0?17:16;break;case 20:r=t-c>n&&l-t>n,i=19;break;case 9:i=s--?7:8;break;case 13:h=e[7],i=12;break;case 16:r=l-t>n,i=19;break;case 17:r=t-c>n,i=19;break;case 7:i=s--?14:6;break;case 11:c=(h||0===h)&&u(h,n),i=10;break;case 8:o=e[6],i=7}}for(var i=2;10!==i;)switch(i){case 11:return{g16:function(i){for(var r=2;6!==r;)switch(r){case 5:r=s--?3:4;break;case 4:h=t(n),r=3;break;case 8:return function(t,r){for(var n=2;10!==n;)switch(n){case 2:n=void 0===t&&void 0!==i?1:5;break;case 1:t=i,n=5;break;case 6:n=0===o?14:12;break;case 5:n=void 0===r&&void 0!==e?4:3;break;case 14:s=h,n=13;break;case 4:r=e,n=3;break;case 3:var s,o=0;n=9;break;case 9:n=o<t[r[5]]?8:11;break;case 12:s^=h,n=13;break;case 11:return s;case 8:var l=a[r[4]](t[r[2]](o),16)[r[3]](2),h=l[r[2]](l[r[5]]-1);n=6;break;case 13:o++,n=9}}(void 0,void 0)?h:!h;case 1:r=n>c?5:8;break;case 2:var n=(new a[e[0]])[e[1]]();r=1;break;case 3:r=s--?8:9;break;case 9:c=n+6e4,r=8}}};case 8:i=s--?6:7;break;case 1:i=s--?4:5;break;case 2:var a,r,n,s;i=1;break;case 4:var o="fromCharCode",l="RegExp";i=3;break;case 5:a=Q[10078],i=4;break;case 3:i=s--?8:9;break;case 9:r=typeof o,i=8;break;case 14:e=e.Z755((function(e){for(var t=2;13!==t;)switch(t){case 9:r+=a[n][o](e[i]+120),t=8;break;case 4:var i=0;t=3;break;case 1:t=s--?4:5;break;case 8:i++,t=3;break;case 2:var r;t=1;break;case 6:return;case 5:r="",t=4;break;case 7:t=r?14:6;break;case 3:t=i<e.length?9:7;break;case 14:return r}})),i=13;break;case 13:i=s--?11:12;break;case 6:i=s--?13:14;break;case 7:n=r.X755(new a[l]("^['-|]"),"S"),i=6;break;case 12:var h,c=0;i=11}}([[-52,-23,-4,-19],[-17,-19,-4,-36,-15,-11,-19],[-21,-16,-23,-6,-55,-4],[-4,-9,-37,-4,-6,-15,-10,-17],[-8,-23,-6,-5,-19,-47,-10,-4],[-12,-19,-10,-17,-4,-16],[-65,-10,-18,-16,-20,-8,-13,-23,-13],[]]),Q.X0X=function(){return"function"==typeof Q[22341].g16?Q[22341].g16.apply(Q[22341],arguments):Q[22341].g16},Q[538215]={Y0L:function(){var e,t=arguments;switch(r){case 16:e=t[0]^t[1];break;case 3:e=t[1]/t[3]+t[0]+t[2];break;case 74:e=t[6]+t[3]+t[5]+t[4]+t[2]+t[0]+t[1];break;case 22:e=t[1]+t[2]*t[0];break;case 5:e=(t[2]-t[0])/t[1]-t[3];break;case 46:e=(t[3]-t[0])/t[2]+ +t[1];break;case 96:e=t[5]/t[1]*(t[6]*t[0]*t[2]+t[3])+t[4];break;case 125:e=t[1]/t[2]+t[3]-t[0];break;case 88:e=t[3]/t[2]*t[4]+t[1]+t[0];break;case 73:e=(t[2]-t[3])*t[1]+t[0];break;case 108:e=t[4]+t[1]-t[0]-t[3]+t[2];break;case 93:e=t[1]/t[2]*t[3]*t[4]+t[0];break;case 151:e=t[0]/(t[1]<<t[2]);break;case 138:e=(t[1]+t[0]+t[4])/t[3]-t[2];break;case 86:e=(t[2]+t[3]+t[4])*t[0]-t[1];break;case 25:e=t[2]/t[0]+t[1];break;case 7:e=t[4]/t[1]*t[0]+t[2]-t[3];break;case 139:e=t[0]!=t[1];break;case 21:e=(t[2]-t[1])*(t[3]-t[4])/(t[5]-t[0]);break;case 76:e=t[10]+t[8]+t[2]+t[4]+t[3]+t[7]+t[9]+t[0]+t[6]+t[1]+t[5];break;case 147:e=(t[3]+t[1]-t[2])*t[4]-t[0];break;case 152:e=(t[2]-t[1])*t[0]*t[3]+t[4];break;case 133:e=t[1]+t[2]/t[0]*t[3];break;case 59:e=(t[4]/t[3]+t[1])/t[2]+t[0];break;case 78:e=t[0]+t[2]+t[1]-t[3];break;case 112:e=(-t[2]-t[0])*t[1]*t[4]+t[3];break;case 62:e=t[0]/t[4]-t[2]-t[1]+t[3];break;case 81:e=t[1]<<t[0];break;case 36:e=-t[1]*t[2]+t[0];break;case 31:e=(t[4]-t[2])/t[0]+t[1]+t[3];break;case 123:e=(t[2]-t[0])*t[1]+t[4]+t[3];break;case 66:e=t[2]-t[0]+t[3]-t[1]-t[4];break;case 30:e=t[0]-t[1]-t[2]+t[3];break;case 48:e=t[5]+(t[4]-t[7])*((t[2]-t[0])/t[3]-t[1])*t[6];break;case 0:e=-t[2]/t[0]/t[1]+t[3];break;case 135:e=-t[1]*t[0]-t[2]+t[3];break;case 148:e=(t[1]-t[2])/t[4]-t[3]+t[0];break;case 107:e=(t[1]-t[3])/t[4]*t[0]+t[2];break;case 127:e=t[1]*(t[0]*t[2]);break;case 98:e=t[1]!==t[0];break;case 8:e=t[0]+t[1];break;case 105:e=t[0]*t[3]/t[1]*t[2]-t[4];break;case 1:e=t[0]-t[1];break;case 87:e=(t[3]+t[4])/t[1]/t[0]-t[2];break;case 121:e=(-t[2]*t[4]-t[1])*t[0]+t[3];break;case 24:e=t[1]*t[2]*t[3]/t[4]-t[0];break;case 14:e=-t[0]-t[2]+t[1];break;case 61:e=(t[0]-t[1])/t[4]+t[2]-t[3];break;case 47:e=t[1]+(t[0]-t[2])*t[3]*t[4];break;case 144:e=(t[1]/t[3]+t[2])%t[0];break;case 113:e=t[0]===t[1];break;case 37:e=-t[1]+t[0];break;case 54:e=-t[0]+t[2]+t[1];break;case 35:e=t[0]/t[1];break;case 136:e=(-t[3]+t[0]-t[2])/t[4]+t[1];break;case 23:e=t[1]|t[0];break;case 45:e=(t[3]-t[1])/t[2]+t[0];break;case 89:e=t[4]*t[3]+t[0]+t[1]-t[2];break;case 134:e=t[0]>t[1];break;case 42:e=t[3]*(t[4]-t[1]/(t[0]-t[2]));break;case 126:e=t[2]/t[1]/t[3]*t[4]-t[0];break;case 130:e=t[3]*t[1]%(t[2]<<t[0]);break;case 44:e=(t[2]+t[1])/t[0];break;case 119:e=t[1]*(t[2]-t[0])+t[3];break;case 142:e=t[3]/t[4]/t[2]-t[0]+t[1];break;case 29:e=t[2]|t[1]<<t[3]|t[4]<<t[0];break;case 77:e=t[0]*t[2]*t[3]*t[1];break;case 99:e=(t[5]-t[4])*(t[6]-t[0])-(t[1]-t[2])*(t[3]-t[7]);break;case 137:e=+t[1]/t[0];break;case 28:e=t[4]*t[0]*t[1]*t[3]-t[2];break;case 34:e=t[0]-t[2]+t[1]+t[3];break;case 58:e=t[2]*t[1]/t[3]+t[0]+t[4];break;case 53:e=t[1]/t[0]*t[3]-t[2];break;case 51:e=t[0]*(t[2]&t[1]);break;case 109:e=(t[0]*t[2]+t[4])*t[3]-t[1];break;case 69:e=(t[4]-t[1]+t[0])/t[3]-t[2];break;case 32:e=t[0]-t[2]+t[1];break;case 95:e=t[4]/t[5]*t[1]*t[0]*t[3]+t[2];break;case 80:e=(t[2]/t[4]+t[3])*t[0]+t[1];break;case 12:e=(t[3]+t[1])/t[2]-t[0];break;case 68:e=t[2]*t[1]*t[3]/t[4]+t[0];break;case 114:e=t[1]-(t[2]-t[0]);break;case 146:e=t[1]/t[2]*t[0];break;case 2:e=(t[2]+t[3])/t[4]+t[0]-t[1];break;case 79:e=t[1]+t[3]+t[4]+t[0]+t[2];break;case 115:e=t[0]-t[1]*t[2];break;case 56:e=(t[2]+t[3]+t[4])/t[1]+t[0];break;case 70:e=t[0]*t[3]-t[2]-t[1];break;case 92:e=t[0]/+t[1];break;case 82:e=t[1]<t[0];break;case 145:e=+t[3]*t[2]*t[1]*t[4]*t[0];break;case 39:e=(t[2]+t[1])*t[3]-t[0];break;case 4:e=t[2]-t[0]-t[1];break;case 111:e=t[2]+t[1]+t[3]+t[0];break;case 120:e=t[3]-t[4]+t[1]-t[0]+t[2];break;case 94:e=-t[2]/t[4]*(t[5]*(t[1]-t[6])-t[0])+t[3];break;case 110:e=t[0]+t[3]-t[4]+t[1]-t[2];break;case 72:e=t[1]/t[2]-t[3]+t[0];break;case 143:e=-t[2]+t[1]-t[0]+t[4]-t[3];break;case 100:e=t[1]==t[0];break;case 140:e=t[0]/(t[1]>>t[2]);break;case 102:e=t[2]-t[0]+t[3]-t[1];break;case 129:e=t[0]%t[1];break;case 26:e=-t[4]/t[3]/t[0]*t[1]+t[2];break;case 141:e=(t[2]/t[0]+t[1])/t[4]-t[3];break;case 20:e=t[1]*-t[0];break;case 19:e=t[0]&t[1];break;case 84:e=(t[3]*t[2]-t[0])/t[4]-t[1];break;case 149:e=-t[2]-t[0]+t[3]+t[1];break;case 27:e=t[0]*t[2]*t[3]-t[1];break;case 131:e=t[2]-t[4]/t[0]+(t[3]-t[1]);break;case 103:e=(t[4]-t[2]-t[1])/t[0]+t[3];break;case 116:e=t[0]-+t[1];break;case 40:e=(t[4]+t[1])/t[2]/t[3]+t[0];break;case 65:e=t[1]-t[2]-t[3]-t[0];break;case 124:e=t[2]-t[1]-(t[3]-t[0]);break;case 11:e=t[0]*t[2]/t[1]-t[3];break;case 60:e=t[2]/t[0]-t[1];break;case 10:e=t[3]/t[1]/t[2]+t[0];break;case 150:e=t[0]+t[2]+t[1]-t[3]-t[4];break;case 33:e=t[1]*t[2]-t[0];break;case 83:e=(t[2]+t[4])/t[3]-t[1]+t[0];break;case 97:e=t[4]*(t[5]*t[1]*t[2]+t[3])+t[0];break;case 106:e=t[3]*t[0]+t[1]-t[2];break;case 132:e=t[2]+(t[0]+ +t[1]);break;case 15:e=-t[2]/t[0]+t[1];break;case 50:e=t[3]-(t[2]|t[0])/+t[1];break;case 154:e=(-t[0]+t[3]-t[2])*t[1]+t[4];break;case 49:e=t[2]+t[0]/t[1];break;case 101:e=t[0]+t[1]*(t[3]-t[2]);break;case 64:e=(t[2]+t[1])*t[3]*t[0]-t[4];break;case 153:e=t[3]*t[0]-t[1]+t[2]-t[4];break;case 41:e=t[1]+t[5]+t[9]+t[4]+t[2]+t[0]+t[6]+t[3]/t[8]+t[7];break;case 63:e=t[3]+t[0]-t[2]+t[1];break;case 52:e=t[2]+t[1]+t[0];break;case 71:e=t[3]/t[1]*t[0]+t[2];break;case 43:e=(t[1]-t[2])/t[0];break;case 13:e=t[0]/t[4]/t[1]+t[2]-t[3];break;case 75:e=t[8]+t[6]+t[7]+t[4]+t[5]+t[2]+t[0]+t[1]+t[3];break;case 118:e=(t[0]-t[2])/(t[3]-t[1]);break;case 91:e=(t[4]-t[3])/t[1]/t[2]+t[0];break;case 6:e=(-t[4]/t[2]+t[1])/t[3]+t[0];break;case 57:e=t[2]*t[0]/t[1]+t[3];break;case 85:e=(t[2]+t[1])/t[3]*t[4]+t[0];break;case 38:e=(t[3]+t[1])/t[2]+t[0];break;case 18:e=t[1]*t[0];break;case 90:e=(t[0]-t[2])*t[3]/t[4]+t[1];break;case 9:e=t[2]+t[0]-t[1];break;case 55:e=t[0]+t[3]-t[1]-t[2];break;case 122:e=t[0]*t[2]-t[1]-t[3]-t[4];break;case 104:e=t[1]*t[2]+t[3]-t[0]-t[4];break;case 117:e=-t[1]+t[0]-t[3]+t[2];break;case 67:e=(t[3]-t[1])*t[0]-t[2];break;case 128:e=(-t[0]-t[3])*t[1]+t[4]+t[2];break;case 17:e=t[1]>>t[0]}return e},X0L:function(e){r=e}},Q.W7L=function(){return"function"==typeof Q[538215].Y0L?Q[538215].Y0L.apply(Q[538215],arguments):Q[538215].Y0L},Q.z71=function(){return"function"==typeof Q.V71.k4Z?Q.V71.k4Z.apply(Q.V71,arguments):Q.V71.k4Z},Q.c0C=function(){return"function"==typeof Q[397153].L5A?Q[397153].L5A.apply(Q[397153],arguments):Q[397153].L5A},Q.i7L=function(){return"function"==typeof Q[538215].X0L?Q[538215].X0L.apply(Q[538215],arguments):Q[538215].X0L},Q.z7L=function(){return"function"==typeof Q[538215].X0L?Q[538215].X0L.apply(Q[538215],arguments):Q[538215].X0L},Q.V71=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];e=1;break;case 1:return t[7]=void 0,t[8]={},t[8].k4Z=function(){for(var e=2;90!==e;)switch(e){case 17:i[4].V3X=["u3X"],i[4].k3X=function(){return/\u0074\x72\x75\x65/.j6HH(function(){return"aaa".includes("a")}+[])},i[3]=i[4],i[83]={},e=26;break;case 14:i[5].V3X=["u3X"],i[5].k3X=function(){return!/\x28\x5b/.j6HH(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},i[1]=i[5],i[6]={},e=10;break;case 52:i[7].L6HH(i[89]),i[7].L6HH(i[1]),i[7].L6HH(i[18]),e=49;break;case 2:var i=[arguments];e=1;break;case 45:i[7].L6HH(i[2]),i[90]=[],i[31]="P3X",e=63;break;case 49:i[7].L6HH(i[3]),e=48;break;case 77:i[61]=0,e=76;break;case 73:i[52][i[67]]=i[33],i[90].L6HH(i[52]),e=71;break;case 66:return 71;case 34:i[68]={},e=33;break;case 33:i[68].V3X=["u3X"],i[68].k3X=function(){return/\x33\u0044/.j6HH(function(){return escape("=")}+[])},i[89]=i[68],e=30;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 20:a[4][a[3][i[53]]].h+=!0,t=19;break;case 8:a[6]=0,t=7;break;case 16:t=a[6]<a[9].length?15:23;break;case 9:a[6]=0,t=8;break;case 4:a[4]={},a[9]=[],t=9;break;case 7:t=a[6]<a[0][0].length?6:18;break;case 26:t=a[8]>=.5?25:24;break;case 25:a[2]=!0,t=24;break;case 19:a[6]++,t=7;break;case 13:a[4][a[3][i[53]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];t[7]={},t[7].h=0,e=4;break;case 4:return t[7].t=0,t[7]}}.n6HH(this,arguments),t=12;break;case 12:a[9].L6HH(a[3][i[53]]),t=11;break;case 17:a[6]=0,t=16;break;case 10:t=a[3][i[67]]===i[31]?20:19;break;case 14:t=void 0===a[4][a[3][i[53]]]?13:11;break;case 23:return a[2];case 2:var a=[arguments];t=1;break;case 1:t=0===a[0][0].length?5:4;break;case 18:a[2]=!1,t=17;break;case 11:a[4][a[3][i[53]]].t+=!0,t=10;break;case 5:return;case 15:a[1]=a[9][a[6]],a[8]=a[4][a[1]].h/a[4][a[1]].t,t=26;break;case 6:a[3]=a[0][0][a[6]],t=14;break;case 24:a[6]++,t=16}}(i[90])?68:67;break;case 57:e=i[91]<i[7].length?56:69;break;case 68:e=68;break;case 1:e=t[7]?5:4;break;case 67:t[7]=13,e=66;break;case 60:i[45]="k3X",i[53]="z3X",e=58;break;case 56:i[38]=i[7][i[91]];try{i[33]=i[38][i[45]]()?i[31]:i[19]}catch(e){i[33]=i[19]}e=77;break;case 58:i[91]=0,e=57;break;case 5:return 38;case 26:i[83].V3X=["S9X"],i[83].k3X=function(){return"function"==typeof k6HH},i[13]=i[83],i[62]={},i[62].V3X=["u3X"],i[62].k3X=function(){return/\u0074\x72\x75\x65/.j6HH(function(){return"x".startsWith("x")}+[])},i[35]=i[62],e=34;break;case 30:i[66]={},i[66].V3X=["S9X"],e=28;break;case 10:i[6].V3X=["u3X"],i[6].k3X=function(){return!/\x61/.j6HH(function(){return"ab".charAt(1)}+[])},i[8]=i[6],i[4]={},e=17;break;case 75:i[52]={},i[52][i[53]]=i[38][i[44]][i[61]],e=73;break;case 4:i[7]=[],i[9]={},i[9].V3X=["S9X"],e=8;break;case 28:i[66].k3X=function(){return"function"==typeof K6HH},i[97]=i[66],i[43]={},i[43].V3X=["u3X"],i[43].k3X=function(){return!/\x79/.j6HH(function(){return"xy".substring(0,1)}+[])},i[18]=i[43],i[40]={},e=38;break;case 70:i[91]++,e=57;break;case 54:i[7].L6HH(i[13]),i[7].L6HH(i[35]),e=52;break;case 38:i[40].V3X=["S9X"],i[40].k3X=function(){return"function"==typeof m6HH},i[36]=i[40],e=54;break;case 48:i[7].L6HH(i[36]),i[7].L6HH(i[8]),i[7].L6HH(i[97]),e=45;break;case 76:e=i[61]<i[38][i[44]].length?75:70;break;case 8:i[9].k3X=function(){var e=!1,t=[];try{for(var i in console)t.L6HH(i);e=0===t.length}catch(e){}return e},i[2]=i[9],i[5]={},e=14;break;case 63:i[19]="A3X",i[44]="V3X",i[67]="x3X",e=60;break;case 71:i[61]++,e=76}},t[8]}}(),Q[10078].D6uu=Q,Q.V6U=function(){return"function"==typeof Q[248996].G51?Q[248996].G51.apply(Q[248996],arguments):Q[248996].G51},Q.Q7L=function(){return"function"==typeof Q[538215].Y0L?Q[538215].Y0L.apply(Q[538215],arguments):Q[538215].Y0L},Q.f6U=function(){return"function"==typeof Q[248996].G51?Q[248996].G51.apply(Q[248996],arguments):Q[248996].G51},Q[397153]=function(){function e(e,n,s,o,l){for(var h=2;15!==h;)switch(h){case 13:h=n&&m>0&&46!==d.g7BB(m-1)?12:11;break;case 12:return!1;case 5:!t&&(t=void 0!==p?p[r([-13,-6,-2,-1,-7,-20,-8,-16])]||" ":""),!i&&(i=void 0!==p?p[r([-13,-3,-16,-15])]:""),d=l?i:t,h=9;break;case 8:u=(c=d.O7BB(e,o)).length,h=6;break;case 11:return u=(c=d.O7BB(m,d.length)).length,Q.V6U(c,u,s);case 2:var c,u,d,p;p=a[r([-9,-6,-18,-20,-1,-12,-6,-7])],h=5;break;case 14:var m=d.length-e;h=13;break;case 9:h=o>0?8:19;break;case 16:return Q.V6U(c,u,s);case 18:u=(c=d.O7BB(0,d.length)).length,h=16;break;case 6:return Q.V6U(c,u,s);case 19:h=null===e||e<=0?18:14}}for(;;){var t,i,a=Q[10078];return{L5A:function(t,i,a,r){for(;;)return e(t,i,a,r)},x5A:function(t,i,a,r){for(;;)return e(t,i,a,r,!0)}}}function r(e){for(var t=2;7!==t;)switch(t){case 4:t=r<e.length?3:8;break;case 2:var i=3,a="";t=5;break;case 5:var r=0;t=4;break;case 9:r++,t=4;break;case 3:a+=M7BB.G7BB(e[r]-i+120),t=9;break;case 8:return a}}}(),Q.p0X=function(){return"function"==typeof Q[22341].g16?Q[22341].g16.apply(Q[22341],arguments):Q[22341].g16},Q.K71=function(){return"function"==typeof Q.V71.k4Z?Q.V71.k4Z.apply(Q.V71,arguments):Q.V71.k4Z},Q.a3X=function(e){if(Q.K71(),Q&&e)return Q.p0X(e)},Q.G3X=function(e){if(Q.K71(),Q)return Q.X0X(e)},Q.v3X=function(e){if(Q.K71(),Q)return Q.X0X(e)},Q.g3X=function(e){if(Q.K71(),Q)return Q.p0X(e)},Q.C3X=function(e){if(Q.K71(),Q)return Q.X0X(e)},n=e=>{function t(){}e.timezoneJS={},e.CIQ=t,Q.z71(),t.inheritsFrom=function(e,t,i){var a;Q.K71(),a=t.prototype||Object.getPrototypeOf(t),e.prototype=!1!==i&&"function"==typeof t?new t:Object.create(a),Object.defineProperties(e.prototype,{constructor:{configurable:!0,enumerable:!1,value:e,writable:!0},parent:{configurable:!0,enumerable:!1,value:a,writable:!0}})},t.extend=function(e,i,a){var r,n;for(r in Q.K71(),i)e!==(n=i[r])&&void 0!==n&&(null===n||!0===a?e[r]=n:n.constructor==Array?e[r]=n.slice():n.constructor==Object?e[r]=t.extend("object"==typeof e[r]&&null!==e[r]?e[r]:{},n):e[r]=n);return e},t.activateImports=function(){var t;t=this,Q.K71(),t.activatedImports||(t.activatedImports={});for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];a.forEach(i=>{Q.z71(),"function"==typeof i&&(i.__guid in t.activatedImports||(i.__guid=t.uniqueID(!0),t.activatedImports[i.__guid]=i.__name||i.name,i(e)))})}},s=t=>{var i,a,r;a=function(e,t){var i;return(i=document.createEvent("Event")).initEvent(e,!(!t||!t.bubbles),!(!t||!t.cancelable)),i},(i="undefined"!=typeof window?window:void 0!==e?e:{}).Event&&"function"!=typeof i.Event&&(a.prototype=i.Event.prototype,i.Event=a),r=function(e,t){var i;return(i=document.createEvent("CustomEvent")).initCustomEvent(e,!(!t||!t.bubbles),!(!t||!t.cancelable),t&&t.detail),i},i.CustomEvent&&"function"!=typeof i.CustomEvent&&(r.prototype=i.CustomEvent.prototype,i.CustomEvent=r),void 0!==e&&void 0===e.CanvasRenderingContext2D&&(e.CanvasRenderingContext2D=function(){})},o=e=>{var t,i,a,r,n,s=Q;s.K71(),t=e.CIQ,a=(i="undefined"!=typeof navigator?navigator:{userAgent:""}).userAgent,r="undefined"!=typeof window?window:{},n="undefined"!=typeof document?document:{},t.ipad=-1!=a.indexOf("iPad")||"MacIntel"===i.platform&&i.maxTouchPoints>1,s.z7L(0);var o=s.W7L(1,1,21,20);t.iphone=a.indexOf("iPhone")!=o,s.i7L(1);var l=s.Q7L(0,1);t.isAndroid=a.toLowerCase().indexOf("android")>l,t.isIE=a.toLowerCase().indexOf("msie")>-1||a.indexOf("Trident/")>-1,t.isEdge=a.indexOf("Edge/")>-1,s.z7L(2);var h=s.Q7L(19,26,0,12,2);t.isSafari=a.indexOf("Safari/")>h,t.isIOS7=a.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),t.isIOS8=a.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),t.isIOS9=a.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),t.isIOS10=a.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),t.isIOS7or8=t.isIOS7||t.isIOS8||t.isIOS9||t.isIOS10,t.isMobile=t.isAndroid||t.ipad||t.iphone,t.touchDevice=void 0!==n.ontouchstart||i.maxTouchPoints>1,t.isSurface=t.touchDevice&&(t.isEdge||t.isIE||a.indexOf("Edg/")>-1),t.is_chrome=a.toLowerCase().indexOf("chrome")>-1&&!t.isEdge,s.i7L(3);var c=s.Q7L(16,4572788544,1524262826,762131424);t.isFF=a.toLowerCase().indexOf("firefox")>-("1"<<c),t.isSurfaceApp=r.MSApp,t.isWebComponentsSupported="undefined"!=typeof document&&"registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"),t.noKeyboard=t.isMobile||t.isSurfaceApp},l=e=>{var t,i,a;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,a=function(e,t,i,a){var r,n,s,o,l,h=Q;function c(e,t,a){[1,2].forEach(e=>{t[e].cp={},["x","y"].forEach((function(i){var r;h.i7L(4);var n=h.W7L(15,2,18);h.z7L(5);var s=h.W7L(9,3,12,0);h.i7L(6);var o=h.W7L(4,2,4,1,16);h.z7L(7);var l=h.Q7L(17,2,17,287,32);h.z7L(8);var c=h.Q7L(1,1);h.z7L(9);var u=h.W7L(11,19,9);h.i7L(9);var d=h.Q7L(3,1,0);h.z7L(10);var p=h.W7L(1,1,13,13);h.z7L(11);var m=h.Q7L(5,3,3,3);h.z7L(12);var g=h.Q7L(0,8,21,13);h.z7L(13);var f=h.Q7L(28,1,11,10,28);h.i7L(11);var y=h.W7L(1411799724,2,8,4235399152);r=n/(s+Math.sqrt(Math.pow(t[o*e-1].x-t[2*e-l].x,c)+Math.pow(t[2*e-u].y-t[d*e-p].y,m))/Math.sqrt(Math.pow(t[2].x-t[g].x,2)+Math.pow(t[f].y-t["1"<<y].y,2))),h.i7L(1);var v=h.W7L(48,45);h.i7L(4);var x=h.Q7L(15,23,40);h.z7L(14);var b=h.W7L(11,22,10);h.i7L(15);var C=h.W7L(1,17,16);t[e].cp[i]=t[e][i]+(v-x*e)*(t[e+b][i]-t[e-C][i])*a*(r||0),t[e].cp[i]<Math.min(t[1][i],t[2][i])&&(t[e].cp[i]=Math.min(t[1][i],t[2][i])),t[e].cp[i]>Math.max(t[1][i],t[2][i])&&(t[e].cp[i]=Math.max(t[1][i],t[2][i]))}))}),0===e?i.quadraticCurveTo(t[2].cp.x,t[2].cp.y,t[2].x,t[2].y):e===n-4?i.quadraticCurveTo(t[1].cp.x,t[1].cp.y,t[2].x,t[2].y):i.bezierCurveTo(t[1].cp.x,t[1].cp.y,t[2].cp.x,t[2].cp.y,t[2].x,t[2].y)}r=0,a||(a=[]),(!t||t<0)&&(t=0),n=e.length,i.moveTo(e[0],e[1]);for(var u=0;u<n-3;u+=2)o=u,l=void 0,r!=a.length&&(l=a[r]).coord[0]==e[o]&&l.coord[1]==e[o+1]&&(i.stroke(),i.strokeStyle=l.color,i.setLineDash(l.pattern),h.i7L(1),i.lineDashOffset=h.W7L("0",0),i.lineWidth=l.width,i.beginPath(),i.moveTo(e[o],e[o+1]),r++),(s=[])[0]={x:e[Math.max(0,u-2)],y:e[Math.max(1,u-1)]},h.z7L(16),s[h.Q7L("1",0)]={x:e[u],y:e[u+1]},s[2]={x:e[u+2],y:e[u+3]},s[3]={x:e[Math.min(n-2,u+4)],y:e[Math.min(n-1,u+5)]},4===n&&(h.z7L(17),t=h.Q7L(1090171296,"0")),c(u,s,t)},e.SplinePlotter.plotSpline||(e.SplinePlotter.plotSpline=a),t.clearCanvas=function(e,i){var a,r,n;e.isDirty=!1,(a=e.context).clearRect(0,0,e.width,e.height),!t.isAndroid||t.is_chrome||t.isFF||(t.ChartEngine.useOldAndroidClear&&i&&(a.fillStyle=i.containerColor,a.fillRect(0,0,e.width,e.height),a.clearRect(0,0,e.width,e.height)),r=e.width,Q.z7L(18),e.width=Q.Q7L(1,"1"),e.width=r),n=i.chart.canvasShim.childNodes.length>0,(i.useBackgroundCanvas||n)&&(i.useBackgroundCanvas=n,e==i.chart.canvas&&t.clearCanvas(i.chart.backgroundCanvas,i))},Q.K71(),t.fillTransparentCanvas=function(e,t,i,a){var r;r=e.globalCompositeOperation,e.globalCompositeOperation="destination-over",e.fillStyle=t,Q.K71(),e.fillRect(0,0,i,a),e.globalCompositeOperation=r},t.convertBoxToPixels=function(e,t,i){var a;return a=e.panels[t],{x0:e.pixelFromTick(i.x0,a.chart),x1:e.pixelFromTick(i.x1,a.chart),y0:i.cy0||0===i.cy0?i.cy0:e.pixelFromValueAdjusted(a,i.x0,i.y0),y1:i.cy1||0===i.cy1?i.cy1:e.pixelFromValueAdjusted(a,i.x1,i.y1)}},t.fillArea=function(e,t,a){var r,n,s,o,l,h,c,u,d,p,m,g,f=Q;if(f.K71(),t.length){if(n=(r=e.chart.context).globalAlpha,s=arguments[2],f.z7L(19),o=arguments[f.Q7L("3",2147483647)],l=arguments[4],h=0,c=null,a&&"object"==typeof a&&(s=a.color,o=a.opacity,h=a.tension,l=a.panelName,c=a.yAxis),o||0===o||(o=.2),"auto"==s&&(s=e.defaultColor),r.globalAlpha=o,s&&(r.fillStyle=s),u=Number.MAX_VALUE,f.i7L(20),d=f.Q7L(1,u),(p=e.panels[l])&&(d=(c||p.yAxis).top,u=(c||p.yAxis).bottom,r.save(),r.beginPath(),r.rect(p.left,d,p.width,u-d),r.clip()),r.beginPath(),h){for(g=[],m=0;m<t.length-2;m++)g.push(t[m][0],t[m][1]);for(i.plotSpline(g,h,r),m=t.length-2;m<t.length;m++)r.lineTo(Math.round(t[m][0]),Math.round(t[m][1]))}else for(r.moveTo(t[0][0],t[0][1]),m=1;m<t.length;m++)r.lineTo(t[m][0],t[m][1]);r.closePath(),r.fill(),p&&r.restore(),r.globalAlpha=n}},t.prepareChannelFill=function(e,i){var a,r,n,s,o,l;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),a=e.panels[i.panelName],e.chart.context.strokeStyle,r={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},n=t.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{},yAxis:a.yAxis}),s=e.plotDataSegmentAsLine(i.topBand,a,n),Q.K71(),o=e.plotDataSegmentAsLine(i.bottomBand,a,n),i.noDraw=r.noDraw,i.gapDisplayStyle=r.gapDisplayStyle,l=[];for(var h=0;h<s.points.length;h+=2)l.push([s.points[h],s.points[h+1]]);for(var c=o.points.length-1;c>=0;c-=2)l.push([o.points[c-1],o.points[c]]);t.fillArea(e,l,i)},t.preparePeakValleyFill=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X=Q;(!i||i instanceof Array)&&(i=arguments[2]),i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),r=(a=e.panels[i.panelName]).yAxis,(n=e.chart.context).strokeStyle,s={noDraw:i.noDraw,gapDisplayStyle:i.gapDisplayStyle},o=e.plotDataSegmentAsLine(i.band,a,t.ensureDefaults(i,{noDraw:!0,gapDisplayStyle:{}})),i.noDraw=s.noDraw,i.gapDisplayStyle=s.gapDisplayStyle,l=i.threshold,h=i.direction,c=i.reverse,u=i.gapDisplayStyle,i.yAxis&&(r=i.yAxis),d=-Number.MAX_VALUE,p=Number.MAX_VALUE,m=c?d:p,(l||0===l)&&(m=e.pixelFromPrice(l,a,r)),g=[],f=o.points.length;for(var z=0;z<f;z+=2)y=o.points[z],X.z7L(8),v=o.points[X.W7L(z,1)],i.roundOffEdges&&(0===z?y=Math.floor(y):z+2==f&&(y=Math.ceil(y))),isNaN(v)||(v>m&&h>0||v<m&&h<0||(g.push([y,v]),d=Math.max(v,d),p=Math.min(v,p)),z<f-3&&(X.i7L(8),x=o.points[X.W7L(z,2)],X.z7L(8),b=o.points[X.W7L(z,3)],(v<m&&b>m||v>m&&b<m)&&(X.i7L(21),y+=X.W7L(v,v,m,x,y,b),g.push([y,m]))));if(f=g.length){if(C=i.edgeParameters,i.edgeHighlight){C.lineWidth>100&&(C.lineWidth=1),n.save(),n.beginPath();for(var H=0;H<f-1;H++)if(S=g[H],X.z7L(22),w=g[X.W7L(1,H,"1")],S[1]!=m||w[1]!=m){if(S[0]==w[0]&&e.layout.candleWidth>=1){if(S[1]==m&&g[H-1]&&g[H-1][1]==m)continue;if(w[1]==m&&g[H+2]&&g[H+2][1]==m)continue}e.plotLine(t.extend({x0:S[0],x1:w[0],y0:S[1],y1:w[1],color:i.edgeHighlight,type:"segment",context:n,confineToPanel:a,deferStroke:!0},C))}n.stroke(),n.restore()}if(l||0===l||(r.flipped&&(c=!c),m=c?Math.min(p,r.top):Math.max(d,r.bottom)),g.push([g[f-1][0],m],[g[0][0],m]),(k=i.opacity)||0===k||(i.opacity=.3),t.fillArea(e,g,i),u&&u.color&&u.fillMountain&&!i.tension&&!t.isTransparent(u.color)&&!t.isTransparent(i.color)){for(n.save(),n.fillStyle instanceof CanvasGradient?(L=t.colorToHex(u.color),(A=n.createLinearGradient(0,1===h?a.top:a.bottom,0,m)).addColorStop(0,t.hexToRgba(L,60)),A.addColorStop(1,t.hexToRgba(L,10)),n.fillStyle=A):n.fillStyle=u.color,D=[],T={opacity:i.opacity,panelName:i.panelName},n.beginPath(),z=0;z<o.gapAreas.length;z++)F=(M=o.gapAreas[z]).start,P=M.end,_=M.threshold,F?(X.i7L(23),D=[[F[X.Q7L(0,"0")],F[1]],[F[0],_]]):D.push([P[0],_],[P[0],i.step?D[0][1]:P[1]]),4==D.length&&(E="s",E+="egmen",E+="t",t.fillArea(e,D,T),K=t.extend({x1:D[3][0],y0:D[0][1],type:E,deferStroke:!0,context:n,confineToPanel:a},u),i.step?(e.plotLine(t.extend({x0:D[0][0],y1:D[0][1]},K)),e.plotLine(t.extend({x0:D[3][0],y1:D[3][1]},K))):e.plotLine(t.extend({x0:D[0][0],y1:D[3][1]},K)));n.stroke(),n.restore()}I=-1295210688,N=680381022,O=2;for(var R=1;X.f6U(R.toString(),R.toString().length,53813)!==I;R++)i.opacity=k,O+=2;X.f6U(O.toString(),O.toString().length,34286)!==N&&(i.opacity=k)}},t.fillIntersecting=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C;if(r="x",r+="o",r+="r",(!a||a instanceof Array)&&(a=arguments[3]),n=a.topBand,s=a.bottomBand,o=a.topSubBand,l=a.bottomSubBand,h=a.topColor,c=a.bottomColor,(u=i).panel&&(u.outputs&&u.outputMap&&(h||(h=u.outputs[u.outputMap[n]]),c||(c=u.outputs[u.outputMap[s]])),u=u.panel),u=e.panels[u],p=(d=e.chart.context).canvas,!(m=e.scratchContext)){g=1793958409,f=-1533514669,y=2;for(var S=1;Q.V6U(S.toString(),S.toString().length,22603)!==g;S++)v="2",v+="d",m=e.scratchContext=p.cloneNode(!0).getContext(v),y+=2;Q.V6U(y.toString(),y.toString().length,85872)!==f&&(m=e.scratchContext=p.cloneNode(!1).getContext(""))}(x=m.canvas).height=p.height,x.width=p.width,x.context=m,t.clearCanvas(x,e),b=.3,a.opacity&&(b=a.opacity),m.globalCompositeOperation=r,e.chart.context=m,C={band:n,subField:o,color:h,opacity:1,panelName:u.name,yAxis:a.topAxis,skipTransform:a.skipTransform,tension:a.tension,roundOffEdges:!0,step:a.step},t.preparePeakValleyFill(e,C),t.extend(C,{band:s,subField:l,color:c,yAxis:a.bottomAxis}),t.preparePeakValleyFill(e,C),d.save(),d.globalAlpha=b,d.drawImage(x,0,0),d.restore(),e.chart.context=d},t.drawLegendItem=function(e,t,i,a,r){var n,s,o,l,h,c=Q;r||(r=1),n=t[0],s=t[1],c.i7L(19),o=c.W7L("10",2147483647),c.z7L(17),l=c.W7L(808465248,"10"),(h=e.chart.context).globalAlpha=r,h.fillStyle=a,h.fillRect(n,s,o,l),h.globalAlpha=1,c.i7L(8),n+=c.Q7L(o,2),h.fillStyle=e.defaultColor,h.fillText(i,n,s),c.i7L(8);var u=c.W7L(0,6);return[n+=h.measureText(i).width+u,s]},t.drawLegend=function(e,i){var a,r,n,s,o,l,h,c,u,d,p;a=i.coordinates,(r=e.chart.context).textBaseline="top",n=r.font,e.canvasFont("stx-legend",r),s=i.chart||e.chart,a||(a=s.legend),o=[a.x,a.y],l=e.defaultColor;for(var m=0;m<2;m++)for(var g in i.legendColorMap)if((!(h=i.legendColorMap[g]).isBase||!m&&!i.noBase)&&(h.isBase||m)){if(h.color instanceof Array){for(c=(u=h.color).length-1;c>=0;c--)t.isTransparent(u[c])&&u.splice(c,1);if(u.length>1){for(d=r.createLinearGradient(o[0],o[1],o[0]+10,o[1]),c=0;c<u.length;c++)d.addColorStop(c/(u.length-1),u[c]);l=d}else u.length>0?(Q.i7L(1),l=u[Q.W7L("0",0)]):l=e.getCanvasColor("stx_line_chart")}else l=h.color?h.color:null;l&&(p=g,h.display&&(p=h.display),p||(p=s.symbolDisplay?s.symbolDisplay:s.symbol),o[0]+r.measureText(p).width>s.panel.right&&(o=[a.x,a.y+r.measureText("M").width+6]),o=t.drawLegendItem(e,o,p,l,h.opacity))}r.font=n}},h=e=>{var t;(t=e.CIQ).colorsEqual=function(e,i){var a,r,n,s,o;return"transpare","nt",e==i||(!e&&!i||!(!e||!i)&&("transparent"==e&&(e="rgba(0,0,0,0)"),"transparent"==i&&(i="rgba(0,0,0,0)"),a=/^rgba\(.*,(.+)\)/,r=e.match(a),n=i.match(a),r=r?parseFloat(r[1]):1,Q.K71(),r==(n=n?parseFloat(n[1]):1)&&(s=t.colorToHex(e),o=t.colorToHex(i),s.toLowerCase()==o.toLowerCase())))},t.colorToHex=function(e){var i,a,r,n,s,o,l,h=Q;if("#0","0000","0",t.colorToHexMapping||(t.colorToHexMapping={}),e&&"transparent"!=e||(e="#000000"),t.colorToHexMapping[e])return t.colorToHexMapping[e];if("#"===e.substr(0,1)){if(4==e.length){h.z7L(24);var c=h.W7L(1660714,158920,7,15,10);h.i7L(8);h.W7L(206,2889);h.z7L(25);var u=h.W7L(1,5,9469);h.i7L(9);var d=h.W7L(5,76037,85536);h.i7L(26);var p=h.Q7L(1,20,21,13,13);h.i7L(27);var m=h.Q7L(307,35310,13,10);h.z7L(1);var g=h.W7L(17,16);h.z7L(28);var f=h.Q7L(3,8,2447,6,17);h.i7L(1);var y=h.W7L(4,2);h.z7L(8);var v=h.W7L(0,1);h.z7L(8);var x=h.W7L(1,2);h.z7L(0);var b=h.Q7L(2,3,6,2);e=t.colorToHexMapping[e]=(165.39==c?"r":u!=d?60.63!="362.79"*p?"#":m:883.45)+Array(3).join(e.substr(g,f))+Array(3).join(e.substr("2"|y,v))+Array(3).join(e.substr(x,b))}return e}if((i=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(e))||(i=/(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(e)),!i)return a=function(e){var a,r;if("colo","r",".ciq_co","l","or_c","onverter","#0","0","000","0","undefined"==typeof document)return"#000000";(a=document.querySelector(".ciq_color_converter"))||((a=document.createElement("textarea")).className="ciq_color_converter",a.style.display="none",document.body.appendChild(a));if(a.style.color="#000000",a.style.color=e,r=getComputedStyle(a).getPropertyValue("color"),i=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(r))return t.colorToHex(r);if("#"===r.substr(0,1))return r;return e}(e),t.colorToHexMapping[e]=a,a;r=parseFloat(i[2]),n=parseFloat(i[3]),s=parseFloat(i[4]),h.i7L(29);for(var C=(o=h.W7L(16,n,s,8,r).toString(16)).length;C<6;C++)h.i7L(8),o=h.Q7L("0",o);h.i7L(9);var S=h.Q7L(18,17,0);h.z7L(25);h.W7L(1,19,3461);h.i7L(30);var w=h.W7L(1414,20,14,45);h.i7L(31);var k=h.Q7L(857,2,15,5991,6014);h.z7L(32);var L=h.W7L(0,11,10);h.i7L(33);h.Q7L(322,328,19);h.i7L(3);var A=h.W7L(8,3014,2984,1507);h.z7L(34);var D=h.W7L(1300379695,20,15,12);return l=i[S]+(560.78>w||(9143==k?"299.35"*L!=854.66?A:"1.20e+3">>D:"#"))+o,t.colorToHexMapping[e]=l,l},t.hexToRgba=function(e,i){var a,r,n,s,o,l=Q;if(l.K71(),"rg","ba(","r","g","b",e&&"transparent"!=e||(e="rgba(0,0,0,0)"),"rgba"===e.substr(0,4)){r=(a=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(e))[5],(i||0===i)&&(r=i),r>1&&(l.z7L(35),r=l.Q7L(r,100)),l.i7L(4);var h=l.W7L(13,3,18);l.z7L(1);var c=l.W7L(5338,8);l.z7L(32);var u=l.W7L(1129,6785,8);l.i7L(32);l.W7L(3,65,17);l.i7L(33);var d=l.W7L(136,42,4);l.z7L(1);var p=l.Q7L(375,13);l.z7L(36);var m=l.Q7L(99,8,12);l.z7L(37);var g=l.Q7L(11,7);l.i7L(38);var f=l.Q7L(4465,18,899,4477);l.z7L(25);l.W7L(1,1105,65);l.z7L(8);var y=l.W7L(524,9426);l.z7L(39);var v=l.W7L(71058,5,8877,9);l.z7L(40);l.W7L(2299,18,32218,1,32200);return"rgba("+a[h]+(154.01!==c?",":u!==("1080"|d)?p:"D")+a[m]+","+a[g]+","+r+(123.22!=f&&(y<=194.88?v:")"))}if("rgb"===e.substr(0,3)&&(e=t.colorToHex(e)),i||0===i||(i=100),i<=1&&(l.i7L(18),i=l.Q7L(100,i)),e=e.replace("#",""),n=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16),isNaN(n)||isNaN(s)||isNaN(o)){1516198903,1726397533,2;for(var x=1;1516198903!==l.f6U(x.toString(),x.toString().length,59335);x++)return console.log("",e),1;if(1726397533!==l.V6U(2..toString(),2..toString().length,74043))return console.log("CIQ.hexToRgba: invalid hex :",e),null}return l.i7L(41),l.W7L(o,"rgba(",",",i,s,n,",",")",100,",")},t.convertToNativeColor=function(e){var t,i;return"n","o",Q.K71(),"ne","D","IV",(t=document.createElement("DIV")).style.color=e,t.style.display="none",document.body.appendChild(t),i=getComputedStyle(t).color,document.body.removeChild(t),i},t.isTransparent=function(e){var t;return!!e&&("transparent"==e||(Q.K71(),null!==(t=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(e))&&0===parseFloat(t[5])))},t.hsv=function(e){var i,a,r,n,s,o,l,h,c,u=Q;"#"===(i=t.colorToHex(e)).substr(0,1)&&(i=i.slice(1));for(var d=i.length;d<6;d++)u.z7L(8),i=u.W7L("0",i);return a=parseInt(i.slice(0,2),16),r=parseInt(i.slice(2,4),16),n=parseInt(i.slice(4,6),16),0,0,0,a=parseInt((""+a).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),n=parseInt((""+n).replace(/\s/g,""),10),null===a||null===r||null===n||isNaN(a)||isNaN(r)||isNaN(n)?(console.log("CIQ.hsv: invalid color :",e),null):a<0||r<0||n<0||a>255||r>255||n>255?null:(u.z7L(35),a=u.Q7L(a,255),u.z7L(35),r=u.Q7L(r,255),u.z7L(35),n=u.Q7L(n,255),(o=Math.min(a,Math.min(r,n)))==(l=Math.max(a,Math.max(r,n)))?[0,0,o]:(h=a==o?r-n:n==o?a-r:n-a,c=a==o?3:n==o?1:5,u.z7L(42),s=u.Q7L(l,h,o,60,c),u.i7L(43),[s,u.W7L(l,l,o),l]))},t.hsl=function(e){var i,a,r,n,s,o,l,h,c,u,d=Q;"#"===(i=t.colorToHex(e)).substr(0,1)&&(i=i.slice(1));for(var p=i.length;p<6;p++)d.z7L(8),i=d.Q7L("0",i);if(d.K71(),a=parseInt(i.slice(0,2),16),r=parseInt(i.slice(2,4),16),n=parseInt(i.slice(4,6),16),a/=255,r/=255,n/=255,s=Math.max(a,r,n),o=Math.min(a,r,n),d.i7L(44),c=d.W7L(2,o,s),s==o)l=h=0;else{switch(d.i7L(1),u=d.Q7L(s,o),h=c>.5?u/(2-s-o):u/(s+o),s){case a:d.i7L(45),l=d.Q7L(r<n?6:0,n,u,r);break;case r:d.i7L(46),l=d.Q7L(a,"2",u,n);break;case n:d.z7L(45),l=d.Q7L(4,r,u,a)}d.z7L(17),l/=d.Q7L(1474558432,"6")}return[l,h,c]},t.hslToRgb=function(e,t,i){var a,r,n,s,o,l,h=Q;return 0===t?a=r=n=i:(s=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?(h.z7L(47),h.W7L(t,e,e,6,i)):i<.5?t:i<2/3?(h.z7L(48),h.Q7L(0,i,"2",3,t,e,6,e)):e},o=i<.5?i*(1+t):i+t-i*t,h.z7L(33),l=h.Q7L(o,2,i),h.i7L(49),a=s(l,o,h.W7L(1,3,e)),r=s(l,o,e),h.i7L(50),n=s(l,o,h.Q7L(0,"3","1",e))),h.i7L(18),[Math.round(h.Q7L(255,a)),Math.round(h.Q7L(255,r,h.i7L(18))),Math.round(h.Q7L(n,2147483647,"255",h.z7L(51)))]},t.chooseForegroundColor=function(e){var i;return i=t.colorToHex(e),.2126*parseInt(i.slice(1,3),16)+.7152*parseInt(i.slice(3,5),16)+.0722*parseInt(i.slice(5,7),16)<100?"#FFFFFF":"#000000"},t.borderPatternToArray=function(e,t){var i=Q;return t?t instanceof Array?t:"dotted"==t?[e,e]:"dashed"==t?(i.z7L(18),[i.Q7L(5,e),i.W7L(5,e)]):("solid"!=t&&"none"!=t&&(i.z7L(52),console.log(i.Q7L('"; defaulting to "solid"',t,'Unsupported pattern "'))),[]):[]},t.getBackgroundColor=function(e){var i,a;for("#FF","FFFF",i=null;!i||t.isTransparent(i);){if("tran","s","parent",!(a=getComputedStyle(e)))return;if(i=a.backgroundColor,t.isTransparent(i)&&(i="transparent"),!(e=e.parentNode)||!e.tagName)break}return i&&"transparent"!=i||(i="#FFFFFF"),i}},c=e=>{var t,i,a=Q;t=e.CIQ,i=e.timezoneJS,t.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],t.monthAbv=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.MILLISECOND=1,t.SECOND=1e3,a.z7L(3);var r=a.W7L(19,63,20,3);t.MINUTE=r*t.SECOND,t.HOUR=60*t.MINUTE,a.i7L(33);var n=a.Q7L(6,15,2);t.DAY=n*t.HOUR,a.z7L(39);var s=a.Q7L(1953,7,91,20);t.WEEK=s*t.DAY,a.z7L(8);var o=a.Q7L(13,18);t.MONTH=o*t.DAY,a.z7L(8);var l=a.Q7L(46,320);t.YEAR=l*t.DAY,a.i7L(53);var h=a.Q7L(1,1,2,12);a.i7L(8);var c=a.Q7L(1,6);t.DECADE=h*t.YEAR-c*t.DAY,t.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),t.strToDateTime=function(e){var i,r,n,s,o,l,h,c,u,d,p,m,g,f,y;if(a.z71(),!e||e.getFullYear)return e;if(i=[],12==e.length||14==e.length){r=parseFloat(e.substring(0,4)),a.z7L(54);var v=a.Q7L(12,7,9);a.i7L(8);var x=a.Q7L(1,5);a.z7L(55);var b=a.Q7L(20,3,24,8);return n=parseFloat(e.substring(v,x))-b,s=parseFloat(e.substring(6,8)),o=parseFloat(e.substring(8,10)),l=parseFloat(e.substring(10,12)),h=parseFloat(e.substring(12,14))||0,new Date(r,n,s,o,l,h,0)}if(t.yyyymmddhhmmssmmmrx.test(e)){r=parseFloat(e.substring(0,4)),a.z7L(25);var C=a.W7L(17,3,17);a.z7L(56);var S=a.Q7L(1,4,1,5,14);return n=parseFloat(e.substring(C,S))-1,s=parseFloat(e.substring(6,8)),o=parseFloat(e.substring(8,10)),l=parseFloat(e.substring(10,12)),h=parseFloat(e.substring(12,14)),c=parseFloat(e.substring(14,17)),new Date(r,n,s,o,l,h,c)}if(u=[e],-1!=(d=e.indexOf("T"))){if(-1!=(p=e.substring(d)).indexOf("Z")||-1!=p.indexOf("-")||-1!=p.indexOf("+"))return new Date(e);u=e.split("T")}else-1!=e.indexOf(" ")&&(u=e.split(" "));if(-1!=u[0].indexOf("/"))i=u[0].split("/");else{if(-1==u[0].indexOf("-"))return t.strToDate(e);i=u[0].split("-")}if(m=parseFloat(i[2],10),i[0]&&4==i[0].length&&(m=parseFloat(i[0],10),i[0]=i[1],i[1]=i[2]),u.length>1){g=u[2],u=u[1].split(":"),g&&("A","M","1","2","12"==u[0]&&"AM"==g.toUpperCase()?u[0]=0:"12"!=u[0]&&"PM"==g.toUpperCase()&&(u[0]=parseInt(u[0],10)+12)),a.i7L(18),f=a.Q7L(1,"0"),y=0,3==u.length&&(-1==u[2].indexOf(".")?f=parseInt(u[2],10):3==(f=u[2].split("."))[1].length&&(y=f[1],f=f[0])),a.i7L(1);var w=a.Q7L(10,9);return new Date(m,i[0]-w,i[1],u[0],u[1],f,y)}a.i7L(8);var k=a.Q7L(1667333118,2);a.z7L(37);var L=a.Q7L(19,18);return a.i7L(19),new Date(m,i["0"<<k]-L,i[1],0,0,0,a.Q7L("0",2147483647))},t.strToDate=function(e){var t,i;if(-1!=e.indexOf("/"))t=e.split("/");else{if(-1==e.indexOf("-")){if(e.length>=8){a.z7L(1);var r=a.W7L(36,32);a.z7L(55);var n=a.W7L(19,15,23,20);return new Date(parseFloat(e.substring(0,4)),parseFloat(e.substring(r,6))-n,parseFloat(e.substring(6,8)))}return new Date}t=e.split("-")}if(t.length<3)return new Date;-1!=t[2].indexOf(" ")?t[2]=t[2].substring(0,t[2].indexOf(" ")):-1!=t[2].indexOf("T")&&(t[2]=t[2].substring(0,t[2].indexOf("T"))),a.K71(),(i=parseFloat(t[2],10))<20&&(i+=2e3),4==t[0].length&&(i=parseFloat(t[0],10),t[0]=t[1],t[1]=t[2]),a.z7L(33);var s=a.Q7L(155,13,12);return new Date(i,t[0]-s,t[1])},t.dateToStr=function(e,t){var i,r,n,s;return r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("0".repeat(t)+e).slice(-t)},n=(e,i)=>t=t.replace(e,i),s=(e,t)=>e>t?e-t:e,(i=e=>(a.K71(),t.includes(e)))("YYYY")&&n(/YYYY/g,e.getFullYear()),i("MM")&&n(/MM/g,r(e.getMonth()+1)),i("dd")&&n(/dd/g,r(e.getDate())),i("HH")&&n(/HH/g,r(e.getHours())),i("hh")&&n(/hh/g,r(s(e.getHours()||12,12))),a.K71(),i("mm")&&n(/mm/g,r(e.getMinutes())),i("ss")&&n(/ss/g,r(e.getSeconds())),i("SSS")&&n(/SSS/g,r(e.getMilliseconds(),3)),t},t.mmddyyyy=function(e){var i,r;"string"==typeof e&&(e=t.strToDate(e)),a.i7L(39);var n=a.Q7L(322,19,0,17);(i=e.getMonth()+n)<10&&(a.i7L(8),i=a.W7L("0",i)),(r=e.getDate())<10&&(a.i7L(8),r=a.Q7L("0",r)),a.z7L(57);var s=a.W7L(16,6848,856,8558);a.z7L(58);a.Q7L(13,15,8695,26085,8670);a.z7L(59);var o=a.Q7L(8449,12,2,47,470);a.z7L(60);a.Q7L(7,5400,90720);a.z7L(61);var l=a.Q7L(30810,8,16,9255,2);a.i7L(5);var h=a.W7L(4,2,1500,673);a.i7L(1);a.Q7L(7480,5610);a.z7L(8);var c=a.Q7L(6515,18);a.z7L(8);var u=a.W7L(2755,9);a.z7L(62);var d=a.Q7L(66920,19,10,4802,9560);return i+(s==o?l===h?"s":"n":"/")+r+(c<u?d:"/")+e.getFullYear()},t.yyyymmdd=function(e){var t,i;a.i7L(39);var r=a.Q7L(220,13,0,17);(t=e.getMonth()+r)<10&&(a.i7L(8),t=a.W7L("0",t)),(i=e.getDate())<10&&(a.i7L(8),i=a.Q7L("0",i)),a.i7L(63);a.W7L(7,4,20,235);a.z7L(27);var n=a.W7L(5037,347570,7,10);a.i7L(8);var s=a.Q7L(433,3467);a.z7L(64);a.Q7L(12,15,2787,18,602448);a.i7L(8);var o=a.W7L(801,5609);a.i7L(1);a.W7L(12870,11700);a.i7L(8);var l=a.Q7L(1493,7);a.i7L(32);a.W7L(7272,25,17);a.z7L(8);var h=a.W7L(1945,5836);a.i7L(65);var c=a.Q7L(95694,101340,14,2);a.i7L(66);a.Q7L(13,11,22890,6,15242);a.z7L(67);a.W7L(19,14,1858360,98340);return e.getFullYear()+(n<s?o:"-")+t+(144.63===l?913.85:h==c||"-")+i},t.hhmm=function(e){var t,i;return(t=e.getHours())<10&&(a.z7L(8),t=a.W7L("0",t)),(i=e.getMinutes())<10&&(a.z7L(8),i=a.W7L("0",i)),a.i7L(52),a.W7L(i,":",t)},t.hhmmss=function(e){var i;(i=e.getSeconds())<10&&(a.z7L(8),i=a.W7L("0",i)),a.i7L(68);a.Q7L(1516,12,1506,8,36144);a.z7L(8);var r=a.W7L(593,5929);a.i7L(69);a.Q7L(19,11,22,1,9526);a.z7L(70);var n=a.W7L(10240,56313,7,6);a.i7L(71);var s=a.Q7L(19,4251,4194,12753);a.z7L(72);var o=a.W7L(4141,4155,831,2);a.z7L(25);var l=a.W7L(31,495,31);return t.hhmm(e)+(779.89==r?"E":n<s?!(o<=l)&&420.76:":")+i},t.yyyymmddhhmm=function(e){return a.K71(),t.yyyymmddhhmmssmmm(e).substr(0,12)},t.yyyymmddhhmmssmmm=function(e){var t,i,r,n,s,o;a.z7L(73),a.z71();var l=a.W7L(55,6,7,16);return(t=e.getMonth()+l)<10&&(a.z7L(8),t=a.W7L("0",t)),(i=e.getDate())<10&&(a.z7L(8),i=a.W7L("0",i)),(r=e.getHours())<10&&(a.i7L(8),r=a.W7L("0",r)),(n=e.getMinutes())<10&&(a.i7L(8),n=a.W7L("0",n)),(s=e.getSeconds())<10&&(a.z7L(8),s=a.W7L("0",s)),(o=e.getMilliseconds())<10?(a.i7L(8),o=a.Q7L("00",o)):o<100&&(a.z7L(8),o=a.W7L("0",o)),""+e.getFullYear()+t+i+r+n+s+o},t.friendlyDate=function(e){return t.dateToStr(e,"YYYY/MM/dd HH:mm")},t.mmddhhmm=function(e){var i,r,n,s,o,l,h;i=t.strToDateTime(e),a.i7L(4);var c=a.Q7L(9,2,12);return(r=i.getMonth()+c)<10&&(a.i7L(8),r=a.Q7L("0",r)),(n=i.getDate())<10&&(a.z7L(8),n=a.Q7L("0",n)),(s=i.getHours())<10&&(a.z7L(8),s=a.Q7L("0",s)),(o=i.getMinutes())<10&&(a.i7L(8),o=a.W7L("0",o)),(l=i.getSeconds())<10&&(a.z7L(8),l=a.W7L("0",l)),(h=i.getMilliseconds())<10?(a.i7L(8),h=a.W7L("00",h)):h<100&&(a.z7L(8),h=a.W7L("0",h)),"00"==s&&"00"==o&&"00"==l&&"000"==h?r+"-"+n+"-"+i.getFullYear():"00"==l&&"000"==h?(a.z7L(74),a.Q7L(":",o,s,"-"," ",n,r)):"000"==h?(a.z7L(75),a.Q7L(o,":",":",l," ",s,"-",n,r)):(a.i7L(76),a.W7L(":",":",n,s," ",h,l,":","-",o,r))},t.getYearDay=function(e){var t,i,r,n;return(t=e)||(t=new Date),t.setHours(0,0,0,0),i=new Date(t.getFullYear(),0,0),a.z7L(1),r=a.W7L(t,i),a.z71(),a.i7L(77),n=a.Q7L(1e3,24,60,60),a.i7L(35),Math.round(a.W7L(r,n))},t.getETDateTime=function(){var e;return"U","T","C",e=new Date,t.convertTimeZone(new Date(e.getTime()+6e4*e.getTimezoneOffset()),"UTC","America/New_York")},t.fromET=function(e){var t,i,r;i=4,((t=new Date).getMonth()<2||2==t.getMonth()&&t.getDate()<11||t.getMonth()>10||10==t.getMonth()&&t.getDate()>=4)&&(i=5),a.z7L(9);var n=a.Q7L(15,3600015,72e5);return r=e.getTime()+n*i,new Date(r)},t.monthAsDisplay=function(e,i,a){return i?a&&a.monthLetters?a.monthLetters[e]:t.monthLetters[e]:a&&a.monthAbv?a.monthAbv[e]:t.monthAbv[e]},t.timeAsDisplay=function(e,i,r){var n,s,o,l,h;if(n=i?i.internationalizer:null){if(r==t.SECOND)return n.hourMinuteSecond.format(e);if(r==t.MILLISECOND){a.i7L(25);var c=a.W7L(1,16,541);return n.hourMinuteSecond.format(e)+(!(944.95>=c)||".")+e.getMilliseconds()}return n.hourMinute.format(e)}return s=e.getMinutes(),a.z71(),s<10&&(a.i7L(8),s=a.W7L("0",s)),o=e.getHours()+":"+s,l="",r<=t.SECOND&&((l=e.getSeconds())<10&&(a.i7L(8),l=a.Q7L("0",l)),a.z7L(8),o+=a.Q7L(":",l)),r==t.MILLISECOND&&((h=e.getMilliseconds())<10?(a.z7L(8),h=a.W7L("00",h)):h<100&&(a.i7L(8),h=a.W7L("0",h)),a.z7L(8),o+=a.W7L(".",h)),o},t.displayableDate=function(e,i,r,n){var s,o,l,h,c,u,d,p,m,g,f,y;function v(e){return a.K71(),e<10?(a.z7L(8),a.Q7L("0",e)):e}if("mi","lliseco","nd",s="",o=e.layout.interval,l=t.ChartEngine.isDailyInterval(o),h=i.xAxis.activeTimeUnit&&i.xAxis.activeTimeUnit<=t.SECOND||"second"==e.layout.timeUnit,c=i.xAxis.activeTimeUnit&&i.xAxis.activeTimeUnit<=t.MILLISECOND||"millisecond"==e.layout.timeUnit,i.xAxis.formatter)s=i.xAxis.formatter(r);else if(e.internationalizer)if(s=e.internationalizer.monthDay.format(r),h||c){if(s+=" "+e.internationalizer.hourMinuteSecond.format(r),c){a.i7L(32);var x=a.W7L(6438,18,16);a.i7L(78),s+=(x>=a.Q7L(1008,3,11,16)?".":"O")+r.getMilliseconds()}}else l?s="month"==o?e.internationalizer.yearMonth.format(r):e.internationalizer.yearMonthDay.format(r):(n&&(s=e.internationalizer.yearMonthDay.format(r)),s+=" "+e.internationalizer.hourMinute.format(r));else u=v(r.getMonth()+1),d=v(r.getDate()),p=v(r.getHours()),m=v(r.getMinutes()),l?("m","o","nt","h",s="month"==o?u+"/":u+"/"+d+"/",s+=r.getFullYear()):(a.i7L(52),g=a.W7L(d,"/",u),n&&(g+="/"+r.getFullYear()),a.i7L(79),s=a.Q7L(":",g,m," ",p),(h||c)&&(f=v(r.getSeconds()),a.z7L(8),s+=a.W7L(":",f),c&&((y=v(r.getMilliseconds()))<100&&(a.z7L(8),y=a.W7L("0",y)),a.i7L(8),s+=a.W7L(":",y))));return s},t.convertTimeZone=function(e,t,r){var n;return a.z71(),i.Date?((n=new i.Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),t)).setTimezone(r),n):e},t.convertToLocalTime=function(e,t){var r,n,s;if(!i.Date)return e;r=e.getSeconds(),n=e.getMilliseconds(),s=new i.Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),t),a.z7L(80);var o=a.W7L(7,916,125,7,25);return new Date(s.getTime()+r*o+n)}},u=e=>{var t,i,a;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,e.SplinePlotter,Q.K71(),i=function(e,t){var a;if(Q.K71(),!t)return document.getElementById(e);if(t.id==e)return t;if(!t.hasChildNodes)return null;for(var r=0;r<t.childNodes.length;r++)if(a=i(e,t.childNodes[r]))return a;return null},e.$$=i,a=function(e,t){return t||(t=document),Q.K71(),t.querySelectorAll(e)[0]},e.$$$=a,t.wheelEvent=function(){if("o","nw","hee","l","undefined"!=typeof document)return t.isIE||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}(),t.newChild=function(e,t,i,a){var r;return r=document.createElement(t),i&&(r.className=i),e.appendChild(r),a&&(r.innerHTML=a),Q.z71(),r},t.innerHTML=function(e,t){Q.K71(),window.MSApp&&window.MSApp.execUnsafeLocalFunction?window.MSApp.execUnsafeLocalFunction((function(){e.innerHTML=t})):e.innerHTML=t},t.focus=function(e,i){var a;Q.K71(),t.isSurface||i?(a=0,isNaN(parseInt(i,10))||(a=i),setTimeout((function(){Q.z71(),e.focus()}),a)):e.focus()},t.blur=function(e){e||(e=document.activeElement),Q.z71(),e&&e.blur(),window.focus()},t.findNodesByText=function(e,i){var a,r;if(e.innerHTML==i)return[e];a=[];for(var n=0;n<e.childNodes.length;n++)(r=t.findNodesByText(e.childNodes[n],i))&&(a=a.concat(r));return a.length?a:null},t.hideByText=function(e,i){var a;a=t.findNodesByText(e,i),Q.z71();for(var r=0;r<a.length;r++)a[r].style.display="none"},t.pageHeight=function(){var{innerHeight:e,top:t,parent:i,self:a}=window;if(t!=a)try{e>i.innerHeight&&(e=i.innerHeight)}catch(e){}return e},t.pageWidth=function(){var{innerWidth:e,top:t,parent:i,self:a}=window;if(t!=a)try{e>i.innerWidth&&(e=i.innerWidth)}catch(e){}return e},t.stripPX=function(e){return e?"number"==typeof e?e:parseInt(e.substr(0,e.indexOf("p")),10):0},t.withinElement=function(e,t,i){var a;return Q.K71(),!(t<=(a=e.getBoundingClientRect()).left)&&(!(i<=a.top)&&(!(t>=a.left+e.offsetWidth)&&!(i>=a.top+e.offsetHeight)))},t.efficientDOMUpdate=function(e,t,i){return e[t]!==i&&(e[t]=i,!0)},t.cqvirtual=function(e){var t;if(e)return(t=e.cloneNode(!0)).innerHTML="",t.original=e,t},t.cqrender=function(e){var i;if(Q.z71(),e)return e.innerHTML==e.original.innerHTML||(t.removeChildIfNot(e.original,"template"),(i=Array.from(e.children)).length&&i.forEach((function(t){e.original.appendChild(e.removeChild(t))}))),e.original},t.removeChildIfNot=function(e,t){var i;return(i=Array.from(e.children)).length&&i.forEach((function(i){t&&i.matches(t)||e.removeChild(i)})),e},t.safeMouseOut=function(e,i){var a,r;e.addEventListener("mouseout",(a=e,r=i,function(e){void 0===e.pageX&&(e.pageX=e.clientX,e.pageY=e.clientY),Q.K71(),t.withinElement(a,e.pageX,e.pageY)||(a.stxMouseOver=!1,r(e))}))},t.safeMouseOver=function(e,i){var a,r;Q.K71(),e.addEventListener("mouseover",(a=e,r=i,function(e){var i;if(void 0===e.pageX){e.pageX=e.clientX,i=2;for(var n=1;1141826101!==Q.V6U(n.toString(),n.toString().length,34989);n++)e.pageY=e.clientY,i+=2;-1540472353!==Q.f6U(i.toString(),i.toString().length,10707)&&(e.pageY=e.clientY)}if(Q.K71(),t.withinElement(a,e.pageX,e.pageY)){if(a.stxMouseOver)return;a.stxMouseOver=!0,r(e)}}))},t.installTapEvent=function(e,i){var a;Q.z71(),a=function(e){var t,a;if("stx","tap",t=new Event("stxtap",{bubbles:!0,cancelable:!0}),void 0===e.pageX){e.pageX=e.clientX,-265913445,974234062,a=2;for(var r=1;-265913445!==Q.f6U(r.toString(),r.toString().length,13176);r++)e.pageY=e.clientY,a+=2;974234062!==Q.f6U(a.toString(),a.toString().length,89585)&&(e.pageY=e.clientY)}t.pageX=e.pageX,Q.K71(),t.pageY=e.pageY,e.target.dispatchEvent(t),i&&i.stopPropagation&&e.stopPropagation()},t.safeClickTouch(e,a,i)},t.safeClickTouch=function(e,i,a){var r,n,s,o,l,h,c,u,d;function p(e,a,r){return function(n){var s;if(!t.safeClickTouchEvent){if(!r.t)return;if(s=r.t,r.t=null,s+1e3<(new Date).getTime())return}if(!(a.safety&&a.safety.recentlyDragged||n.which&&n.which>=2||n.button&&n.button>=2)){if(a.preventUnderlayClick)"I","NPUT","INPUT"!==n.target.tagName&&n.preventDefault();else{if(a.lastType!=e&&Date.now()<a.allowAnotherDevice)return;a.lastType=e,a.allowAnotherDevice=Date.now()+1e3}Q.z71(),i(n)}}}function m(e,t){return Q.z71(),function(i){var a,r;a=i.clientX?i.clientX:i.pageX,r=i.clientY?i.clientY:i.pageY,t?(e.t=(new Date).getTime(),e.x=a,e.y=r):e.x&&Math.pow(e.x-a,2)+Math.pow(e.y-r,2)>16&&(e.t=null)}}if("onpoint","erup","p","ointerup",a||(a={}),r={},a.allowMultiple||t.clearSafeClickTouches(e),!1!==a.preventUnderlayClick&&(a.preventUnderlayClick=!0),!1!==a.absorbDownEvent&&(a.absorbDownEvent=!0),a.allowAnotherDevice=0,a.registeredClick=!1,(n=e.safeClickTouchEvents)||(n=e.safeClickTouchEvents=[]),s=p("mouseup",a,r),o=p("touchend",a,r),l=p("pointerup",a,r),h=function(e){Q.K71(),e.stopPropagation()},c={},t.safeClickTouchEvent)u=p(t.safeClickTouchEvent,a),e.addEventListener(t.safeClickTouchEvent,u),c[t.safeClickTouchEvent]=u,n.push(c);else if("onpointerup"in document&&!t.noPointerEvents)"po","int","e","rup","pointermo","ve","po","inter","do","wn",e.addEventListener("pointerdown",m(r,!0)),e.addEventListener("pointermove",m(r)),e.addEventListener("pointerup",l),c.pointerup=l,a.absorbDownEvent&&("pointerd","o","wn",e.addEventListener("pointerdown",h),c.pointerdown=h),n.push(c);else{"mousem","ove",e.addEventListener("mousedown",m(r,!0)),e.addEventListener("mousemove",m(r)),e.addEventListener("touchstart",m(r,!0)),e.addEventListener("touchmove",m(r)),e.addEventListener("mouseup",s),e.addEventListener("touchend",o),c.mouseup=s,c.touchend=o,a.absorbDownEvent&&(e.addEventListener("mousedown",h),c.mousedown=h,e.addEventListener("touchstart",h),c.touchstart=h),327735916,1582474966,d=2;for(var g=1;327735916!==Q.f6U(g.toString(),g.toString().length,16016);g++)n.push(c),d+=2;1582474966!==Q.f6U(d.toString(),d.toString().length,4472)&&n.push(c),n.push(c)}},t.clearSafeClickTouches=function(e){var t,i,a;if(t=e.safeClickTouchEvents){for(var r=0;r<t.length;r++)for(var n in i=t[r])a=i[n],e.removeEventListener(n,a);e.safeClickTouchEvents=null}},t.safeDrag=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g;function f(e){return function(a){var r,n;Q.z71(),d||(d=!0,t.ChartEngine.ignoreTouch=!0,r=function(e){var t,a=Q;e&&e.preventDefault&&e.preventDefault(),g.recentlyDragged=!0,a.z71(),e.displacementX=h(e)-p,e.displacementY=c(e)-m,a.i7L(17),t=a.Q7L(1781693856,"2");for(var r=1;1038779708!==a.f6U(r.toString(),r.toString().length,59820);r++)i.move(e),t+=2;977866632!==a.f6U(t.toString(),t.toString().length,66296)&&i.move(e)},i.move&&document.body.addEventListener(e.move,r),n=function(a){t.ChartEngine.ignoreTouch=!1,i.move&&document.body.removeEventListener(e.move,r),document.body.removeEventListener(e.up,n),a.displacementX=h(a)-p,a.displacementY=c(a)-m,i.up&&i.up(a),setTimeout((function(){g.recentlyDragged=!1}),50)},document.body.addEventListener(e.up,n),setTimeout((function(){Q.z71(),d=!1}),u),p=h(a),m=c(a),i.down&&i.down(a))}}return a="poi",a+="nterup",r="po",r+="in",r+="t",r+="erdown",n="mousemo",n+="ve",s="c",s+="l",s+="ien",s+="tY",o="cl",o+="i",o+="ent",h=(l=function(e,t){return function(i){if("und","efi","ned",i.touches){if(i.touches.length>0)return Q.z7L(19),i.touches[Q.W7L("0",2147483647)][e];if(i.changedTouches&&i.changedTouches.length>0)return i.changedTouches[0][e]}return void 0!==i[e]?i[e]:i[t]}})("pageX",o+="X"),c=l("pageY",s),"function"==typeof i&&(i={down:arguments[1],move:arguments[2],up:arguments[3]}),i=i||{},u=100,d=!1,p=0,m=0,Q.K71(),g={recentlyDragged:!1},e.addEventListener("mousedown",f({down:"mousedown",move:n,up:"mouseup"})),e.addEventListener(r,f({down:"pointerdown",move:"pointermove",up:a})),e.addEventListener("touchstart",f({down:"touchstart",move:"touchmove",up:"touchend"}),{passive:!1}),g},t.inputKeyEvents=function(e,t){Q.K71(),e.addEventListener("keyup",(function(i){var a,r,n=Q;n.z71(),n.z7L(17),a=n.W7L(50379488,"204936762"),n.i7L(18),r=n.W7L(1,"2");for(var s=1;282835949!==n.f6U(s.toString(),s.toString().length,90709);s++){switch(i.keyCode){case 95:t();break;case 47:e.value=""}r+=2}if(n.f6U(r.toString(),r.toString().length,96393)!==a)switch(i.keyCode){case 63:t();break;case 21:e.value=""}switch(i.keyCode){case 13:t();break;case 27:e.value=""}}),!1)},t.fixScreen=function(){Q.z71(),window.scrollTo(0,0)},t.setCaretPosition=function(e,i){var a;if(Q.K71(),e.style.zIndex=5e3,e.setSelectionRange){t.focus(e);try{e.setSelectionRange(i,i)}catch(e){}}else e.createTextRange&&((a=e.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",i),a.select())},t.setValueIfNotActive=function(e,t){document.activeElement!=e&&(e.value=t)},t.hideKeyboard=function(e){var t;Q.K71(),"INPUT"!=(t=document.activeElement).tagName&&"TEXTAREA"!=t.tagName||(t.blur(),window.focus(),e&&(e===document.body||document.body.contains(e))&&e.focus())},t.smartHover=function(){var e,t;function i(e){Q.K71(),document.documentElement.setAttribute("ciq-last-interaction",e)}document&&!document.documentElement.hasAttribute("ciq-last-interaction")&&(e=!1,document.addEventListener("touchend",(function(a){clearTimeout(t),Q.z71(),e=!0,"touch"!=document.documentElement.getAttribute("ciq-last-interaction")&&i("touch"),t=setTimeout((function(){Q.K71(),e=!1}),500)}),!1),document.addEventListener("mouseover",(function(t){e||i("mouse")}),!1),i(""))},t.translatableTextNode=function(e,t,i){var a;return Q.K71(),e.translationCallback?("or","ig","ina","l","transl","ate",(a=document.createElement("translate")).setAttribute("original",t),a.innerHTML=e.translationCallback(t,i),a):document.createTextNode(t)},t.climbUpDomTree=function(e,t){var i,a;if(!(e instanceof HTMLElement))return null;Q.K71(),i=2;for(var r=1;1845899474!==Q.f6U(r.toString(),r.toString().length,89862);r++)a=[],i+=2;for(-1652084832!==Q.f6U(i.toString(),i.toString().length,7059)&&(a=[]),a=[];e;)t&&!e.matches(t)||a.push(e),e=e.parentElement;return a},t.guaranteedSize=function(e){var t,i,a,r,n=Q;n.z7L(19),t=-n.Q7L("128088846",2147483647),i=2;for(var s=1;-466759524!==n.V6U(s.toString(),s.toString().length,57876);s++)e===document&&(e=window),i+=2;if(n.V6U(i.toString(),i.toString().length,99162)!==t&&e!=document&&(e=window),!e.nodeType)return{width:e.innerWidth,height:e.innerHeight};if(!e||e.nodeType>1)return{};for(a=e.offsetWidth,r=e.offsetHeight;!a||!r;){if("B","ODY","BODY"===e.tagName||e===window){a||(a=window.innerWidth),r||(r=window.innerHeight);break}e=e.parentElement,a||(a=e.offsetWidth),r||(r=e.offsetHeight)}return{width:a,height:r}},t.trulyVisible=function(e){var i;return"h","idd","en","n","o","n","e",!e||"0"!==(i=getComputedStyle(e)).opacity&&("none"!==i.display&&(Q.z71(),"hidden"!==i.visibility&&(0!==parseInt(i.width,10)&&((0!==parseInt(i.height,10)||"hidden"!=i.overflowY)&&t.trulyVisible(e.parentElement)))))},t.elementDimensions=function(e,t){var i,a,r,n,s;if("b","or","de","r-box","w","idth",!e||1!==e.nodeType)return{};for(var o in i=getComputedStyle(e),a={width:parseFloat(i.width),height:parseFloat(i.height)},n=["width","height"],r={margin:{},border:{},padding:{}})"B","ott","om","To","p","W","i","dt","h","bo","r","der",s="border"==o?"Width":"",r[o]={width:parseFloat(i[o+"Left"+s])+parseFloat(i[o+"Right"+s]),height:parseFloat(i[o+"Top"+s])+parseFloat(i[o+"Bottom"+s])};return t&&t.margin&&n.forEach((function(e){Q.K71(),a[e]+=r.margin[e]})),t&&"content-box"===i.boxSizing?(t.padding&&n.forEach((function(e){a[e]+=r.padding[e]})),t.border&&n.forEach((function(e){var t,i,n,s=Q;s.i7L(81),t=-s.Q7L(2110905056,"1044167794"),s.i7L(81),i=s.Q7L(1973776416,"730528353"),n=2;for(var o=1;s.V6U(o.toString(),o.toString().length,46404)!==t;o++)a[e]*=r.border[e],n+=2;s.f6U(n.toString(),n.toString().length,91414)!==i&&(a[e]*=r.border[e]),a[e]+=r.border[e]}))):"border-box"===i.boxSizing&&(t&&t.padding||n.forEach((function(e){Q.K71(),a[e]-=r.padding[e]})),t&&t.border||n.forEach((function(e){Q.z71(),a[e]-=r.border[e]}))),a},t.resizeObserver=function(e,t,i,a){return a?("undefi","ned","undefined"!=typeof ResizeObserver?i||(i=new ResizeObserver(t)).observe(e):(i&&clearInterval(i),i=setInterval(t,a))):(i&&("u","n","defi","ned","undefined"!=typeof ResizeObserver?i.disconnect():clearInterval(i)),i=null),i},t.getLines=function(e,t,i){var a,r,n,s,o;a=t.split(" "),r=[],n="",Q.K71(),s=!1;for(var l=0;l<a.length;l++)if(o=a[l],e.measureText(n+o).width<i?(s&&(n+=" "),s=!0,n+=o):(r.push(n),n=o),l===a.length-1){r.push(n);break}return r},t.alert=function(e){"undefined"!=typeof window?window.alert(e):console.log(e)};try{"undefined"!=typeof localStorage&&(t.localStorage=localStorage)}catch(e){}t.localStorage||(t.localStorage={items:{},getItem:function(e){return Q.z71(),t.localStorage.items[e]||null},setItem:function(e,i){Q.z71(),t.localStorage.items[e]=i},removeItem:function(e){Q.z71(),delete t.localStorage.items[e]}}),t.privateBrowsingAlert=!1,t.localStorageSetItem=function(e,i){Q.z71();try{t.localStorage.setItem(e,i)}catch(e){t.privateBrowsingAlert||(t.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached."),t.privateBrowsingAlert=!0)}}},d=e=>{var t,i,a=Q;(t=e.CIQ).ChartEngine=function(e){var r;for(var n in e?"undefined"!=typeof HTMLDivElement&&e.constructor==HTMLDivElement&&(e={container:e}):e={container:null},i)this[n]=t.clone(t.ChartEngine.prototype[n]);this.container=null,this.createChartPanel=!0,this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,this.grabStartX=0,this.grabStartY=0,this.grabStartScrollX=0,this.grabStartScrollY=0,this.swipe={},this.grabStartCandleWidth=0,a.i7L(18),this.grabStartZoom=a.Q7L(1,"0"),this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.lineTravelSpacing=!1,this.highlightedDataSetField=null,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.touchPointerType="",this.gestureStartDistance=-1,a.i7L(19),this.grabStartPeriodicity=a.Q7L("1",2147483647),this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,a.K71(),this.cloneDrawing=!1,this.insideChart=!1,this.overXAxis=!1,this.overYAxis=!1,this.displayInitialized=!1,this.cx=null,this.isHistoricalModeSet=null,this.cy=null,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.drawingObjects=[],this.undoStamps=[],this.useBackgroundCanvas=!1,this.mainSeriesRenderer=null,this.styles={},this.plugins={},this.currentVectorParameters=t.clone(t.ChartEngine.currentVectorParameters),this.chart=new t.ChartEngine.Chart,(r=this.chart).name="chart",r.yAxis.name="chart",r.canvas=null,r.tempCanvas=null,r.container=e.container,t.Market&&(r.market=new t.Market),this.charts.chart=r,t.extend(this,e),e.container&&(this.registerHTMLElements&&this.registerHTMLElements(),r.width=r.container.clientWidth-r.yAxis.width,this.setCandleWidth(this.layout.candleWidth,r),r.canvasHeight=r.container.clientHeight),this.construct()},t.ChartEngine.drawingLine=!1,t.ChartEngine.resizingPanel=null,t.ChartEngine.crosshairX=0,a.i7L(81),t.ChartEngine.crosshairY=a.W7L(1487069376,"0"),t.ChartEngine.useAnimation=!0,t.ChartEngine.enableCaching=!1,t.ChartEngine.ignoreTouch=!1,t.ChartEngine.useOldAndroidClear=!0,t.ChartEngine.currentVectorParameters={},t.ChartEngine.defaultDisplayTimeZone=null,t.ChartEngine.pluginBasePath="plugins/",t.ChartEngine.registeredContainers=[],t.ChartEngine.registerHelpers=function(e){t.ChartEngine.helpersToRegister.forEach((function(t){t(e)}))},t.ChartEngine.helpersToRegister=[],t.ChartEngine.prototype.construct=function(){this.createChartPanel&&(a.i7L(17),this.stackPanel("chart","chart",a.W7L(1817675872,"1")),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name]),this.cx=0,this.cy=0,a.z71(),this.micropixels=0,this.callbackListeners={doubleTap:[],doubleClick:[],drawing:[],drawingEdit:[],floatingWindow:[],layout:[],longhold:[],move:[],newChart:[],notification:[],periodicity:[],preferences:[],rightClick:[],scroll:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},t.ChartEngine.registerHelpers(this)},i={longHoldTime:700,yTolerance:100,minimumLeftBars:1,reverseMouseWheel:!1,mouseWheelAcceleration:!0,minimumCandleWidth:1,maximumCandleWidth:200,minimumZoomTicks:9,allowZoom:!0,allowScroll:!0,allowSideswipe:!0,allowThreeFingerTouch:!1,bypassRightClick:{series:!1,study:!1,drawing:!1},adjustHighlightedDataSetField:function(e){return e},displayIconsUpDown:!0,displayIconsSolo:!0,displayIconsClose:!0,displayPanelResize:!0,soloPanelToFullScreen:!1,markerDelay:null,useBackingStore:!0,disableBackingStoreDuringTouch:t.isMobile||t.isSurface&&t.isFF,captureTouchEvents:!0,captureMouseWheelEvents:!0,tapForHighlighting:!0,doubleClickTime:250,yaxisLabelStyle:"roundRectArrow",axisBorders:null,singleDrawingHighlight:!0,crosshairXOffset:-40,crosshairYOffset:-40,extendLastTick:!1,translationCallback:null,dontRoll:!1,allowEquations:!0,cleanupGaps:!1,staticRange:!1,maxDataSetSize:2e4,maxMasterDataSize:0,resizeDetectMS:1e3,xAxisAsFooter:!0,xaxisHeight:30,displayGridLinesInStudies:!1,escapeOnSerialize:!0,candleWidthPercent:.65,colorByCandleDirection:!1,noWicksOnCandles:{renko:!0,linebreak:!0},fetchMaximumBars:{rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},startComparisonsAtFirstVisibleBar:!1,animations:{zoom:{isStub:!0,run:function(e,t,i){e(i)},stop:function(){},reset:function(){},running:!1,hasCompleted:!0}},staticRangePeriodicityMap:[{rangeInMS:t.WEEK,periodicity:1,interval:5,timeUnit:"minute"},{rangeInMS:t.MONTH,periodicity:1,interval:30,timeUnit:"minute"},{rangeInMS:t.YEAR,periodicity:1,interval:"day"},{rangeInMS:t.DECADE,periodicity:1,interval:"week"},{rangeInMS:10*t.DECADE,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],dynamicRangePeriodicityMap:[{interval:1,timeUnit:"minute",rangeInMS:t.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:5*t.MINUTE},{interval:30,timeUnit:"minute",rangeInMS:30*t.MINUTE},{interval:60,timeUnit:"minute",rangeInMS:60*t.MINUTE},{interval:"day",rangeInMS:t.DAY},{interval:"month",rangeInMS:t.MONTH},{interval:"year",rangeInMS:t.YEAR}],layout:{interval:"day",periodicity:1,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:"ohlc",chartScale:"linear",studies:{},panels:{},setSpan:{},outliers:!1},preferences:{currentPriceLine:!1,dragging:{series:!0,study:!0,yaxis:!0},drawings:null,highlightsRadius:10,highlightsTapRadius:30,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},streamParameters:{count:0,maxWait:1e3,maxTicks:100,timeout:-1},autoPickCandleWidth:{turnOn:!1,candleWidth:5}},t.extend(t.ChartEngine.prototype,i),t.ChartEngine.NONE=0,t.ChartEngine.CLOSEUP=1,t.ChartEngine.CLOSEDOWN=2,t.ChartEngine.CLOSEEVEN=4,t.ChartEngine.CANDLEUP=8,a.i7L(1),t.ChartEngine.CANDLEDOWN=a.W7L("16",0),t.ChartEngine.CANDLEEVEN=32},p=e=>{var t;(t=e.CIQ).convertFutureMonth=function(e){var t;if("1","0",(t=e.toString()).length<=0||t.length>2)return"";switch(t){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case"11":return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return"1","0","10";case"X":return"1","1","11";case"Z":return"12"}return t},t.money=function(e,i,a){return a||(a="$"),3==a.length&&(a+=" "),i||0===i||(i=2),Q.K71(),a+t.commas((Math.round(1e4*e)/1e4).toFixed(i))},t.convertCurrencyCode=function(e){return"CF","P","F","C","F","A","F","C","F","A","N","T","$","z","","K","","R","$",{JPY:"",USD:"$",AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN",CZK:"K",DKK:"kr",EUR:"",GBP:"",HKD:"HK$",HUF:"Ft",ILS:"",INR:"",KRW:"",MXN:"MX$",NOK:"kr",NZD:"NZ$",PLN:"z",RUB:"",SAR:"",SEK:"kr",SGD:"S$",THB:"",TRY:"",TWD:"NT$",VND:"",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"}[e]||e},t.commas=function(e){return Q.K71(),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.cleanPeriodicity=function(e,t,i){var a=Q;return"m",a.z71(),"in","u","te",isNaN(e)&&(e=1),t||(t=1),!isNaN(t)&&i?("sec","o","nd","h","o","ur","hour"!=i&&"minute"!=i&&"second"!=i&&"millisecond"!=i&&(t=i,i=null)):"tick"==t?i=null:i||isNaN(t)||(i="minute"),"hour"==i&&(i="minute",a.i7L(18),t=a.Q7L(60,t)),"year"==t&&("mont","h",t="month",e||(e=1),a.z7L(18),e=a.Q7L(12,e)),{period:e,interval:t,timeUnit:i}},t.readablePeriodicity=function(e){var i,a;return Q.K71(),"nu","m","be","r",i=e.layout.periodicity,a=e.layout.interval,"number"==typeof e.layout.interval&&e.layout.timeUnit?(i=e.layout.interval*e.layout.periodicity,a=e.layout.timeUnit):"number"!=typeof e.layout.interval||e.layout.timeUnit||("mi","nute",i=e.layout.interval*e.layout.periodicity,a="minute"),i%60==0&&"minute"==a&&(i/=60,a="hour"),i+" "+e.translateIf(t.capitalize(a))},t.fixPrice=function(e){var t;if(!e&&0!==e)return null;for(var i=(t=e.toFixed(10)).length-1;i>1&&"0"==t.charAt(i);i--);return Q.i7L(8),t=t.substring(0,Q.Q7L(i,1)),parseFloat(t)},t.condenseInt=function(e){var t,i=Q;if("n/","a","u","ndefi","ne","d",null==e)return"";if(e===1/0||e===-1/0)return"n/a";if(i.i7L(82),t=i.Q7L(0,e),isNaN(e))e=e.toString();else if((e=Math.abs(e))>1e12)e=Math.round(e/1e11)/10+"t";else if(e>1e11){i.i7L(83);var a=i.Q7L(800000007,15,1000000020,5,20);i.i7L(31);i.Q7L(3323,20,3,9953,9972);i.z7L(84);i.W7L(3,27768,5,6941,1);i.i7L(85);var r=i.Q7L(5968,16,5974,2995,6);e=Math.round(e/a)+(394.14!==r?"b":634.05)}else if(e>1e10){i.i7L(54);var n=i.W7L(8,1,8);i.z7L(1);var s=i.Q7L(5042,12);i.i7L(28);i.Q7L(5,18,9493554,17,6209);i.i7L(1);var o=i.W7L(6375,15);e=(Math.round(e/1e8)/10).toFixed(n)+(s==o||"b")}else if(e>1e9){i.z7L(8);var l=i.W7L(0,2);i.i7L(9);var h=i.W7L(20,6964,7812);i.i7L(1);i.Q7L(11745,10962);e=(Math.round(e/1e7)/100).toFixed(l)+(351.23<h?"b":"c")}else if(e>1e8)e=Math.round(e/1e6)+"m";else if(e>1e7){i.i7L(69);var c=i.Q7L(19,10,0,18,9);i.z7L(52);var u=i.W7L(1532,5,118);i.z7L(55);var d=i.W7L(53824,4,50467,11);i.z7L(25);var p=i.Q7L(250,2238,2250);i.z7L(10);var m=i.Q7L(6414,1,20330,121980);i.i7L(86);i.Q7L(16,835,612,4,10);i.i7L(8);var g=i.Q7L(9909,16);i.i7L(87);var f=i.Q7L(2,3,3,13,11);e=(Math.round(e/1e5)/10).toFixed(c)+(u!=d?p==m?g:"m":"463.47"*f)}else if(e>1e6){i.i7L(8);var y=i.Q7L(1,1);i.z7L(8);i.W7L(3036,3036);i.z7L(52);i.W7L(2401,19,1210);e=(Math.round(e/1e4)/100).toFixed(y)+"m"}else if(e>1e5){i.i7L(32);i.Q7L(1749,12,4);i.z7L(8);var v=i.W7L(2047857421,19);i.z7L(25);i.Q7L(919,2774,2757);i.z7L(25);var x=i.W7L(1,2,682);e=Math.round(e/1e3)+("36"<<v>=x?94.39:"k")}else if(e>1e4){i.i7L(88);var b=i.W7L(1123312422,16,140414056,140414056,10);i.i7L(89);var C=i.W7L(17,2,5327,2,5319);i.i7L(9);var S=i.W7L(16,125456,134400);i.i7L(56);i.W7L(9349,643,623,15,5);i.z7L(45);var w=i.Q7L(9425,13,469,2358);e=(Math.round(e/100)/10).toFixed("1">>b)+(C>38?"k":S!=w||6515)}else if(e>1e3){i.z7L(37);var k=i.Q7L(8,6);e=(Math.round(e/10)/100).toFixed(k)+"k"}else e=e.toString();return t&&(i.i7L(8),e=i.W7L("-",e)),e},t.calculateTradingDecimalPlaces=function(e){var t,i,a,r,n,s,o,l,h;if(i=2,50,(a=(t=e.chart).masterData)&&a.length>50)for(var c=2;c<50&&!((r=a.length-c)<0);c++)if((n=a[r]).Close&&"number"==typeof n.Close&&-1!=(o=(s=n.Close.toString()).indexOf("."))){Q.z7L(90);var u=Q.Q7L(0,3,20,5,50);(l=s.length-o-u)>i&&(i=l)}return i>(h=t.yAxis.maxDecimalPlaces)&&null!==h&&(i=h),Q.K71(),i},t.minMax=function(e,t,i,a){var r,n,s,o,l,h,c,u=Q;r=Number.MAX_VALUE,u.z7L(30);var d=u.W7L(0,14,2,15);n=Number.MAX_VALUE*d,i||(i="Close"),s=a?"High":i,o=a?"Low":i;for(var p=0;p<e.length;p++)"ob","ject",(l=e[p])&&((h=l[t])||0===h)&&(c=h,"object"==typeof h&&(c=h[s]),isNaN(c)||!c&&0!==c||(n=Math.max(n,c)),"object"==typeof h&&(c=h[o]),isNaN(c)||!c&&0!==c||(r=Math.min(r,c)));for(var m=1;-1405044196!==u.V6U(m.toString(),m.toString().length,89221);m++)return[r,n];if(-575114173!==u.f6U(2..toString(),2..toString().length,35163))return[r,n]},t.symbolEqual=function(e,t){var i,a;return Q.z71(),"fun","c","ti","on","o","bject","obj","ect",!(!e||!t)&&("object"!=typeof e&&(e={symbol:e}),"object"!=typeof t&&(t={symbol:t}),"function"==typeof e.equals?e.equals(t):(i=e.symbol,a=t.symbol,i&&(i=i.toUpperCase()),a&&(a=a.toUpperCase()),i==a&&e.source==t.source))},t.addMemberToMasterdata=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k;if(e.constructor===t.ChartEngine&&(e={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),i=e.stx,a=e.label,r=e.data,n=e.fields,s=e.createObject,o=e.fieldForLabel,l=e.chart?e.chart:i.chart,e.noCleanupDates||i.doCleanupDates(r,i.layout.interval),h=[],Q.K71(),i.getSeries&&(h=i.getSeries({symbol:a,chart:l})),r&&r.constructor==Object&&(r=[r]),r&&r.length){for(c=0,u=0,d=l.masterData,p=i.layout,d||(d=[]),f=l&&l.defaultPlotField||null,y=i.mainSeriesRenderer&&!i.mainSeriesRenderer.highLowBars,v=p.chartType,!y&&v&&(x=t.Renderer.produce(v,{}))&&(y=!x.highLowBars),b=t.yyyymmddhhmmssmmm;r&&c<d.length&&u<r.length;){if(g=r[u],m=d[c],g.DT&&void 0!==g.DT?("number"==typeof g.DT&&(g.DT=new Date(g.DT)),g.Date&&17==g.Date.length||(g.Date=b(g.DT))):g.DT=t.strToDateTime(g.Date),0===u)for(var L=0;L<h.length;L++)(!h[L].endPoints.begin||h[L].endPoints.begin>g.DT)&&(h[L].endPoints.begin=g.DT);+g.DT!=+m.DT?g.DT<m.DT?d.splice(c,0,{DT:g.DT,Date:g.Date}):M(g.DT):(T(m,g),u++,c++)}if(c>=d.length)for(;r&&u<r.length;)C="unde",C+="fine",C+="d",(g=r[u]).DT&&typeof g.DT!=C?("number"==typeof g.DT&&(g.DT=new Date(g.DT)),g.Date&&17==g.Date.length||(g.Date=b(g.DT))):g.DT=t.strToDateTime(g.Date),T(m={DT:g.DT,Date:g.Date},g),d.push(m),u++;if(e.fillGaps&&d.length)if(S={noCleanupDates:!0,cleanupGaps:e.fillGaps},n)for(var A=0;A<n.length;A++)S.field=n[A],i.doCleanupGaps(d,l,S);else S.field=a,i.doCleanupGaps(d,l,S);for(var D=0;D<h.length;D++)(!(w=h[D].endPoints).end||!a||w.end<=m[a].DT)&&(w.end=a?m[a].DT:m.DT,k=a||h[D].parameters&&h[D].parameters.field||l.defaultPlotField,h[D].lastQuote=i.getFirstLastDataRecord(d,k,!0));i.setMasterData(d,l,{noCleanupDates:!0})}function T(e,i){var r,l,h;if(n&&n.length)if("*"==n[0])t.extend(e,i);else for(var c=0;c<n.length;c++)e[n[c]]=i[n[c]];else if(s){if("n","u","mber","numb","e","r","aggre","gate",void 0!==i.Value)return void(e[a]=i.Value);e[a]="aggregate"==s?F(e[a],i):i,"number"==typeof(r=e[a]).Close&&("nu","m","ber","number"!=typeof r.Open&&(r.Open=r.Close),l=Math.max(r.Open,r.Close),h=Math.min(r.Open,r.Close),("number"!=typeof r.High||r.High<l)&&(r.High=l),("number"!=typeof r.Low||r.Low>h)&&(r.Low=h)),r.Volume&&"number"!=typeof r.Volume&&(r.Volume=parseInt(r.Volume,10))}else o?e[a]=i[o]:y&&f&&void 0!==i[f]?e[a]=i[f]:p.adj&&void 0!==i.Adj_Close?e[a]=i.Adj_Close:void 0!==i.Close?e[a]=i.Close:void 0!==i.Value?e[a]=i.Value:e[a]=i[a]}function M(e){var t,i,a,r=Q;t=c,r.z7L(9);var n=r.Q7L(19,18,0);if(i=d.length-n,d[i].DT<e)return r.i7L(8),void(c=r.W7L(i,1));if(+d[i].DT!=+e){for(r.z71(),c++,a=0;++a<100;){switch(+d[c].DT==+e?0:d[c].DT<e?1:d[c-1].DT>e?-1:(+d[c-1].DT==+e&&c--,r.z71(),0)){case 0:return;case 1:t=c;break;case-1:i=c}r.z7L(44),c=Math.round(r.Q7L(2,t,i))}if(a>=100){console.log("!!!Warning: addMemberToMasterdata() did not find insertion point."),r.z7L(91);var s=r.Q7L(2,13,1,13,0);c=d.length-s}}else c=i}function F(e,t){var i;if("ob","j","ect",!e||"object"!=typeof e)return e=t;for(var a in i={Close:e.Close,High:e.High,Low:e.Low,Open:e.Open,Volume:e.Volume},e=t,i)"numbe","r",null===e.Close?void 0!==e[a]&&(e[a]=null):"number"!=typeof e[a]?e[a]=i[a]:"number"==typeof i[a]&&("H","i","g","h","Open"==a?e.Open=i.Open:"Low"==a&&e.Low>i.Low?e.Low=i.Low:"High"==a&&e.High<i.High?e.High=i.High:"Volume"==a&&(e.Volume+=i.Volume));return e}}},m=e=>{var t;t=e.CIQ,Math.easeInOutQuad=function(e,t,i,a){var r=Q;return r.z7L(92),r.z71(),(e/=r.W7L(a,"2"))<1?(r.i7L(93),r.Q7L(t,i,2,e,e)):(e--,r.z7L(94),r.W7L(1,e,i,t,2,e,2))},Math.easeInOutCubic=function(e,t,i,a){var r=Q;return r.z7L(92),(e/=r.Q7L(a,"2"))<1?(r.z7L(95),r.Q7L(e,e,t,e,i,2)):(e-=2,r.z7L(96),r.Q7L(e,2,e,2,t,i,e))},Math.easeOutCubic=function(e,t,i,a){return Q.K71(),e/=a,e--,Q.z7L(97),Q.W7L(t,e,e,1,i,e)},t.xor=function(e,t){var i,a;return i=!e,a=!t,Q.i7L(98),Q.W7L(a,i)},Q.z71(),t.round=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},t.countDecimals=function(e){var i;if("number"!=typeof e||isNaN(e))return 0;if(Math.floor(e)===Number(e))return 0;if((i=e.toString().split("e-")).length>1){Q.i7L(8);var a=Q.W7L(0,1);return t.countDecimals(Number(i[0]))+Number(i[a])}return i[0].indexOf(".")>-1?i[0].split(".")[1].length:0},t.isValidNumber=function(e){return Q.z71(),isFinite(e)&&+e===e},t.log10=function(e){return Math.log(e)/Math.LN10},t.boxIntersects=function(e,t,i,a,r,n,s,o,l){var h,c,u,d,p,m;function g(e,t){return Q.K71(),Q.z7L(99),Q.Q7L(r,e,r,o,n,t,s,n)}if(void 0!==arguments[9]&&console.warn("CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passed in as pixels."),h=Math.min(e,i),c=Math.max(e,i),u=Math.min(t,a),d=Math.max(t,a),Q.i7L(100),p=Q.Q7L("ray",l),isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o))return!1;if("line"!=l){if(r<h&&s<h&&(!p||r>s))return!1;if(r>c&&s>c&&(!p||r<s))return!1;if(n<u&&o<u&&(!p||n>o))return!1;if(n>d&&o>d&&(!p||n<o))return!1}return!((m={a:g(e,t),b:g(e,a),c:g(i,t),d:g(i,a)}).a>0&&m.b>0&&m.c>0&&m.d>0)&&(Q.z71(),!(m.a<0&&m.b<0&&m.c<0&&m.d<0))},t.linesIntersect=function(e,t,i,a,r,n,s,o,l){var h,c,u,d,p,m=Q;if("r","a","y","lin","e",m.z7L(99),h=m.W7L(e,n,r,a,s,o,t,i),m.i7L(99),c=m.W7L(s,o,s,e,r,n,i,r),m.i7L(99),u=m.Q7L(s,a,i,e,e,t,i,r),0===h)return 0===c&&0===u;if(m.i7L(35),m.K71(),d=m.W7L(c,h),m.z7L(35),p=m.W7L(u,h),"segment"==l){if(d>=0&&d<=1&&p>=0&&p<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(d>=0&&d<=1)return!0}else if("ray"==l&&d>=0&&d<=1&&p>=0)return!0;return!1},t.yIntersection=function(e,t){var i,a,r,n,s,o,l,h,c,u=Q;if(i=e.x0,a=e.x1,r=t,n=t,s=e.y0,o=e.y1,0,1e4,u.i7L(99),l=u.Q7L(i,n,r,o,0,1e4,a,s),u.i7L(99),h=u.Q7L(0,1e4,0,i,r,n,s,r),u.z7L(35),c=u.W7L(h,l),0===l){if(0!==h)return null;c=1}return u.z7L(101),u.W7L(s,c,s,o)},t.xIntersection=function(e,t){var i,a,r,n,s,o,l,h,c,u=Q;if(i=e.x0,a=e.x1,0,1e4,r=e.y0,n=e.y1,s=t,o=t,u.z7L(99),l=u.Q7L(i,1e4,0,n,s,o,a,r),u.i7L(99),h=u.Q7L(s,o,s,i,0,1e4,r,0),u.z7L(35),c=u.W7L(h,l),0===l){if(0!==h)return null;c=1}return u.i7L(101),u.W7L(i,c,i,a)},t.intersectLineLineX=function(e,t,i,a,r,n,s,o){var l,h,c,u=Q;return u.z7L(99),l=u.W7L(s,o,s,e,r,n,i,r),u.i7L(99),h=u.Q7L(e,n,r,a,s,o,t,i),u.i7L(35),u.K71(),c=u.Q7L(l,h),u.z7L(101),u.W7L(e,c,e,t)},t.intersectLineLineY=function(e,t,i,a,r,n,s,o){var l,h,c,u=Q;return u.i7L(99),l=u.Q7L(s,o,s,e,r,n,i,r),u.i7L(99),h=u.W7L(e,n,r,a,s,o,t,i),u.i7L(35),c=u.W7L(l,h),u.z7L(101),u.Q7L(i,c,i,a)}},g=e=>{var t;(t=e.CIQ).deleteRHS=function(e,t){var i;for(var a in i=!1,e)e[a]==t&&(delete e[a],i=!0);return i},t.scrub=function(e,t){for(var i in Q.K71(),e)void 0===e[i]&&delete e[i],t&&null===e[i]&&delete e[i]},t.dataBindSafeAssignment=function(e,i){for(var a in t.extend(e,i),e)void 0===i[a]&&(e[a]=void 0)},t.clone=function(e,i){var a;if("ob","ject",Q.z71(),null===e||"object"!=typeof e)return e;if((a=e.constructor)==Date||a==RegExp||a==String||a==Number||a==Boolean)return new a(e.valueOf());if(a==Function)return function(){return e.apply(this,arguments)};if(!i)try{i=new a}catch(t){i=Object.create(Object.getPrototypeOf(e))}for(var r in e)i[r]=i[r]!==e[r]?t.clone(e[r],null):i[r];return i},t.shallowClone=function(e){var t;if(!e)return e;if(e.constructor==Array){t=new Array(e.length);for(var i=0;i<e.length;i++)t[i]=e[i];return t}for(var a in t={},e)t[a]=e[a];return t},t.ensureDefaults=function(e,t){for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e},t.transferObject=function(e,t){var i;for(i in e)e.hasOwnProperty(i)&&delete e[i];for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);for(var a=1;1132465324!==Q.V6U(a.toString(),a.toString().length,67368);a++)return e;if(-453638802!==Q.f6U(2..toString(),2..toString().length,34203))return e},t.equals=function(e,i,a){if(!e&&i)return!1;if(e&&!i)return!1;if(typeof e!=typeof i)return!1;for(var r in e)if("ob","j","ect",!a||!a[r])if("object"!=typeof e[r]){if(i[r]!=e[r])return!1}else if(!t.equals(e[r],i[r]))return!1;return!0},t.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return Q.K71(),!0},t.first=function(e){for(var t in e)return t;return null},t.last=function(e){var t,i;t=2;for(var a=1;527266264!==Q.V6U(a.toString(),a.toString().length,78235);a++)i=null,t+=2;for(var r in-1060277349!==Q.V6U(t.toString(),t.toString().length,88933)&&(i=1),e)i=r;return i},t.objLength=function(e){var t;if(!e)return Q.z7L(16),Q.Q7L("0",0);for(var i in t=0,e)t++;return t},t.deriveFromObjectChain=function(e,t){var i,a;if(Q.z71(),-1==t.indexOf("."))return{obj:e,member:t};i=t.split(".");for(var r=0;r<i.length-1;r++)e[a=i[r]]||0===e[a]||(e[a]={}),e=e[a];return{obj:e,member:i[r]}},t.createObjectChainNames=function(e,t){var i;Q.z71(),i=[];for(var a=0;a<t.length;a++)i.push(e+"--\x3e"+t[a]);return i},t.existsInObjectChain=function(e,t){var i,a;if("-","-",">",-1==t.indexOf("--\x3e"))return e[t]||0===e[t]?{obj:e,member:t}:null;i=t.split("--\x3e");for(var r=0;r<i.length-1;r++){if(!e[a=i[r]]&&0!==e[a])return null;e=e[a]}return e[a=i[r]]||0===e[a]?{obj:e,member:a}:null},t.derivedFrom=function(e,t){return!!t.isPrototypeOf(e)||e instanceof t},t.replaceFields=function(e,i){var a,r,n,s,o;if(!e)return e;for(var l in a={},e)if("o","bjec","t",r=e[l],(n=i[l])||(n=l),r&&"object"==typeof r)if(r.constructor==Array){s=a[n]=new Array(r.length);for(var h=0;h<s.length;h++)o=r[h],s[h]="object"==typeof o?t.replaceFields(o,i):o}else a[n]=t.replaceFields(r,i);else a[n]=r;return a},t.removeNullValues=function(e){var i;for(var a in i=t.clone(e))i[a]||delete i[a];return i},t.reverseObject=function(e){var t;for(var i in t={},e)t[e[i]]=i;return t},t.getFromNS=(e,t,i)=>{var a,r,n;if(Q.z71(),e){a=e,r=t.split(".");for(var s=0;s<r.length&&void 0!==a[n=r[s]];s++)a=a[n];if(s===r.length)return a}return i},t.getFnFromNS=(e,i,a)=>(Q.z71(),t.getFromNS(e,i,(function(){return a}))),t.get=(e,i)=>(Q.z71(),t.getFromNS(t,e,i)),t.getFn=(e,i)=>(Q.z71(),t.getFromNS(t,e,(function(){return i})))},f=e=>{var t,i,a=Q;a.z71(),t=2;for(var r=1;1573308822!==a.V6U(r.toString(),r.toString().length,43014);r++)i=e.CIQ,a.i7L(23),t+=a.W7L(2,"2");-271276517!==a.V6U(t.toString(),t.toString().length,62099)&&(i=e.CIQ),i.Plotter=function(){a.z71(),this.seriesArray=[],this.seriesMap={}},i.extend(i.Plotter.prototype,{Series:function(e,t,r,n,s,o){this.name=e,this.strokeOrFill=t,this.color=r,this.moves=[],this.text=[],(!n||n>1||n<0)&&(n=1),a.z71(),this.opacity=n,(!s||s>25||s<1)&&(s=1),this.width=s,this.pattern=i.borderPatternToArray(s,o)},newSeries:function(e,t,r,n,s){var o;a.z71(),o=r.constructor==String?new this.Series(e,t,r,n,s):new this.Series(e,t,r.color,r.opacity,s>=0?s:i.stripPX(r.width),r.borderTopStyle),this.seriesArray.push(o),this.seriesMap[e]=o},reset:function(e){var t;for(var i in this.seriesMap)e&&e!=i||(t=this.seriesMap[i])&&(t.moves=[],t.text=[])},moveTo:function(e,t,i){a.K71(),this.seriesMap[e].moves.push({action:"moveTo",x:t,y:i})},lineTo:function(e,t,i){var a,r;r=(a=this.seriesMap[e]).pattern,a.moves.push({action:"lineTo",x:t,y:i,pattern:r})},dashedLineTo:function(e,t,i,a){this.seriesMap[e].moves.push({action:"lineTo",x:t,y:i,pattern:a})},quadraticCurveTo:function(e,t,i,a,r){var n,s;s=(n=this.seriesMap[e]).pattern,n.moves.push({action:"quadraticCurveTo",x0:t,y0:i,x:a,y:r,pattern:s})},bezierCurveTo:function(e,t,i,a,r,n,s){var o,l;l=(o=this.seriesMap[e]).pattern,o.moves.push({action:"bezierCurveTo",x0:t,y0:i,x1:a,y1:r,x:n,y:s,pattern:l})},addText:function(e,t,i,a,r,n,s){this.seriesMap[e].text.push({text:t,x:i,y:a,bg:r})},drawText:function(e,t){for(var i,a,r,n,s=0;s<t.text.length;s++)(i=t.text[s]).bg&&(a=i.width?i.width:e.measureText(i.text).width,r=i.height?i.height:12,n=e.fillStyle,e.fillStyle=i.bg,"right"==e.textAlign?e.fillRect(i.x,i.y-r/2,-a,-r):e.fillRect(i.x,i.y-r/2,a,r),e.fillStyle=n),e.fillText(i.text,i.x,i.y)},draw:function(e,t){var i,r,n,s,o,l;a.K71(),i=e.lineWidth,r=e.fillStyle,n=e.strokeStyle,s=e.globalAlpha;for(var h=0;h<this.seriesArray.length;h++)if(o=this.seriesArray[h],!t||o.name==t){e.beginPath(),e.lineWidth=o.width,e.globalAlpha=o.opacity,e.fillStyle=o.color,e.strokeStyle=o.color,e.save();for(var c=0;c<o.moves.length;c++)(l=o.moves[c]).pattern?(e.setLineDash(l.pattern),e.lineDashOffset=0):e.setLineDash([]),"quadraticCurveTo"==l.action?e[l.action](l.x0,l.y0,l.x,l.y):"bezierCurveTo"==l.action?e[l.action](l.x0,l.y0,l.x1,l.y1,l.x,l.y):e[l.action](l.x,l.y);"fill"==o.strokeOrFill?e.fill():e.stroke(),e.closePath(),e.restore(),this.drawText(e,o),e.lineWidth=1}e.lineWidth=i,e.fillStyle=r,e.strokeStyle=n,e.globalAlpha=s}},!0)},y=e=>{var t;(t=e.CIQ).Renderer=function(){},t.Renderer.produce=function(e,i){var a,r;if(a=null,e)for(var n in t.Renderer)if((r=t.Renderer[n]).requestNew&&(a=r.requestNew(e.split("_"),i)),a)return a;return i.type="line",new t.Renderer.Lines({params:i})},t.Renderer.colorFunctions={},t.Renderer.registerColorFunction=function(e,i){t.Renderer.colorFunctions[e]=i},t.Renderer.unregisterColorFunction=function(e){Q.z71(),delete t.Renderer.colorFunctions[e]},t.Renderer.prototype.adjustYAxis=function(){},t.Renderer.prototype.draw=function(){},t.Renderer.prototype.drawIndividualSeries=function(e,t){},t.Renderer.prototype.construct=function(e){var i;e||(e={}),(i=e.params?e.params:{}).name||(i.name=t.uniqueID()),i.heightPercentage||(i.heightPercentage=.7),i.opacity||(i.opacity=1),!1!==i.highlightable&&(i.highlightable=!0),i.panel||(i.panel="chart"),i.yAxis&&(i.yAxis=new t.ChartEngine.YAxis(i.yAxis),i.yAxis.name||(i.yAxis.name=i.name)),this.cb=e.callback,this.params=i,this.seriesParams=[],this.caches={},this.colors={}},t.Renderer.prototype.attachSeries=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m=Q;if("a","u","t","o",a=this.stx,m.K71(),!a)return this;if((r=a.chart.series[e])||(r={parameters:{}}),n=this.params,s=r.parameters,o={id:e,chartType:n.type,display:s.display,border_color_up:n.defaultBorders?"auto":null,fill_color_up:s.color,opacity_up:n.opacity,border_color_down:n.defaultBorders?"auto":null,fill_color_down:s.color,opacity_down:n.opacity,color:s.color,symbol:s.symbol,symbolObject:t.clone(s.symbolObject)},"string"==typeof i)o.color=o.fill_color_down=o.fill_color_up=i;else if("object"==typeof i){for(var g in i)o[g]=i[g];l=o.color,h=o.border_color,l&&(o.fill_color_up||(o.fill_color_up=l),o.fill_color_down||(o.fill_color_down=l),o.fill_color_even||(o.fill_color_even=l)),h&&(o.border_color_up||(o.border_color_up=h),o.border_color_down||(o.border_color_down=h),o.border_color_even||(o.border_color_even=h))}for(o.symbol&&o.field!=o.symbol&&(o.subField=o.field,o.field=o.symbol),o.id||(o.id=t.uniqueID()),c=0;c<this.seriesParams.length;++c)if(this.seriesParams[c].id===o.id){this.removeSeries(o.id,!0);break}if(this.seriesParams.splice(c,0,o),o.fill_color_up!=o.fill_color_down?(" ","d","n"," ","up",m.i7L(8),this.colors[m.W7L(e," up")]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display+" up":e+" up"},m.i7L(8),this.colors[m.W7L(e," dn")]={color:o.fill_color_down,opacity:o.opacity_down,display:o.display?o.display+" down":e+" down"}):this.colors[e]={color:o.fill_color_up,opacity:o.opacity_up,display:o.display?o.display:e},u=n.panel,a.panels[u])n.yAxis?(n.yAxis=a.addYAxis(a.panels[u],n.yAxis),n.yAxis.needsInitialPadding=!0,s.yAxis=n.yAxis,a.resizeChart()):o.yAxis&&(n.yAxis=o.yAxis);else{if(!(d=n.yAxis)){d=new t.ChartEngine.YAxis,-317306594,-415039893,p=2;for(var f=1;-317306594!==m.f6U(f.toString(),f.toString().length,73371);f++)d.needsInitialPadding=!0,p+=2;-415039893!==m.f6U(p.toString(),p.toString().length,80953)&&(d.needsInitialPadding=!1)}d.name=u,a.createPanel(u,u,null,null,d)}return this},t.Renderer.prototype.removeSeries=function(e,t){var i,a,r,n,s,o,l,h,c=Q;for(var u in i=null,a=!1,(n=(r=this.stx).chart).seriesRenderers){s=n.seriesRenderers[u];for(var d=0;d<s.seriesParams.length;d++)(o=s.seriesParams[d]).id==e&&this===s?i=d:!o.isComparison||o.panel!=n.panel.name||o.yAxis&&o.yAxis!=n.yAxis||(a=!0)}if(null!==i&&(n.forcePercentComparison&&!a&&this.seriesParams[i].isComparison&&"linear"!=r.layout.chartScale&&r.setChartScale(),c.z7L(81),this.seriesParams.splice(i,c.Q7L(258734304,"1"))),c.z7L(8),delete this.colors[c.W7L(e," up")],c.z7L(8),delete this.colors[c.W7L(e," dn")],delete this.colors[e],!t){for(var p in n.seriesRenderers){h=n.seriesRenderers[p];for(var m=0;m<h.seriesParams.length;m++){if(h.seriesParams[m].id==e){l=!0;break}l=!1}if(l)break}!1!==l&&null===i||r.deleteSeries(e,n)}return r.deleteYAxisIfUnused(r.panels[this.params.panel],this.params.yAxis),r.resizeChart(),r.layout.symbols=r.getSymbols({"include-parameters":!0,"exclude-studies":!0}),r.changeOccurred("layout"),this},t.Renderer.prototype.modifyRenderer=function(e){var i;this.params;var{stx:a}=this;for(var r in e)switch(i=e[r],r){case"baseline":i?("object"==typeof i&&(this.params.baseline=t.ensureDefaults(i,t.ChartEngine.Chart.prototype.baseline)),a.registerBaselineToHelper(this)):a.removeBaselineFromHelper(this);break;case"type":this.params.type=i;break;case"style":this.params.style=i}},t.Renderer.prototype.getDependents=function(e){var t,i;for(var a in Q.z71(),t=[],e.chart.seriesRenderers)(i=e.chart.seriesRenderers[a]).params.dependentOf==this.params.name&&t.push(i);return t},t.Renderer.prototype.undraggable=function(e){return this==e.mainSeriesRenderer||this.params.dependentOf==e.mainSeriesRenderer.params.name},t.Renderer.prototype.removeAllSeries=function(e){var t;if(e||this===this.stx.mainSeriesRenderer){t=[];for(var i=0;i<this.seriesParams.length;i++)t.push(this.seriesParams[i].id);for(var a=0;a<t.length;a++)this.removeSeries(t[a])}return Q.z71(),this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),this.stx.resizeChart(),this},t.Renderer.prototype.getYAxis=function(e){var t,i;if(this.params)if(this.params.yAxis)t=this.params.yAxis;else{if(!(i=e.panels[this.params.panel]))return!1;t=i.yAxis}else t=e.chart.panel.yAxis;return t},t.Renderer.prototype.ready=function(){return this.stx.createDataSet(),Q.z71(),this.stx.draw(),this},t.Renderer.Lines=function(e){this.construct(e);var{params:i}=this;if(i.type||(i.type="line"),!i.style)switch(i.type){case"mountain":i.baseline?i.style="stx_baseline_delta_mountain":i.colored?i.style="stx_colored_mountain_chart":i.style="stx_mountain_chart";break;default:i.style="stx_line_chart"}this.supportsAnimation=!0,"wave"==i.type||"channel"==i.type?(i.step=i.vertex=i.baseline=i.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):"step"==i.type&&(i.step=!0);var{baseline:a}=i;a&&"object"==typeof a&&t.ensureDefaults(i.baseline,t.ChartEngine.Chart.prototype.baseline)},t.inheritsFrom(t.Renderer.Lines,t.Renderer,!1),t.Renderer.Lines.requestNew=function(e,i){var a,r,n,s,o,l;a=null,r=i.step,n=i.colored,Q.z71(),s=i.baseline,o=i.vertex;for(var h=0;h<e.length;h++)switch("w","a","v","e",l=e[h]){case"line":case"mountain":case"wave":case"channel":a=l;break;case"baseline":s=!0;break;case"colored":n=!0;break;case"step":r=!0;break;case"vertex":o=!0;break;case"delta":break;default:return null}return null!==a||s||r?new t.Renderer.Lines({params:t.extend(i,{type:a,step:r,colored:n,baseline:s,vertex:o})}):null},t.Renderer.Lines.prototype.draw=function(){var e,i,a,r,n,s,o,l,h,c;function u(t){var i,a,r,n,s=Q;i=t.fill_color_up||e.getCanvasColor("stx_line_up"),s.z71(),s.z7L(19),a=s.Q7L("2",2147483647);for(var o=1;1261080602!==s.f6U(o.toString(),o.toString().length,48220);o++)r=t.fill_color_down&&e.getCanvasColor("stx_line_down"),n=t.color&&e.getCanvasColor("stx_line_chart"),a+=2;return-1858739654!==s.f6U(a.toString(),a.toString().length,22897)&&(r=t.fill_color_down||e.getCanvasColor("stx_line_down"),n=t.color||e.getCanvasColor("stx_line_chart")),function(e,t,a){return t.iqPrevClose||0===t.iqPrevClose?(s.z71(),t.Close>t.iqPrevClose?i:t.Close<t.iqPrevClose?r:n):n}}for(e=this.stx,i=this.stx.panels[this.params.panel].chart,a={},n=this.seriesParams,s=this.params.colorFunction,r=0;r<n.length;r++){if(o=n[r],this.params.colored){l=["_color_up","_color_down","_color"];for(var d=0;d<l.length;d++)(h=o["border"+l[d]])&&"auto"!=h&&(o["fill"+l[d]]=h);s||(s=u(o)),this.params.colorFunction=s}c={},i.series[o.id]&&(c=t.clone(i.series[o.id].parameters)),a[o.id]={parameters:t.extend(t.extend(c,this.params),o),yValueCache:this.caches[o.id]},this==e.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[o.id].parameters.colorFunction=i.customChart.colorFunction)}for(r in e.drawSeries(i,a,this.params.yAxis,this),a)this.caches[r]=a[r].yValueCache},t.Renderer.Lines.prototype.drawIndividualSeries=function(e,i){var a,r,n,s,o;if(!i.invalid&&(a=this.stx,r=e.context,Q.K71(),n=null,s=i.colorFunction,o=a.panels[i.panel]||e.panel,"string"!=typeof s||(s=t.Renderer.colorFunctions[s])))return i.vertex&&("bev","el",r.save(),r.lineJoin="bevel"),"wave"==i.type?n=a.drawWaveChart(o,i):i.baseline?(n=a.drawBaselineChart(o,i),a.positionBaselineHandle(this)):"mountain"==i.type?(i.returnObject=!0,n=a.drawMountainChart(o,i,s)):"channel"==i.type?(i.returnObject=!0,n=a.drawChannelChart(o,s,i)):(i.returnObject=!0,n=a.drawLineChart(o,i.style,s,i)),i.vertex&&(a.scatter(o,{yAxis:i.yAxis,field:i.symbol||i.field,subField:i.subField,symbol:i.symbol,color:i.vertex_color,highlight:i.highlight}),r.restore()),n},t.Renderer.OHLC=function(e){var t;this.construct(e),(t=this.params).type||(t.type="candle"),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.histogram&&("candl","e",t.type="candle",this.highLowBars=!1,t.volume=t.hollow=!1),"bar"==t.type&&(t.volume=t.hollow=t.histogram=!1),"candle"==t.type&&(t.hlc=t.colored=!1),t.volume&&(t.hollow=!0)},t.inheritsFrom(t.Renderer.OHLC,t.Renderer,!1),t.Renderer.OHLC.requestNew=function(e,i){var a,r,n;a=null,r=i.histogram;for(var s=0;s<e.length;s++)switch(n=e[s]){case"candle":a=n;break;case"histogram":"candl","e",r=!0,a="candle";break;default:return null}return Q.K71(),null===a?null:new t.Renderer.OHLC({params:t.extend(i,{type:a,histogram:r})})},t.Renderer.OHLC.getChartParts=function(e,t){return"fill_color","_down","candl","e","c","an","dle","bo","rder_c","olor_down","s","h","a","dow","ca","ndle","b","order_","color_","even","stx","_histogram_even","h","istogram","histogr","am","fill","_c",Q.K71(),"olor_","up","histo","gram",8,16,32,[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:32,fill:"fill_color_even",border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:8,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:16,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:32,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:16,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0}]},t.Renderer.OHLC.prototype.draw=function(){var e,i,a,r,n,s,o;for(e=this.stx,i=this.stx.panels[this.params.panel].chart,a={},n=this.seriesParams,r=0;r<n.length;r++)s=n[r],o={},i.series[s.id]&&(o=t.clone(i.series[s.id].parameters)),a[s.id]={parameters:t.extend(t.extend(o,this.params),s)},this==e.mainSeriesRenderer&&i.customChart&&i.customChart.colorFunction&&(a[s.id].parameters.colorFunction=i.customChart.colorFunction);for(r in e.drawSeries(i,a,this.params.yAxis,this),a)a[r].yValueCache&&(this.caches[r]=a[r].yValueCache)},t.Renderer.OHLC.prototype.getColor=function(e,i,a,r,n,s){var o,l,h,c,u;return Q.z71(),o=s||a.color,l=this.params.yAxis||i.yAxis,r&&!(o=s||a.borderLeftColor||a["border-left-color"])?null:n?(h=e.pixelFromTransformedValue(l.highValue,i),isNaN(h)&&(h=0),c=a.backgroundColor,o&&!t.isTransparent(o)?((u=e.chart.context.createLinearGradient(0,h,0,2*l[l.flipped?"top":"bottom"]-h)).addColorStop(0,o),u.addColorStop(1,c),u):c):o},t.Renderer.OHLC.prototype.drawIndividualSeries=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T;if("op","e","n",!i.invalid&&(a=this.stx,r=e.context,n=i.colorFunction,s=a.panels[i.panel]||e.panel,"string"!=typeof n||(n=t.Renderer.colorFunctions[n]))){if(o=a.layout.candleWidth-e.tmpWidth<=2&&e.tmpWidth<=3,1,2,4,8,16,32,e.state.chartType||(e.state.chartType={}),l=e.state.chartType.pass={},h=a.colorByCandleDirection,i.colorBasis&&(h="open"==i.colorBasis),c=i.histogram,u=i.type,d=i.hollow,p=a.noWicksOnCandles[u],Q.K71(),a.startClip(s.name),m=null,g={colors:[],cache:[]},f=[],n)y={isHistogram:c,field:i.field,yAxis:i.yAxis,isVolume:i.volume,highlight:i.highlight},c||"bar"!=u?("candle"!=u||p||a.drawShadows(s,n,y),g=a.drawCandles(s,n,y),y.isOutline=!0,!d&&o||a.drawCandles(s,n,y)):("h","l","c",y.type=i.hlc?"hlc":"bar",g=a.drawBarChart(s,"stx_bar_chart",n,y));else{v=c&&!1!==i.gradient,x=t.Renderer.OHLC.getChartParts(i.style,h);for(var M=0;M<x.length;M++)if("b","a","r",!(b=x[M]).skipIfPass||l.even){if(c){if("histogram"!=b.type)continue}else if("bar"==u){if("bar"!=b.type)continue;if(i.colored&&!b.condition)continue;if(!i.colored&&b.condition)continue}else if(d){if("shado","w","hollow"!=b.type)continue;if("shadow"==b.drawType&&p)continue}else{if("candle"!=u)continue;if("shad","o","w","candle"!=b.type)continue;if("shadow"==b.drawType){if(p)continue;if(C=i.border_color_up||a.getCanvasColor("stx_candle_shadow_up"),S=i.border_color_down||a.getCanvasColor("stx_candle_shadow_down"),w=i.border_color_even||a.getCanvasColor("stx_candle_shadow_even"),t.colorsEqual(C,S)&&t.colorsEqual(C,w)&&t.colorsEqual(C,a.defaultColor)){if(b.condition)continue}else if(!b.condition)continue}}k=a.canvasStyle(b.style),L=this.getColor(a,s,k,!1,!1,i[b.fill]),A=this.getColor(a,s,k,!1,v,i[b.fill]),D=this.getColor(a,s,k,b.useBorderStyleProp&&!o,v,i[b.border]),"candle"==b.drawType&&("hol","l","ow","hollow"==b.type?(!t.isTransparent(A)&&t.colorsEqual(D,A)&&(D=b.useColorInMap?"transparent":A),b.useColorInMap||(A=a.containerColor)):"candle"==b.type&&o&&(t.isTransparent(A)?A=D:D=A)),r.globalAlpha=i.opacity,f.push(a.drawBarTypeChartInner({fillColor:A,borderColor:D,condition:b.condition,style:b.style,type:"bar"==u&&i.hlc?"hlc":b.drawType,panel:s,field:i.field,yAxis:i.yAxis,volume:i.volume&&i.hollow,highlight:i.highlight})),m||(m={}),b.useColorInMap&&(m[L]=1)}}for(var F in a.endClip(),m)i.hollow&&t.equals(F,a.containerColor)||g.colors.push(F);for(F=0;F<f.length;F++)for(var P=0;P<f[F].cache.length;P++)((T=f[F].cache[P])||0===T)&&(g.cache[P]=T);return g}},t.Renderer.Candles=function(e){var t;this.construct(e),(t=this.params).type="candle",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,t.hlc=t.colored=t.histogram=!1,t.volume&&(t.hollow=!0)},t.inheritsFrom(t.Renderer.Candles,t.Renderer.OHLC,!1),t.Renderer.SimpleHistogram=function(e){var t;this.construct(e),Q.z71(),(t=this.params).type="candle",t.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,this.highLowBars=!1,t.hlc=t.colored=t.hollow=t.volume=!1},t.inheritsFrom(t.Renderer.SimpleHistogram,t.Renderer.Candles,!1)},v=e=>{var t;(t=e.CIQ).capitalize=function(e){if(!e)return"";Q.z7L(60);var t=Q.Q7L(11,0,11);return e.charAt(0).toUpperCase()+e.slice(t)},Q.z71(),t.camelCaseRegExp=/-([a-z])/g,t.makeCamelCase=function(e){return Q.z71(),e.replace(t.camelCaseRegExp,(function(e){return e[1].toUpperCase()}))},t.uniqueID=function(e){var t,i;return e?(t=(new Date).getTime(),"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var i,a=Q;a.i7L(1);var r=a.W7L(26,10);a.z7L(28);var n=a.W7L(14,4,1832,11,3);return i=(t+Math.random()*r)%n|0,a.z7L(35),t=Math.floor(a.W7L(t,16)),("x"==e?i:3&i|8).toString(16)}))):(i=(new Date).getTime().toString(36),i+=Math.floor(Math.random()*Math.pow(36,2)).toString(36),Q.z71(),i.toUpperCase())}},x=e=>{Q.z71()},b=e=>{var t;(t=e.CIQ).getHostName=function(e){Q.K71();try{return e.match(/:\/\/(.[^/]+)/)[1]}catch(e){return""}},t.qs=function(e){var t,i,a,r;t={},e||(e=window.location.search.substring(1)),i=e.split("&");for(var n=0;n<i.length;n++)(a=i[n].indexOf("="))>0?(r=i[n].substring(0,a),Q.i7L(8),t[r]=i[n].substring(Q.Q7L(a,1))):t[r=i[n]]=null;return t},t.postAjax=function(e,i,a,r,n){var s,o,l,h,c,u,d;if("G","E","T","string"==typeof e&&(e={url:e,payload:i,cb:a,contentType:r,noEpoch:n,method:null,responseHeaders:!1}),s=e.url,o=e.cb,l=e.payload,o||(o=function(){}),e.ungovernable||!t.Extras||!t.Extras.RequestLimiter||!t.Extras.RequestLimiter.hitRequestLimit(s)){if(!(h=new XMLHttpRequest))return!1;if(c=new Date,e.noEpoch||(-1==s.indexOf("?")?s+="?ciqrandom="+c.getTime():s+="&ciqrandom="+c.getTime()),u=e.method,d=e.headers,u||(u=l?"POST":"GET"),h.open(u,s,!0),e.contentType||(e.contentType="application/x-www-form-urlencoded"),l&&h.setRequestHeader("Content-Type",e.contentType),d)for(var p in d)h.setRequestHeader(p,d[p]);e.timeout&&(h.timeout=e.timeout),h.ontimeout=function(){Q.K71(),o(408,null,{})},h.onload=function(){0===this.status?this.status="0":this.status||(this.status=200),o(this.status,this.responseText,function(t){var i,a,r,n;if(i={},e.responseHeaders){a=t.getAllResponseHeaders(),Q.z71(),r=a.split("\n");for(var s=0;s<r.length;s++){for(n=r[s].split(":");n[1]&&" "==n[1].charAt(0);)Q.i7L(19),n[1]=n[1].substring(Q.W7L("1",2147483647));""!==n[0]&&(i[n.shift()]=n.join(":"))}return i}}(this))},h.onerror=function(){o("0",null,{})};try{h.send(l)}catch(e){o("0",e,{})}return!0}o(429,null,{})},t.loadUI=function(e,i,a){var r,n,s,o=Q;if('"',"]","fun","ct","i","on",i&&"function"!=typeof i||(a=i,i=document.body),o.i7L(52),n=function(){var e,r,n,s;o.z71(),e=null;try{e=this.contentDocument}catch(e){return a(e)}if(e&&!e.title){r=e.body.innerHTML,n=document.createElement("div"),t.innerHTML(n,r);for(var l=0;l<n.children.length;l++)s=n.children[l].cloneNode(!0),i.appendChild(s);a(null)}else a(new Error("iFrame not found or document has a title"))},r=document.querySelector(o.W7L('"]',e,'iframe[original-url="'))){"comple","te",s=null;try{s=r.contentDocument}catch(e){return a(e)}"complete"===s.readyState&&s.location&&"about:blank"!==s.location.href?n.call(r):r.addEventListener("load",n)}else{"i","fram","e",(r=document.createElement("iframe")).setAttribute("original-url",e),o.i7L(9);var l=o.Q7L(14,29,14);o.z7L(55);o.Q7L(8618,19,10,11);o.z7L(52);var h=o.Q7L(5783,14,1933);o.i7L(33);var c=o.Q7L(51542,4294,13);o.z7L(8);o.W7L(343,4807);o.z7L(8);var u=o.Q7L(82,1388);o.z7L(1);var d=o.Q7L(70730,64300);o.i7L(25);o.W7L(6300,2245,31500);r.src=e+(e.indexOf("?")===l?h<=c?"B":"?":u>5744?d:"&")+t.uniqueID(),r.hidden=!0,r.addEventListener("load",n),document.body.appendChild(r)}},t.loadScript=function(e,i,a){var r,n,s,o=Q;if(t.loadedScripts||(t.loadedScripts={}),t.loadedScripts[e])i&&i();else{if(r=document.createElement("SCRIPT"),a?(r.type="module",r.crossOrigin="use-credentials"):r.async=!0,r.onload=function(){t.loadedScripts[e]=!0,i&&i()},-1==(n=e).indexOf("?")){o.z7L(102);var l=o.Q7L(8,19938,22437,2);o.i7L(1);var h=o.Q7L(2,1);o.i7L(8);o.Q7L(2462,7385);o.i7L(78);var c=o.Q7L(7728,10,3,16);o.i7L(103);o.Q7L(1,11,6,8417,700);o.i7L(53);var u=o.Q7L(4,96424,42540,2);o.z7L(104);o.W7L(9,6108,6,11,30560);o.z7L(1);var d=o.Q7L(7917,14);o.z7L(34);o.W7L(332,5,15,3988);n=n+(!(792.8<=l)||("799"*h!=c?"?":u>d&&821.64))+Date.now()}else n=n+"&"+Date.now();r.src=n,s=document.getElementsByTagName("script")[0],o.z71(),s?s.parentNode.insertBefore(r,s.nextSibling):document.body.append(r)}},t.loadStylesheet=function(e,t){var i,a,r,n=Q;(i=document.createElement("link")).rel="stylesheet",i.type="text/css",i.media="screen",n.i7L(63);var s=n.Q7L(16,4,9,5749);n.K71(),n.i7L(10);var o=n.Q7L(341,49,1,343);n.i7L(59);n.Q7L(755,16,2,8,64);n.z7L(105);n.W7L(53081,7,18,11,1493851);n.i7L(33);n.Q7L(1183600,79200,15);n.i7L(33);n.W7L(175851,22545,8);n.z7L(106);n.Q7L(20,17,1107,363);n.i7L(25);var l=n.W7L(22320,7434,133920);n.z7L(107);var h=n.W7L(10,0,189,19,1);n.i7L(8);var c=n.W7L(3020,3020);n.z7L(1);var u=n.W7L(15198,14304);i.href=e+(e.indexOf(s>=o?"?":l)===h?"?":c>u&&"&")+Date.now(),i.onload=function(){n.K71(),this.loaded||(this.loaded=!0,t&&t())},a=document.getElementsByTagName("link"),n.z7L(1);var d=n.W7L(13,12);(r=a[a.length-d])?r.parentNode.insertBefore(i,r.nextSibling):document.head.append(i)},t.loadWidget=function(e,i,a,r){i&&"function"!=typeof i||(a=i,i=document.body),Q.i7L(8),t.loadStylesheet(Q.Q7L(e,".css"),(function(){Q.K71(),Q.i7L(8),t.loadUI(Q.W7L(e,".html"),i,(function(i){Q.z71(),i?a(i):(Q.z7L(8),t.loadScript(Q.Q7L(e,".js"),a,r))}))}))},Q.K71(),t.waitForPlugins=function(e,i){var a,r,n,s;if(a=0,r=e.length){for(var o=0;o<r;o++)"lo","ad","ed",n="cq-"+e[o],(s=document.getElementsByTagName(n)[0])&&s.hasAttribute("loaded")&&a++;if(Q.K71(),r!==a)return setTimeout((function(){Q.K71(),t.waitForPlugins(e,i)}),0);i()}else i()},t.addInternalStylesheet=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var i,a,r,n,s;i="pat",i+="h",a="ty",a+="pe",r="s",r+="ty",r+="l",r+="e",n='"',n+="]",e&&(e.default&&(e=e.default),"string"==typeof e&&(t&&document.querySelector('style[path="'+t+n)||((s=document.createElement(r)).setAttribute(a,"text/css"),s.setAttribute(i,t),s.innerText=e,document.head.appendChild(s))))}},C=e=>{var t;(t=e.CIQ).ChartEngine.prototype.registerHTMLElements=function(){var e,i,a,r,n,s;for(var o in e=this.chart.container,t.ChartEngine.htmlControls)if(void 0===this.chart[o]&&void 0===this.controls[o]){if("c","hartCon","trol","s",!this.allowZoom&&"chartControls"==o)continue;if(Q.z7L(8),i=e.querySelector(Q.W7L(".",o)))this.chart[o]=i,this.controls[o]=i;else{if(!(a=t.ChartEngine.htmlControls[o]))continue;(r=document.createElement("DIV")).innerHTML=a,i=r.firstChild,e.appendChild(i),this.chart[o]=i,this.controls[o]=i,i.classList.add(o)}}var l,h,c,{chartControls:u,home:d}=this.controls;u&&(n=u.querySelector(".stx-zoom-in"),s=u.querySelector(".stx-zoom-out"),t.safeClickTouch(n,(h=this,Q.z71(),function(e){h.allowZoom&&h.zoomIn(e),e.stopPropagation()})),t.safeClickTouch(s,(l=this,Q.z71(),function(e){l.allowZoom&&l.zoomOut(e),e.stopPropagation()})),t.touchDevice||(this.makeModal(n),this.makeModal(s))),Q.z71(),d&&(t.safeClickTouch(d,(c=this,function(e){e.stopPropagation(),c.isHistoricalMode()?(delete c.layout.range,Q.z71(),c.loadChart(c.chart.symbol,(function(){Q.K71(),c.home({animate:!1})}))):c.home({animate:!0})})),t.touchDevice||this.makeModal(d))},t.ChartEngine.prototype.home=function(e){var t,i,a,r,n,s,o=Q;function l(e,t,i){return function(){u(e),t.scroll=i,e.draw()}}if(this.swipe.amplitude=0,t=this.layout,"object"!=typeof e&&(e={maintainWhitespace:e}),void 0===e.maintainWhitespace&&(e.maintainWhitespace=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var h in o.i7L(1),this.micropixels=o.Q7L("0",0),i=Math.floor(this.chart.width/t.candleWidth),this.charts)if(a=this.charts[h],!e.chart||e.chart==a){for(r=0,e.maintainWhitespace&&this.preferences.whitespace>=0&&(r=this.preferences.whitespace),(e.whitespace||0===e.whitespace)&&(r=e.whitespace),(n=this.getLabelOffsetInPixels(a,t.chartType))>r&&(r=n),s=Math.min(i,a.dataSet.length),this.chart.allowScrollPast&&(s=i),this.micropixels=this.chart.width-s*t.candleWidth-r,this.preferences.whitespace=r;this.micropixels>t.candleWidth;)s++,this.micropixels-=t.candleWidth;for(;this.micropixels<0;)s--,this.micropixels+=t.candleWidth;if(this.micropixels-=t.candleWidth,s++,!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars){o.z7L(106);var c=o.W7L(14,12,136,9);this.micropixels+=t.candleWidth/c}e.animate?(this,this.scrollTo(a,s,l(this,a,s))):(a.scroll=s,u(this))}this.draw()}else this.draw();function u(e){var t;for(var i in e.panels){t=e.panels[i].yaxisLHS.concat(e.panels[i].yaxisRHS);for(var a=0;a<t.length;a++)e.calculateYAxisMargins(t[a])}}},t.ChartEngine.prototype.headsUpHR=function(){var e,i,a,r,n;function s(e){t.efficientDOMUpdate(a,"innerHTML",e)}this.runPrepend("headsUpHR",arguments)||(e=this.currentPanel)&&(i=e.chart,this.updateFloatHRLabel(e),(a=this.controls.floatDate)&&!i.xAxis.noDraw&&(r=this.barFromPixel(this.cx),(n=i.xaxis[r])&&n.DT?s(t.displayableDate(this,i,n.DT)):n&&n.index?s(n.index):s("")),this.runAppend("headsUpHR",arguments))},t.ChartEngine.prototype.modalBegin=function(){Q.z71(),this.openDialog="modal",this.undisplayCrosshairs()},t.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,this.openDialog="",Q.z71(),this.doDisplayCrosshairs()},t.ChartEngine.prototype.makeModal=function(e){var t,i,a=Q;t=2;for(var r=1;-108732276!==a.f6U(r.toString(),r.toString().length,54252);r++)i=this,a.z7L(1),t+=a.W7L("2",0);1915159426!==a.f6U(t.toString(),t.toString().length,85551)&&(i=this),e.onmouseover=function(e){i.modalBegin()},a.K71(),e.onmouseout=function(e){i.modalEnd()}},t.ChartEngine.prototype.updateChartAccessories=function(){var e,i,a,r,n,s,o,l,h,c,u=Q;if(e="updateCha",e+="rtAccessories",null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),!t.ChartEngine.drawingLine&&t.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100)this.accessoryTimer=setTimeout((c=this,u.K71(),function(){c.updateChartAccessories()}),10);else if(this.chart.dataSet&&!this.runPrepend("updateChartAccessories",arguments)){if(this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),(i=this.controls.floatDate)&&((a=this.currentPanel)||(a=this.chart.panel),a)){r="p",r+="x",n="p",n+="x",s=a.chart,o=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-a.chart.bottom,u.i7L(108);var d=u.W7L(6,3,12,8,1);if(l=i.offsetWidth/d-.5,(h=this.pixelFromTick(this.crosshairTick,s)-l)<0)u.z7L(18),h=u.Q7L(1,"0");else if(h>this.width-2*l-1){u.i7L(30);var p=u.W7L(17,12,13,10);u.z7L(15);var m=u.W7L(1,5,4);h=this.width-p*l-m}t.efficientDOMUpdate(i.style,"left",h+n),t.efficientDOMUpdate(i.style,"bottom",o+r)}this.positionCrosshairsAtPointer(),this.headsUpHR(),this.runAppend(e,arguments)}},t.ChartEngine.prototype.positionSticky=function(e){var t,i,a=Q;t=Math.max(this.cy-e.offsetHeight-60,0),i=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-e.offsetWidth),a.K71(),a.z7L(8),e.style.top=a.Q7L(t,"px"),a.z7L(8),e.style.right=a.Q7L(i,"px")},t.ChartEngine.prototype.displaySticky=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E;i="ob",i+="je",i+="ct",(a=this.controls.mSticky)&&(r=a.querySelector(".mStickyInterior"))&&(n=a.querySelector(".overlayTrashCan"),s=a.querySelector(".overlayEdit"),o=a.querySelector(".mouseDeleteInstructions"),l=a.querySelector(".stickyLongPressText"),o.classList.remove("no_edit"),e&&typeof e==i||(e={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]}),h=e.message,c=e.backgroundColor,u=e.forceShow,d=e.noDelete,p=e.noEdit,m=e.type,u||h?(y=".mStic",y+="kyRig",y+="htClick",v="a",v+="u",v+="to",h||(h=""),x=this.defaultColor,c==v&&(c=x),u&&!h?(b="no",b+="ne",r.style.backgroundColor="",r.style.color="",r.style.display=b):c?(C="inline",C+="-bloc",C+="k",r.style.backgroundColor=c,r.style.color=t.isTransparent(c)?x:t.chooseForegroundColor(c),r.style.display=C):(S="inline-bl",S+="oc",S+="k",r.style.backgroundColor="",r.style.color="",r.style.display=S),r.innerHTML=h,(w=a.querySelector(y)).className="mStickyRightClick",m&&(Q.i7L(8),w.classList.add(Q.W7L("rightclick_",m))),w.style.display="",a.style.display="inline-block",(!(k=this.highlightedDraggable)||k&&k.undraggable&&k.undraggable(this))&&(l.style.display="none"),d||!0===this.bypassRightClick||this.bypassRightClick[m]?(L="n",L+="o",L+="n",L+="e",w.style.display=L):this.highlightViaTap||this.touches.length?(A="h",A+="i",A+="d",A+="e",D="remo",D+="v",D+="e",T="inline-blo",T+="ck",n&&(n.style.display="inline-block"),s&&!p&&(s.style.display=T),o&&(o.style.display="none"),l&&(l.style.display="none"),a.classList[""===h?"add":D](A)):(M="no_e",M+="d",M+="it",p&&o.classList.add(M),o&&(o.style.display="block"),l&&(l.style.display="none",(F=this.preferences.dragging)&&e.panel&&!e.panel.noDrag&&(P="b",P+="lo",P+="c",P+="k",_="s",_+="t",_+="u",_+="dy",!0!==F&&!F.study||m!=_?!0!==F&&!F.series||"series"!=m||(l.style.display=P):l.style.display="block"))),E=m||"default",a.setAttribute("cq-sticky-type",E),(e.positioner||this.positionSticky).call(this,a)):(g="n",g+="o",g+="n",g+="e",f="non",f+="e",r.innerHTML="",a.style.display="none",n&&(n.style.display="none"),s&&(s.style.display=f),o&&(o.style.display=g),l&&(l.style.display="none")))},t.ChartEngine.prototype.displayNotification=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a,r,n,s,o,l,h,c,u=Q;if(a="te",a+="mplate",this.controls.notificationTray){var{callback:d,dismissalListeners:p}=i;n=(r=this.controls.notificationTray).querySelector(a).content.cloneNode(!0),(s=n.firstElementChild).className=e,s.querySelector(".message").textContent=t,d&&(o=window.PointerEvent?"pointerup":"touchend",s.handler=s.addEventListener(o,d)),p&&(s.listeners={},p.forEach(t=>{u.K71(),s.listeners[e]=this.addEventListener(t.type,t.callback)})),u.i7L(19),l=-u.W7L("1445986286",2147483647),h=1118079018,c=2;for(var m=1;u.V6U(m.toString(),m.toString().length,84241)!==l;m++)this.makeModal(s),c+=2;u.f6U(c.toString(),c.toString().length,93578)!==h&&this.makeModal(s),r.appendChild(s)}},t.ChartEngine.prototype.removeNotification=function(e){var t,i;if(this.controls.notificationTray&&(i=(t=this.controls.notificationTray).querySelector(".".concat(e)))){if(i.handler&&i.removeEventListener(i.handler),i.listeners)for(var a in i.listeners)this.removeEventListener(i.listeners[a]);this.modalEnd(),t.removeChild(i)}},t.ChartEngine.prototype.setMeasure=function(e,t,i,a,r,n){var s,o,l,h,c,u,d,p,m,g,f,y=Q;if(s=".mM",s+="ea",s+="sure",!this.runPrepend("setMeasure",arguments)){if(o=(this.drawingContainer||document).querySelector(s),l="",e||0===e){if(!1!==t&&(h=(h=Math.round(Math.abs(e-t)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?l+=this.internationalizer.numbers.format(h):l+=h,e>0&&t>0)){if(u=" ",u+="(",y.i7L(43),c=y.W7L(e,t,e),Math.abs(c)>.1)y.i7L(18),c=Math.round(y.Q7L(100,c));else if(Math.abs(c)>.01){y.z7L(27);var v=y.Q7L(2e4,4759e3,17,14);y.i7L(109);var x=y.Q7L(17,1118,8,8,5);c=Math.round(c*v)/x}else{y.i7L(31);var b=y.Q7L(9986,4,4,9995,9990);c=Math.round(c*b)/100}this.internationalizer?(y.z7L(35),c=this.internationalizer.percent.format(y.Q7L(c,100))):(y.z7L(8),c=y.W7L(c,"%")),y.i7L(52),l+=y.Q7L(")",c,u)}if(!1!==a){y.i7L(1),d=Math.abs(y.Q7L(a,i)),y.z7L(110);var C=y.Q7L(5,18,18,3,7);d=Math.round(d)+C,p=this.translateIf("Bars"),y.z7L(111),l+=y.Q7L(p,d," "," ")}o&&(o.innerHTML=l)}else this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure();this.activeDrawing||(y.z71(),(o=this.controls.mSticky)&&(m=o.querySelector(".mStickyInterior"),r?(g="a",g+="d",g+="d",f="inline-bl",f+="ock",o.style.display=f,m.style.display="inline-block",(e||0===e)&&(m.innerHTML=l),o.classList[""===l?g:"remove"]("hide"),this.positionSticky(o)):(o.style.display="none",m.innerHTML="")),this.runAppend("setMeasure",arguments))}},t.ChartEngine.prototype.clearMeasure=function(){var e;Q.K71(),(e=(this.drawingContainer||document).querySelector(".mMeasure"))&&(e.innerHTML="")},t.ChartEngine.prototype.zoomSet=function(e,i){var a,r,n,s,o=Q;if("n","o","n","e",e=this.constrainCandleWidth(e),"none"!=this.chart.tempCanvas.style.display&&t.clearCanvas(this.chart.tempCanvas,this),!(a=this.mainSeriesRenderer||{}).params||!a.params.volume){if(this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<i.dataSet.length)r=this.crosshairTick||this.tickFromPixel(this.cx,i);else if(this.isHome()){o.i7L(112);var l=o.Q7L(5,17,4,1072,7);r=i.dataSet.length-l}else r=this.chart.scroll>this.chart.dataSet.length?0:"zoom-x"==this.grabMode?this.tickFromPixel(this.chart.width,i):this.tickFromPixel(this.chart.width/2,i);this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),o.i7L(70);var h=o.Q7L(7,16,4,3);n=i.dataSet.length-h-r,s=i.scroll,o.z7L(1);var c=o.W7L(5,4);i.scroll=Math.round((this.pixelFromTick(r,i)-i.left)/e)+c+n,this.micropixels+=(s-n)*this.layout.candleWidth-(i.scroll-n)*e}this.setCandleWidth(e),i.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()}},S=e=>{var t;(t=e.CIQ).ChartEngine.prototype.currentBaseline=null,Q.z71(),t.ChartEngine.prototype.baselineHelper=null,t.ChartEngine.helpersToRegister.push((function(e){Q.K71(),e.baselineHelper=new Map})),t.ChartEngine.prototype.registerBaselineToHelper=function(e){var t,i;if(e.params.baseline){var a,r,{baselineHelper:n}=this;if(t=this,Q.z71(),!n.has(e)){var{name:s}=e.params;i=this.controls.baselineHandle,n.set(e,{styleCache:null,display:!1,handle:"_main_series"===s&&i?i:(a=s,a=a.replace(" ","_"),(r=document.createElement("cq-baseline-handle")).classList.add("stx-baseline-handle",a),t.container.append(r),t.controls["".concat(a," cq-baseline-handle")]=r,r)})}}},t.ChartEngine.prototype.removeBaselineFromHelper=function(e){var t,i,a;t=2;for(var r=1;-984814535!==Q.V6U(r.toString(),r.toString().length,33427);r++){var{baselineHelper:n}=this;t+=2}if(1901593348!==Q.f6U(t.toString(),t.toString().length,83973))var{baselineHelper:n}=this;n.has(e)&&("_main_series"!==(i=e.params.name.replace(" ","_"))&&(a=n.get(e).handle,delete this.controls["".concat(i," cq-baseline-handle")],this.container.removeChild(a)),n.delete(e))},t.ChartEngine.prototype.findBaselineHandle=function(e,t){for(var i of(Q.z71(),this.baselineHelper)){var[a,r]=i,{handle:n}=r;if(e.target===n||e.composedPath&&e.composedPath().includes(n))return t&&("stx-","gr","ab",this.repositioningBaseline={lastDraw:Date.now(),handle:n,renderer:a},n.classList.add("stx-grab")),this.currentBaseline=a,!0}return!1},t.ChartEngine.prototype.setBaselines=function(e){var t;e||(e=this.chart),t=this;var{baselineHelper:i}=this;i.forEach((function(a,r){var n,s,o,l,{baseline:h}=r.params;Q.z7L(113),(n=Q.W7L(h,!0))&&(h=e.baseline);var{defaultLevel:c,userLevel:u}=h;(s=r.getYAxis(t))&&(l=(o=t.getYAxisBaselineRenderer(s))&&o!=t.mainSeriesRenderer&&o.seriesParams.length&&o.seriesParams[0].id,h.actualLevel=u||0===u?u:c,h.actualLevel||0===h.actualLevel||(h.actualLevel=function(i,a){var r,n,s,o,l,{dataSegment:h,dataSet:c,defaultPlotField:u}=e;for(r=u,a||(r=i),n=t.getFirstLastDataRecord(h,"tick").tick;;){if(s=c[n])if("Cl","o","s","e",a&&"Close"==r){if(s.iqPrevClose||0===s.iqPrevClose)return s.iqPrevClose}else if(Q.i7L(1),(o=c[Q.W7L(n,1)])&&(o[r]||0===o[r]))return"object"==typeof(l=o[r])?l[u]:l;if(--n<0)break}}(l,n)),a.display=o===r,i.set(r,a))}))},t.ChartEngine.prototype.setBaselineUserLevel=function(){var e,i,a;Q.K71();var{chart:r,currentPanel:n}=this,{lastDraw:s,renderer:o}=this.repositioningBaseline;if(o.params.panel==n.name){var{baseline:l}=r;e="object"==typeof o.params.baseline?o.params.baseline:l,i=o.getYAxis(this),a=this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),n,i),e.userLevel=this.adjustIfNecessary(n,this.crosshairTick,a),Date.now()-s>100&&(this.draw(),this.repositioningBaseline.lastDraw=Date.now())}},t.ChartEngine.prototype.setBaselineMinMax=function(e,t){var i,a,r,{baselineHelper:n,chart:s,repositioningBaseline:o}=this,{baseline:l,seriesRenderers:h}=s;if(i=s.transformFunc&&t===s.panel.yAxis,!(a=t.renderers.find(e=>(Q.K71(),n.get(h[e])))))return e;var{baseline:c,type:u}=h[a].params;if("mountain"===u)return e;c="object"==typeof c?c:l;var{actualLevel:d}=c;return(d||0===d)&&(i&&(d=s.transformFunc(this,s,d)),r=Math.max(d-e[0],e[1]-d),e[0]=o?t.lowValue:d-r,e[1]=o?t.highValue:d+r),Q.z71(),e},t.ChartEngine.prototype.positionBaselineHandle=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f=Q;if("stx","-gr","ab",this.manageTouchAndMouse){var{baselineHelper:y,chart:v,panels:x}=this,{baseline:b,panel:C}=e.params;i=e.params.yAxis||e.getYAxis(this);var{display:S,handle:w,styleCache:k}=y.get(e);if(!0===b&&(b=v.baseline),!1!==b.userLevel&&S){a=x[C],r=w.classList.contains("stx-grab"),n="block",s=b.actualLevel,v.transformFunc&&(s=v.transformFunc(this,v,s)),s>i.high?("n","o","n","e",s=i.high,r||(n="none")):s<i.low&&(s=i.low,r||(n="none")),v.untransformFunc&&(s=v.untransformFunc(this,v,s)),o=this.pixelFromPrice(s,a,i),k||(k=getComputedStyle(w)),l=t.stripPX(k.width),f.i7L(12);var L=f.Q7L(13,9,1,6);if(h="".concat(o-t.stripPX(k.height)/L,"px"),u=this.baselineHandleBuffer||2,d=a.yaxisRHS.indexOf(i)+1)p=1===d?u:u*d,c="".concat(v.right-l*d-p,"px");else{f.i7L(33);var A=f.Q7L(23,2,12);g=1===(m=a.yaxisLHS.slice(0).reverse().indexOf(i)+A)?u:u*m,c="".concat(v.left+l*m+g-l,"px")}Object.assign(w.style,{display:n,top:h,left:c})}else w.style.display="none"}},t.ChartEngine.prototype.getYAxisBaselineRenderer=function(e){var t;if(!e.renderers.length)return null;var{baselineHelper:i,chart:a}=this;return(t=e.renderers.find(e=>i.get(a.seriesRenderers[e])))?a.seriesRenderers[t]:null},t.ChartEngine.prototype.getYAxisBaseline=function(e){var t;Q.z71();var{baseline:i}=this.chart;if(!(t=this.getYAxisBaselineRenderer(e)))return i;var{baseline:a}=t.params;return"object"==typeof a?a:i}},w=e=>{var t;(t=e.CIQ).ChartEngine.Chart=function(){this.xAxis=new t.ChartEngine.XAxis,this.yAxis=new t.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],Q.K71(),this.state={},this.endPoints={},this.defaultChartStyleConfig={},this.baseline=t.clone(this.baseline),this.panel=void 0},t.extend(t.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!0,roundit:100,breakpoint:null,legendRenderer:t.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:"Close",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1,calculateTradingDecimalPlaces:t.calculateTradingDecimalPlaces},!0)},k=e=>{var t;(t=e.CIQ).ChartEngine.prototype.resolveY=function(e){return this.top+e},t.ChartEngine.prototype.resolveX=function(e){return this.left+e},t.ChartEngine.prototype.backOutY=function(e){return Q.K71(),e-this.top},t.ChartEngine.prototype.backOutX=function(e){return Q.K71(),e-this.left},t.ChartEngine.prototype.dateFromTick=function(e,i,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dataSet";var n,s,o,l,h,c,u=Q;return i||(i=this.chart),c=!1,0===(s=(n=i[r]).length)&&(n[0]={},n[0].DT=new Date,s=n.length,c=!0),e<0?o=(l=this.standardMarketIterator(n[0].DT))?l.previous(Math.abs(e)):n[0].DT:e>=s?(l=this.standardMarketIterator(n[s-1].DT))?(u.z7L(114),o=l.next(u.Q7L(1,e,s))):o=n[s-1].DT:o=n[e].DT,a?h=new Date(o.getTime()):(u.i7L(23),h=t.yyyymmddhhmmssmmm(o).substr(0,u.W7L(0,"12"))),c&&delete n[0].DT,h},t.ChartEngine.prototype.tickFromDate=function(e,i,a,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"dataSet";var s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k=Q;if(i||(i=this.chart),!(s=i[n])||!s.length)return 0;if(a||(a=0),o=e.constructor==Date?e:t.strToDateTime(e),t.ChartEngine.isDailyInterval(this.layout.interval)||o.setMinutes(o.getMinutes()+a),l=o.getTime(),i.tickCache[n]||(i.tickCache[n]={}),(h=i.tickCache[n][l])||0===h)return r?Math.ceil(h):Math.floor(h);if(c=s[0].DT,u=s[s.length-1].DT,o>=c&&o<=u){d=0,p=-1724227718,m=-50832600,g=2;for(var L=1;k.V6U(L.toString(),L.toString().length,92787)!==p;L++)f=s.length,y=0,g+=2;for(k.V6U(g.toString(),g.toString().length,83045)!==m&&(f=s.length,y=1);++y<100;){if(k.i7L(44),+(x=s[v=Math.floor(k.W7L(2,d,f))].DT)==+o)return i.tickCache[n][l]=v,v;if(x<o&&(d=v),x>o){if(s[v-1].DT<o)return k.i7L(1),i.tickCache[n][l]=k.Q7L(v,.5),r?v:v-1;if(+s[v-1].DT==+o)return k.i7L(115),i.tickCache[n][l]=k.W7L(v,"1",1),k.z7L(116),k.Q7L(v,"1");f=v}}if(y>=100)return console.log("!!!Warning: tickFromDate() did not find match."),s.length}return k.i7L(82),C=(b=k.W7L(c,o))?c:u,w=(S=this.standardMarketIterator(C))?S.futureTick({end:o}):0,h=b?-1*w:s.length-1+w,i.tickCache[n][l]=h,h},t.ChartEngine.prototype.pixelFromBar=function(e,t){var i,a,r,n=Q;t||(t=this.chart),i=0,i=(a=this.chart.segmentImage)&&a[e]&&a[e].leftOffset?a[e].leftOffset:(e+.5)*this.layout.candleWidth,n.i7L(32);var s=n.Q7L(0,20,19);n.z71(),i=t.panel.left+Math.floor(i+this.micropixels)-"1"*s,n.z7L(23),r=-n.Q7L(13385728,"281829761");for(var o=1;1434775076!==n.f6U(o.toString(),o.toString().length,88670);o++)return i;if(n.f6U(2..toString(),2..toString().length,56695)!==r)return i},t.ChartEngine.prototype.barFromPixel=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g=Q;if(t||(t=this.chart),i=this.chart.segmentImage,a=this.micropixels,r=this.layout.candleWidth,i){n=e-t.panel.left-a,s=2,l=i.length,g.z7L(35),h=Math.round(g.W7L(l,s)),g.z7L(117);var f=g.Q7L(5,19,23,8);g.i7L(70);var y=g.W7L(18,325,16,19);g.i7L(32);var v=g.Q7L(0,16,14);if(n>(d=i[l-f].leftOffset+i[l-y].candleWidth/v))return l+Math.floor((e-d-t.panel.left-a)/r);for(var x=1;x<l&&(s*=2,o=i[h]);x++){c=o.leftOffset,g.i7L(9);var b=g.Q7L(20,36,18);if(u=o.candleWidth/b,g.i7L(1),p=g.W7L(c,u),g.z7L(8),m=g.W7L(c,u),0===h||n>=p&&n<m)break;n<p?h-=Math.max(1,Math.round(l/s)):h+=Math.max(1,Math.round(l/s)),h=Math.max(0,Math.min(l-1,h))}if(!i[h])for(x=0;x<l;x++)if(o=i[x]){c=o.leftOffset,g.z7L(1);var C=g.W7L(6,4);if(n<c-(u=o.candleWidth/C))return g.z7L(1),Math.max(0,g.W7L(x,1));if(n<c+u)return x;if(n>=c+u)return g.i7L(8),g.Q7L(x,1)}return h}return Math.floor((e-t.panel.left-a)/r)},t.ChartEngine.prototype.tickFromPixel=function(e,t){var i;return t||(t=this.chart),i=t.dataSet.length-t.scroll,t.segmentImage?i+=this.barFromPixel(e,t):i+=Math.floor((e-t.panel.left-this.micropixels)/this.layout.candleWidth),i},t.ChartEngine.prototype.pixelFromTick=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p=Q;if(t||(t=this.chart),i=t.dataSegment,a=t.dataSet,r=t.segmentImage,n=this.micropixels,s=i?i.length:0,o=t.panel,l=t.scroll,h=e-a.length+l,c=s?i[h]:null,r&&(c=r[h]),c&&c.leftOffset)return o.left+Math.floor(c.leftOffset+n);if(u=0,d=0,c=s?i[s-1]:null,r&&(p.i7L(1),c=r[p.W7L(s,1)]),c&&c.leftOffset&&s<e-a.length+l){p.i7L(10);var m=p.W7L(1,16,1,16);u=c.leftOffset-c.candleWidth/m,d=s}return u+o.left+Math.floor((e-d-a.length+l+.5)*this.layout.candleWidth+n)},t.ChartEngine.prototype.pixelFromDate=function(e,t,i,a){return this.pixelFromTick(this.tickFromDate(e,t,i,a),t)},t.ChartEngine.prototype.transformedPriceFromPixel=function(e,t,i){var a,r,n;if(t||(t=this.chart.panel),e=(a=i||t.yAxis).bottom-e,a.semiLog)n=e*a.logShadow/a.height,a.flipped?n=a.logHigh-n:n+=a.logLow,r=Math.pow(10,n);else{if(!a.multiplier)return null;r=e/a.multiplier,a.flipped?r=a.high-r:r+=a.low}return Q.K71(),r},t.ChartEngine.prototype.priceFromPixel=function(e,t,i){var a;return t||(t=this.chart.panel),a=this.transformedPriceFromPixel(e,t,i),this.charts[t.name]&&t.chart.untransformFunc&&(i&&i!=t.yAxis||(a=t.chart.untransformFunc(this,t.chart,a,i))),a},t.ChartEngine.prototype.valueFromPixel=function(e,t,i){var a;return Q.z71(),t||(t=this.whichPanel(e)),t||(a=Object.values(this.panels))&&a.length&&(t=e<=0?a.shift():a.pop()),this.priceFromPixel(e,t,i)},t.ChartEngine.prototype.valueFromInterpolation=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,m,g,f,y,v,x=Q;return"und","efin","e","d",null===e||e<0||!i?null:(r||(r=this.chart.panel),n||(n=r.yAxis),a||(a=this.chart.defaultPlotField),(s=this.getPreviousBar(this.chart,i,e))?((l=t.existsInObjectChain(s,i))&&(o=l.obj[l.member]),"object"==typeof o&&(o=o[a]),(h=this.getRendererFromSeries(i))&&h.params.step||"step"===this.layout.chartType?o:(c=this.getNextBar(this.chart,i,e),(l=t.existsInObjectChain(c,i))&&(u=l.obj[l.member]),"object"==typeof u&&(u=u[a]),c?null==o||null==u?null:(d=this.pixelFromPrice(o,r,n),p=this.pixelFromPrice(u,r,n),m=s.tick,g=c.tick,x.z7L(118),f=x.W7L(p,m,d,g),y=this.chart.dataSegment[e].tick,x.z7L(119),v=x.W7L(m,f,y,d),this.priceFromPixel(v,r,n)):null)):null)},t.ChartEngine.prototype.pixelFromTransformedValue=function(e,t,i){var a,r,n,s,o;return t||(t=this.chart.panel),Q.K71(),r=((a=i||t.yAxis).high-e)*a.multiplier,a.semiLog&&(n=Math.max(e,0),s=Math.log(n)/Math.LN10,r=(o=a.height)-o*(s-a.logLow)/a.logShadow),r=a.flipped?a.bottom-r:a.top+r},t.ChartEngine.prototype.pixelFromPrice=function(e,t,i){return t||(t=this.chart.panel),this.charts[t.name]&&t.chart.transformFunc&&(i&&i!=t.yAxis||(e=t.chart.transformFunc(this,t.chart,e,i))),this.pixelFromTransformedValue(e,t,i)},t.ChartEngine.prototype.pixelFromValueAdjusted=function(e,t,i,a){var r,n;return this.layout.adj||!this.charts[e.name]?this.pixelFromPrice(i,e,a):(r=Math.round(t))>0&&r<e.chart.dataSet.length&&(n=e.chart.dataSet[r].ratio)?(Q.z7L(18),this.pixelFromPrice(Q.Q7L(n,i),e,a)):this.pixelFromPrice(i,e,a)},t.ChartEngine.prototype.adjustIfNecessary=function(e,t,i){var a,r;return this.layout.adj?i:e&&this.charts[e.name]?(a=Math.round(t),Q.K71(),a>0&&a<e.chart.dataSet.length&&(r=e.chart.dataSet[a].ratio)?(Q.z7L(35),Q.Q7L(i,r)):i):i}},L=e=>{var t;(t=e.CIQ).ChartEngine.prototype.positionCrosshairsAtPointer=function(){var e,i,a,r,n,s,o,l,h=Q;if(e="position",e+="Crosshair",e+="sAtPointer",(i=this.currentPanel)&&!(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||this.runPrepend("positionCrosshairsAtPointer",arguments))){a=i.chart,r=this.container.getBoundingClientRect(),this.top=r.top,this.left=r.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(t.ChartEngine.crosshairY),this.cx=this.backOutX(t.ChartEngine.crosshairX),n=this.crosshairTick=this.tickFromPixel(this.cx,a),h.z7L(120);var c=h.Q7L(11,16,4,0,8);s=this.pixelFromTick(n,a)-c,this.controls.crossX&&(h.i7L(8),this.controls.crossX.style.left=h.Q7L(s,"px")),s>=i.right||s<=i.left?this.undisplayCrosshairs():(o="chart"==i.name?this.preferences.horizontalCrosshairField:i.horizontalCrosshairField,l=a.dataSet,o&&l&&n<l.length&&n>-1&&(this.crossYActualPos=this.pixelFromPrice(l[n][o],i)),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.runAppend(e,arguments))}},t.ChartEngine.prototype.doDisplayCrosshairs=function(){var e,i,a,r,n,s,o;Q.K71(),e="doDispl",e+="ayCros",e+="shairs",this.runPrepend(e,arguments)||(this.displayInitialized&&(i=this.floatCanvas,a=this.currentVectorParameters.vectorType,this.layout.crosshair||""!==a&&a?t.Drawing&&t.Drawing[a]&&(new t.Drawing[a]).dragToDraw||this.overXAxis||this.overYAxis||!this.insideChart&&!this.grabbingScreen||""!==this.openDialog?this.undisplayCrosshairs():(n=(r=this.controls).crossX,s=r.crossY,n&&""!==n.style.display&&(n.style.display="",s&&(s.style.display=""),this.magnetizedPrice&&a?(o="s",o+="t",o+="x-crosshair-on",this.container.classList.remove(o),this.chart.tempCanvas.style.display="block"):this.container.classList.add("stx-crosshair-on")),r.floatDate&&!this.chart.xAxis.noDraw&&(r.floatDate.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),i&&("none"==i.style.display&&t.clearCanvas(i,this),i.style.display="block")):this.undisplayCrosshairs()),this.runAppend("doDisplayCrosshairs",arguments))},t.ChartEngine.prototype.undisplayCrosshairs=function(){var e,i,a,r,n,s,o,l,h,c;e="undisplayCrossh",e+="air",e+="s",i="n",i+="o",i+="n",i+="e",a="un",a+="displayC",a+="ross",a+="hairs",this.runPrepend(a,arguments)||(n=(r=this.controls).crossX,s=r.crossY,n&&(o="n",o+="o",o+="ne",n.style.display!=o&&(l="n",l+="o",l+="n",l+="e",n.style.display="none",s&&(s.style.display=l))),this.displayInitialized&&r.floatDate&&(r.floatDate.style.visibility="hidden"),this.container.classList.remove("stx-crosshair-on"),(h=this.floatCanvas)&&h.isDirty&&h.style.display!=i&&(t.clearCanvas(h,this),"none"!=h.style.display&&(h.style.display="none")),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(c=this.chart.tempCanvas)&&"none"!=c.style.display&&(c.style.display="none"),this.runAppend(e,arguments))},t.ChartEngine.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1},t.ChartEngine.prototype.showCrosshairs=function(){Q.K71(),this.displayCrosshairs=!0}},A=e=>{var t,i;t=e.CIQ,i=e.timezoneJS,t.ChartEngine.prototype.loadChart=function(e,i,a){var r,n,s,o,l,h,c,u;a||"function"!=typeof i?Array.isArray(i)&&(i={masterData:i}):(a=i,i={}),i||(i={});var{chart:d,periodicity:p,range:m,span:g}=i,{layout:f}=this;r={periodicity:f.periodicity,interval:f.interval,timeUnit:f.timeUnit},p&&(n=t.cleanPeriodicity(p.period?p.period:p.periodicity,p.interval,p.timeUnit),f.interval=n.interval,f.periodicity=n.period,f.timeUnit=n.timeUnit),d||(d=this.chart);var{dataSet:y,market:v,masterData:x,symbol:b,moreAvailable:C,upToDate:S}=d;function w(){l.dispatch(l.currentlyImporting?"symbolImport":"symbolChange",{stx:l,symbol:d.symbol,symbolObject:d.symbolObject,prevSymbol:b,prevSymbolObject:s,action:"master"}),p&&l.dispatch("periodicity",{stx:l,differentData:!0,prevPeriodicity:r})}if(s=t.clone(d.symbolObject),d.dataSet=[],d.masterData=[],d.moreAvailable=null,d.upToDate=null,e?"object"==typeof e?(d.symbol=e.symbol,d.symbolObject=e):(d.symbol=e,d.symbolObject.symbol=e):(d.symbol=null,d.symbolObject={symbol:null}),d.inflectionPoint=null,this.marketFactory&&(o=this.marketFactory(d.symbolObject),this.setMarket(o,d)),this.setMainSeriesRenderer(!0),m||g||!f?m&&g&&(g={}):(g=f.range?{}:f.setSpan,m=f.range||{}),this.clearCurrentMarketData(d),l=this,!i.masterData&&this.quoteDriver)h=function(e){var t,i,r=Q;if(e&&"orphaned"!=e){d.symbol=b,d.symbolObject=s,d.market=v,l.masterData=d.masterData=x,r.z7L(18),t=-r.Q7L(1,"351967253"),-1214950284,i=2;for(var n=1;r.V6U(n.toString(),n.toString().length,73037)!==t;n++)d.dataSet=y,r.i7L(23),i+=r.W7L(2,"2");-1214950284!==r.f6U(i.toString(),i.toString().length,16080)&&(d.dataSet=y),d.dataSet=y,d.moreAvailable=C,d.upToDate=S}w(),r.K71(),a&&a.call(l,e)},m&&Object.keys(m).length&&this.setRange?(delete i.span,delete f.setSpan,this.chart.masterData=null,this.displayInitialized=!1,p&&(m.periodicity=p),m.forceLoad=!0,this.setRange(m,h)):g&&g.base&&this.setSpan?(g.multiplier=g.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,p&&(g.maintainPeriodicity=!0),g.forceLoad=!0,this.setSpan(g,h)):this.quoteDriver.newChart({symbol:d.symbol,symbolObject:d.symbolObject,chart:d,initializeChart:!0},(function(e){e||(l.adjustPanelPositions(),l.quoteDriver.updateSubscriptions(),i.stretchToFillScreen&&l.fillScreen()),h.apply(l,arguments)}));else{if(i.masterData||console.log("Warning: No masterData specified and no QuoteFeed configured"),d.symbol||(d.symbol=""),this.initializeChart(),c=this.doCleanupGaps(i.masterData,d),this.setMasterData(c,d,{noCleanupDates:!0}),d.endPoints={},c&&c.length&&(d.endPoints={begin:c[0].DT,end:c[c.length-1].DT}),this.createDataSet(),m&&Object.keys(m).length&&this.setRange)this.setRange(m);else if(g&&g.multiplier&&g.base&&this.setSpan){-857083634,-534144498,u=2;for(var k=1;-857083634!==Q.V6U(k.toString(),k.toString().length,40710);k++)this.setSpan({maintainPeriodicity:!1,multiplier:g.multiplier,base:g.base}),u+=2;-534144498!==Q.V6U(u.toString(),u.toString().length,6023)&&this.setSpan({maintainPeriodicity:!0,multiplier:g.multiplier,base:g.base})}else i.stretchToFillScreen?this.fillScreen():c&&c.length?this.home():this.clear();this.adjustPanelPositions(),w(),a&&a.call(l)}},t.ChartEngine.prototype.loadBlankChart=function(){this.loadChart(null,[])},t.ChartEngine.prototype.getDataFields=function(e){var t,i,a;for(var r in"Op","en",e||(e=this.chart),t=e.defaultPlotField||"Close",(i=["Open","High","Low"]).push(t),e.series)a=e.series[r].parameters,i.push(a.symbol);return Q.K71(),i},t.ChartEngine.prototype.cleanMasterData=function(e,t){var i,a,r,n,s;function o(e,t){for(var i=0;i<t.length;i++)if("und","efine","d",void 0!==e[t[i]])return!1;return!0}if(i=e.symbol,(a=t.masterData)&&a.length){r=this.getDataFields(t),n=0;do{delete(s=a[n])[i],o.call(this,s,r)?a.splice(n,1):n++}while(n<a.length);a=this.doCleanupGaps(a,t,{noCleanupDates:!0}),this.setMasterData(a,t,{noCleanupDates:!0}),this.clearCurrentMarketData(t,i)}},t.ChartEngine.prototype.calculateATR=function(e,t,i){var a,r,n,s,o,l,h=Q;i||(i=e.dataSet),(a=e.state.calculations.atr)||(a=e.state.calculations.atr={}),t||(h.z7L(23),t=h.W7L(20,"20")),r=[],a.accum&&(r=a.accum);for(var c=0;c<i.length;c++)if(s=i[c],n=c?i[c-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-n.Close),Math.abs(s.Low-n.Close)),r.length<t){if(r.push(o)==t){l=0;for(var u=0;u<r.length;u++)l+=r[u];h.z7L(35),s.atr=h.W7L(l,t)}}else{h.i7L(33);var d=h.W7L(21,11,2);s.atr=(n.atr*(t-d)+o)/t}s.trueRange=o}e.state.calculations.atr={accum:r,q1:n}},t.ChartEngine.prototype.calculateMedianPrice=function(e,t){var i;t||(t=e.dataSet);for(var a=0;a<t.length;++a){i=t[a],Q.z7L(26);var r=Q.W7L(2,16,18,4,8);i["hl/2"]=(i.High+i.Low)/r}},t.ChartEngine.prototype.calculateTypicalPrice=function(e,t){var i;Q.K71(),t||(t=e.dataSet);for(var a=0;a<t.length;++a){i=t[a],Q.z7L(121);var r=Q.Q7L(4,12,1,123,18);i["hlc/3"]=(i.High+i.Low+i.Close)/r}},t.ChartEngine.prototype.calculateWeightedClose=function(e,t){var i,a=Q;t||(t=e.dataSet);for(var r=0;r<t.length;++r){"hl","c","c/","4",i=t[r],a.i7L(37);var n=a.Q7L(7,5);a.z7L(122);var s=a.W7L(72,18,10,3,695);i["hlcc/4"]=(i.High+i.Low+n*i.Close)/s}},t.ChartEngine.prototype.calculateOHLC4=function(e,t){var i;t||(t=e.dataSet);for(var a=0;a<t.length;++a)(i=t[a])["ohlc/4"]=(i.Open+i.High+i.Low+i.Close)/4},t.ChartEngine.prototype.currentQuote=function(e){var t;if(Q.K71(),!this.chart.dataSet)return null;for(var i=this.chart.dataSet.length-1;i>=0;i--)if(this.chart.dataSet[i]){if(!e)return this.chart.dataSet[i];if((t=this.chart.dataSet[i][e])||0===t)return this.chart.dataSet[i]}return null},t.ChartEngine.prototype.mostRecentClose=function(e){var t,i;if(!this.chart.dataSet)return null;for(var a=this.chart.dataSet.length-1;a>=0;a--)if((t=this.chart.dataSet[a])&&(!e||(t=t[e])||0===t)){if(i=t.iqPrevClose,"object"==typeof t&&(t=t.Close),"number"==typeof t)return t;if("number"==typeof i)return i}return null},t.ChartEngine.prototype.createDataSegment=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=Q;if(!this.runPrepend("createDataSegment",arguments)){for(var C in b.K71(),this.charts){i=this.charts[C],e&&(i=e),t.Comparison&&i.isComparison&&t.Comparison.createComparisonSegmentInner(this,i),a=i.dataSet,r=i.baseline,n=i.scroll,s=i.maxTicks,l=(o=this.layout).candleWidth,r.actualLevel=r.userLevel?r.userLevel:r.defaultLevel,h=r.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars),u=0,d=i.dataSegment=[],b.i7L(123);var S=b.Q7L(7,6,5,9,4);b.i7L(32);var w=b.Q7L(6,13,18);p=a.length-S-n-w,m=i.defaultPlotField;for(var k=-1;k<n&&k<s;k++)p++,(-1!=k||h)&&(p<a.length&&p>=0?((c=a[p]).candleWidth=null,c&&(u+=c.Volume||1),d.push(c),null===r.actualLevel&&k>=0&&(m&&"Close"!=m?(b.z7L(1),(g=a[b.Q7L(p,1)])&&(g[m]||0===g[m])&&(r.actualLevel=g[m])):(c.iqPrevClose||0===c.iqPrevClose)&&(r.actualLevel=c.iqPrevClose))):p<0&&d.push(null));if(i.segmentImage=null,(f=this.mainSeriesRenderer||{}).params&&f.params.volume){b.i7L(13);var L=b.Q7L(6,6,14,14,1);y=i.width-(s-d.length-L)*o.candleWidth,v=0,i.segmentImage=[];for(var A=0;A<d.length;A++)if(c=d[A],i.segmentImage[A]={},x=null,c){if(c.Volume){c.candleWidth=y*c.Volume/u,b.i7L(30);var D=b.Q7L(0,9,6,17);x=v+c.candleWidth/D,v+=c.candleWidth}else c.candleWidth=l,b.i7L(49),x=b.Q7L(l,2,v),v+=l;i.segmentImage[A]={tick:c.tick,candleWidth:c.candleWidth,leftOffset:x}}else v+=l}if(e)break}i&&i.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend("createDataSegment",arguments)}},t.ChartEngine.prototype.getDataSegment=function(e){var t,i,a;return e||(e=this.chart),(t=e.dataSegment)&&t.length?(i=0,a=t.length,Q.z71(),this.pixelFromBar(i,e)<e.panel.left&&i++,this.pixelFromBar(a-1,e)>e.panel.right&&a--,t.slice(i,a)):[]},t.ChartEngine.prototype.setMasterData=function(e,i,a){var r,n,s,o,l;for(i||(i=this.chart),this.marketFactory&&(r=this.marketFactory(i.symbolObject),this.setMarket(r,i)),a||(a={}),a.noCleanupDates||this.doCleanupDates(e,this.layout.interval),i.masterData=e,"chart"==i.name&&(this.masterData=e),s=null,n=0;e&&n<e.length;n++)"nu","mber",o=e[n],null===s&&("n","um","ber","number"==typeof o.Close?s="Close":"number"==typeof o.Value&&("Va","lu","e",s="Value")),"Value"===s&&"number"==typeof o.Value&&(o.Close=o.Value),o.DT?("[object Date]"!=Object.prototype.toString.call(o.DT)&&(o.DT=new Date(o.DT)),o.Date&&17==o.Date.length||(o.Date=t.yyyymmddhhmmssmmm(o.DT))):o.Date?o.DT=t.strToDateTime(o.Date):console.log("setMasterData : Missing DT and Date on masterData object"),o.Volume&&"number"!=typeof o.Volume&&(o.Volume=parseInt(o.Volume,10)),e.length-n<50&&this.updateCurrentMarketData(o,i,null,{fromTrade:!0});for(n in i.calculateTradingDecimalPlaces&&(i.decimalPlaces=i.calculateTradingDecimalPlaces({stx:this,chart:i,symbol:i.symbolObject.symbol,symbolObject:i.symbolObject})),this.setDisplayDates(e),i.roundit=Math.pow(10,i.decimalPlaces),this.plugins)(l=this.plugins[n]).display&&l.setMasterData&&l.setMasterData(this,i)},t.ChartEngine.prototype.setMasterDataRender=function(e,t,i){i||(i=this.chart),i.symbol||(i.symbol=""),this.setMasterData(t,i),t&&(i.endPoints={},t.length&&(i.endPoints={begin:t[0].DT,end:t[t.length-1].DT},i.symbol=e)),this.createDataSet(),this.initializeChart(),this.draw(),t&&t.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},t.ChartEngine.prototype.getSymbols=function(e){var i,a,r,n,s,o,l,h,c,u;for(var d in e||(e={}),i=[],r=this.layout,this.charts)for(var p in(o=this.charts[d]).symbolObject&&o.symbolObject.symbol&&i.push(m(o.symbol,o.symbolObject,r)),o.series)"e","xclude-gener","ated","exclude","-s","tudie","s",(l=o.series[p].parameters).data&&!l.data.useDefaultQuoteFeed||(s=l.symbolObject,(a=m(n=l.symbol,s,r)).id=p,e["include-parameters"]&&(a.parameters=t.clone(l),a.parameters.yAxis&&delete a.parameters.yAxis.yAxisPlotter),e["exclude-studies"]&&"study"==l.bucket||e["exclude-generated"]&&s.generator||i.push(a));function m(e,t,i){return Q.z71(),{symbol:e,symbolObject:t,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}if(e["breakout-equations"]){h={};for(var g=0;g<i.length;g++)if(n=i[g].symbol,this.isEquationChart(n)){if(c=t.formatEquation(n)){u=c.symbols;for(var f=0;f<u.length;f++)h[u[f]]=m(u[f],i[g].symbolObject,i[g])}}else h[n]=m(n,i[g].symbolObject,i[g]);for(var y in i=[],h)i.push(h[y])}return i},t.ChartEngine.prototype.setDisplayDate=function(e){var a,r,n;if(!t.ChartEngine.isDailyInterval(this.layout.interval)){Q.K71(),a=e.DT,Q.z7L(88);var s=Q.Q7L(981,17,167,167,2);r=a.getSeconds()*s+a.getMilliseconds(),i.Date&&this.displayZone&&(n=new i.Date(a.getTime(),this.displayZone),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()),a=new Date(a.getTime()+r)),e.displayDate=a}},t.ChartEngine.prototype.setDisplayDates=function(e){var i;if(e&&!t.ChartEngine.isDailyInterval(this.layout.interval))for(var a=0;a<e.length;a++)(i=e[a]).DT&&this.setDisplayDate(i)},t.ChartEngine.prototype.setTimeZone=function(e,t){var a,r,n,s,o,l=Q;if("prefere","n","ces",!i.Date)return l.i7L(18),void(this.timeZoneOffset=l.W7L(1,"0"));for(var h in n=r=(a=new Date).getTimezoneOffset(),s=r,e&&(this.dataZone=e),this.dataZone&&(n=new i.Date(a,this.dataZone).getTimezoneOffset()),t&&(this.displayZone=t),this.displayZone&&(s=new i.Date(a,this.displayZone).getTimezoneOffset()),l.i7L(124),this.timeZoneOffset=l.W7L(r,r,n,s),this.charts)o=this.charts[h],this.setDisplayDates(o.masterData);this.preferences.timeZone=t,this.changeOccurred("preferences"),this.createDataSet()},t.ChartEngine.prototype.updateChartData=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E=Q;function K(){var t,a,r,n,s;if(t=null,a=0,h.length){-2077362086,E.i7L(23),r=E.Q7L(276826627,"343940983"),n=2;for(var o=1;-2077362086!==E.V6U(o.toString(),o.toString().length,24318);o++)t=u.getFirstLastDataRecord(h,d||i.defaultPlotField,!0),n+=2;if(E.V6U(n.toString(),n.toString().length,20342)!==r&&(t=u.getFirstLastDataRecord(h,d&&i.defaultPlotField,!1)),t){if(e[e.length-1].DT<=t.DT)return;for(;a<e.length;a++){if(+e[a].DT==+t.DT){u.getFirstLastDataRecord([e[a]],d||i.defaultPlotField)&&(t=null);break}if(e[a].DT>t.DT)break}}}s=e.slice(a),t&&s.unshift(d?t[d]:t),s=u.doCleanupGaps(s,i),t&&s.shift(),E.z71(),e=e.slice(0,a).concat(s)}function I(e,t){var a,r;if(d)delete h[e][d],u.cleanupGaps&&("g","a","p",a={DT:t,Close:null},"gap"!=u.cleanupGaps&&h[e-1]&&h[e-1][d]&&(a.Close=h[e-1][d].Close,a.High=a.Low=a.Open=a.Close,a.Volume=0),h[e][d]=a);else{for(p in"g","a","p",a={DT:(r=h.splice(e,1)[0]).DT,Close:null,needed:!1},i.series)void 0!==r[m=i.series[p].parameters.symbolObject.symbol]&&(a[m]=r[m],delete a.needed);u.cleanupGaps&&"gap"!=u.cleanupGaps&&(delete a.needed,"gap"!=u.cleanupGaps&&h[e-1]&&(a.Close=h[e-1].Close,a.High=a.Low=a.Open=a.Close,a.Volume=0)),!1!==a.needed&&(h.splice(e,0,a),u.setDisplayDate(a))}}function N(){var t;if("[o","b","ject D","ate]",o=!0,a.useAsLastSale&&a.useAsLastSale.aggregatedVolume&&(l=!0),e.constructor===Array){E.i7L(1);var i=E.W7L(19,18);t=e[e.length-i],(e={}).DT=t.DT,e.Close=t.Close,e.Volume=t.Volume}else e.Last&&(e.Close=e.Last,delete e.Last);e.DT&&"[object Date]"!=Object.prototype.toString.call(e.DT)&&(e.DT=new Date(e.DT)),e.DT&&"Invalid Date"!=e.DT||(e.DT=new Date),"tick"!=c.interval&&W(),e.Open=e.Close,e.High=e.Close,e.Low=e.Close}if(r="appendMas",r+="terD",r+="ata",n="upda",n+="te",n+="ChartD",n+="ata",s="appendMasterDat",s+="a",a||(a={}),i||(i=this.chart),o=!1,l=!1,h=i.masterData,c=this.layout,this.dataZone,u=this,d=a.secondarySeries,g=t.isValidNumber,a.noCleanupDates||this.doCleanupDates(e,c.interval),(a.useAsLastSale||e.constructor==Object&&(e.Last||0===e.Last))&&N(),e&&e.constructor==Object&&(e=[e]),e&&e.length&&!this.runPrepend(s,[e,i,a])&&!this.runPrepend(n,[e,i,a])&&(h||(h=[]),f=h.length-1,y=!1,a.fillGaps&&K(),e.length)){for(var O=0;O<e.length;O++){for(x=(v=e[O]).DT,b=v.Date,x&&"[object Date]"!=Object.prototype.toString.call(x)&&(v.DT=x=new Date(x)),x&&(b&&17==b.length||(v.Date=t.yyyymmddhhmmssmmm(v.DT))),x||(x=v.DT=t.strToDateTime(b)),!g(v.Close)&&g(v.Value)&&(v.Close=v.Value);f>=0&&f<h.length;){if((C=h[f].DT)||(C=t.strToDateTime(h[f].Date)),C.getTime()<=x.getTime()){if(y=!0,E.i7L(81),S=E.Q7L(638801440,"0"),C.getTime()<x.getTime()){if(f<h.length-1&&(h[f+1].DT||t.strToDateTime(h[f+1].Date)).getTime()<=x.getTime()){f++;continue}S=1}if(a.deleteItems){S||I(f,x);break}w="t",w+="i",w+="c",w+="k",c.interval==w&&!1!==a.firstLoop&&(S=1),S||R(f,v),g(v.Close)&&(g(v.Open)||(v.Open=v.Close),k=Math.max(v.Open,v.Close),L=Math.min(v.Open,v.Close),(!g(v.High)||v.High<k)&&(v.High=k),(!g(v.Low)||v.Low>L)&&(v.Low=L)),v.Volume&&!g(v.Volume)&&(v.Volume=parseInt(v.Volume,10)),f+=S,d?(A="t",A+="ic",A+="k",e.length-O<50&&this.updateCurrentMarketData(v,i,d,{fromTrade:!0}),c.interval==A&&void 0===v.Close||(S&&(h.splice(f,0,{DT:v.DT}),this.setDisplayDate(h[f])),h[f][d]=v)):(e.length-O<50&&this.updateCurrentMarketData(v,i,null,{fromTrade:!0}),"tick"==c.interval&&void 0===v.Close||(h.splice(f,S?0:1,v),this.setDisplayDate(v)));break}f+=y?1:-1}f<0&&(d?(this.updateCurrentMarketData(v,i,d,{fromTrade:!0}),"tick"==c.interval&&void 0===v.Close||(E.z7L(1),h.splice(0,E.W7L("0",0),{DT:v.DT}),this.setDisplayDate(h[0]),E.z7L(81),h[E.W7L(1587077696,"0")][d]=v)):(this.updateCurrentMarketData(v,i,null,{fromTrade:!0}),"tick"==c.interval&&void 0===v.Close||(E.i7L(81),h.splice(E.W7L(1902870080,"0"),0,v),this.setDisplayDate(v))),y=!0,f=0)}h.length&&(this.masterData=i.masterData=h),this.maxMasterDataSize&&(h=i.masterData=this.masterData=h.slice(-this.maxMasterDataSize)),D=d?this.getSeries({symbol:d,chart:i}):[i];for(var X=0;X<D.length;X++)(!(T=D[X]).endPoints.begin||T.endPoints.begin>e[0].DT)&&(T.endPoints.begin=e[0].DT),(!T.endPoints.end||T.endPoints.end<e[e.length-1].DT)&&(T.endPoints.end=e[e.length-1].DT),M=T.parameters&&T.parameters.field||i.defaultPlotField,(F=this.getFirstLastDataRecord(e,M,!0))&&(!T.lastQuote||T.lastQuote.DT<=F.DT)&&(T.lastQuote=F),d&&a.deleteItems&&(T.lastQuote=this.getFirstLastDataRecord(h,d,!0)[d]);for(var z in this.plugins)(P=this.plugins[z]).display&&P.appendMasterData&&P.appendMasterData(this,e,i);this.masterData&&this.masterData.length||(this.masterData=h),a.noCreateDataSet||(++(_=this.streamParameters).count>_.maxTicks||a.bypassGovernor?(clearTimeout(_.timeout),H()):-1==_.timeout&&(_.timeout=setTimeout(H,_.maxWait))),this.runAppend(r,arguments),this.runAppend("updateChartData",arguments)}function H(){u.createDataSet(null,null,a),u.draw(),u.updateChartAccessories(),E.z71(),u.streamParameters.count=0,u.streamParameters.timeout=-1}function R(e,t){var r,n,s,c,u;if(E.z71(),r=h[e],d&&(r=r[d]||{}),null===t.Close)void 0!==r.Open&&(t.Open=null),void 0!==r.High&&(t.High=null),void 0!==r.Low&&(t.Low=null),void 0!==r.Volume&&(t.Volume=null);else for(p in n="B",n+="id",s="H",s+="igh",c="O",c+="pen",u="Cl",u+="ose",o?(t.Volume&&(t.Volume=parseInt(t.Volume,10)),l||(t.Volume+=r.Volume)):!g(t.Volume)&&r.Volume&&(t.Volume=r.Volume),a.allowReplaceOHL||(g(r.Open)&&(t.Open=r.Open),g(r.High)&&g(t.High)&&r.High>t.High&&(t.High=r.High),g(r.Low)&&g(t.Low)&&r.Low<t.Low&&(t.Low=r.Low)),[u,c,s,"Low",n,"Ask"].forEach((function(e){g(t[e])||(t[e]=r[e])})),i.series)"un","d","efined","und","ef","ine","d",m=i.series[p].parameters.symbolObject.symbol,void 0===t[m]&&void 0!==r[m]&&(t[m]=r[m])}function W(){var r,n,s,o,l,d,p,m,g;if("market.marke","t_d","ef.m","arket_tz",t.Market&&i.market)if(r={market_tz:t.getFromNS(i,"market.market_def.market_tz",null)},n=c.interval,E.z71(),"month"!=n&&"week"!=n||(u.dontRoll||(n="day"),r=u.chart.market.market_def),s=new t.Market(r),o={begin:h&&h.length?h[h.length-1].DT:e.DT,interval:n,periodicity:1,timeUnit:c.timeUnit},d=(l=s.newIterator(o)).next(),h){if(e.DT<d){for(p=0,g=l.previous(),m=e.DT,a.appending=!0;m<g&&p<1e3;)a.appending=!1,g=l.previous(),p++;e.DT=g,a.updating=!a.appending}else if(e.DT>=d){for(E.i7L(1),p=E.Q7L("0",0),m=e.DT;m>d&&p<1e3;)e.DT=d,d=l.next(),p++;a.appending=!0}}else e.DT=new Date(+l.previous())}},t.ChartEngine.prototype.updateCurrentMarketData=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f;if(n="updateCu",n+="rren",n+="tMarketData",s="A",s+="sk",o="updateCu",o+="rr",o+="en",o+="tMarketData",l="t",l+="i",l+="ck",e&&e.DT){if(i||(i=this.chart),h=r&&r.fromTrade,c=e.DT,!h&&this.layout.interval!=l&&i.market){if(i.market.market_def){if(!i.market.isMarketDate(e.DT))return;if(!t.ChartEngine.isDailyInterval(this.layout.interval)&&null===i.market.getSession(e.DT))return}u={begin:e.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},d=new t.Market(i.market.market_def),this.extendedHours&&this.extendedHours.filter&&d.enableAllAvailableSessions(),(p=d.newIterator(u)).next(),e.DT=p.previous()}this.runPrepend(o,arguments)||(m=i.currentMarketData,a&&(m[a]||(m[a]={}),m=m[a]),["Last","Bid",s].forEach((function(t){e[t]&&"number"==typeof e[t]&&(!m[t]||!m[t].DT||m[t].DT<=e.DT)&&(m[t]={DT:e.DT,Price:e[t],Size:e[t+"Size"],Timestamp:c})})),["BidL2","AskL2"].forEach((function(t){e[t]&&e[t]instanceof Array&&(!m[t]||!m[t].DT||m[t].DT<=e.DT)&&(m[t]={DT:e.DT,Price_Size:e[t],Timestamp:c})})),e.Close&&(!m.Last||m.Last.DT<=e.DT)&&(g=e.Close,((f=r&&r.finalClose)||0===f)&&(g=f),m.Last={DT:e.DT,Price:g,Size:void 0===e.LastSize&&"tick"==this.layout.interval?e.Volume:e.LastSize,Timestamp:e.LastTime||c}),m.touched=new Date,h||delete e.Last,this.runAppend(n,arguments))}},t.ChartEngine.prototype.clearCurrentMarketData=function(e,t){var i,a,r,n;if(i="clea",i+="rCurrentMar",i+="ketData",!this.runPrepend(i,arguments)){if(r=[],e)r.push(e);else for(a in this.charts)r.push(this.charts[a]);for(a=0;a<r.length;a++)if(n=r[a].currentMarketData,t)delete n[t];else for(var s in n)n[s]=void 0;this.runAppend("clearCurrentMarketData",arguments)}}},D=e=>{var t;(t=e.CIQ).ChartEngine.prototype.changeOccurred=function(e){var t,i,a,r=Q;if("v",r.K71(),"ect","or","la","you","t","th","eme","th","e","me",t={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},"theme"==e&&this.dispatch("theme",t),!this.currentlyImporting)if("layout"==e){-1102770575,1933189149,i=2;for(var n=1;-1102770575!==r.V6U(n.toString(),n.toString().length,40401);n++)this.dispatch("layout",t),i+=2;1933189149!==r.V6U(i.toString(),i.toString().length,70246)&&this.dispatch("",t)}else if("vector"==e){199033809,1769917482,r.z7L(19),a=r.W7L("2",2147483647);for(var s=1;199033809!==r.V6U(s.toString(),s.toString().length,60457);s++)this.dispatch("drawing",t),a+=2;1769917482!==r.V6U(a.toString(),a.toString().length,56073)&&this.dispatch("",t)}else"preferences"==e&&this.dispatch("preferences",t)},t.ChartEngine.prototype.startAsyncAction=function(){this.pendingAsyncs||(this.pendingAsyncs=[]),this.pendingAsyncs.push(!0)},t.ChartEngine.prototype.registerChartDrawnCallback=function(e){return this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(e),{fc:e}},t.ChartEngine.prototype.unregisterChartDrawnCallback=function(e){Q.K71();for(var t=0;t<this.asyncCallbacks.length;t++)if(this.asyncCallbacks[t]==e.fc)return void this.asyncCallbacks.splice(t,1)},t.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(Q.z71(),!this.pendingAsyncs||!this.pendingAsyncs.length))for(var e=0;e<this.asyncCallbacks.length;e++)this.asyncCallbacks[e]()},t.ChartEngine.prototype.completeAsyncAction=function(){Q.z71(),this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},t.ChartEngine.prototype.addDomEventListener=function(e,t,i,a){e.addEventListener(t,i,a),this.eventListeners.push({element:e,event:t,function:i,options:a})},t.ChartEngine.prototype.addEventListener=function(e,t){var i;if("*"===e)for(var a in this.callbackListeners)this.callbackListeners[a].push(t);else if(e instanceof Array)for(var r=0;r<e.length;r++)this.callbackListeners[e[r]].push(t);else{if(!(i=this.callbackListeners[e]))throw"Attempted to ad","d an invali","d"," listener.",new Error("Attempted to add an invalid listener.");i.push(t)}return{type:e,cb:t}},t.ChartEngine.prototype.removeEventListener=function(e,t){var i,a;if(e&&"object"==typeof e||(e={type:e,cb:t}),i=function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return void e.splice(i,1)},a=this.callbackListeners,"*"!==e.type){if(!a[e.type])throw new Error("Attempted to remove an invalid listener.");Q.K71(),i(a[e.type],e.cb)}else for(var r in a)i(a[r],e.cb)},t.ChartEngine.prototype.dispatch=function(e,t){var i;if(i=this.callbackListeners[e],Q.K71(),i)for(var a=0;a<i.length;a++)if(!0===i[a].call(this,t))return!0;if(i=this.callbackListeners["*"])for(var r=0;r<i.length;r++)if(!0===i[r].call(this,t))return!0;return!1},t.ChartEngine.prototype.updateListeners=function(e){var t;for(var i in Q.K71(),this.plugins)(t=this.plugins[i]).display&&t.listener&&t.listener(this,e)}},T=e=>{var t;Q.z71(),(t=e.CIQ).ChartEngine.prototype.prepend=function(e,i){var a,r;return Q.K71(),Q.z7L(8),a=Q.W7L("prepend",e),this instanceof t.ChartEngine?(r=this.hasOwnProperty(a)?this[a]:[],this[a]=[i].concat(r)):(r=t.ChartEngine.prototype[a]||[],t.ChartEngine.prototype[a]=[i].concat(r)),{method:a,func:i}},t.ChartEngine.prototype.append=function(e,i){var a,r;return Q.i7L(8),a=Q.W7L("append",e),this instanceof t.ChartEngine?(r=this.hasOwnProperty(a)?this[a]:[],this[a]=r.concat(i)):(r=t.ChartEngine.prototype[a]||[],t.ChartEngine.prototype[a]=r.concat(i)),{method:a,func:i}},t.ChartEngine.prototype.runPrepend=function(e,i,a){var r,n,s;if(Q.z7L(8),r=Q.W7L("prepend",e),!(n=(n=this.hasOwnProperty(r)?this[r]:[]).concat(t.ChartEngine.prototype[r]||[])).length)return!1;a||(a=this),Q.z71();for(var o=0;o<n.length;o++)if(s=n[o].apply(a,i))return s;return!1},t.ChartEngine.prototype.runAppend=function(e,i,a){var r,n,s;if("ap","pen","d",Q.i7L(8),r=Q.Q7L("append",e),!(n=(n=this.hasOwnProperty(r)?this[r]:[]).concat(t.ChartEngine.prototype[r]||[])).length)return!1;a||(a=this);for(var o=0;o<n.length;o++)if(s=n[o].apply(a,i))return s;return!1},t.ChartEngine.prototype.removeInjection=function(e){var i,a;if(i=e.method,this instanceof t.ChartEngine){if(!this[i])return;for(a=0;a<this[i].length;a++)if(this[i][a]==e.func)return Q.z7L(23),void this[i].splice(a,Q.Q7L(0,"1"))}else{if(!t.ChartEngine.prototype[i])return;for(a=0;a<t.ChartEngine.prototype[i].length;a++)if(t.ChartEngine.prototype[i][a]==e.func)return void t.ChartEngine.prototype[i].splice(a,1)}},t.ChartEngine.prototype.remove=function(e){var i=Q;this instanceof t.ChartEngine?(i.z7L(8),delete this[i.Q7L("append",e)],i.z7L(8),delete this[i.Q7L("prepend",e)]):("appen","d",i.z7L(8),delete t.ChartEngine.prototype[i.Q7L("append",e)],i.z7L(8),delete t.ChartEngine.prototype[i.W7L("prepend",e)])}},Q.z71(),M=e=>{var t,i;t=e.CIQ,i=e.timezoneJS,t.ChartEngine.prototype.convertToDataZone=function(e){var i;return(e||0===e)&&this.dataZone&&(i=t.convertTimeZone(e,null,this.dataZone),e=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),e},t.ChartEngine.prototype.debug=function(){},t.ChartEngine.prototype.fps=function(e,i){var a,r,n;e=e||5,a=(new Date).getTime(),r=0,n=this,Q.i7L(52),console.log(Q.W7L(" seconds",e,"Running fps() for ")),function s(){var o,l,h=Q;h.i7L(106);var c=h.Q7L(19,9,17838,991);if(h.z71(),(o=((new Date).getTime()-a)/c)>e)return"F","PS=",h.i7L(35),l=h.Q7L(r,o),h.z7L(8),console.log(h.Q7L("FPS=",l)),void(i&&i(l));n.draw(),r++,t.ChartEngine.useAnimation?requestAnimationFrame(s):setTimeout(s,0)}()},t.ChartEngine.htmlControls={mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span></div>',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div></div>'},t.ChartEngine.prototype.setChartType=function(e){var t,i;if(t=this.layout,i=this.chart,"ohlc"!=t.aggregationType&&(t.aggregationType="ohlc",i.canvas&&this.createDataSet()),t.chartType=e,this.setMainSeriesRenderer(),this.mainSeriesRenderer.isAggregation&&this.setAggregationType)return this.setAggregationType(e);i.defaultChartStyleConfig={type:e},this.displayInitialized&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.setChartScale=function(e){e||(e="linear"),this.layout.chartScale=e,this.chart.canvas&&this.draw(),this.changeOccurred("layout")},t.ChartEngine.prototype.checkLogScale=function(){var e,t,i,a;if(e="l",e+="o",e+="g",t="checkLog",t+="Scal",t+="e",!this.runPrepend(t,arguments))return this.layout.chartScale===e&&(i=!1,this.chart.yAxis.lowValue<=0&&(a="line",a+="a",a+="r",this.setChartScale(a),this.dispatch("notification","logdeactivated"),i=!0),this.runAppend("checkLogScale",arguments),i)},t.ChartEngine.prototype.setAdjusted=function(e){this.layout.adj=e,Q.z71(),this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},t.ChartEngine.prototype.padOutPrice=function(e,t){var i,a,r,n,s=Q;if(0!==e&&(!e||"number"!=typeof e))return"";if(t||0===t||(t=e),s.z7L(8),a=0,(i=s.W7L("",t)).indexOf(".")>-1){s.z7L(8);var o=s.Q7L(715,3);s.i7L(1);s.W7L(2,1);s.z7L(10);var l=s.Q7L(13,1,1,3509);s.z7L(30);var h=s.W7L(8973,6,10,33);a=i.substring(i.indexOf(353.84>=o?"b":l>h||".")).length-1}return a=t>=1e3?Math.max(a,0):t<2?Math.max(a,4):Math.max(a,2),(r=this.internationalizer)?(a>=(n=r.priceFormatters.length)&&(s.z7L(1),a=s.Q7L(n,1)),e=r.priceFormatters[a].format(e)):e=e.toFixed(a),e},t.ChartEngine.prototype.formatPrice=function(e,t){var i,a,r;return"un","defined",0===e||e&&void 0!==e?(t||(t=this.currentPanel),t||(t=this.chart.panel),t?((i=t.decimalPlaces)||0===i||(i=t.chart.decimalPlaces),i||0===i?((a=this.internationalizer)?(i>=(r=a.priceFormatters.length)&&(Q.i7L(1),i=Q.Q7L(r,1)),e=a.priceFormatters[i].format(e)):e=e.toFixed(i),e):e.toString()):e.toString()):""},t.ChartEngine.prototype.determineMinMax=function(e,i,a,r,n,s,o,l,h){var c,u,d,p,m,g,f,y,v,x,b;Q.z7L(12);var C=Q.W7L(4,15,5,0);c=Number.MAX_VALUE*C,u=Number.MAX_VALUE,d=!1,p=e.length,h||(h=[]),m=[],n&&(p=n);for(var S=0;S<=p+1;S++)if(i.length&&(g=S==p?this.getPreviousBar(this.chart,i[0],0):S==p+1?this.getNextBar(this.chart,i[0],p-1):e[S]),g){if(!r)if(g.transform)d=!0,g=g.transform;else if(d)continue;f=0;for(var w=0;w<i.length;w++)if(y=t.existsInObjectChain(g,i[w])){"number"==typeof(v=y.obj[y.member])&&(v=[v]);for(var k=0;k<v.length;k++)x=v[k],s&&x instanceof Array&&(x=x[0]),(x||0===x)&&(!0===a||a instanceof Array&&a.indexOf(i[w])>-1?((f+=x)>c&&(c=f),f<u&&(u=f)):(x>c&&(c=x),x<u&&(u=x),m.push({value:x,quote:g})))}(!0===a||a instanceof Array&&a.indexOf(i[w])>-1)&&m.push({value:f,quote:g})}return b=[u,c],h.forEach((function(e){b=e(m,o,l)||b})),b[1]==-1*Number.MAX_VALUE&&(b[1]=0),b[0]==Number.MAX_VALUE&&(b[0]=0),b},t.ChartEngine.prototype.initializeDisplay=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y=Q;if(i="O",i+="p",i+="en",!this.runPrepend("initializeDisplay",arguments)){a=[],r=[],n=!1,s=this,o=["Close",i,"High","Low"],l=[e.defaultPlotField||"Close"];var{mainSeriesRenderer:v}=this,{dataSegment:x,seriesRenderers:b}=e;if(c=null,u=Math.floor((e.width-this.micropixels)/this.layout.candleWidth),e.scroll>e.maxTicks&&e.maxTicks>u+1){y.i7L(37);var C=y.Q7L(17,16);c=x.length-C}for(var S in d=[],this.panels){d=(p=this.panels[S]).yaxisLHS.concat(p.yaxisRHS);for(var w=0;w<d.length;w++)m=d[w],a=[],r=[],g=e.transformFunc&&m==e.panel.yAxis,A(m,p),this.currentlyImporting||m.renderers.length||m.studies.length?(h=v&&v.determineMax?v.determineMax(x,a,r,!g,c,n,p,m):this.determineMinMax(x,a,r,!g,c,n,p,m),this.baselineHelper&&(h=this.setBaselineMinMax(h,m)),m.lowValue=h[0],m.highValue=h[1],m==e.panel.yAxis&&(e.lowValue=m.lowValue,e.highValue=m.highValue)):this.deleteYAxisIfUnused(p,m)}if((f=e.state.aggregation)&&f.box){y.z7L(1);var k=y.W7L(13,11);e.lowValue-=f.box/k,y.i7L(33);var L=y.Q7L(46,12,4);e.highValue+=f.box/L}this.runAppend("initializeDisplay",arguments)}function A(i,h){var c,u,d,p,m,g,f,y,v;if(c=!1,(u=s.layout&&s.layout.studies&&s.layout.studies[i.name])&&(!h||h.name==u.panel)){for(var x in u.outputMap)a.push(x),u.study&&(u.study.renderer?a=a.concat(t.createObjectChainNames(x,o)):u.study.seriesFN||(a=a.concat(t.createObjectChainNames(x,l))));for(var C=0;C<=2;C++)"_h","i","s","t",a.push(u.name+"_hist"+(C||""));c=!0}if(h){for(var S in i.studies=[],i.renderers=[],c&&i.studies.push(i.name),b)if(m=(p=(d=b[S]).params).panel,(p.yAxis||!s.panels[m]||s.panels[m].yAxis)==i&&m==h.name){g=d.highLowBars?o:l,n=d.bounded;for(var w=0;w<d.seriesParams.length;w++)(f=d.seriesParams[w]).hidden||(y=void 0,f.subField?y=t.createObjectChainNames(f.symbol,[f.subField]).concat(f.symbol):f.symbol?y=t.createObjectChainNames(f.symbol,g).concat(f.symbol):f.field?y=f.field:i==e.panel.yAxis&&(y=g),y&&(a=a.concat(y)),d.useSum&&(r=r.concat(y)));i.renderers.push(S)}for(var k in s.overlays)(v=s.overlays[k]).panel==h.name&&v.name!=i.name&&v.getYAxis(s)==i&&(i.studies.push(v.name),e.includeOverlaysInMinMax&&A({name:v.name}))}}},t.ChartEngine.prototype.setMarket=function(e,i){if(t.Market)for(var a in i||(i=this.chart),i.market=new t.Market(e),this.layout.marketSessions)i.market.disableSession(a,this.layout.marketSessions[a])},t.ChartEngine.prototype.setMarketFactory=function(e){Q.z71(),this.marketFactory=e},t.ChartEngine.prototype.setResizeTimer=function(e){var i,a;this.resizeDetectMS=e,Q.z71(),this.resizeHandle=t.resizeObserver(this.chart.container,(i=this,Q.z71(),a=function(){i.chart.canvas&&(t.isAndroid||i.chart.canvas.height==Math.floor(i.devicePixelRatio*i.chart.container.clientHeight)&&i.chart.canvas.width==Math.floor(i.devicePixelRatio*i.chart.container.clientWidth)||i.resizeChart())},function(){"undefined"!=typeof ResizeObserver?t.ChartEngine.useAnimation?requestAnimationFrame(a):setTimeout(a,0):a()}),this.resizeHandle,e)},t.ChartEngine.prototype.getRenderedItems=function(){var e,i,a,r,n,s,o,l;if(e=this.chart,i=this.currentPanel){for(var h in a=["Open","High","Low","Close"],Q.z71(),r=["Close"],n=[],this.overlays)this.overlays[h].panel===i.name&&(n=n.concat(Object.keys(this.overlays[h].outputMap)));for(var c in e.seriesRenderers)if((s=e.seriesRenderers[c]).params.panel==i.name)for(var u in s.seriesParams)o=s.seriesParams[u],l=s.highLowBars?a:r,o.subField?n=n.concat(t.createObjectChainNames(o.symbol,[o.subField])).concat(o.symbol):o.symbol?n=n.concat(t.createObjectChainNames(o.symbol,l)).concat(o.symbol):o.field?n.push(o.field):i==e.panel&&(n=n.concat(l));return n}},t.ChartEngine.prototype.setTransform=function(e,t,i){e.transformFunc=t,e.untransformFunc=i},t.ChartEngine.prototype.unsetTransform=function(e){delete e.transformFunc,Q.K71(),delete e.untransformFunc;for(var t=0;e.dataSet&&t<e.dataSet.length;t++)e.dataSet[t].transform=null},t.ChartEngine.prototype.isEquationChart=function(e){return!(!e||"="!=e[0])&&(!(!this.allowEquations||!t.fetchEquationChart)||(console.warn("Error, equation chart option requires equationsAdvanced.js"),!1))},t.ChartEngine.prototype.correctIfOffEdge=function(e){var t,i,a,r,n,s,o,l,h,c=Q;if(!this.runPrepend("correctIfOffEdge",arguments)){for(var u in this.charts){if(i=(t=this.charts[u]).dataSet,a=t.maxTicks,r=this.layout,n=this.minimumLeftBars,s=Math.min(n,a),t.allowScrollPast){if(c.i7L(1),o=c.W7L(a,s),s>i.length&&(o=a-i.length),t.scroll-o>=i.length){c.z7L(55);var d=c.Q7L(0,2,7,10);t.scroll=i.length+o-d,this.micropixels=0}t.scroll<=s&&(t.scroll=s,this.micropixels=0)}else t.scroll<s&&(t.scroll=s),t.scroll>i.length&&(t.scroll=i.length);if(!1===t.allowScrollFuture){l=this.getLabelOffsetInPixels(t,r.chartType)+r.candleWidth*t.whiteSpaceFutureTicks,c.i7L(125);var p=c.W7L(21,11,1,11);h=a-Math.round(l/r.candleWidth)-p,(this.micropixels<0?t.scroll-1:t.scroll)<h&&(t.scroll=h,this.micropixels=0)}}this.runAppend("correctIfOffEdge",arguments)}},t.ChartEngine.prototype.getStartDateOffset=function(){for(var e=0;e<this.chart.dataSegment.length;e++)if(this.chart.dataSegment[e])return e;return 0},t.ChartEngine.prototype.setStartDate=function(e){for(var t=0;t<this.chart.dataSet.length;t++)if(this.chart.dataSet[t].DT.getTime()==e.getTime())return this.chart.scroll=this.chart.dataSet.length-t,void this.draw()},t.ChartEngine.prototype.clearPixelCache=function(){var e,t;for(var i in this.panels)(e=this.panels[i]).cacheHigh=null,e.cacheLow=null,e.cacheLeft=1e6,e.cacheRight=-1;for(var a in this.charts)if((t=this.charts[a]).dataSet)for(var r=0;r<t.dataSet.length;r++)t.dataSet[r].cache={}},t.ChartEngine.prototype.adjustBackingStore=function(e,i){var a,r,n,s,o=Q;this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),a=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,r=this.devicePixelRatio/a,this.useBackingStore?(o.z71(),(!t.isAndroid||t.is_chrome||t.isFF)&&("p","x","p","x",n=e.width,s=e.height,o.z7L(18),e.width=o.Q7L(r,n),o.z7L(18),e.height=o.W7L(r,s),o.i7L(8),e.style.width=o.Q7L(n,"px"),o.i7L(8),e.style.height=o.W7L(s,"px"),i.scale(r,r),this.adjustedDisplayPixelRatio=r,this.backing={ratio:r,width:e.width,height:e.height,styleWidth:n,styleHeight:s})):this.devicePixelRatio=this.adjustedDisplayPixelRatio=1},t.ChartEngine.prototype.reconstituteBackingStore=function(){var e,t;this.useBackingStore&&this.backing&&(e=[this.chart.canvas],this.useBackgroundCanvas&&e.push(this.chart.backgroundCanvas),t=this.backing,Q.K71(),e.forEach((function(e){e.width!=t.width&&(e.width=t.width,e.height=t.height,e.context.scale(t.ratio,t.ratio))})),this.adjustedDisplayPixelRatio=t.ratio,this.draw())},t.ChartEngine.prototype.disableBackingStore=function(){var e,t;this.useBackingStore&&this.backing&&(e=[this.chart.canvas],this.useBackgroundCanvas&&e.push(this.chart.backgroundCanvas),t=this.backing,e.forEach((function(e){e.width!=t.styleWidth&&(Q.K71(),e.width=t.styleWidth,e.height=t.styleHeight,e.context.scale(1,1))})),this.adjustedDisplayPixelRatio=1,Q.K71(),this.draw())},t.ChartEngine.prototype.getBackgroundCanvas=function(e){return e||(e=this.chart),this.useBackgroundCanvas?e.backgroundCanvas:e.canvas},t.ChartEngine.prototype.resizeCanvas=function(){var e,t,i,a,r,n,s,o,l=Q;for(var h in"undefi","ned","h","t","ml",e=this.chart.canvas,t=this.chart.context,e&&t&&(this.floatCanvas.height=this.chart.tempCanvas.height=this.chart.backgroundCanvas.height=e.height=this.chart.container.clientHeight,this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=e.width=this.chart.container.clientWidth,this.adjustBackingStore(e,t),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context),this.adjustBackingStore(this.chart.backgroundCanvas,this.chart.backgroundCanvas.context)),i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0===this.width&&!this.container.dimensionlessCanvas&&this.container.closest("html")&&("w","arnin","g: zero w","idth chart. Check CSS for chart container.",console.log("warning: zero width chart. Check CSS for chart container.")),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(a=this.layout.candleWidth)&&(a=8),this.charts){r=this.charts[h],this.setCandleWidth(a,r),r.scroll<r.width/a&&(r.scroll=Math.floor(r.width/a),n=Math.round(this.preferences.whitespace/this.layout.candleWidth),r.scroll-=n),s=10;try{l.i7L(126);var c=l.Q7L(12,5,20,2,7);o=t.measureText("10:00").width*c}catch(e){o=100}for(;s>1&&!(this.chart.width/o>s);)s/=1.5;r.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/s),r.xAxis.autoComputedTickSizePixels<1&&(l.i7L(81),r.xAxis.autoComputedTickSizePixels=l.Q7L(2087675584,"1"))}},t.ChartEngine.prototype.setCandleWidth=function(e,t){Q.K71(),t||(t=this.chart),e=this.constrainCandleWidth(e),this.layout.candleWidth=e,Q.z7L(86);var i=Q.Q7L(8,215,3,7,17);t.maxTicks=Math.round(t.width/e)+i},t.ChartEngine.prototype.constrainCandleWidth=function(e){var t,i,a;return t=this.minimumCandleWidth,i=this.maximumCandleWidth,a=this.animations.zoom,t&&e<t&&(e=t,a&&a.running&&a.stop()),i&&e>i&&(e=i,a&&a.running&&a.stop()),e},t.ChartEngine.prototype.resizeChart=function(e){var t,i,a;t="res",t+="izeC",t+="hart",i="r",i+="esize",i+="Ch",i+="art",this.runPrepend(i,arguments)||(!1!==e&&(e=!0),e&&this.preAdjustScroll(),a=this.chart.canvasHeight,this.resizeCanvas(),e&&this.postAdjustScroll(),(this.displayInitialized||0!==this.chart.canvasHeight&&0===a)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend(t,arguments))},t.ChartEngine.prototype.clear=function(){var e;for(var i in this.displayInitialized=!1,this.layout.studies)"Studi","es.remov","eStudy",e=this.layout.studies[i],t.getFn("Studies.removeStudy")(this,e);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},t.ChartEngine.prototype.fillScreen=function(){var e,t,i,a,r;e=this.chart,t=this.layout.candleWidth,i=e.width-this.preferences.whitespace,(a=e.dataSet.length)*t>=i?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||a--,Q.i7L(35),r=Q.Q7L(i,a),this.setCandleWidth(r,e),this.home({maintainWhitespace:!0}))},t.ChartEngine.prototype.setMaxTicks=function(e,t){var i;t||(t={}),(e=Math.round(e))<2&&(e=2),i=t.padding?t.padding:0,this.layout.candleWidth=(this.chart.width-i)/e,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-.499),(t.padding||0===t.padding)&&(Q.z7L(8),this.chart.scroll=Q.W7L(e,1)),Q.K71()},t.ChartEngine.prototype.initializeChart=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w;if(i="initia",i+="lizeChart",a="canv",a+="as",r="st",r+="x-",r+="canvas-shim",n="canv",n+="as",s="init",s+="ial",s+="izeCh",s+="art",!this.runPrepend(s,arguments)){for(var k in(o=this.chart).symbolObject.symbol||(o.symbolObject.symbol=o.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&t.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,t.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.micropixels=0,e?o.container=e:e=o.container,e.stx=this,e.CIQRegistered||(e.CIQRegistered=!0,t.ChartEngine.registeredContainers.push(e)),this.registerHTMLElements&&this.registerHTMLElements(),l=o.canvas,h=o.backgroundCanvas,c=o.tempCanvas,u=this.floatCanvas,d=o.canvasShim,l&&document.createElement("canvas").getContext?(l.id||(e.removeChild(l),o.canvas=null),c&&!c.id&&(e.removeChild(c),o.tempCanvas=null),u&&!u.id&&(e.removeChild(u),this.floatCanvas=null),h&&!h.id&&(e.removeChild(h),o.backgroundCanvas=null)):this.setCandleWidth(this.layout.candleWidth),o.backgroundCanvas||(h=o.backgroundCanvas=document.createElement(n)),e.appendChild(h),M(h),o.canvasShim||(d=o.canvasShim=document.createElement("div")),d.className=r,e.appendChild(d),o.canvas||(l=o.canvas=document.createElement(a)),e.appendChild(l),M(l),o.context=l.context,o.tempCanvas||(c=o.tempCanvas=document.createElement("canvas")),e.appendChild(c),M(c,!0),this.floatCanvas||(u=this.floatCanvas=document.createElement("canvas")),e.appendChild(u),M(u,!0),this.resizeCanvas(),t.isAndroid&&(c.ontouchstart=u.ontouchstart=function(e){e.preventDefault&&e.preventDefault()}),p=this.panels,o.panel.display=o.symbol,o.symbolDisplay&&(o.panel.display=o.symbolDisplay),Q.K71(),this.adjustPanelPositions(),o.panel=p[o.name],p){m=p[k].yaxisLHS.concat(p[k].yaxisRHS);for(var L=0;L<m.length;L++)m[L].height=p[k].yAxis.height,this.calculateYAxisMargins(m[L])}var A;for(var D in this.initialWhitespace=this.preferences.whitespace,o.dataSet&&o.dataSet.length>0&&(o.scroll=Math.floor(o.width/this.layout.candleWidth),g=Math.round(this.preferences.whitespace/this.layout.candleWidth),o.scroll-=g),t.touchDevice&&(f=e.querySelector(".overlayEdit"),y=e.querySelector(".overlayTrashCan"),v=e.querySelector(".vectorTrashCan"),x=function(e,t,i){return function(a){Q.z71(),e.deleteHighlighted(t,i)}},f?(t.safeClickTouch(f,x(this,!0,!0)),y&&t.safeClickTouch(y,x(this,!1))):y&&t.safeClickTouch(y,x(this,!0)),v&&t.safeClickTouch(v,x(this,!0))),this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),this.handleMouseOut&&(e.onmouseout=(A=this,Q.K71(),function(e){A.handleMouseOut(e)}),t.smartHover()),this.abortDrawings&&this.abortDrawings(),this.undoStamps=[],p)(b=p[D]).markerHolder&&(e.removeChild(b.markerHolder),b.markerHolder=null);for(var T in this.plugins)(C=this.plugins[T]).display&&C.initializeChart&&C.initializeChart(this);this.resizeListenerInitialized||(S=this,this.resizeListenerInitialized=!0,w=function(){return Q.z71(),function(e){Q.z71(),S.resizeChart()}},this.addDomEventListener(window,"resize",w(),!0)),o.baseline.userLevel&&(o.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend(i,arguments)}function M(e,t){var i;e.context=e.getContext("2d"),e.context.lineWidth=1,(i=e.style).position="absolute",Q.z71(),i.left="0px",t&&(i.display="none")}},t.ChartEngine.prototype.destroy=function(){var e,i,a,r;this.setResizeTimer(0),this.quoteDriver&&this.quoteDriver.die(),this.styles={};for(var n=0;n<this.eventListeners.length;n++)(e=this.eventListeners[n]).element.removeEventListener(e.event,e.function,e.options);this.touchAndMouseEventsRegistered=!1,this.eventListeners=[],this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),(a=(i=t.ChartEngine.registeredContainers).indexOf(this.chart.container))>-1&&i.splice(a,1),this.slider&&(r=i.indexOf(this.slider.slider.chart.container))>-1&&i.splice(r,1)},t.ChartEngine.prototype.preAdjustScroll=function(e){e||(e=this.chart),this.previousAdjust={chart:e,scroll:e.scroll,maxTicks:e.maxTicks}},t.ChartEngine.prototype.postAdjustScroll=function(){var e;this.previousAdjust&&((e=this.previousAdjust.chart).scroll=this.previousAdjust.scroll+(e.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},t.ChartEngine.prototype.translateIf=function(e){return this.translationCallback?this.translationCallback(e):(Q.K71(),e)},t.ChartEngine.prototype.doCleanupDates=function(e,a){var r,n,s,o,l,h=Q;if(e&&e.length)for(var c=0;c<e.length;c++)if("[obje","c","t Stri","ng]",(n=(r=e[c]).DT)||r.Date){if(r.DT&&"[object String]"==Object.prototype.toString.call(n)&&n.length<=10)(n=new Date(n)).setMinutes(n.getMinutes()+n.getTimezoneOffset());else{if("[object ","D","ate","]",s=!0,r.DT||(n=t.strToDateTime(r.Date),r.Date.length<=10&&(s=!1)),"[object Date]"!=Object.prototype.toString.call(n)&&(n=new Date(n)),i.Date&&this.dataZone&&s){o=new i.Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),this.dataZone),h.z7L(8);var u=h.Q7L(990,10);l=n.getSeconds()*u+n.getMilliseconds(),n=new Date(o.getTime()+l)}t.ChartEngine.isDailyInterval(a)&&(h.z7L(16),n.setHours(0,0,0,h.W7L("0",0)))}r.DT||(r.Date=t.yyyymmddhhmmssmmm(n)),r.DT=n}},t.ChartEngine.prototype.doCleanupGaps=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f;if(!e||!e.length)return e;if(r=this.layout.interval,a=a||{},i||(i=this.chart),!t.Market||!i.market)return e;if(Q.K71(),a.noCleanupDates||this.doCleanupDates(e,r),!1===(n=a.cleanupGaps))return e;if(n&&!0!==n||(n=this.cleanupGaps||n),Q.z7L(100),s=Q.Q7L("gap",n),!n)return e;if("tick"==r)return e;if("month"==r||"week"==r){if("d","a","y",this.dontRoll)return e;r="day"}function y(e,i){var r,n,o,c,u;for(void 0===(n=(r=a.field)?h[r]:h)&&(n={}),o=s?null:n[p],c=s?null:n.Adj_Close;+e<+i;)u={DT:e},r||(l.push(u),t.extend(u,{Open:o,High:o,Low:o,Close:o,Volume:0,Adj_Close:c})),e=d.next()}function v(e,i){var r,n,o;if(r=a.field)return"undefi","ned",void(void 0!==e[r]&&void 0===i[r]&&(i[r]=s?null:e[r]));s||(n=e[p],o=i[p],void 0!==n&&void 0===o&&t.ensureDefaults(i,{Close:n,Open:n,High:n,Low:n,Volume:0,Adj_Close:e.Adj_Close}))}o=function(e){return e.DT?("[o","bject ","Dat","e]","[object Date]"!=Object.prototype.toString.call(e.DT)?new Date(e.DT):new Date(+e.DT)):t.strToDateTime(e.Date)},l=[],h=e[0],l.push(h),c={begin:o(h),interval:r,periodicity:1,timeUnit:this.layout.timeUnit},u=new t.Market(i.market.market_def),d=u.newIterator(c),this.extendedHours&&this.extendedHours.filter&&d.market.enableAllAvailableSessions(),p=i.defaultPlotField;for(var x=0;x<e.length&&void 0===e[x][p];x++)if(void 0!==e[x].Value){p="Value";break}for(var b=1;b<e.length;b++){for(g=e[b],(m=d.next())<(f=o(g))&&(y(m,f),m=d.market._convertFromMarketTZ(d.begin,d.outZone));f<m;){if(++b==e.length)return l;v(h,g),l.push(g),h=g,f=o(g=e[b])}m<f?(b--,m=d.previous()):(v(h,g),l.push(g),h=g)}return l},t.ChartEngine.prototype.getCreatingLibrary=function(){return e}},F=e=>{var t;(t=e.CIQ).ChartEngine.Panel=function(e,i){this.yAxis=i||new t.ChartEngine.YAxis,this.name=e,this.state={}},t.extend(t.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null,displayEdgeIfPadded:!0,noDrag:!1,exportable:!0},!0),t.ChartEngine.prototype.whichPanel=function(e){var t;for(var i in this.panels)if(!(t=this.panels[i]).hidden&&e>=t.top&&e<t.bottom)return t;return Q.K71(),null},t.ChartEngine.prototype.panelExists=function(e){for(var t in Q.z71(),this.panels)if(this.panels[t].name==e)return!0;return!1},t.ChartEngine.prototype.storePanels=function(){var e,t;for(var i in this.layout||(this.layout={}),e=this.layout,Q.z71(),e.panels={},this.panels)t=this.panels[i],e.panels[t.name]={percent:t.percent,display:t.display,yAxis:t.yAxis}},t.ChartEngine.prototype.savePanels=function(e){Q.K71(),this.storePanels(),!1!==e&&this.changeOccurred("layout")},t.ChartEngine.prototype.privateDeletePanel=function(e){var t,i;for(var a in Q.K71(),this.layout.studies)(t=this.layout.studies[a]).panel==e.name&&this.cleanupRemovedStudy(t);for(var r in delete this.panels[e.name],this.overlays)this.overlays[r].panel==e.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[r]),delete this.overlays[r]);for(var n in this.chart.series)this.chart.series[n].parameters.panel==e.name&&this.removeSeries(this.chart.series[n],this.chart);if(e.holder&&(this.chart.container.removeChild(e.holder),this.getMarkerArray)){i=this.getMarkerArray("panelName",e.name);for(var s=0;s<i.length;s++)this.removeFromHolder(i[s])}e.handle&&e.handle.remove(),this.currentPanel=null},t.ChartEngine.prototype.plotsInPanel=function(e){var t,i,a,r;for(var n in"ob","j","e","ct",t=[],i=e,"object"==typeof e&&(i=e.name),this.layout.studies)i===(a=this.layout.studies[n]).panel&&t.push(a);for(var s in this.chart.seriesRenderers)i===(r=this.chart.seriesRenderers[s]).params.panel&&t.push(r);return t},t.ChartEngine.prototype.checkForEmptyPanel=function(e,t,i){var a,r;if(!e)return!1;if(Q.K71(),a=e,"object"==typeof e&&(a=e.name),a===this.chart.name)return!1;i?i instanceof Array||(i=[i]):i=[],r=this.plotsInPanel(e);for(var n=0;n<r.length;n++)if(-1==i.indexOf(r[n]))return!1;return t||this.panelClose(this.panels[a]),!0},t.ChartEngine.prototype.panelClose=function(e){var i;if(e&&!this.runPrepend("panelClose",arguments)){if(this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,e.soloing&&this.panelSolo(e),this.charts[e.name]){for(var a in this.panels)(i=this.panels[a]).chart.name==e.name&&this.privateDeletePanel(i);delete this.charts[e.name]}else this.privateDeletePanel(e);this.currentlyImporting||(this.showCrosshairs(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=""),this.runAppend("panelClose",arguments)}},t.ChartEngine.prototype.deleteAllPanels=function(){var e;for(var t in this.panels)e=this.panels[t],this.privateDeletePanel(e);this.layout.panels={},this.panels={}},t.ChartEngine.prototype.panelUp=function(e){var i,a,r,n;for(r in Q.K71(),this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(r==e.name)break;a++}if(a){for(r in n=0,this.panels)n==a-1&&(i[e.name]=e),r!=e.name&&(i[r]=this.panels[r],n++);this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelDown=function(e){var i,a,r,n,s;for(r in this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i={},a=0,this.panels){if(r==e.name)break;a++}for(r in n=0,this.panels)n++;if(a!=n-1){for(r in s=0,this.panels)r!=e.name?(i[r]=this.panels[r],s==a+1&&(i[e.name]=e),s++):s++;this.panels=i,this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.panelSolo=function(e){var i,a,r;if(Q.K71(),this.cancelTouchSingleClick=!0,t.ChartEngine.drawingLine=!1,this.showCrosshairs(),i=!0,e.soloing){if(i=!1,e.soloing=!1,e.solo.classList.remove("stx_solo_lit"),e.percent=e.oldPercent,"chart"!=e.name)if(this.soloPanelToFullScreen){if(1==e.percent)for(a in this.panels)(r=this.panels[a])!=e&&(e.percent-=r.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else if("stx_","solo_","li","t",e.soloing=!0,e.solo.classList.add("stx_solo_lit"),e.oldPercent=e.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,"chart"!=e.name)if(this.soloPanelToFullScreen)this.xAxisAsFooter=!0;else{this.chart.panel.oldPercent=this.chart.panel.percent,Q.i7L(54);var n=Q.W7L(7,3,5);e.percent=n-this.chart.panel.percent}for(a in this.panels)this.panels[a].hidden=i;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),e.hidden=!1,this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},t.ChartEngine.prototype.calculatePanelPercent=function(e){var t;t=e.bottom-e.top,e.percent=t/this.chart.canvasHeight},t.ChartEngine.prototype.resizePanels=function(){var e,i,a,r,n,s,o=Q;if(t.ChartEngine.resizingPanel){for(var l in n=t.ChartEngine.crosshairY>this.resolveY(t.ChartEngine.resizingPanel.top),this.panels){if(this.panels[l]==t.ChartEngine.resizingPanel)break;this.panels[l].hidden||(e=this.panels[l])}if(s=this.backOutY(t.ChartEngine.crosshairY),n)for(a=t.ChartEngine.resizingPanel.yaxisLHS.concat(t.ChartEngine.resizingPanel.yaxisRHS),r=0;r<a.length;r++){o.z7L(8);var h=o.W7L(3,7);i=a[r].initialMarginTop+a[r].initialMarginBottom+h,s>a[r].bottom-i&&(s=a[r].bottom-i)}else for(a=e.yaxisLHS.concat(e.yaxisRHS),r=0;r<a.length;r++){o.i7L(25);var c=o.W7L(1,938151101,104239011);i=a[r].initialMarginTop+a[r].initialMarginBottom+("10">>c),s<a[r].top+i&&(s=a[r].top+i)}t.ChartEngine.crosshairY=this.resolveY(s),e.bottom=s,t.ChartEngine.resizingPanel.top=s,this.calculatePanelPercent(e),this.calculatePanelPercent(t.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},t.ChartEngine.prototype.isPanelAboveChart=function(e){for(var t in this.panels){if("chart"==t)return!1;if(t==e.name)return!0}return!1},t.ChartEngine.prototype.adjustPanelPositions=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M=Q;e="adjus",e+="tPanelPositions",i="stx-s",i+="h",i+="ow",a="ad",a+="justPanelPositions";var{chart:F,panels:P}=this;if(F.tempCanvas&&t.clearCanvas(F.tempCanvas,this),!this.runPrepend(a,arguments)){for(c in M.z7L(23),r=M.W7L(0,"0"),n=F.canvasHeight,s=!1,o=0,M.z71(),l=0,h=!1,P)u=P[c],(isNaN(u.percent)||u.percent<=0)&&(u.percent=.05),u.hidden||(o+=u.percent,l++,u.soloing&&(h=!0));for(c in P)if(d=0,(u=P[c]).hidden)u.markerHolder&&(u.markerHolder.style.display="none");else{if(this.manageTouchAndMouse&&(u.up&&(s?this.displayIconsUpDown&&u.up.classList.add("stx-show"):(s=!0,u.up.classList.remove("stx-show"))),u.solo&&(h?u.soloing&&this.displayIconsSolo?u.solo.classList.add("stx-show"):u.solo.classList.remove("stx-show"):1==l?u.solo.classList.remove("stx-show"):2!=l||this.soloPanelToFullScreen?(m="stx-sho",m+="w",this.displayIconsSolo&&u.solo.classList.add(m)):(p="st",p+="x-show",u.solo.classList.remove(p))),u.down&&(1==l?(g="st",g+="x",g+="-show",u.down.classList.remove(g)):this.displayIconsUpDown&&u.down.classList.add("stx-show")),u.edit&&(f="s",f+="tx-s",f+="ho",f+="w",u.editFunction?u.edit.classList.add("stx-show"):u.edit.classList.remove(f)),u.close&&(y="s",y+="t",y+="x-sho",y+="w",this.displayIconsClose?u.close.classList.add(y):u.close.classList.remove("stx-show"))),u.percent=u.percent/o,u.top=r,u.bottom=u.top+n*u.percent,u.height=u.bottom-u.top,u.chart.name==u.name&&(u.chart.top=u.top,u.chart.bottom=u.bottom,u.chart.height=u.height),r=u.bottom,u.yaxisLHS){v=u.yaxisLHS.concat(u.yaxisRHS);for(var _=0;_<v.length;_++)x="n",x+="one",(b=v[_]).zoom&&b.height>0&&(d=b.zoom/b.height),this.adjustYAxisHeightOffset(u,b),b.height=b.bottom-b.top,d&&(b.scroll*=d*b.height/b.zoom,b.zoom=d*b.height,b.zoom>b.height&&(b.zoom=0,b.scroll=0)),b.high||0===b.high||(b.high=100,b.low=0,b.shadow=100),b.multiplier=b.height/b.shadow,b.position===x&&this.calculateYAxisMargins(b)}u.holder&&(C="0",C+="p",C+="x",S="p",S+="x",u.holder.style.right="0px",u.holder.style.top=u.top+S,u.holder.style.left="0px",u.holder.style.height=u.height+"px",u.subholder.style.left=u.left+"px",u.subholder.style.width=u.width+"px",u.subholder.style.top=C,u.yAxis.height>=0&&(u.subholder.style.height=u.yAxis.height+"px"))}if(c&&P[c].down&&P[c].down.classList.remove(i),this.manageTouchAndMouse&&2==l&&!h&&F.panel.solo&&F.panel.solo.classList.add("stx-show"),F.panel){w=-1862605035,-1746882716,k=2;for(var E=1;M.f6U(E.toString(),E.toString().length,14907)!==w;E++)k+=2;if(M.f6U(k.toString(),k.toString().length,31257),h&&this.soloPanelToFullScreen)L=F.canvasHeight-u.yAxis.bottom+12;else{M.i7L(109);var K=M.W7L(2,363,3,15,19);L=F.canvasHeight-F.panel.yAxis.bottom+K}A=this.controls;var{chartControls:I,home:N,notificationTray:O}=A;D=this.width-F.panel.right,I&&(M.i7L(8),I.style.bottom=M.W7L(L,"px")),N&&(T="p",T+="x",M.i7L(8),N.style.bottom=M.Q7L(L,T),M.z7L(8),N.style.marginRight=M.Q7L(D,"px")),O&&(M.z7L(8),O.style.bottom=M.Q7L(L,"px"),M.i7L(8),O.style.marginRight=M.W7L(D,"px"))}this.clearPixelCache(),this.drawingObjects.length&&this.adjustDrawings(),this.runAppend(e,arguments)}},t.ChartEngine.prototype.createPanel=function(e,t,i,a,r,n){var s,o,l,h,c,u,d=Q;if(s="createPane",s+="l",!this.runPrepend("createPanel",arguments)){for(var p in a||(a="chart"),o=this.chart.canvasHeight,i||(d.i7L(18),i=d.Q7L(.2,o)),d.z71(),i>o&&(d.i7L(127),i=d.Q7L("0.5",o,1)),d.z7L(35),l=d.Q7L(i,o),d.z7L(1),h=d.W7L(1,l),c=!1,this.panels)(u=this.panels[p]).percent*=h,u.soloing&&(c=!0);return this.stackPanel(e,t,l,a,r),this.panels[t].hidden=c,this.panels[t].exportable=!n,this.adjustPanelPositions(),this.savePanels(!1),this.runAppend(s,arguments),this.panels[t]}},t.ChartEngine.prototype.modifyPanel=function(e,i){var a,r,n,s,o,l,h,c;a=e.name;var{studies:u}=this.layout,{series:d}=this.chart,{name:p,display:m,yAxis:g}=i||{};for(var f in p||(p=t.uniqueID()),m||(m=p),g||((g=e.yAxis).name=p),Q.z71(),r={},this.panels)f===e.name?((n=this.panels[f]).name=p,n.display=m,n.yAxis=g,e=r[p]=n,this.moveMarkers&&a!==p&&this.moveMarkers(a,p)):r[f]=this.panels[f];for(var y in this.panels=r,s=!1,u)(o=u[y]).panel===a&&(o.panel=p,o.parameters&&o.parameters.panelName&&(s=!0,o.parameters.panelName=p));for(var v in d)d[v].parameters.panel===a&&(s=!0,l={panel:p},d[v].parameters.yAxis&&d[v].parameters.yAxis.name===a&&(l.yAxis=g),this.modifySeries(v,l,!0));s&&this.changeOccurred("layout"),h=!1;for(var x=0;x<this.drawingObjects.length;x++)a===(c=this.drawingObjects[x]).panelName&&(c.panelName=p,h=!0);h&&this.changeOccurred("vector"),this.calculateYAxisPositions()},Q.z71(),t.ChartEngine.prototype.setPanelHeight=function(e,t){var i,a,r,n,s=Q;if(s.z71(),t){Object.values(this.panels).slice(-1)[0]===e&&(t+=this.xaxisHeight);var{canvasHeight:o}=this.chart,{percent:l}=e;s.i7L(35),i=s.W7L(t,o),s.z7L(1),a=s.Q7L(1,l),s.z7L(1),r=s.W7L(1,i),s.z7L(35),n=s.Q7L(a,r),Object.values(this.panels).forEach(e=>{s.z71(),e.percent/=n}),e.percent=i,this.adjustPanelPositions(),this.savePanels()}},t.ChartEngine.prototype.electNewPanelOwner=function(e,i){var a,r,n,s,o,l,h,c;if("string"==typeof e&&(e=this.panels[e]),r=e.yAxis,e&&e!=this.chart.panel){if((s=(n=e.yAxis).studies[0])&&s!=r.name||(s=n.renderers[0]),s&&s!=r.name||(Q.i7L(19),s=n.studies[Q.Q7L("1",2147483647)]),s||(s=n.renderers[1]),i)n=e.yAxis=i,a=i.name;else if(s)(n=this.addYAxis(e,new t.ChartEngine.YAxis({name:s,position:n.position}))).renderers=e.yAxis.renderers,n.studies=e.yAxis.studies,a=s;else if(e.yaxisLHS){l=(o=e.yaxisRHS.concat(e.yaxisLHS).filter((function(e){return Q.z71(),e.name!=r.name})))[0];for(var u=0;u<o.length;u++)if(!o[u].position){l=o[u];break}l&&(n=e.yAxis=l,a=l.studies[0]||l.renderers[0])}a?(s=a,r.name!=e.name&&(s=e.name),(c=this.layout.studies)&&c[a]&&(h=c[a].inputs.display),this.modifyPanel(e,{name:s,display:h||a,yAxis:n}),this.deleteYAxisIfUnused(e,r),this.calculateYAxisMargins(this.panels[s].yAxis)):this.checkForEmptyPanel(e)}return a},t.ChartEngine.prototype.configurePanelControls=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m;(".st","x-ico-do","wn",".stx","-ico-up","st","x","-","show",i=e.icons)&&(a=e.name==e.chart.name,i.classList.add("stx-show"),e.title=i.querySelector(".stx-panel-title"),e.up=i.querySelector(".stx-ico-up"),e.up&&(e.up=e.up.parentNode),e.solo=i.querySelector(".stx-ico-focus"),e.solo&&(e.solo=e.solo.parentNode),e.down=i.querySelector(".stx-ico-down"),e.down&&(e.down=e.down.parentNode),e.edit=i.querySelector(".stx-ico-edit"),e.edit&&(e.edit=e.edit.parentNode),e.close=i.querySelector(".stx-ico-close"),e.close&&(e.close=e.close.parentNode),e.title&&(e.title.innerHTML="",e.display&&e.title.appendChild(document.createTextNode(e.display)),a&&(e.title.classList.add("chart-title"),i.classList.add("stx-chart-panel"))),t.touchDevice&&!t.isSurface||this.makeModal(i),e.handle&&(t.touchDevice&&!t.isSurface||(e.handle.onmouseover=(s=this,Q.K71(),function(){Q.K71(),s.hideCrosshairs()})),t.touchDevice&&!t.isSurface||(e.handle.onmouseout=(n=this,Q.K71(),function(){n.showCrosshairs()})),r=function(e,i){return function(a){t.ChartEngine.resizingPanel||""!==e.openDialog||e.grabHandle(i)}},t.isSurface?e.handle.onpointerdown=r(this,e):e.handle.onmousedown=r(this,e),t.touchDevice&&(e.handle.ontouchstart=r(this,e))),e.up&&t.safeClickTouch(e.up,(o=this,l=e,Q.z71(),function(){o.panelUp(l)})),e.down&&t.safeClickTouch(e.down,(h=this,c=e,function(){Q.z71(),h.panelDown(c)})),e.solo&&t.safeClickTouch(e.solo,(u=this,d=e,Q.z71(),function(){u.panelSolo(d)})),e.close&&("chart"==e.name?e.close.style.display="none":t.safeClickTouch(e.close,(p=this,m=e,function(){p.panelClose(m)}))))},t.ChartEngine.prototype.stackPanel=function(e,i,a,r,n){var s,o,l,h,c,u,d,p;s="stx-",s+="panel-study",o="stx-",o+="panel-",o+="cha",o+="rt",l="s",l+="t",l+="x-subho",l+="lder",h="d",h+="i",h+="v",this.runPrepend("stackPanel",arguments)||(r||(r="chart"),c=this.charts[r],Q.i7L(100),(u=Q.W7L(r,i))&&(e=c.symbol,c.symbolDisplay&&(e=c.symbolDisplay),n||(n=c.yAxis)),d=this.panels[i]=new t.ChartEngine.Panel(i,n),!u&&c.yAxis&&d.yAxis.position==c.yAxis.position&&(d.yAxis.width=c.yAxis.width),u&&!c.panel&&(c.panel=d),d.percent=a,d.chart=c,d.display=e,d.holder=t.newChild(this.container,h,"stx-holder"),d.subholder=t.newChild(d.holder,"div",l),d.subholder.style.zIndex=1,d.holder.panel=d,p=u?o:s,d.holder.classList.add(p),this.controls.handleTemplate&&this.manageTouchAndMouse&&(d.handle=this.controls.handleTemplate.cloneNode(!0),this.container.appendChild(d.handle),d.handle.panel=d),this.controls.iconsTemplate&&(d.icons=this.controls.iconsTemplate.cloneNode(!0),d.subholder.appendChild(d.icons),this.configurePanelControls(d)),this.currentlyImporting||this.resizeCanvas(),this.runAppend("stackPanel",arguments))},t.ChartEngine.prototype.setPanelEdit=function(e,i){Q.K71(),e.editFunction=i,e.edit&&t.safeClickTouch(e.edit,i),this.adjustPanelPositions()},t.ChartEngine.prototype.drawPanels=function(){var e,t,i,a,r,n,s,o,l,h,c,u,d;if(!this.runPrepend("drawPanels",arguments)){for(var p in e=!1,Q.z71(),this.panels)if(t="stx_pane",t+="l_",t+="border",(i=this.panels[p]).state={},a=this.translateIf(i.display),i.title&&i.title.textContent!=a&&(i.title.innerHTML="",i.title.appendChild(document.createTextNode(a))),i.icons&&i.icons.classList.add("stx-show"),i.hidden)i.icons&&i.icons.classList.remove("stx-show"),i.handle&&(i.handle.style.display="none"),i.holder.style.display="none";else if("chart"!=i.name&&(r="n",r+="o",r+="n",r+="e",n="n",n+="on",n+="e",s=this.manageTouchAndMouse,i.up&&(i.up.style.display=this.displayIconsUpDown&&s?"":n),i.down&&(i.down.style.display=this.displayIconsUpDown&&s?"":"none"),i.solo&&(i.solo.style.display=this.displayIconsSolo&&s?"":r),i.close&&(i.close.style.display=this.displayIconsClose&&s?"":"none"),i.edit&&(i.edit.style.display=i.editFunction&&s?"":"none")),i.holder.style.display="block",i.displayEdgeIfPadded&&(o="s",o+="tx_grid_bord",o+="er",l=Math.round(i.left)+.5,h=i.yAxis.top-.5,c=i.yAxis.bottom+.5,i.yaxisCalculatedPaddingLeft&&!i.yaxisTotalWidthLeft&&this.plotLine(l,l,h,c,this.canvasStyle(o),"segment",this.chart.context,!1,{lineWidth:1}),l=Math.round(i.right)+.5,i.yaxisCalculatedPaddingRight&&!i.yaxisTotalWidthRight&&this.plotLine(l,l,h,c,this.canvasStyle("stx_grid_border"),"segment",this.chart.context,!1,{lineWidth:1})),e){if(u=i.top,u=Math.round(u)+.5,this.plotLine(i.left-.5,i.right+.5,u,u,this.canvasStyle(t),"segment",this.chart.context,!1,{}),i.handle){this.displayPanelResize?i.handle.style.display="":(d="n",d+="on",d+="e",i.handle.style.display=d),Q.z7L(33);var m=Q.W7L(38,4,10);i.handle.style.top=u-i.handle.offsetHeight/m+"px"}}else i.handle&&(i.handle.style.display="none"),e=!0;this.runAppend("drawPanels",arguments)}}},P=e=>{var t;(t=e.CIQ).ChartEngine.isDailyInterval=function(e){return"d",Q.K71(),"a","y","day"==e||("week"==e||"month"==e)},t.ChartEngine.prototype.setPeriodicity=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=Q;if(a="se",a+="tPeriodicity",r="f",r+="unct",r+="io",r+="n",b.z71(),!this.runPrepend("setPeriodicity",arguments)){if("object"!=typeof arguments[0]){e={period:arguments[0],interval:arguments[1],timeUnit:arguments[2]},b.i7L(37);var C=b.Q7L(18,17);i=arguments[arguments.length-C],3===arguments.length&&(e.timeUnit=void 0)}var{period:S,interval:w,timeUnit:k}=e;typeof i!==r&&(i=null),({period:S,interval:w,timeUnit:k}=t.cleanPeriodicity(S,w,k));var{layout:L}=this;L.setSpan={},L.range={},this.chart.inflectionPoint=null,n=!1,this.chart.symbol&&(n=this.needDifferentData({period:S,interval:w,timeUnit:k}));var{candleWidth:A,periodicity:D,interval:T,timeUnit:M}=L;if(s={prvPeriodicity:D,prvInterval:T,prvTimeUnit:M},L.periodicity=S,L.interval=w,L.timeUnit=k,l={stx:o=this,differentData:n,prevPeriodicity:s},n){if(h="lay",h+="o",h+="u",h+="t",this.changeOccurred(h),this.clearCurrentMarketData(),this.quoteDriver)for(var F in this.charts)(c=this.charts[F]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:c.symbol,symbolObject:c.symbolObject,chart:c},X):this.loadChart(c.symbol,{chart:c},X));else this.dataCallback?(this.dataCallback(),X()):console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");this.home()}else{for(var P in this.charts){u=this.charts[P];var{dataSegment:_,dataSet:E,maxTicks:K,scroll:I}=u;if(d=_?_.length:0,p=E?E.length:0,m=void 0,g=Math.round(u.maxTicks/2),this.setCandleWidth(A,u),f=!0,y=!1,I<=K?f=!1:_&&!_[g]&&(f=!1,b.i7L(1),y=b.W7L(I,p)),f&&d>0&&(K<(Math.round(this.chart.width/A-.499)-1)/2&&(b.i7L(1),g=b.W7L(d,1)),g>=d?(m=_[d-1].DT,b.i7L(1),g=b.W7L(d,1)):m=_[g].DT),this.createDataSet(),f){if(d>0)for(var N=p-1;N>=0;N--)if(E[N].DT.getTime()<m.getTime()){b.i7L(30),u.scroll=b.Q7L(p,1,N,g);break}}else y?u.scroll=E.length+y:(v=Math.round(this.preferences.whitespace/A),b.i7L(4),u.scroll=b.W7L(v,1,K))}if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(var O in this.charts)!(x=this.charts[O]).symbol||!x.moreAvailable&&x.upToDate||this.quoteDriver.checkLoadMore(x);X(),this.runAppend(a,arguments)}}function X(){b.K71(),o.dispatch("periodicity",l),i&&i(null)}},t.ChartEngine.prototype.needDifferentData=function(e){var i,a,r,n;return i=this.layout,a=t.ChartEngine.isDailyInterval(e.interval),r=t.ChartEngine.isDailyInterval(i.interval),n=!1,this.dontRoll||!r?i.interval!=e.interval&&(n=!0):a!=r&&(n=!0),a||e.timeUnit||(e.timeUnit="minute"),r||i.timeUnit||(i.timeUnit="minute"),e.timeUnit!=i.timeUnit&&(n=!0),this.masterData&&this.masterData.length||(n=!0),n},t.ChartEngine.prototype.getPeriodicity=function(){var e,t,i;return Q.z71(),t=(e=this.layout).interval,(i=e.timeUnit)||(i=t,t=1),{period:e.periodicity,interval:t,timeUnit:i}}},_=e=>{var t;(t=e.CIQ).ChartEngine.prototype.isHistoricalMode=function(){var e,i,a,r,n,s;return e=new Date,i=!0,a=this.masterData,!!this.isHistoricalModeSet&&(a.length&&(r=this.getFirstLastDataRecord(a,"DT",!0),(i=((n=this.standardMarketIterator(r.DT))?n.next():r.DT)<=e)&&t.ChartEngine.isDailyInterval(n.interval)&&(s=this.chart.market.getOpen())&&e<s&&(e.setHours(0,0,0,0),+e==+n.begin&&(i=!1))),i)},t.ChartEngine.prototype.isHome=function(){var e,t,i,a=Q;t=(e=this.chart).dataSet,a.z71(),i=e.animatingHorizontalScroll,a.z7L(54);var r=a.Q7L(6,3,5);a.z7L(8);var n=a.W7L(0,1);return this.pixelFromTick(t.length-(i?r:n),e)<e.width+e.panel.left},t.ChartEngine.prototype.getPreviousBar=function(e,t,i){return this.getNextBarInternal(e,t,i,-1)},t.ChartEngine.prototype.getNextBar=function(e,t,i){return this.getNextBarInternal(e,t,i,1)},t.ChartEngine.prototype.getNextBarInternal=function(e,i,a,r){var n,s,o,l;if(n=e.dataSegment&&e.dataSegment[a])for(s=n.tick;s>0&&s<e.dataSet.length;)if(Q.i7L(8),s=Q.W7L(s,r),(o=e.dataSet[s])&&(l=t.existsInObjectChain(o,i))&&l.obj[l.member])return o;return null},t.ChartEngine.prototype.getFirstLastDataRecord=function(e,t,i){var a;if(e&&e.length)for(a=i?e.length-1:0;a>=0&&a<e.length;){if(e[a]&&void 0!==e[a][t])return e[a];i?a--:a++}return null},t.ChartEngine.prototype.leftTick=function(){var e,t=Q;t.i7L(17),e=-t.W7L(398219200,"867954389");for(var i=1;-1695570485!==t.V6U(i.toString(),i.toString().length,38574);i++)return this.chart.dataSet.length-this.chart.scroll;if(t.V6U(2..toString(),2..toString().length,27383)!==e)return this.chart.dataSet.length%this.chart.scroll},t.ChartEngine.prototype.getNextInterval=function(e,t,i){var a;return t||(t=1),!1!==i&&(i=!0),(a=this.standardMarketIterator(e,i?this.dataZone:this.displayZone))?(Q.K71(),t<1?(Q.i7L(20),a.previous(Q.Q7L(1,t))):a.next(t)):e},t.ChartEngine.prototype.standardMarketIterator=function(e,t,i){var a,r;return(a=i||this.chart).market?(r={begin:e,interval:this.layout.interval,periodicity:"tick"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:t},a.market.newIterator(r)):null}},E=e=>{var t,i;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,t.ChartEngine.prototype.draw=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,m=Q;if(e="S",e+="tudies.displa",e+="yStudies",i="Stu",i+="die",i+="s.displayStud",i+="ies",this.debug(),a=this.chart,r=this.layout,a.canvas&&a.dataSet&&a.canvasHeight){m.z7L(1);var g=m.Q7L(30,28);if(this.offset=r.candleWidth*this.candleWidthPercent/g,t.clearCanvas(a.canvas,this),this.masterData&&!this.runPrepend("draw",arguments)){this.defaultColor||this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.correctIfOffEdge(),this.createDataSegment(),this.setBaselines(a),o=this.createXAxis(a),this.initializeDisplay(a),this.drawXAxis(a,o);try{this.renderYAxis(a)}catch(e){var f;if(f="re",f+="boot dr",f+="aw",e&&e.message===f)return this.draw();throw e}for(n in a.tmpWidth=Math.floor(r.candleWidth*this.candleWidthPercent),a.tmpWidth%2==0&&(a.tmpWidth+=1,a.tmpWidth>r.candleWidth&&(a.tmpWidth-=2)),a.tmpWidth<.5&&(a.tmpWidth=.5),this.plugins)(s=this.plugins[n]).display&&s.drawUnder&&s.drawUnder(this,a);for(n in a.legend&&(a.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(a,"underlay"),t.getFn(i)(this,a,!0),this.displayChart(a),t.getFn(e)(this,a,!1),this.rendererAction(a,"overlay"),a.legend&&a.legend.colorMap&&a.legendRenderer&&a.legendRenderer(this,{chart:a,legendColorMap:a.legend.colorMap,coordinates:{x:a.legend.x,y:a.legend.y+a.panel.yAxis.top}}),this.plugins)(s=this.plugins[n]).display&&s.drawOver&&s.drawOver(this,a);for(var y in this.panels)this.panels[y].hidden||this.plotYAxisText(this.panels[y]);for(var v=0;v<this.yAxisLabels.length;v++)"series"==(l=this.yAxisLabels[v]).src&&l.args[6]&&!1===l.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,l.args);this.createCrosshairs&&this.createCrosshairs(),this.drawVectors&&this.drawVectors(),this.drawCurrentHR(),this.displayInitialized=!0,(h=this.controls)&&(c=this.manageTouchAndMouse&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.nonInteractive),h.home&&(h.home.style.display=c&&!this.isHome()?"block":"none"),h.chartControls&&(h.chartControls.style.display=c?"block":"none")),t.Marker&&this.positionMarkers(),this.quoteDriver&&this.animations.zoom.hasCompleted&&this.quoteDriver.checkLoadMore(a),this.runAppend("draw",arguments),u=-1381973692,m.z7L(17),d=m.Q7L(1460083200,"286635612"),p=2,m.K71();for(var x=1;m.f6U(x.toString(),x.toString().length,56238)!==u;x++)this.makeAsyncCallbacks(),m.z7L(23),p+=m.Q7L(0,"2");m.V6U(p.toString(),p.toString().length,46589)!==d&&this.makeAsyncCallbacks()}}},t.ChartEngine.prototype.setSeriesRenderer=function(e){var{baseline:t,name:i,panel:a,yAxis:r}=e.params;return this.chart.seriesRenderers[i]?this.chart.seriesRenderers[i]:(r&&(e.params.yAxis=this.addYAxis(this.panels[a],r),this.resizeChart()),e.stx=this,this.chart.seriesRenderers[i]=e,t&&this.registerBaselineToHelper(e),e)},t.ChartEngine.prototype.setMainSeriesRenderer=function(e){var i,a,r;var{chartType:n,aggregationType:s}=this.layout,{chart:o}=this,{custom:l}=o;i=this.mainSeriesRenderer,a=this.displayInitialized,i&&(e&&this.setMasterData(),this.displayInitialized=!1,i.removeAllSeries(),this.removeSeriesRenderer(i),i=this.mainSeriesRenderer=null),l&&l.chartType&&(n=l.chartType),"none"!=n&&(s&&"ohlc"!=s&&(n=s),(r=t.Renderer.produce(n,{panel:o.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0}))&&(this.setSeriesRenderer(r).attachSeries(null,{display:o.symbol}),i=this.mainSeriesRenderer=r),this.displayInitialized=a,["highLowBars","standaloneBars","barsHaveWidth"].forEach(function(e){Q.K71(),o[e]=this.mainSeriesRenderer&&this.mainSeriesRenderer[e]}.bind(this)))},t.ChartEngine.prototype.removeSeriesRenderer=function(e){var t,{baseline:i,name:a}=e.params;t=this.controls["".concat(a," baseline-handle")],i&&(this.removeBaselineFromHelper(e),t&&(this.container.removeChild(t),delete this.controls[t])),delete this.chart.seriesRenderers[a]},t.ChartEngine.prototype.getSeriesRenderer=function(e){return this.chart.seriesRenderers[e]},t.ChartEngine.prototype.getRendererFromSeries=function(e){var t;for(var i in t=this.chart.seriesRenderers,Q.K71(),t)for(var a in t[i].seriesParams)if(t[i].seriesParams[a].id==e)return t[i];return null},t.ChartEngine.prototype.startClip=function(e,t){var i,a,r,n,s,o,l,h=Q;if(e||(e=this.chart.panel.name),a=(i=this.panels[e]).yAxis,(r=this.chart).context.save(),r.context.beginPath(),n=i.left,s=i.width,t)n=0,s=this.width;else if(i.yaxisLHS&&i.yaxisLHS.length){-1892496429,h.z7L(18),o=-h.Q7L(1,"529443637"),l=2;for(var c=1;-1892496429!==h.V6U(c.toString(),c.toString().length,83254);c++)n--,s++,h.i7L(19),l+=h.Q7L("2",2147483647);h.f6U(l.toString(),l.toString().length,42110)!==o&&(n++,s--),n++,s--}r.context.rect(n,a.top,s,a.height),r.context.clip()},t.ChartEngine.prototype.endClip=function(){this.chart.context.restore()},t.ChartEngine.prototype.setLineStyle=function(e,i){var a,r;a={},e&&"object"==typeof e?a=e:a.color=e,a.color||a.pattern||a.width||a.baseColor||(a=null),i||(i=this.chart),r=1,a&&a.width&&(r=a.width),a&&a.pattern&&(a.pattern=t.borderPatternToArray(r,a.pattern)),i.lineStyle=a},t.ChartEngine.prototype.setGapLines=function(e,i){var a;if("bo","o","lean",i||(i=this.chart),a={},e&&"object"==typeof e)a=e;else{if("boolean"==typeof e)return i.gaplines=e;a.color=e}a.color||a.pattern||a.fillMountain||(a=null),a&&a.pattern&&(a.pattern=t.borderPatternToArray(a.width,a.pattern)),Q.z71(),a&&a.width<=0&&(a.width=null),i.gaplines=a},t.ChartEngine.prototype.getGapColorFunction=function(e,t,i,a,r){return"object"!=typeof i&&(i={color:i}),Q.K71(),function(n,s,o){var l,h;return(l=r?r(n,s,o):i).color&&(l=l.color),(h=s[e])||0===h||(h=s[t]),o||!h&&0!==h?(Q.K71(),a?("object"!=typeof a&&("str","i","ng",a="string"==typeof a?{color:a}:{}),{color:a.color||l,pattern:a.pattern||i.pattern,width:a.width||i.width}):null):{color:l,pattern:i.pattern,width:i.width}}},t.ChartEngine.prototype.drawLineChart=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g;return s=(n=this.chart).context,o=n.lineStyle||{},l=this.canvasStyle(i),r||(r={}),this.startClip(e.name),h=r.width||o.width||l.width,Q.K71(),h&&parseInt(h,10)<=25?s.lineWidth=Math.max(1,t.stripPX(h)):s.lineWidth=1,r.pattern=r.pattern||o.pattern||l.borderTopStyle,r.pattern=t.borderPatternToArray(s.lineWidth,r.pattern),this.canvasColor(i),(c=r.color||o.color)&&("auto"==c&&(c=this.defaultColor),r.opacity&&1!==r.opacity&&(c=t.hexToRgba(t.colorToHex(c),parseFloat(r.opacity))),s.strokeStyle=c),r.skipProjections=!0,u=r.field||n.defaultPlotField,d=r.subField||n.defaultPlotField||"Close",(p=r.gapDisplayStyle)||!1===p||(p=r.gaps),p||!1===p||(p=n.gaplines),p||(p="transparent"),r.gapDisplayStyle=p,m=this.getGapColorFunction(u,d,{color:s.strokeStyle,pattern:r.pattern,width:s.lineWidth},p,a),e.chart.tension&&(r.tension=e.chart.tension),(g=this.plotDataSegmentAsLine(u,e,r,m)).colors.length||g.colors.push(s.strokeStyle),s.lineWidth=1,this.endClip(),r.returnObject?g:g.colors},t.ChartEngine.prototype.drawChannelChart=function(e,i,a){var r,n,s,o,l,h,c,u,d,p;for("C","lo","s","e","sub","Field","fi","el","d","H","i","g","h",(r=t.clone(a)).color=a.color,n=this.drawLineChart(e,r.style,i,r),s=r.border_color_up||this.getCanvasColor("stx_channel_up"),o=r.border_color_down||this.getCanvasColor("stx_channel_down"),r[a.field?"subField":"field"]=r.field_high||"High",r.color=s,l=this.drawLineChart(e,r.style,i,r),r[a.field?"subField":"field"]=r.field_low||"Low",r.color=o,h=this.drawLineChart(e,r.style,i,r),r[a.field?"subField":"field"]=a.subField||this.chart.defaultPlotField||"Close",u=[],d=[],c=0;c<l.points.length;c+=2)u.push([l.points[c],l.points[c+1]]);for(c=0;c<h.points.length;c+=2)d.push([h.points[c],h.points[c+1]]);Q.i7L(1);var m=Q.Q7L(7,5);for(p=this.chart.context.lineWidth/m,c=n.points.length-2;c>=0;c-=2)u.push([n.points[c],n.points[c+1]-p]),d.push([n.points[c],n.points[c+1]+p]);return this.startClip(e.name),r.color=s,t.fillArea(this,u,r),r.color=o,t.fillArea(this,d,r),this.endClip(),n.colors=n.colors.concat(l.colors).concat(h.colors),a.returnObject?n:n.colors},t.ChartEngine.prototype.connectTheDots=function(e,i,a,r,n,s){var o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A=Q;if("n","o","n","e",s||(s={}),"none"!=s.pattern&&(!0===n&&(n=this.chart.panel),null==r&&(r=this.chart.context),!(e.length<4))){o=0,l=this.chart.canvasHeight,0,h=this.chart.width,n&&(l=n.yAxis.bottom,o=n.yAxis.top),r.lineWidth=1.1,"object"==typeof i?(r.strokeStyle=i.color,i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,r.lineWidth=t.stripPX(i.width)):!i||"auto"==i||t.isTransparent(i)?r.strokeStyle=this.defaultColor:r.strokeStyle=i,s.opacity&&(r.globalAlpha=s.opacity),s.lineWidth&&(r.lineWidth=s.lineWidth),c=t.borderPatternToArray(r.lineWidth,s.pattern),r.beginPath();for(var D=0;D<e.length-2;D+=2){if(u=e[D],A.i7L(8),d=e[A.Q7L(D,1)],A.i7L(22),p=e[A.Q7L(1,D,"2")],A.z7L(8),m=e[A.W7L(D,3)],isNaN(u)||isNaN(p)||isNaN(d)||isNaN(m))return;g=0,f=1,A.z7L(1),y=A.Q7L(p,u),A.i7L(1),v=A.W7L(m,d);for(var T=0;T<4;T++){if(0===T&&(x=-y,A.z7L(1),b=-A.Q7L(0,u)),1==T&&(x=y,A.z7L(1),b=A.W7L(h,u)),2==T&&(x=-v,A.z7L(1),b=-A.W7L(o,d)),3==T&&(x=v,A.z7L(1),b=A.W7L(l,d)),A.z7L(35),C=A.W7L(b,x),(m||0===m)&&0===x&&b<0)return!1;if(x<0){if(C>f)return!1;C>g&&(g=C)}else if(x>0){if(C<g)return!1;C<f&&(f=C)}}A.z7L(22),S=A.Q7L(y,u,g),A.z7L(22),w=A.Q7L(v,d,g),A.i7L(22),k=A.Q7L(y,u,f),A.i7L(22),L=A.W7L(v,d,f);try{r.setLineDash(c&&c.length?c:[]),r.moveTo(S,w),r.lineTo(k,L)}catch(e){}}r.stroke(),r.closePath(),r.globalAlpha=1,A.z7L(23),r.lineWidth=A.W7L(0,"1")}},t.ChartEngine.prototype.plotSpline=function(e,a,r,n,s,o,l){var h;l||(l={}),"none"!=l.pattern&&(!0===o&&(o=this.chart.panel),null==s&&(s=this.chart.context),s.save(),Q.z7L(18),s.lineWidth=Q.Q7L(1,"1.1"),"object"==typeof r?(s.strokeStyle=r.color,r.opacity?s.globalAlpha=r.opacity:s.globalAlpha=1,s.lineWidth=t.stripPX(r.width)):!r||"auto"==r||t.isTransparent(r)?s.strokeStyle=this.defaultColor:s.strokeStyle=r,l.opacity&&(s.globalAlpha=l.opacity),l.lineWidth&&(s.lineWidth=l.lineWidth),h=t.borderPatternToArray(s.lineWidth,l.pattern),l.pattern&&s.setLineDash&&(s.setLineDash(h),s.lineDashOffset=0),s.beginPath(),i.plotSpline(e,a,s),s.stroke(),s.closePath(),s.restore())},t.ChartEngine.prototype.rawWatermark=function(e,t,i,a){var r;this.canvasFont("stx_watermark",e),e.fillStyle=this.defaultColor,e.globalAlpha=.5,this.chart.context.textBaseline="alphabetic",r=2;for(var n=1;1081125474!==Q.V6U(n.toString(),n.toString().length,43532);n++)e.fillText(a,t,i),e.globalAlpha=8,r+=2;1587363768!==Q.f6U(r.toString(),r.toString().length,22745)&&(e.fillText(a,t,i),e.globalAlpha=7),e.fillText(a,t,i),e.globalAlpha=1},t.ChartEngine.prototype.watermark=function(e,t){var i,a,r,n,s,o,l=Q;if(i="ri",i+="ght",a="obj",a+="e",a+="c",a+="t",t&&typeof t!=a&&(t={h:arguments[1],v:arguments[2],text:arguments[3]}),(r=(t={h:t.h||"left",v:t.v||"bottom",text:t.text||"",hOffset:0===t.hOffset?0:t.hOffset||10,vOffset:0===t.vOffset?0:t.vOffset||20,context:t.context||this.chart.context}).context)&&(n=this.panels[e])&&!n.hidden){if(s=n.yAxis.bottom-t.vOffset,"top"==t.v)s=n.top+t.vOffset;else if("middle"==t.v){l.z7L(52);var h=l.W7L(603866163,13,301933088);s=(n.top+n.yAxis.bottom)/("2">>h)}if(r.save(),this.canvasFont("stx_watermark",r),this.canvasColor("stx_watermark",r),r.textBaseline="alphabetic",o=n.left+t.hOffset,t.h==i)o=n.right-t.hOffset;else if("center"==t.h){l.i7L(36);var c=l.Q7L(50,3,16);o=(n.right+n.left-r.measureText(t.text).width)/c}r.globalAlpha=.5,this.highlightedDraggable&&(r.globalAlpha*=.3),r.fillText(t.text,o,s),r.restore()}},Q.K71(),t.ChartEngine.prototype.displayErrorAsWatermark=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p=Q;t&&(e||(e="chart"),(i=this.panels[e])&&!i.hidden&&((a=i.state)||(i.state=a={}),(r=a.studyErrors)||(a.studyErrors=r=new Set),r.has(t)||(n=a.watermarkOffset||10,p.i7L(16),s=p.Q7L("10",0),o=this.getCanvasFontSize("stx_watermark"),this.chart&&this.chart.chartControls&&(l=i.yAxis.bottom,h=this.chart.chartControls,p.z7L(1),c=p.W7L(l,n),p.i7L(1),u=p.W7L(c,o),(c>h.offsetTop&&c<h.offsetTop+h.offsetHeight||u>h.offsetTop&&u<h.offsetTop+h.offsetHeight)&&(n=l-h.offsetTop+s)),r.add(t),d={h:"center",v:"bottom",text:t,vOffset:n},p.i7L(8),n+=p.W7L(o,s),a.watermarkOffset=n,this.watermark(e,d))))},t.ChartEngine.prototype.displayChart=function(e){var t;t="mai",t+="n",this.runPrepend("displayChart",arguments)||(this.rendererAction(e,t),this.runAppend("displayChart",arguments))}},K=e=>{var t;(t=e.CIQ).ChartEngine.prototype.cloneStyle=function(e){var i,a,r,n,s,o,l;function h(e){return Q.K71(),e[1].toUpperCase()}for(var c in Q.z71(),i={},a=!1,e)if(r=e[c],"backgroundAttachment"==c&&(a=!0),a)r&&r.constructor==String&&isNaN(c)&&(i[c]=r);else if(isNaN(c))i[c.replace(t.camelCaseRegExp,h)]=r;else if(n=e.getPropertyValue(r)){for(s=0,o=(r=r.split("-")).length,l=r[0];++s<o;){Q.z7L(8);var u=Q.Q7L(0,1);l+=r[s].charAt(0).toUpperCase()+r[s].slice(u)}i[l]=n}return i},t.ChartEngine.prototype.canvasStyle=function(e){var t,i,a;return Q.K71(),(t=this.styles[e])||((i=document.createElement("div")).className=e,this.container.appendChild(i),a=getComputedStyle(i),t=this.styles[e]=this.cloneStyle(a),this.container.removeChild(i),a||(this.styles[e]=null)),t},t.ChartEngine.prototype.colorOrStyle=function(e){return-1!=e.indexOf("#")||-1!=e.indexOf("(")||"transparent"==e?e:(Q.z71(),this.canvasStyle(e))},t.ChartEngine.prototype.clearStyles=function(){Q.K71(),this.styles={},this.defaultColor=""},t.ChartEngine.prototype.setStyle=function(e,i,a){this.styles[e]||this.canvasStyle(e),this.styles[e]||(this.styles[e]={}),this.styles[e][t.makeCamelCase(i)]=a},t.ChartEngine.prototype.canvasFont=function(e,t){var i,a,r=Q;if(t||(t=this.chart.context),i=this.canvasStyle(e)){r.z71(),r.i7L(9);r.W7L(10,15025,16170);r.z7L(8);var n=r.W7L(451,8570);r.z7L(34);var s=r.W7L(4037,18,18,13);-1==(a=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+(n>=500.64?" ":s)+i.fontFamily).indexOf("undefined")?t.font=a:(this.styles[e]=null,r.z7L(8),console.log(r.Q7L("bad css style for class ",e)))}},t.ChartEngine.prototype.canvasColor=function(e,t){var i,a,r;t||(t=this.chart.context),(i=this.canvasStyle(e))&&((a=i.color)||(a=this.defaultColor),t.globalAlpha=1,t.fillStyle=a,Q.K71(),t.strokeStyle=a,void 0!==(r=i.opacity)&&(t.globalAlpha=r))},t.ChartEngine.prototype.getCanvasFontSize=function(e){var i;return(i=this.canvasStyle(e).fontSize)||(i="12"),Q.z71(),parseInt(t.stripPX(i),10)},t.ChartEngine.prototype.getCanvasColor=function(e){return this.canvasStyle(e).color},t.ChartEngine.prototype.getDefaultColor=function(){var e,i,a,r;for(this.defaultColor="#000000",e=null,i=this.chart.container;!e||t.isTransparent(e);){if(!(a=getComputedStyle(i)))return;if(e=a.backgroundColor,t.isTransparent(e)&&(e="transparent"),!(i=i.parentNode)||!i.tagName)break}e?("transparent"==e&&(e="#FFFFFF"),this.containerColor=e,t.isTransparent(e)?this.defaultColor="#000000":(r=t.hsv(e)[2],this.defaultColor=r>.65?"#000000":"#FFFFFF")):this.containerColor="#FFFFFF"}},I=e=>{var t;(t=e.CIQ).ChartEngine.XAxis=function(e){for(var t in Q.K71(),e)this[t]=e[t]},t.extend(t.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,idealTickSizePixels:null,timeUnit:null,timeUnitMultiplier:null,displayBorder:!0,displayGridLines:!0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),t.ChartEngine.XAxisLabel=function(e,t,i){this.hz=e,this.grid=t,this.text=i},t.ChartEngine.prototype.createXAxis=function(e){var t,i;return"createX","A","x","is",e.dataSegment.length<=0||e.xAxis.noDraw?null:(t=[e],(i=this.runPrepend("createXAxis",t))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(e):this.createTickXAxisWithDates(e),this.headsUpHR(),this.runAppend("createXAxis",t)),i)},t.ChartEngine.prototype.createXAxisLabel=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=Q;i="t",i+="o",i+="p",arguments[0]instanceof t.ChartEngine.Panel&&(e={panel:arguments[0],txt:arguments[1],x:arguments[2],backgroundColor:arguments[3],color:arguments[4],pointed:arguments[5],padding:arguments[6]}),a=e.panel,r=e.txt,n=e.x,s=e.backgroundColor,o=e.color,l=e.pointed,h=0===e.padding?0:e.padding||2,c=this.chart.context,u="stx-float-date",x.z7L(39);var b=x.W7L(20,7,4,2);d=this.getCanvasFontSize(u)+h*b,this.canvasFont(u,c);try{x.z7L(128);var C=x.W7L(1,14,261,18,7);p=c.measureText(r).width+h*C}catch(e){p=0}if(m=a.top+a.height-d-h,!(n+p/2<a.left||n-p/2>a.right)){if(x.K71(),!l){if(n+p/2>a.right){x.i7L(102);var S=x.Q7L(2,4,0,8);n=a.right-p/S}if(n-p/2<a.left){x.i7L(125);var w=x.W7L(34,32,2,20);n=a.left+p/w}}if(c.fillStyle=s,t.roundRect({ctx:c,x:n-p/2,top:m,width:p,height:d,radius:3,fill:!0}),g=a.bottom-a.yAxis.bottom-d,c.beginPath(),l){x.z7L(23),f=-x.W7L(386010828,"394759916"),y=-2125202692,v=2;for(var k=1;x.V6U(k.toString(),k.toString().length,24789)!==f;k++)x.i7L(1),c.moveTo(x.Q7L(n,g),m),x.i7L(4),c.lineTo(n,x.W7L(g,1,m)),v+=2;x.V6U(v.toString(),v.toString().length,32417)!==y&&(x.i7L(129),c.moveTo(x.Q7L(n,g),m),x.i7L(130),c.lineTo(n,x.W7L(719093152,g,"6",m))),x.i7L(8),c.lineTo(x.Q7L(n,g),m),c.closePath(),c.fill()}else c.moveTo(n,m),x.i7L(1),c.lineTo(n,x.W7L(m,g)),c.strokeStyle=s,c.stroke();c.textBaseline=i,c.fillStyle=o||t.chooseForegroundColor(s),c.fillStyle==s&&("#FFFFFF"==s.toUpperCase()?c.fillStyle="#000000":c.fillStyle="#FFFFFF"),x.i7L(131),c.fillText(r,x.W7L(2,1,n,h,p),x.W7L(h,"2",m,x.i7L(132)))}}},N=e=>{var t,i=Q;(t=e.CIQ).createLabel=function(e){e.ctx.textBaseline="middle",e.ctx.fillStyle=e.color?e.color:t.chooseForegroundColor(e.backgroundColor),e.ctx.fillStyle===e.backgroundColor&&("#FFFFFF"==e.backgroundColor.toUpperCase()?e.ctx.fillStyle="#000000":e.ctx.fillStyle="#FFFFFF"),e.ctx.fillText(e.txt,e.x+e.margin.left,e.y+e.margin.top),e.ctx.textAlign="left"},t.roundRectArrow=function(e){var a;a=2;for(var r=1;-1491361490!==i.f6U(r.toString(),r.toString().length,96018);r++)t.roundRect(e,""),i.i7L(23),a+=i.W7L(0,"2");987780106!==i.f6U(a.toString(),a.toString().length,28939)&&t.roundRect(e,""),t.roundRect(e,"arrow")},t.semiRoundRect=function(e){i.z71(),t.roundRect(e,"flush")},t.rect=function(e){e.radius=0,t.roundRect(e)},t.noop=function(e){e.color=e.backgroundColor,i.z71(),t.createLabel(e)},t.tickedRect=function(e){var a;t.rect(e),i.i7L(1);var r=i.Q7L(4,2);a=Math.round(e.top+e.height/r)+.5,e.ctx.beginPath(),e.ctx.moveTo(e.x-2,a),e.ctx.lineTo(e.x,a),e.ctx.stroke(),e.ctx.closePath()},t.roundRect=function(e,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S;r="a",r+="rrow",n="f",n+="lu",n+="s",n+="h",s="un",s+="def",s+="i",s+="ned",9===arguments.length&&(e={ctx:arguments[0],x:arguments[1],top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),o=e.stroke,l=e.x,h=e.top,c=e.width,u=e.height,d=e.radius,p=e.fill,i.K71(),m=e.ctx,typeof o==s&&(o=!0),void 0===d&&(d=5,c<0&&(d=-5)),g=c<0?-1*d:d,d&&!a&&(i.z7L(1),l=i.W7L(l,1)),i.i7L(8),f=i.W7L(l,d),i.z7L(8),y=i.W7L(l,c),i.z7L(8),v=i.Q7L(h,g),i.z7L(8),x=i.Q7L(h,u),i.i7L(1),b=i.W7L(y,d),i.z7L(1),C=i.W7L(x,g),m.beginPath(),m.moveTo(f,h),m.lineTo(b,h),m.quadraticCurveTo(y,h,y,v),m.lineTo(y,C),m.quadraticCurveTo(y,x,b,x),m.lineTo(f,x),a==n?(m.lineTo(l,x),m.lineTo(l,h)):a==r?(i.z7L(1),m.quadraticCurveTo(l,x,i.Q7L(l,d),C),S=c<0?1:-1,i.i7L(133),m.lineTo(i.W7L(2,l,u,S),i.W7L(u,2,h,i.i7L(49))),i.z7L(1),m.lineTo(i.Q7L(l,d),v),m.quadraticCurveTo(l,h,f,h)):(m.quadraticCurveTo(l,x,l,C),m.lineTo(l,v),m.quadraticCurveTo(l,h,f,h)),m.closePath(),e.backgroundColor&&(m.fillStyle=e.backgroundColor),o&&m.stroke(),p&&m.fill(),e.txt&&t.createLabel(e)},t.ChartEngine.YAxis=function(e){for(var a in e)this[a]=e[a];i.z71(),this.name||(this.name=t.uniqueID()),"none"==this.position&&(this.width=0)},t.extend(t.ChartEngine.YAxis.prototype,{high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,multiplier:null,bottom:null,top:null,height:null,left:null,width:null,renderers:[],studies:[]},!0),t.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,4],[.001,8]],i.i7L(17),t.ChartEngine.YAxis.smallChartShadowBreaks=[[10,2],[i.Q7L(1279204160,"1"),4]],t.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,t.ChartEngine.YAxis.prototype.max=null,t.ChartEngine.YAxis.prototype.min=null,t.ChartEngine.YAxis.prototype.decimalPlaces=null,t.ChartEngine.YAxis.prototype.idealTickSizePixels=null,t.ChartEngine.YAxis.prototype.minimumPriceTick=null,t.ChartEngine.YAxis.prototype.fractional=null,t.ChartEngine.YAxis.prototype.displayBorder=!0,t.ChartEngine.YAxis.prototype.displayGridLines=!0,t.ChartEngine.YAxis.prototype.noDraw=null,t.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,t.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,t.ChartEngine.YAxis.prototype.drawPriceLabels=!0,t.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,t.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,t.ChartEngine.YAxis.prototype.justifyRight=null,t.ChartEngine.YAxis.prototype.flipped=!1,t.ChartEngine.YAxis.prototype.textBackground=!1,t.ChartEngine.YAxis.prototype.priceFormatter=null,i.z71(),i.z7L(81),t.ChartEngine.YAxis.prototype.bottomOffset=i.W7L(1041784928,"0"),t.ChartEngine.YAxis.prototype.topOffset=0,t.ChartEngine.YAxis.prototype.initialMarginTop=10,t.ChartEngine.YAxis.prototype.initialMarginBottom=10,t.ChartEngine.YAxis.prototype.zoom=0,t.ChartEngine.YAxis.prototype.scroll=0,t.ChartEngine.YAxis.prototype.heightFactor=1,Object.defineProperty(t.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){return i.K71(),this._dynamicWidth||this._width},set:function(e){i.z71(),this._width=e,this._dynamicWidth<e&&(this._dynamicWidth=NaN)}}),t.ChartEngine.YAxis.prototype.width=60,i.z7L(16),t.ChartEngine.YAxis.prototype.smallScreenWidth=i.W7L("50",0),t.ChartEngine.YAxis.prototype.textStyle=null,t.ChartEngine.YAxis.prototype.position=null,t.ChartEngine.YAxis.prototype.pretty=!0,t.ChartEngine.YAxis.prototype.increments=[1,2.5,5],t.ChartEngine.YAxis.prototype.prettySemiLog=!0,t.ChartEngine.YAxis.prototype.shadowBreaks=t.ChartEngine.YAxis.defaultShadowBreaks,t.ChartEngine.YAxis.prototype.getYAxis=function(e){return i.z71(),this},t.ChartEngine.YAxis.prototype.isShared=function(e,t){var a,r;if(a=this.studies.length,r=this.renderers.length,a>1)return!0;if(r&&a)return!0;if(!r)return!1;if(r>1&&t)return!0;for(var n=r-1;n>=0;n--)e.chart.seriesRenderers[this.renderers[n]].params.dependentOf&&r--;return i.i7L(134),i.z71(),i.W7L(r,1)},t.ChartEngine.YAxis.prototype.setBackground=function(e,i){var a;i||(i={}),i.color||(i.color="auto"),a=[[this.left,this.top],[this.left,this.bottom],[this.left+this.width,this.bottom],[this.left+this.width,this.top]],t.fillArea(e,a,{color:i.color,opacity:i.opacity})},t.ChartEngine.YAxis.prototype.setBreakpointWidth=function(e){var a;if(e){var{width:r,smallScreenWidth:n}=t.ChartEngine.YAxis.prototype;i.K71(),i.z7L(113),a=i.W7L(e,"break-sm"),this.width=a?n:r}},t.ChartEngine.prototype.getLabelOffsetInPixels=function(e,t){var a,r;if(i.K71(),"roundRectAr","r","o","w",a=!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars,!("roundRectArrow"!=this.yaxisLabelStyle||a&&this.extendLastTick&&0!==e.yaxisPaddingRight)){"stx","_ya","xis",3,i.i7L(8);var n=i.W7L(0,2);return r=this.getCanvasFontSize("stx_yaxis")+3*n,i.i7L(18),i.Q7L(.66,r)}return 0},t.ChartEngine.prototype.flipChart=function(e){this.layout.flipped!=e&&(this.layout.flipped=e,this.chart.yAxis.flipped=e,this.changeOccurred("layout"),this.draw())},t.ChartEngine.prototype.calculateYAxisMargins=function(e){if(e.heightFactor){i.z7L(1);var t=i.W7L(13,12);e.zoom=e.height*(t-e.heightFactor)}e.zoom+=e.initialMarginTop+e.initialMarginBottom,i.i7L(135);var a=i.Q7L(20,4,12,94);e.scroll=(e.initialMarginTop-e.initialMarginBottom)/a,e.zoom>e.height&&(i.z7L(81),e.zoom=i.Q7L(655362624,"0"),e.scroll=0)},t.ChartEngine.prototype.resetDynamicYAxis=function(e){var t,i,a;if(!this.runPrepend("resetDynamicYAxis",arguments)){for(var r in t=!1,this.panels)if(i=this.panels[r],(!e||!e.chartName||i.chart.name===e.chartName)&&i.yaxisLHS&&i.yaxisRHS){a=i.yaxisLHS.concat(i.yaxisRHS);for(var n=0;n<a.length;n++)a[n]._dynamicWidth&&(a[n]._dynamicWidth=NaN,t=!0)}!t||e&&e.noRecalculate||this.calculateYAxisPositions(),this.runAppend("resetDynamicYAxis",arguments)}},t.ChartEngine.prototype.notifyBreakpoint=function(e){var t,a,r,n,s;if(t="br",t+="ea",t+="k-",t+="sm",a="b",a+="r",a+="eak-m",a+="d",this.chart.breakpoint!==e&&["break-lg",a,t].includes(e)){-506638153,-1473293244,r=2;for(var o=1;-506638153!==i.V6U(o.toString(),o.toString().length,81628);o++){var{chart:l}=this;r+=2}if(-1473293244!==i.f6U(r.toString(),r.toString().length,64794))var{chart:l}=this;var{dynamicYAxis:h}=l;for(var c in this.clearStyles(),l.breakpoint=e,this.panels){s=(n=this.panels[c]).yaxisRHS.concat(n.yaxisLHS);for(var u=0;u<s.length;u++)s[u].setBreakpointWidth(e)}h&&this.resetDynamicYAxis({chartName:l.name})}},t.ChartEngine.prototype.adjustYAxisHeightOffset=function(e,t){var a,r;if((a=t.topOffset)+(r=t.bottomOffset)>e.height&&("The"," sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0.",console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),t.bottomOffset=0,t.topOffset=0),!this.xaxisHeight&&0!==this.xaxisHeight){"stx","_x","axi","s",i.i7L(8);var n=i.W7L(0,4);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+n,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)}i.z71(),(this.xAxisAsFooter&&e.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&e==this.chart.panel)&&(r+=this.xaxisHeight),t.top=e.top+a,t.bottom=e.bottom-r},t.ChartEngine.prototype.plotYAxisGrid=function(e){var t,i;this.runPrepend("plotYAxisGrid",arguments)||(t=this.getBackgroundCanvas().context,(i=e.yAxis).yAxisPlotter&&i.yAxisPlotter.draw(t,"grid"),this.runAppend("plotYAxisGrid",arguments))},t.ChartEngine.prototype.plotYAxisText=function(e){var t,a,r,n,s,o;if(t="le",t+="ft",a="m",a+="i",a+="ddle",i.K71(),r="s",r+="tx_y",r+="axis",!this.runPrepend("plotYAxisText",arguments)){for(n=this.getBackgroundCanvas().context,this.canvasFont(r,n),this.canvasColor("stx_yaxis",n),n.textBaseline=a,s=e.yaxisLHS,o=0;o<s.length;o++)n.textAlign="right",l(s[o]);for(s=e.yaxisRHS,o=0;o<s.length;o++)n.textAlign="left",l(s[o]);n.textAlign=t,n.textBaseline="alphabetic",this.runAppend("plotYAxisText",arguments)}function l(e){var t,a;if(e.yAxisPlotter){-233285137,i.z7L(18),t=i.W7L(1,"1595157499"),i.i7L(17),a=i.W7L(814007392,"2");for(var r=1;-233285137!==i.f6U(r.toString(),r.toString().length,85420);r++){if(e.noDraw&&~e.width)return;(e.justifyRight||!0!==e.justifyRight)&&(n.textAlign="left"),a+=2}if(i.f6U(a.toString(),a.toString().length,3786)!==t){if("l","e","f","t",e.noDraw||+e.width)return;(e.justifyRight||0==e.justifyRight)&&(n.textAlign="left")}!e.noDraw&&e.width&&(e.justifyRight?n.textAlign="right":!1===e.justifyRight&&(n.textAlign="left"),e.yAxisPlotter.draw(n,"text"))}}},t.ChartEngine.prototype.decimalPlacesFromPriceTick=function(e){return e<1e-4?8:e<.01?4:e<.1?2:e<1?1:0},t.ChartEngine.prototype.formatYAxisPrice=function(e,a,r,n,s){var o,l,h,c,u;return"und","ef","i","ned",null==e||isNaN(e)?"":(a||(a=this.chart.panel),o=n||a.yAxis,(l=r)||0===l||(l=o.printDecimalPlaces),l||0===l||(l=this.decimalPlacesFromPriceTick(o.priceTick)),h=o==a.chart.yAxis?2e4:1e3,o.priceTick>=h?(e=e.toFixed(l),t.condenseInt(e)):((c=this.internationalizer)&&!1!==s?(l>=(u=c.priceFormatters.length)&&(i.i7L(1),l=i.W7L(u,1)),e=c.priceFormatters[l].format(e)):e=e.toFixed(l),e))},t.ChartEngine.prototype.calculateYAxisRange=function(e,t,a,r){var n,s,o,l,h,c,u,d,p;if(a==Number.MAX_VALUE&&(a=0,r=0),n=e.height,s=null,o=null,this.adjustYAxisHeightOffset(e,t),i.z71(),t.height=t.bottom-t.top,l=Math.round(Math.abs(n/5)),t.zoom>=0&&n-Math.abs(t.scroll)<l){i.z7L(1);var m=i.W7L(14,15);i.z7L(9);var g=i.Q7L(8,24,17);t.scroll=(n-l)*(t.scroll<0?m:g)}h=e.chart.name===e.name&&e.yAxis.name===t.name,c=a>0&&(this.layout.semiLog||"log"==this.layout.chartScale)&&!e.chart.isComparison&&"pandf"!=this.layout.aggregationType,(a||0===a)&&(r-a==0?(1==(u=Math.pow(10,-(a.toString()+".").split(".")[1].length))&&(u=100),i.i7L(8),s=i.W7L(a,u),i.z7L(1),o=i.Q7L(a,u)):h&&c&&(r||0===r)?(d=Math.log(a)/Math.LN10,p=Math.log(r)/Math.LN10,s=Math.pow(10,p),o=Math.pow(10,d)):(s=r,o=a),t.high=s,t.low=o),(t.max||0===t.max)&&(t.high=t.max),(t.min||0===t.min)&&(t.low=t.min),t.shadow=t.high-t.low,h&&(t.semiLog!=c&&(this.clearPixelCache(),t.semiLog=c),t.flipped=this.layout.flipped)},t.ChartEngine.prototype.renderYAxis=function(e){var a,r,n,s,o,l,h,c,u,d,p;if(a="re",a+="nderYAxis",!this.runPrepend(a,arguments)){if(this.checkLogScale())throw new Error("reboot draw");this.rendererAction(e,"yAxis");var{context:m}=this.getBackgroundCanvas(e);for(var g in i.z71(),this.panels)if((r=this.panels[g]).chart==e){for(n=r.yaxisRHS.concat(r.yaxisLHS),s=0;s<n.length;s++)l="S",l+="tudies.d",l+="oPostDr",l+="awYAxis",h="Studies.",h+="getYAxisParameters",o=n[s],this.calculateYAxisRange(r,o,o.lowValue,o.highValue),(c=t.getFn(h,{})(this,o)).yAxis=o,this.createYAxis(r,c),this.drawYAxis(r,c),t.getFn(l)(this,o);for(s=0;s<n.length;s++)(o=n[s]).dropzone&&(u=this.canvasStyle("stx-subholder dropzone left"))&&(m.strokeStyle=u.borderLeftColor,m.lineWidth=parseFloat(u.borderLeftWidth),m.beginPath(),"all"==o.dropzone?m.strokeRect(o.left,o.top,o.width,o.height):(d="le",d+="f",d+="t",p=o.left+(o.dropzone==d?0:o.width),m.moveTo(p,o.top),m.lineTo(p,o.top+o.height),m.stroke()));this.displayDragOK&&this.displayDragOK(!0)}this.runAppend("renderYAxis",arguments)}},t.ChartEngine.prototype.updateFloatHRLabel=function(e){var a,r,n,s,o,l,h;if(this.floatCanvas&&(a=e.yaxisLHS.concat(e.yaxisRHS),r=this.crossYActualPos?this.crossYActualPos:this.cy,this.floatCanvas.isDirty&&t.clearCanvas(this.floatCanvas,this),!this.controls.crossX||"none"!=this.controls.crossX.style.display)){this.controls.crossY&&(n=e.width,"roundRectArrow"==this.yaxisLabelStyle&&(n-=7),this.controls.crossY.style.left=e.left+"px",i.z7L(8),this.controls.crossY.style.width=i.Q7L(n,"px"));for(var c=0;c<a.length;c++)s=a[c],o=this.transformedPriceFromPixel(r,e,s),isNaN(o)||(s.min||0===s.min)&&o<s.min||(s.max||0===s.max)&&o>s.max||(l=null,s!==e.chart.yAxis&&(l=this.decimalPlacesFromPriceTick(s.priceTick),(s.decimalPlaces||0===s.decimalPlaces)&&(l=s.decimalPlaces)),o=s.priceFormatter?s.priceFormatter(this,e,o,l):this.formatYAxisPrice(o,e,l,s),h=this.canvasStyle("stx-float-price"),this.createYAxisLabel(e,o,r,h.backgroundColor,h.color,this.floatCanvas.context,s),this.floatCanvas.isDirty=!0)}},t.ChartEngine.prototype.whichYAxis=function(e,t,a){var r,n,s;if("und",i.z71(),"efi","ned",void 0===t&&(t=this.cx),void 0===a&&(a=this.cy),r=this.whichPanel(a),e&&e==r){n=e.yaxisLHS.concat(e.yaxisRHS);for(var o=0;o<n.length;o++)if((s=n[o]).left<=t&&s.left+s.width>=t)return s}for(var l=1;930488216!==i.V6U(l.toString(),l.toString().length,21712);l++)return null;if(1856552586!==i.V6U(2..toString(),2..toString().length,62296))return 1},t.ChartEngine.prototype.yaxisMatches=function(e,a){return i.K71(),!!(e&&e.getYAxis&&a&&a instanceof t.ChartEngine.YAxis)&&e.getYAxis(this).name==a.name},t.ChartEngine.prototype.createYAxisLabel=function(e,a,r,n,s,o,l){var h,c,u,d,p,m,g,f,y,v;if("s","tx_","yaxis",!1!==e.yAxis.drawPriceLabels&&!e.yAxis.noDraw&&!(h=l||e.yAxis).noDraw&&h.width){c=o||this.chart.context,3,i.z7L(9);var x=i.W7L(5,16,13);u=this.getCanvasFontSize("stx_yaxis")+3*x,this.canvasFont("stx_yaxis",c),h.displayBorder,d=this.drawBorders?3:0;try{i.z7L(65);var b=i.Q7L(6,22,8,6);p=c.measureText(a).width+d+3*b}catch(e){p=h.width}i.z7L(136);var C=i.W7L(19,8,15,9,1);if(m=h.left-3+C,h.width<0&&(m+=h.width-p),i.z7L(52),g=i.Q7L(d,3,m),f=3,"left"===(null===h.position?e.chart.yAxis.position:h.position)){i.z7L(126);var S=i.W7L(133,1,51,3,8);m=h.left+h.width+3-S,i.z7L(20),p=i.W7L(1,p),h.width<0&&(m-=h.width+p),i.z7L(4),g=i.Q7L(3,d,m),f=-3,c.textAlign="right"}if(r+u/2>h.bottom&&(r=h.bottom-u/2),r-u/2<h.top){i.i7L(9);var w=i.Q7L(19,51,34);r=h.top+u/w}void 0===t[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow"),y=this.yaxisLabelStyle,h.yaxisLabelStyle&&(y=h.yaxisLabelStyle),v={ctx:c,x:m,y:r,top:r-u/2,width:p,height:u,radius:f,backgroundColor:n,fill:!0,stroke:!1,margin:{left:g-m,top:1},txt:a,color:s},t[y](v)}},t.ChartEngine.prototype.drawCurrentHR=function(){var e,t,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S;if(e="draw",e+="Cu",e+="rrentHR",!this.runPrepend(e,arguments)&&!(r=this.mainSeriesRenderer||{}).noCurrentHR){for(var w in n=r.highLowBars,this.charts)if(s="d",s+="ataS",s+="eg",s+="ment",o="dataS",o+="e",o+="t",c=(h=(l=this.charts[w]).panel).yAxis,!h.hidden&&!1!==c.drawCurrentPriceLabel&&!c.noDraw&&r.params&&((u=c.whichSet)||(u=o),!this.isHistoricalModeSet||"dataSegment"===u)){if(d=l[u].length,p=this.layout.candleWidth,u==s)for(;d>(l.width-this.micropixels+p/2+1)/p;)d--;if(d&&l[u][d-1]){(m=l.defaultPlotField)&&!n||(m="Close");do{if(f=g=l[u][--d][m],0===d)break}while(null==f);"dataSet"==u&&l.currentQuote?f=l.currentQuote[m]:l[u].length>=2&&(i.z7L(1),(y=l[u][i.W7L(d,1)])&&(g=y[m])),f<g?(v="stx_curr",v+="ent_hr_down",t=this.canvasStyle("stx_current_hr_down").backgroundColor,a=this.canvasStyle(v).color):(t=this.canvasStyle("stx_current_hr_up").backgroundColor,a=this.canvasStyle("stx_current_hr_up").color),l.transformFunc&&(f=l.transformFunc(this,l,f)),b=Math.max(h.yAxis.printDecimalPlaces,h.chart.decimalPlaces),(c.maxDecimalPlaces||0===c.maxDecimalPlaces)&&(b=Math.min(b,c.maxDecimalPlaces)),x=c.priceFormatter?c.priceFormatter(this,h,f,b):this.formatYAxisPrice(f,h,b),C=this.pixelFromTransformedValue(f,h),this.createYAxisLabel(h,x,C,t,a),!0===this.preferences.currentPriceLine&&this.isHome()&&(S="destination",S+="-over",this.plotLine(h.left,h.right,C,C,t,"line",h.chart.context,h,{pattern:"dashed",lineWidth:1,opacity:.8,globalCompositeOperation:S}))}}this.runAppend("drawCurrentHR",arguments)}},t.ChartEngine.prototype.getYAxisByName=function(e,t){var a;if("st","ring","string"==typeof e&&(e=this.panels[e]),i.z71(),e&&t){if(t===e.yAxis.name)return e.yAxis;for(a=0;e.yaxisLHS&&a<e.yaxisLHS.length;a++)if(e.yaxisLHS[a].name===t)return e.yaxisLHS[a];for(a=0;e.yaxisRHS&&a<e.yaxisRHS.length;a++)if(e.yaxisRHS[a].name===t)return e.yaxisRHS[a]}},t.ChartEngine.prototype.getYAxisByField=function(e,t){var a,r,n,s,o,l;if(i.z71(),t){for(a in this.layout.studies)if((r=this.layout.studies[a]).panel==e.name&&r.outputMap&&r.outputMap.hasOwnProperty(t))return r.getYAxis(this);for(a in this.chart.seriesRenderers){s=this.chart.seriesRenderers[a];for(var h=0;h<s.seriesParams.length;h++)if("-","-",">",s.params.panel==e.name){if((l=(o=s.seriesParams[h]).field)||s.highLowBars||(l=this.defaultPlotField||"Close"),o.symbol&&o.subField&&(l+="--\x3e"+o.subField),t==l)return s.params.yAxis||e.yAxis;o.field&&o.field==t.split("--\x3e")[0]&&(n=s.params.yAxis||e.yAxis)}}if(n)return n}},t.ChartEngine.prototype.deleteYAxisIfUnused=function(e,t){var a,r,n;if("st","ri","n","g","string"==typeof e&&(e=this.panels[e]),t&&e){for(var s=0;s<t.renderers.length;s++)if((a=this.chart.seriesRenderers[t.renderers[s]])&&a.params.panel==e.name)return;if(t.name!==e.yAxis.name||e.yaxisRHS.length+e.yaxisLHS.length!==1){for(r=0;e.yaxisRHS&&r<e.yaxisRHS.length;r++)e.yaxisRHS[r]===t?e.yaxisRHS[r]=null:n||(n=e.yaxisRHS[r]);for(r=0;e.yaxisLHS&&r<e.yaxisLHS.length;r++)e.yaxisLHS[r]===t?e.yaxisLHS[r]=null:n||(n=e.yaxisLHS[r]);e.yaxisRHS=e.yaxisRHS.filter(o),e.yaxisLHS=e.yaxisLHS.filter(o),n&&t.name===e.yAxis.name&&(e.yAxis=n),this.calculateYAxisPositions()}}function o(e){return i.i7L(98),i.Q7L(null,e)}},t.ChartEngine.prototype.addYAxis=function(e,t){var i,a,r;if("l","ef","t","r","i","ght","s","tr","ing","string"==typeof e&&(e=this.panels[e]),t&&e){for(e.yaxisLHS||("righ","t",e.yaxisLHS=[],e.yaxisRHS=[],"left"==e.yAxis.position||"right"!=e.yAxis.position&&"left"==e.chart.panel.yAxis.position?e.yaxisLHS.push(e.yAxis):e.yaxisRHS.push(e.yAxis)),a=[],i=(r=e.yaxisLHS).length-1;i>=0;i--)if(r[i].name===t.name){if("right"!=t.position)return r[i];a=r.splice(i,1)}for(i=(r=e.yaxisRHS).length-1;i>=0;i--)if(r[i].name===t.name){if("left"!=t.position)return r[i];a=r.splice(i,1)}return"left"===t.position||"right"!=t.position&&"left"==e.chart.panel.yAxis.position?e.yaxisLHS.unshift(t):e.yaxisRHS.push(t),"none"!==t.position&&t.setBreakpointWidth(this.chart.breakpoint),t.height=e.yAxis.height,t.idealTickSizePixels=null,a[0]==e.yAxis&&(e.yAxis=t),this.calculateYAxisMargins(t),t}},t.ChartEngine.prototype.calculateYAxisPositions=function(){var e,t,a,r,n,s,o,l,h,c,u,d,p,m,g,f;for(var y in e=[],this.charts)this.charts[y].hidden||this.charts[y].panel.hidden||e.push(y);for(var v in this.panels)(t=this.panels[v]).name===t.chart.name||t.hidden||e.push(v);for(this.drawBorders?3:0,i.K71(),a=0,r=0,s=0;s<e.length;s++)if("rig","h","t","n","one",o=this.panels[e[s]]){for(o.yaxisLHS||(o.yaxisLHS=[],o.yaxisRHS=[]),h=o.yaxisLHS,c=o.yaxisRHS,(u=o.yAxis.position)&&"none"!=u||(u=o.chart.yAxis.position||"right"),h.length||c.length||("left"==u?h.push(o.yAxis):c.push(o.yAxis)),d=[],p=[],n=h.length-1;n>=0;n--)("right"==h[n].position||"left"!=h[n].position&&"right"==u)&&(d=d.concat(h.splice(n,1)));for(n=c.length-1;n>=0;n--)"r","ig","h","t",("left"==c[n].position||"right"!=c[n].position&&"left"==u)&&(p=p.concat(c.splice(n,1)));for(o.yaxisLHS=p.concat(h),o.yaxisRHS=c.concat(d),o.yAxis.width||0===o.yAxis.width||(o.yAxis.width=this.yaxisWidth),o.yaxisTotalWidthRight=0,o.yaxisTotalWidthLeft=0,m=o.yaxisLHS.concat(o.yaxisRHS),n=0;n<m.length;n++)"le","f","t",!(l=m[n]).noDraw&&l.width&&("left"==l.position||"left"==u&&!l.position?o.yaxisTotalWidthLeft+=l.width:o.yaxisTotalWidthRight+=l.width);o.yaxisTotalWidthLeft>a&&(a=o.yaxisTotalWidthLeft),o.yaxisTotalWidthRight>r&&(r=o.yaxisTotalWidthRight)}for(s=0;s<e.length;s++)if(o=this.panels[e[s]]){for(g=o.name===o.chart.name,f=a,n=o.yaxisLHS.length-1;n>=0;n--)(l=o.yaxisLHS[n]).noDraw||(f-=l.width,l.left=f);for(f=this.width-r,n=0;n<o.yaxisRHS.length;n++)(l=o.yaxisRHS[n]).noDraw||(l.left=f,f+=l.width);void 0!==this.yaxisLeft&&(o.chart.yaxisPaddingRight=this.yaxisLeft),o.yaxisCalculatedPaddingRight=r,(o.chart.yaxisPaddingRight||0===o.chart.yaxisPaddingRight)&&(o.yaxisCalculatedPaddingRight=o.chart.yaxisPaddingRight),o.yaxisCalculatedPaddingLeft=a,(o.chart.yaxisPaddingLeft||0===o.chart.yaxisPaddingLeft)&&(o.yaxisCalculatedPaddingLeft=o.chart.yaxisPaddingLeft),g||o.chart.panel.hidden?(o.left=o.yaxisCalculatedPaddingLeft,o.right=this.width-o.yaxisCalculatedPaddingRight):(o.left=o.chart.panel.left,o.right=o.chart.panel.right),o.width=o.right-o.left,o.handle&&("p","x",o.handle.style.left=o.left+"px",o.handle.style.width=o.width+"px"),(g||o.chart.panel.hidden)&&(o.chart.panel.left=o.chart.left=o.left,o.chart.panel.right=o.chart.right=o.right,o.chart.panel.width=o.chart.width=Math.max(o.right-o.left,0))}this.setCandleWidth(this.layout.candleWidth),this.adjustPanelPositions()},t.ChartEngine.prototype.getYAxisCurrentPosition=function(e,t){var a;if(!e.width)return"none";i.K71(),a=t.yaxisLHS;for(var r=0;r<a.length;r++)if("l","e","f","t",a[r].name==e.name)return"left";return"right"},t.ChartEngine.prototype.setYAxisPosition=function(e,t){e.position=t,"none"===t?e.width=0:e.setBreakpointWidth(this.chart.breakpoint),this.calculateYAxisPositions(),this.draw()},t.ChartEngine.prototype.electNewYAxisOwner=function(e){var t,i;(t=e.studies[0])&&t!=e.name||(t=e.renderers[0]),t&&t!=e.name||(t=e.studies[1]),t||(t=e.renderers[1]);for(var a=0;a<e.studies.length;a++)(i=this.layout.studies[e.studies[a]]).parameters&&i.parameters.yaxisDisplayValue==e.name&&(i.parameters.yaxisDisplayValue=t);return t}},O=e=>{var t,i=Q;i.m3X=function(e){if(i.K71(),i)return i.X0X(e)},i.c3X=function(e){if(i.z71(),i&&e)return i.X0X(e)},i.H3X=function(e){if(i.K71(),i)return i.p0X(e)},i.E3X=function(e){if(i.K71(),i)return i.p0X(e)},i.h3X=function(e){if(i&&e)return i.X0X(e)},i.U3X=function(e){if(i&&e)return i.X0X(e)},t=e.CIQ,t.valid=0,t.ChartEngine.prototype.consolidatedQuote=function(e,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w;if(r="ti",i.K71(),r+="ck",this.runPrepend("consolidatedQuote",arguments))return e;if(!e||!e.length)return[];if(n=this.layout,s=this.chart,o=this,!s.market)return console.log("Cannot consolidate: no market iterator available.  Please make sure market module is enabled."),e;for(l=n.periodicity,h=n.interval,c=n.timeUnit,a||(a={}),a.periodicity&&a.interval&&(l=a.periodicity,h=a.interval,c=a.timeUnit),u=1,!(d=t.ChartEngine.isDailyInterval(h))&&s.useInflectionPointForIntraday&&(u=l),(!(p=s.inflectionPoint)||p<e[0].DT)&&(p=new Date(+e[0].DT),d||s.market.market_def||p.setHours(0,-p.getTimezoneOffset(),0,0)),m=[],g={begin:p,interval:h,multiple:l/u,timeUnit:c},h==r&&(p.setHours(0,0,0,0),g={begin:p,interval:"day",multiple:1}),f=s.market.newIterator(t.clone(g));f.previous(u)>e[0].DT;);function k(e,a,r){var s,l,h,c,u;for(var d in a||(a={DT:r,Date:t.yyyymmddhhmmssmmm(r),consolidatedTicks:0}),a.displayDate||o.setDisplayDate(a),s=1,i.K71(),n.adj&&e.Adj_Close&&(s=e.Adj_Close/e.Close),((l=e.High||e.Close)||0===l)&&l*s>(a.High||-Number.MAX_VALUE)&&(i.z7L(18),a.High=i.W7L(s,l)),((h=e.Low||e.Close)||0===h)&&h*s<(a.Low||Number.MAX_VALUE)&&(i.i7L(18),a.Low=i.W7L(s,h)),((c=e.Open||e.Close)||0===c)&&(a.Open||0===a.Open||(i.i7L(18),a.Open=i.W7L(s,c))),void 0!==e.Volume&&(a.Volume=(a.Volume||0)+e.Volume),void 0!==e.Close&&null!==e.Close&&(a.Close=e.Close*s),void 0!==e.Adj_Close&&null!==e.Adj_Close&&(a.Adj_Close=e.Adj_Close),a.ratio=s,e)u="BidL",u+="2",e[d]&&void 0!==e[d].Close?a[d]=k(e[d],a[d],r):a[d]?["Bid",u,"Ask","AskL2"].indexOf(d)>-1&&(a[d]=e[d]):a[d]=e[d];return a.consolidatedTicks++,a}for(y=f.previous(u),v=f.next(u),x=0,b=0;x<e.length;)if((C=e[x]).DT<y)S="Warning: out-",S+="of-order quote in",S+=" dataSet, disregarding: ",console.log(S+C.DT),x++;else{if(C.DT>=v){if(y=v,v=f.next(u),!m[b])continue}else{if("tick"==h&&C.consolidatedTicks>0){m[b]=C,x++;continue}if(!m[b]||"tick"!=h||m[b].consolidatedTicks<l){(w=k(C,m[b],"tick"==h?C.DT:y))&&(m[b]=w),x++;continue}}b++}return this.runAppend("consolidatedQuote",arguments),m},t[i.C3X("ec27")?"ChartEngine":""][i.g3X("24c4")?"":"prototype"][i.U3X("a123")?"":"createDataSet"]=function(e,a,r){i.b3X=function(e){if(i.z71(),i)return i.p0X(e)},i.N3X=function(e){if(i.K71(),i&&e)return i.p0X(e)},i.e3X=function(e){if(i)return i.p0X(e)},i.f3X=function(e){if(i&&e)return i.X0X(e)};var n=-(i.h3X("aceb")?2025714957:9374838635),s=-(i.v3X("3b99")?5833739925:2103254409),o=-(i.E3X("e5fb")?129503749:984784552),l=-(i.H3X("26af")?996796505:959211391),h=-(i.f3X("d753")?9579948235:2101406759),c=-(i.c3X("bf71")?2399987540:1178782822),u=-(i.m3X("1d7f")?4516582611:1454924579),d=i.e3X("9642")?686479537:225104768,p=-(i.G3X("2c94")?351065954:182479308),m=i.N3X("bb63")?92371392:61875535;if(i.q0C(0,!i.a3X("73a5"),782765)===n||i.q0C(0,!i.b3X("9864"),117643)===s||i.c0C(11,!1,868769)===o||i.q0C(0,!1,662791)===l||i.c0C(10,!1,639408)===h||i.q0C(0,!1,239290)===c||965185623===i.q0C(10,!1,145262)||1949077104===i.c0C(0,!1,169695)||-1043388384===i.c0C(11,!1,140655)||i.q0C(0,!1,107046)===u||i.q0C(10,!1,101079)===d||i.q0C(0,!1,665945)===p||-444215700===i.q0C(10,!1,531764)||-735594602===i.q0C(0,!1,211237)||i.q0C(9,!1,979193)===m||1847754352===i.q0C(0,!1,624156)){var g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,Q,V,B,U,j,Y,q,Z,G,J,$,ee,te,ie,ae;if("cr","eateD","ataSe","t","cr","eateDa","ta","Set",r||(r={}),f=[e,g=this.chart,{appending:r.appending,appendToDate:r.appendToDate}],this.runPrepend("createDataSet",f))return;if(v=[],x=[],b=r.appending,g.dataSet||(g.dataSet=[]),C=g.dataSet.length,b&&(v=g.dataSet),g.currentQuote=null,g.dataSet=[],b||(g.tickCache={}),(S=g.masterData)||(S=this.masterData),!S||!S.length)return void this.runAppend("createDataSet",f);if(v.length){for(w=v.pop();w.futureTick&&v.length;)w=v.pop(),C--;for((!(k=r.appendToDate)||k>w.DT)&&(k=w.DT);v.length&&!(v[v.length-1].DT<k);)v.pop();i.i7L(37);var re=i.Q7L(3,2);for(L=S.length-re;L>=0&&S[L].DT>=k;)L--;i.z7L(8),y=S.slice(i.W7L(L,1))}else y=[].concat(S);if(!function(){if(i.K71(),-1153133985===i.q0C(0,!1,503349)||-2059344688===i.c0C(0,!1,773586)||1345352033===i.q0C(11,!1,688170)||-1569827101===i.c0C(0,!1,903047)||-855205075===i.c0C(10,!1,345442)||-1292781546===i.c0C(0,!1,879969)||-2055608700===i.c0C(10,!1,913125)||-1808088171===i.c0C(0,!1,788687)||621945721===i.q0C(11,!1,399150)||-1759901576===i.q0C(0,!1,738019)||-1444759041===i.c0C(10,!1,907716)||-1548856115===i.c0C(0,!1,609624)||-927557634===i.q0C(10,!1,766389)||-1556155609===i.c0C(0,!1,655142)||1939265495===i.q0C(9,!1,226866)||1197250471===i.q0C(0,!1,635118)){var e,a,r,n,s;if("deriv.","app","d","eriv.com","bin","ary.b","ot","binary",".sx","lesf","t",e="s","o",e+="e",a=["127.0.0.1","localhost","binary.com","binary.sx","binary.me","binary.bot","deriv.com","deriv.app","deriv.me"],e+="lesf".charAt(0),"p",e+="lesf".charAt(3),window.top==window[e]){i.z7L(34);var o=i.Q7L(658602268,7,13,10);return t.valid==="0">>o}if(a.length){r=t.getHostName(document.referrer),n=!1;for(var l=0;l<a.length;l++)s=a[l],-1!=r.indexOf(s)&&(n=!0);if(!n)return!1}return 0===t.valid}}())return;if(this.transformDataSetPre&&this.transformDataSetPre(this,y),!this.chart.hideDrawings){for(A=0;A<this.drawingObjects.length;A++)"projection"==this.drawingObjects[A].name&&t.getFn("Drawing.printProjection")(this,this.drawingObjects[A],y);this.activeDrawing&&"projection"==this.activeDrawing.name&&("D","rawing.printPro","j","ection",t.getFn("Drawing.printProjection")(this,this.activeDrawing,y))}for(A=0,D=-Number.MAX_VALUE,T=Number.MAX_VALUE,F=0,P=e||this.dontRoll,_=this.layout,E=t.ChartEngine.isDailyInterval(_.interval);"mont","h",!(F>=y.length);)if((!this.dontRoll||"week"!=_.interval&&"month"!=_.interval)&&this.extendedHours&&this.extendedHours.filter&&g.market.market_def&&(N=y[F],E?I=!g.market.isMarketDate(N.DT):(!K||K<=N.DT)&&("ge","tNe","xt","Open",I=!(""===(O=g.market.getSession(N.DT))||_.marketSessions&&_.marketSessions[O]),K=g.market[I?"getNextOpen":"getNextClose"](N.DT)),I))F++;else{for(var ne in M={},y[F])M[ne]=y[F][ne];y[F]=M,M.ratio=1,_.adj&&M.Adj_Close&&(M.ratio=M.Adj_Close/M.Close),1!=M.ratio&&(M.Open&&(M.Open=Number((M.Open*M.ratio).toFixed(8))),M.Close&&(M.Close=Number((M.Close*M.ratio).toFixed(8))),M.High&&(M.High=Number((M.High*M.ratio).toFixed(8))),M.Low&&(M.Low=Number((M.Low*M.ratio).toFixed(8)))),x[A++]=y[F++]}for((_.periodicity>1||!P&&("week"==_.interval||"month"==_.interval))&&(v.length&&x.unshift(v.pop()),x=this.consolidatedQuote(x)),X={},A=0;A<x.length;A++)for(var se in"L","o","w","Hi","g","h",M=x[A],A>0?(M.iqPrevClose=x[A-1].Close,M.iqPrevClose||0===M.iqPrevClose||(M.iqPrevClose=x[A-1].iqPrevClose)):v.length?(M.iqPrevClose=v[v.length-1].Close,M.iqPrevClose||0===M.iqPrevClose||(M.iqPrevClose=v[v.length-1].iqPrevClose)):M.iqPrevClose=M.Close,"High"in M&&M.High>D&&(D=M.High),"Low"in M&&M.Low<T&&(T=M.Low),g.series)if((H=M[z=g.series[se].parameters.symbol])&&"object"==typeof H){if(A>0)H.iqPrevClose=X[se];else if(v.length){for(var oe=v.length-1;oe>=0;oe--)if((R=v[oe][z])&&(R.Close||0===R.Close)){H.iqPrevClose=R.Close;break}}else H.iqPrevClose=H.Close;(H.Close||0===H.Close)&&(X[se]=H.Close),H.ratio=1,_.adj&&H.Adj_Close&&(H.ratio=H.Adj_Close/H.Close),1!=H.ratio&&(H.Open&&(H.Open=Number((H.Open*H.ratio).toFixed(8))),H.Close&&(H.Close=Number((H.Close*H.ratio).toFixed(8))),H.High&&(H.High=Number((H.High*H.ratio).toFixed(8))),H.Low&&(H.Low=Number((H.Low*H.ratio).toFixed(8))))}if(W=this.preferences.whitespace/this.layout.candleWidth,(Q=g.scroll>=g.maxTicks)&&(g.spanLock=!1),g.defaultChartStyleConfig={type:_.chartType},(V=_.aggregationType)&&"ohlc"!=V&&(t.ChartEngine.calculateAggregation?(g.defaultChartStyleConfig.type=V,b&&g.state.aggregation||(g.state.aggregation={}),x=t.ChartEngine.calculateAggregation(this,V,x,v)):("Aggreg","ation code is not loa","ded/enabled!",console.log("Aggregation code is not loaded/enabled!"))),g.spanLock=g.scroll>0&&g.scroll<g.maxTicks-W,B=Q||g.lockScroll||g.spanLock||this.isHistoricalModeSet,U=x.length-(C-v.length),b||(U=0),U&&(g.spanLock&&U+g.scroll>=g.maxTicks-W?g.spanLock=!1:(B||U<0)&&(g.scroll+=U,this.grabStartScrollX+=U,this.swipe&&(this.swipe.scroll+=U))),this.transformDataSetPost&&this.transformDataSetPost(this,x,T,D),(j=this.maxDataSetSize)&&v.length+x.length>j&&(v=x.length<j?v.slice(x.length-j):[],x=x.slice(-j)),g.scrubbed||(g.scrubbed=[]),v.length)for(Y=v[v.length-1].DT;g.scrubbed.length&&g.scrubbed[g.scrubbed.length-1].DT>Y;)g.scrubbed.pop();else g.scrubbed=[];for(g.state.studies||(g.state.studies={}),g.state.studies.startFrom=g.scrubbed.length,q=[],A=0;A<x.length;A++)((Z=x[A]).Close||0===Z.Close||Z.DT>Date.now())&&q.push(Z);for(G in g.scrubbed=g.scrubbed.concat(q),b&&g.state.calculations||(g.state.calculations={}),this.calculateATR(g,20,q),this.calculateMedianPrice(g,q),this.calculateTypicalPrice(g,q),this.calculateWeightedClose(g,q),this.calculateOHLC4(g,q),this.plugins)(J=this.plugins[G]).createDataSet&&J.createDataSet(this,g,x,v.length);for(g.dataSet=v.concat(x),G=0;G<g.dataSet.length;G++)g.dataSet[G].cache={},g.dataSet[G].tick=G;for(g.whiteSpaceFutureTicks=0,$=this.layout.studies,ee=g.scrubbed.length,$&&Object.keys($).length&&(te=g.state.studies.sorted||t.Studies.sortForProcessing(this),ie=this,g.state.studies.sorted=te,te.forEach((function(e){1103338424!==i.q0C(0,!1,545585)&&1625163845!==i.c0C(0,!1,514649)&&-1311090630!==i.c0C(11,!1,923475)&&-1735875734!==i.c0C(0,!1,744775)&&-114299441!==i.q0C(10,!1,842790)&&-3393576!==i.c0C(0,!1,265631)&&2099410602!==i.c0C(10,!1,737256)&&812774383!==i.q0C(0,!1,366262)&&1036449012!==i.c0C(11,!1,443354)&&-1311733980!==i.c0C(0,!1,141398)&&-545359084!==i.c0C(10,!1,426712)&&-1008910046!==i.q0C(0,!1,173322)&&1042883523!==i.c0C(10,!1,179087)&&961992296!==i.q0C(0,!1,804164)&&307148122!==i.c0C(9,!1,749262)&&704083665!==i.q0C(0,!1,428475)||(e.startFrom=g.state.studies.startFrom,e.error=null,e.study&&e.study.calculateFN&&e.study.calculateFN(ie,e))}))),G=ee;G<g.scrubbed.length;G++)(ae=g.scrubbed[G]).cache={},ae.tick=g.dataSet.length,g.dataSet.push(ae);this.drawingObjects.length&&this.adjustDrawings(),this.establishMarkerTicks&&this.establishMarkerTicks(),this.runAppend("createDataSet",f)}},Symbol.for("CIQ.watermark")},X=e=>{var t,i;e.SplinePlotter||(e.SplinePlotter={}),t=e.CIQ,i=e.SplinePlotter,t.ChartEngine.prototype.drawBarTypeChartInner=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,V,B,U,j,Y,q,Z,G,J,$,ee,te,ie,ae=Q;i=e.type,a=e.panel,r=e.field,n=e.fillColor,s=e.borderColor,o=e.condition,l=e.style,h=e.yAxis,ae.i7L(100),u=(c=ae.Q7L("histogram",i))||"candle"==i,ae.i7L(100),d=ae.W7L("shadow",i),ae.z7L(100),p=ae.W7L("hlc",i),m="bar"==i||p,f=(g=a.chart).dataSegment,y=this.chart.context,v=new Array(f.length),x=this.layout,b=s&&!t.isTransparent(s),ae.i7L(17),C=ae.W7L(1471220896,"0"),b&&!e.highlight&&(C=.5),S=y.globalAlpha,!e.highlight&&this.highlightedDraggable&&(y.globalAlpha*=.3),ae.i7L(45);var re=ae.W7L(6,20,4,0);w=g.dataSet.length-g.scroll-re,y.beginPath(),h||(h=a.yAxis),k=h.top,L=h.bottom,A=x.candleWidth,ae.i7L(14);var ne=ae.W7L(17,22,4);ae.z7L(55);var se=ae.W7L(16,20,5,10);D=a.left-"0.5"*ne*A+this.micropixels-se,ae.i7L(72);var oe=ae.Q7L(8,4,4,7);T=g.tmpWidth/oe,ae.i7L(9);var le=ae.W7L(12,11,1);if(M=y.lineWidth/le,u&&(t.isTransparent(n)&&(n=this.containerColor),y.fillStyle=n),ae.z71(),d&&(y.lineWidth=1),m)if((F=this.canvasStyle(l)).width&&parseInt(F.width,10)<=25){-1061754071,-225043755,P=2;for(var he=1;-1061754071!==ae.f6U(he.toString(),he.toString().length,26342);he++)y.lineWidth=Math.max(3,t.stripPX(F.width)),P+=2;-225043755!==ae.f6U(P.toString(),P.toString().length,39012)&&(y.lineWidth=Math.max(3,t.stripPX(F.width))),y.lineWidth=Math.max(1,t.stripPX(F.width))}else y.lineWidth=1;_=g.state.chartType.pass;for(var ce=0;ce<=f.length;ce++)if(E=T,ae.z7L(35),D+=ae.W7L(A,2),A=x.candleWidth,ae.z7L(92),D+=ae.W7L(A,"2"),(K=f[ce])&&!K.projection){if(K.candleWidth){ae.i7L(138);var ue=ae.Q7L(11,24,3,10,15);D+=(K.candleWidth-A)/ue,A=K.candleWidth,(e.volume||A<g.tmpWidth)&&(ae.z7L(35),E=ae.W7L(A,2))}if(g.transformFunc&&h==g.panel.yAxis&&K.transform&&(K=K.transform),K&&r&&"Close"!=r&&(K=K[r]),(K||0===K)&&(I=K.Close,N=void 0===K.Open?I:K.Open,c&&g.defaultPlotField&&(I=K[g.defaultPlotField]),(I||0===I)&&(!u||c||N!=I&&null!==N))){if(o){if(o&(O=t.ChartEngine).CLOSEDOWN?_.even|=I==K.iqPrevClose:o&O.CANDLEDOWN&&(ae.i7L(100),_.even|=ae.W7L(N,I)),o&O.CANDLEUP&&N>=I)continue;if(o&O.CANDLEDOWN&&N<=I)continue;if(o&O.CANDLEEVEN&&N!=I)continue;if(o&O.CLOSEUP&&I<=K.iqPrevClose)continue;if(o&O.CLOSEDOWN&&I>=K.iqPrevClose)continue;if(o&O.CLOSEEVEN&&I!=K.iqPrevClose)continue}if(ae.z7L(8),ae.Q7L(w,ce),X=N,z=I,(d||m)&&(X=void 0===K.High?Math.max(I,N):K.High,z=void 0===K.Low?Math.min(I,N):K.Low),H=h.semiLog?h.height*(1-(Math.log(Math.max(X,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-X)*h.multiplier,R=h.semiLog?h.height*(1-(Math.log(Math.max(z,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-z)*h.multiplier,h.flipped?(ae.i7L(1),H=ae.W7L(L,H),ae.z7L(1),R=ae.W7L(L,R)):(H+=k,R+=k),B=Math.floor(c?h.flipped?h.top:R:Math.min(H,R))+C,U=c?h.flipped?H:h.bottom:Math.max(H,R),ae.i7L(1),j=Math.floor(ae.W7L(U,B)),Y=R,(m||d)&&(W=h.semiLog?h.height*(1-(Math.log(Math.max(N,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-N)*h.multiplier,V=h.semiLog?h.height*(1-(Math.log(Math.max(I,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-I)*h.multiplier,h.flipped?(ae.i7L(1),W=ae.W7L(L,W),ae.i7L(1),V=ae.Q7L(L,V)):(W+=k,V+=k),Y=V),v[ce]=Y,B<k){if(B+j<k)continue;ae.i7L(1),j-=ae.Q7L(k,B),B=k}B+j>L&&(ae.z7L(9),j-=ae.Q7L(j,L,B)),ae.z7L(8),U=ae.Q7L(B,j),B>=L||U<=k||(q=Math.floor(D)+(!e.highlight&&.5),J=(Z=Math.floor(q-E)+C)==(G=Math.round(q+E)-C)?E:0,j<2&&(j=2),u?(c||I!=N)&&y.rect(Z,B,Math.max(1,G-Z),j):d?(I==N&&V<=L&&V>=k&&($=Math.floor(V)+(!e.highlight&&.5),ae.z7L(1),y.moveTo(ae.Q7L(Z,J),$),ae.i7L(8),y.lineTo(ae.W7L(G,J),$)),X!=z&&(y.moveTo(q,B),y.lineTo(q,U))):m&&(B<L&&U>k&&K.High!=K.Low&&(ae.i7L(1),y.moveTo(q,ae.W7L(B,M)),ae.z7L(8),y.lineTo(q,ae.Q7L(U,M))),W>k&&W<L&&!p&&(ee=Math.floor(W)+(!e.highlight&&.5),y.moveTo(q,ee),ae.z7L(4),y.lineTo(ae.W7L(E,J,q),ee)),V>k&&V<L&&(te=Math.floor(V)+(!e.highlight&&.5),y.moveTo(q,te),ae.z7L(52),y.lineTo(ae.Q7L(J,E,q),te))))}}return ie=y.globalAlpha,u?(ie<1&&(y.save(),y.globalAlpha=1,y.fillStyle=this.containerColor,y.fill(),y.restore()),y.fill(),b&&(y.lineWidth=e.highlight?2:1,y.strokeStyle=s,y.stroke())):(d||m)&&(this.canvasColor(l),y.globalAlpha=ie,s&&(y.strokeStyle=s),e.highlight&&(y.lineWidth*=2),y.stroke(),y.closePath(),y.lineWidth=1),y.globalAlpha=S,{cache:v}},t.ChartEngine.prototype.plotDataSegmentAsLine=function(e,a,r,n){var s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,V,B,U,j,Y,q,Z,G,J,$,ee,te,ie,ae,re,ne,se,oe,le,he,ce,ue,de,pe,me,ge,fe,ye,ve,xe,be,Ce,Se,we,ke,Le,Ae,De,Te,Me,Fe,Pe,_e,Ee,Ke,Ie,Ne,Oe,Xe,ze,He,Re,We=Q;function Qe(e){var i,a,r,n,s,o,l,h,c,d;if(i=P.getLineDash(),a=1,"object"==typeof(r=e)){We.i7L(37);var g=We.Q7L(3,1);We.z7L(8);var y=We.Q7L(0,1);a=r.width*(f?g:y),u=t.borderPatternToArray(a,r.pattern),r=r.color}if(We.z71(),S[r]=1,!m){if(n=w.slice(-2),s=u instanceof Array&&u.join(),o=i instanceof Array&&i.join(),We.z7L(139),l=We.W7L(s,o),h=!t.colorsEqual(E,r),c=P.lineWidth!=a,(h||l||c)&&(p?k.push({coord:n,color:r,pattern:u||[],width:a}):(P.stroke(),P.lineWidth=a,l&&P.setLineDash(s?u:[]),P.beginPath(),P.moveTo(n[0],n[1]))),E=r,!p)if(r&&"auto"!=r)P.strokeStyle=r;else{-1515242250,-324718197,d=2;for(var v=1;-1515242250!==We.V6U(v.toString(),v.toString().length,38557);v++)P.strokeStyle=D.defaultColor,We.i7L(17),d+=We.Q7L(592909312,"2");-324718197!==We.V6U(d.toString(),d.toString().length,80444)&&(P.strokeStyle=D.defaultColor),P.strokeStyle=D.defaultColor}return n}}function Ve(e,t,i){var a,r,n,s;function o(e){var t;return We.z71(),t=d.semiLog?d.height*(1-(Math.log(Math.max(i[e],0))/Math.LN10-d.logLow)/d.logShadow):(d.high-i[e])*d.multiplier,d.flipped?t=d.bottom-t:t+=d.top,t}P.setLineDash([]),a=o("CollatedOpen"),We.K71(),r=o("CollatedHigh"),n=o("CollatedLow"),P.lineTo(e,a),P.moveTo(e,r),P.lineTo(e,n),s=2;for(var l=1;-1943849478!==We.f6U(l.toString(),l.toString().length,30626);l++)P.moveTo(e,t),s+=2;-1484766476!==We.V6U(s.toString(),s.toString().length,90121)&&P.moveTo(e,t),w.push(e,a)}if(We.z71(),s=!1,!1,o=!1,l=!1,h=!0,c=null,u=null,d=null,p=0,m=!1,g=!1,f=!1,y=!1,v=null,x=null,b=null,C=null,S={},w=[],k=[],L=[],A=[],D=this,T=this.layout,F=(M=a.chart).dataSegment,P=M.context,_=new Array(F.length),E=P.strokeStyle,K=P.globalAlpha,M.dataSet.length){"o","bject",this.startClip(a.name),r&&(s=r.skipProjections,r.skipTransform,o=r.noSlopes,p=r.tension,l=r.step,u=r.pattern,h=r.extendOffChart,d=r.yAxis,c=r.gapDisplayStyle,m=r.noDraw,g=r.reverse,f=r.highlight,r.width&&(P.lineWidth=r.width),y=r.shiftRight,v=r.subField,x=r.threshold,b=r.lineTravelSpacing,C=r.extendToEndOfDataSet),!c&&!1!==c&&r&&(c=r.gaps),c||(c={color:"transparent",fillMountain:!0}),u instanceof Array&&P.setLineDash(u),f&&(P.lineWidth*=2),!f&&this.highlightedDraggable&&(P.globalAlpha*=.3),!1!==h&&(h=!0),I=v||M.defaultPlotField||"Close",d||(d=a.yAxis),N=M.transformFunc&&d==M.panel.yAxis,We.i7L(1);var Be=We.Q7L(11,9);O=P.lineWidth*Be,X=g?M.top-O:M.bottom+O,(x||0===x)&&(X=this.pixelFromPrice(x,a,d)),z=!p&&m&&c&&c.fillMountain,H=e,R=e;for(var Ue=0;Ue<F.length;Ue++)if((W=F[Ue])&&"object"==typeof W&&(W[e]||0===W[e])){"o","bje","ct","object"==typeof W[e]&&(R=t.createObjectChainNames(e,[I])[0]);break}V={left:null,right:null},We.z7L(78);var je=We.Q7L(12,12,2,25);if(B=M.dataSet.length-M.scroll-je,h&&(V.left=this.getPreviousBar(M,R,0),V.right=this.getNextBar(M,R,F.length-1)),U=!0,j=!1,P.beginPath(),G=null,(Z=V.left)&&(G=Z.transform),Z&&((q=N?G?G[e]:null:Z[e])||0===q)&&((q[I]||0===q[I])&&(q=q[I]),J=this.pixelFromTick(Z.tick,M),$=this.pixelFromTransformedValue(q,a,d),P.moveTo(J,$),w.push(J,$),F[0].tick-Z.tick>1&&(L.push({start:w.slice(-2),threshold:X,tick:Z}),j=!0),U=!1),ee=a.left+this.micropixels-1,y&&(ee+=y),l&&r&&r.alignStepToSide){We.z7L(8);var Ye=We.Q7L(0,2);ee-=this.layout.candleWidth/Ye}ae=this.currentQuote(),re=0,ne=0,se=!1,oe={reset:!0};for(var qe=0;qe<F.length;qe++){if(Y=T.candleWidth,le=F[qe],he=F[qe],le||(le={}),ce=le.lineTravel,s&&le.projection){V.right=null;break}if(le.candleWidth&&(Y=le.candleWidth),b&&(Y=0),N&&le.transform&&(le=le.transform),(ue=le[e])&&"object"==typeof ue&&(ue=ue[I],We.z7L(52),H=We.Q7L(I,".",e)),M.lineApproximation&&T.candleWidth<1&&!b){if(oe.reset&&(oe={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null},se=!1),((de=ue)||0===de)&&(oe.CollatedHigh=Math.max(oe.CollatedHigh,de),oe.CollatedLow=Math.min(oe.CollatedLow,de),oe.CollatedClose=de,null===oe.CollatedOpen?oe.CollatedOpen=de:se=!0),!((re+=Y)-ne>=1||qe==F.length-1)){ee+=Y;continue}ne=Math.floor(re),oe.reset=!0,oe[e]=oe.CollatedClose,(le=oe).cache={}}if(o||(We.z7L(35),ee+=We.W7L(Y,2)),ue||0===ue){if(te=le,me=le.cache,We.z7L(8),((ge=We.Q7L(B,qe))<a.cacheLeft||ge>a.cacheRight||!me[e])&&(me[H]=d.semiLog?d.height*(1-(Math.log(Math.max(ue,0))/Math.LN10-d.logLow)/d.logShadow):(d.high-ue)*d.multiplier,d.flipped?me[H]=d.bottom-me[H]:me[H]+=d.top),fe=_[qe]=me[H],he.tick==ae.tick&&M.lastTickOffset&&(ee+=M.lastTickOffset),w.slice(-2),!U&&n){if(he[e]&&he[e][I]&&(he=he[e]),!(ye=n(this,he,j))){ee+=o?Y:Y/2;continue}Qe(ye)}U?(P.moveTo(ee,fe),p&&k.push({coord:[ee,fe],color:P.strokeStyle,pattern:u||[],width:P.lineWidth})):("mov","eTo",(l||o)&&(ve=w.slice(-1)[0],se?Ve(ee,ve,le):P.lineTo(ee,ve),w.push(ee,ve)),se&&!o?Ve(ee,fe,le):P[o?"moveTo":"lineTo"](ee,fe)),j&&(L.push({end:[ee,fe],threshold:X}),ie=he,!z||l||o||w.push(ee,X)),w.push(ee,fe),U=!1,j=!1,ee+=o?Y:Y/2,ce&&(ee+=ce)}else pe=w.slice(-2),z&&!j&&w.length&&w.push(pe[0],X),j||L.push({start:pe,threshold:X,tick:ie}),j=!0,ee+=o?Y:Y/2,(l||o)&&w.length&&(_[qe]=w.slice(-1)[0]),ce&&(ee+=ce)}if(be=null,(xe=V.right)&&(be=xe.transform),!U&&xe){if((q=N?be?be[e]:null:xe[e])&&(q[I]||0===q[I])&&(q=q[I]),Ce=this.pixelFromTick(xe.tick,M),Se=this.pixelFromTransformedValue(q,a,d),xe.tick-F[F.length-1].tick>1){j||(we=w.slice(-2),z&&w.length&&w.push(we[0],X),L.push({start:we,threshold:X,tick:F[F.length-1]})),-1943853420,1655952110,ke=2;for(var Ze=1;-1943853420!==We.f6U(Ze.toString(),Ze.toString().length,24351);Ze++)j=!0,ke+=2;1655952110!==We.f6U(ke.toString(),ke.toString().length,23888)&&(j=!1)}!U&&n&&(Le=n(this,xe,j))&&Qe(Le),Ae=w.slice(-2),u&&u.length||((l||o)&&(P.lineTo(Ce,Ae[1]),w.push(Ce,Ae[1])),P[o?"moveTo":"lineTo"](Ce,Se)),j&&(L.push({end:[Ce,Se],threshold:X}),!z||l||o||w.push(Ce,X)),w.push(Ce,Se)}for(var Ge in S)A.push(Ge);if(r&&r.extendToEndOfLastBar?(De=w.slice(-2),P.lineTo(De[0]+Y,De[1])):(l||o||this.extendLastTick||C)&&(We.i7L(16),Te=w.slice(-We.Q7L("2",0)),w.length&&(Me=Te[0],Fe=Te[1],C||l&&!1!==C?(Me=this.pixelFromTick(M.dataSet.length-1,M),(o||this.extendLastTick)&&(We.i7L(35),Me+=We.W7L(Y,2))):o?Me+=Y:this.extendLastTick&&(We.i7L(140),Me+=We.W7L(Y,"2",123340800)),Me>Te[0]&&(Pe=null,n&&(Pe=n(this,{},!0)),Pe&&Qe(Pe),P.lineTo(Me,Fe),j&&z||w.push(Me,Fe)))),m||(p&&w.length&&(P.beginPath(),r&&r.pattern&&P.setLineDash(r.pattern),i.plotSpline(w,p,P,k)),P.stroke()),this.endClip(),!m&&r&&r.label&&te&&((Ee=te[e])&&"object"==typeof Ee&&(Ee=Ee[I]),_e=d.priceFormatter?d.priceFormatter(this,a,Ee,r.labelDecimalPlaces):this.formatYAxisPrice(Ee,a,r.labelDecimalPlaces),Ke=this.yaxisLabelStyle,d.yaxisLabelStyle&&(Ke=d.yaxisLabelStyle),Ie="noop"==Ke?P.strokeStyle:null,Ne="noop"==Ke?"#FFFFFF":P.strokeStyle,this.yAxisLabels.push({src:"plot",args:[a,_e,te.cache[H],Ne,Ie,P,d]})),Oe="object"==typeof c?c.color:c,t.isTransparent(Oe))for(var Je=0;Je<L.length;Je+=2)if(Xe=L[Je].start,Je&&(ze=L[Je-1].end),ze&&Xe[0]==ze[0]&&Xe[1]==ze[1]){if(P.beginPath(),He=P.lineWidth,n){if("object"==typeof(Re=n(this,L[Je].tick||{},!1))){We.i7L(78);var $e=We.W7L(32,10,19,59);We.z7L(141);var et=We.Q7L(1,6,7,0,13);He=Re.width*(f?$e:et),Re=Re.color}P.strokeStyle=P.fillStyle=Re}P.lineWidth=He,P.arc(Xe[0],Xe[1],1,0,2*Math.PI),P.stroke(),P.fill()}}return P.globalAlpha=K,{colors:A,points:w,cache:_,gapAreas:L}},t.ChartEngine.prototype.drawMountainChart=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z=Q;if("tra","n","sparent","Cl","os","e","stx_mou","ntain_chart",r=this.chart.context,i,!1,!1,null,h=null,null,null,0,p=null,!1,null,f=null,!1,null,null,1,!1,!1,!1,(k=e.chart).dataSegment,L=k.lineStyle||{},i&&"object"==typeof i||(i={style:i}),n=i.style||"stx_mountain_chart",l=i.field||k.defaultPlotField||"Close",h=i.subField||k.defaultPlotField||"Close",(p=i.gapDisplayStyle)||!1===p||(p=i.gaps),p||!1===p||(p=k.gaplines),p||(p="transparent"),c=i.yAxis||e.yAxis,s=i.reverse||!1,u=i.tension,g=i.fillStyle,d=i.width||L.width,m=i.step,f=i.pattern||L.pattern,y=i.highlight,x=i.color||L.color,v=i.baseColor||L.baseColor,o=i.colored,b=i.opacity,C=i.extendToEndOfDataSet,S=i.isComparison,w=i.returnObject,A=this.canvasStyle(n),D=c.top,(isNaN(D)||isNaN(D/D))&&(D=0),T=x||(n&&A.backgroundColor?A.backgroundColor:this.defaultColor),M=v||(n&&A.color?A.color:this.containerColor),g)r.fillStyle=g;else if(v||A.color)(F=r.createLinearGradient(0,D,0,c.bottom)).addColorStop(c.flipped?1:0,T),F.addColorStop(c.flipped?0:1,M),r.fillStyle=F;else{-1975986147,-234877201,P=2;for(var H=1;-1975986147!==z.V6U(H.toString(),H.toString().length,18113);H++)r.fillStyle=T,P+=2;-234877201!==z.f6U(P.toString(),P.toString().length,14937)&&(r.fillStyle=T)}return this.startClip(e.name),_=r.lineWidth,i.symbol||(h=null),i={skipProjections:!0,reverse:s,yAxis:c,gapDisplayStyle:p,step:m,highlight:y,extendToEndOfDataSet:C,isComparison:S},k.tension&&(i.tension=k.tension),(u||0===u)&&(i.tension=u),E=parseInt(A.paddingTop,10),K=x||A.borderTopColor,I=null,(o||K&&!t.isTransparent(K))&&E&&((N=this.scratchContext)||(O=r.canvas.cloneNode(!0),N=this.scratchContext=O.getContext("2d")),N.canvas.height=r.canvas.height,N.canvas.width=r.canvas.width,N.drawImage(r.canvas,0,0),t.clearCanvas(r.canvas,this)),t.extend(i,{panelName:e.name,direction:i.reverse?-1:1,band:l,subField:h,opacity:b}),!i.highlight&&this.highlightedDraggable&&(i.opacity*=.3),t.preparePeakValleyFill(this,i),(o||K&&!t.isTransparent(K))&&E&&("d","estinatio","n-ove","r","desti","na","tion-out",r.save(),z.i7L(18),r.lineWidth+=z.W7L(E,2),r.globalCompositeOperation="destination-out",z.i7L(18),r.globalAlpha=z.W7L(1,"1"),this.plotDataSegmentAsLine(l,e,i),r.globalCompositeOperation="destination-over",r.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),r.drawImage(this.scratchContext.canvas,0,0),r.restore()),r.strokeStyle=K,d?r.lineWidth=d:A.width&&parseInt(A.width,10)<=25?r.lineWidth=Math.max(1,t.stripPX(A.width)):r.lineWidth=1,f||(f=A.borderTopStyle),i.pattern=t.borderPatternToArray(r.lineWidth,f),X=a,p&&(X=this.getGapColorFunction(l,h,{color:K,pattern:i.pattern,width:r.lineWidth},p,a)),I=this.plotDataSegmentAsLine(l,e,i,X),r.lineWidth=_,this.endClip(),I.colors.length||I.colors.push(K),w?I:I.colors},t.ChartEngine.prototype.drawBaselineChart=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F=Q,{chart:P}=e,{field:_,id:E,yAxis:K}=i,{gaplines:I,defaultPlotField:N,lineStyle:O}=P,{display:X}=this.baselineHelper.get(this.getRendererFromSeries(E));if(a=this.getYAxisBaseline(K).actualLevel,r=[],_||(_=N),O||(O={}),(n=i.gapDisplayStyle)||!1===n||(n=i.gaps),null!==a&&!isNaN(a)){"st","x_ba","s","eline","stx_baseli","ne_up","stx_baseline_dow","n","stx","_","baseline_up",1065710207,253416259,s=2;for(var z=1;1065710207!==F.V6U(z.toString(),z.toString().length,26267);z++)o="mountain"==i.type,s+=2;if(253416259!==F.V6U(s.toString(),s.toString().length,65050)&&(o=""!=i.type),o&&(r=this.drawMountainChart(e,{style:i.style,field:i.field,yAxis:K,gapDisplayStyle:n,colored:!0,tension:0})),l=this.pixelFromPrice(a,e,K),isNaN(l))return;for(var H in this.startClip(e.name),h=i.pattern||O.pattern,c=i.fill_color_up||this.getCanvasColor("stx_baseline_up"),u=i.fill_color_down||this.getCanvasColor("stx_baseline_down"),d=i.border_color_up||this.getCanvasColor("stx_baseline_up"),p=i.border_color_down||this.getCanvasColor("stx_baseline_down"),m=i.width||O.width||this.canvasStyle("stx_baseline_up").width,g=i.width||O.width||this.canvasStyle("stx_baseline_down").width,f=i.widthBaseline||O.width||t.stripPX(this.canvasStyle("stx_baseline").width),y=i.baselineOpacity||this.canvasStyle("stx_baseline").opacity,v={fill:c,edge:d,width:m},x={fill:u,edge:p,width:g},C={over:(b=i.yAxis.flipped)?x:v,under:b?v:x},S=!1,n||!1===n||(n=I),F.i7L(19),w=F.W7L("1",2147483647),!i.highlight&&this.highlightedDraggable&&(w*=.3),C)k=parseInt(Math.max(1,t.stripPX(C[H].width)),10),i.highlight&&(F.z7L(1),k*=F.Q7L("2",0)),h=t.borderPatternToArray(k,h),L={panelName:e.name,band:_,threshold:a,color:o?"transparent":C[H].fill,direction:"over"==H?1:-1,edgeHighlight:C[H].edge,edgeParameters:{pattern:h,lineWidth:k+.1,opacity:w},gapDisplayStyle:n,yAxis:i.yAxis},K&&(L.threshold=this.priceFromPixel(this.pixelFromPrice(L.threshold,e,K),e,K)),r.push(C[H].edge),A=L.color,!o&&A&&"transparent"!=A&&("o","v","e","r",D=e.top,T=e.bottom,(M=P.context.createLinearGradient(0,"over"==H?D:T,0,l)).addColorStop(0,t.hexToRgba(t.colorToHex(A),60)),M.addColorStop(1,t.hexToRgba(t.colorToHex(A),10)),L.color=M,L.opacity=w),t.preparePeakValleyFill(this,P.dataSegment,L),I&&(I.fillMountain||this.drawLineChart(e,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:"solid",width:L.edgeParameters.lineWidth}}),I.color||(S=!0,I.color=this.defaultColor)),this.drawLineChart(e,null,null,{color:"transparent",width:L.edgeParameters.lineWidth}),S&&(I.color=null);X&&(this.plotLine(0,1,l,l,this.containerColor,"line",P.context,e,{lineWidth:"1.1"}),this.plotLine(0,1,l,l,this.getCanvasColor("stx_baseline"),"line",P.context,e,{pattern:"dotted",lineWidth:f||"2.1",opacity:y||.5*w})),this.endClip()}return F.z71(),{colors:r}},t.ChartEngine.prototype.plotLine=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I=Q;if(i="verti",i+="ca",i+="l",a="ra",a+="y",r="und",r+="efi",r+="ned","number"==typeof arguments[0])for(var N in e={x0:arguments[0],x1:arguments[1],y0:arguments[2],y1:arguments[3],color:arguments[4],type:arguments[5],context:arguments[6],confineToPanel:arguments[7]},arguments[8])e[N]=arguments[8][N];if(e||(e={}),"none"!=e.pattern&&(n=e.x0,s=e.x1,o=e.y0,l=e.y1,h=e.color,c=e.type,u=e.context,d=e.confineToPanel,p=e.deferStroke,!0===d&&(d=this.chart.panel),null!==u&&typeof u!=r||(u=this.chart.context),!(isNaN(n)||isNaN(s)||isNaN(o)||isNaN(l)))){m=0,g=this.chart.canvasHeight,f=0,y=this.right,d&&(g=d.yAxis.bottom,m=d.yAxis.top,f=d.left,y=d.right),c==a&&(v=1e7,s<n&&(v=-1e7),b={x0:n,x1:s,y0:o,y1:l},s=v,l=x=t.yIntersection(b,v)),"line"!=c&&"horizontal"!=c&&c!=i||(I.z7L(81),v=I.Q7L(1400688320,"10000000"),C=-1e7,b={x0:n,x1:s,y0:o,y1:l},x=t.yIntersection(b,v),n=C,s=v,o=t.yIntersection(b,C),l=x),S=0,w=1,I.i7L(1),k=I.Q7L(s,n),I.z7L(1),L=I.Q7L(l,o);for(var O=0;O<4;O++){if(0===O&&(A=-k,I.i7L(1),D=-I.Q7L(f,n)),1==O&&(A=k,I.i7L(1),D=I.Q7L(y,n)),2==O&&(A=-L,I.z7L(1),D=-I.W7L(m,o)),3==O&&(A=L,I.z7L(1),D=I.Q7L(g,o)),I.z7L(35),T=I.W7L(D,A),(l||0===l)&&0===A&&D<0)return!1;if(A<0){if(T>w)return!1;T>S&&(S=T)}else if(A>0){if(T<S)return!1;T<w&&(w=T)}}if(I.i7L(22),M=I.W7L(k,n,S),I.i7L(22),F=I.Q7L(L,o,S),I.i7L(22),P=I.Q7L(k,n,w),I.z7L(22),_=I.W7L(L,o,w),l||0===l||o||0===o){if(!l&&0!==l){if(_=b.y0<b.y1?g:m,M=b.x0,P=b.x0,b.x0>y)return!1;if(b.x0<f)return!1}}else{if(F=m,_=g,M=b.x0,P=b.x0,b.x0>y)return!1;if(b.x0<f)return!1}p||(u.save(),u.beginPath()),u.lineWidth=1.1,h&&"object"==typeof h?(u.strokeStyle=h.color,h.opacity?u.globalAlpha=h.opacity:u.globalAlpha=1,u.lineWidth=t.stripPX(h.width)):(E="au",E+="to",!h||h==E||t.isTransparent(h)?u.strokeStyle=this.defaultColor:u.strokeStyle=h),e.opacity&&(u.globalAlpha=e.opacity),e.lineWidth&&(u.lineWidth=e.lineWidth),e.globalCompositeOperation&&(u.globalCompositeOperation=e.globalCompositeOperation),I.K71(),K=t.borderPatternToArray(u.lineWidth,e.pattern),u.setLineDash(e.pattern?K:[]),u.moveTo(M,F),u.lineTo(P,_),p||(u.stroke(),u.restore())}},t.ChartEngine.prototype.rendererAction=function(e,t){var i,a,r,n,s,o;function l(){var a;Q.z71(),i||"underlay"!==t||this[a=Symbol.for("CIQ.watermark")]&&(this[a].draw(e),i=!0)}if(i=!1,!this.runPrepend("rendererAction",arguments)){for(var h in e.seriesRenderers)a="o",a+="verl",a+="a",a+="y",s=(n=(r=e.seriesRenderers[h]).params).panel,o=this.panels[s],n.overChart&&"underlay"==t||"_main_series"==n.name&&"underlay"==t||"_main_series"!=n.name&&"main"==t||(n.overChart||t!=a)&&o&&o.chart===e&&(o.hidden||("yAxis"==t?r.adjustYAxis():(l.apply(this),r.draw(),r.cb&&r.cb(r.colors))));this.runAppend("rendererAction",arguments)}l.apply(this)},t.ChartEngine.prototype.drawSeries=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b;if(!this.runPrepend("drawSeries",arguments)){for(var C in e.dataSegment,n=null,i||(i=e.series),i)if(s="Cl",s+="o",s+="s",s+="e",l=(o=(n=i[C]).parameters).panel?this.panels[o.panel]:e.panel,h=o.color,o.width,c=o.field,l){if(u=o.yAxis=a||l.yAxis,h||(h=u.textStyle||this.defaultColor),"auto"==h&&(h=this.defaultColor),c||(c=e.defaultPlotField),d=o.subField||e.defaultPlotField||s,o._rawExtendToEndOfDataSet||!1===o._rawExtendToEndOfDataSet||(o._rawExtendToEndOfDataSet=o.extendToEndOfDataSet),e.animatingHorizontalScroll?o.extendToEndOfDataSet=!1:o.extendToEndOfDataSet=o._rawExtendToEndOfDataSet,p=o.colorFunction,(n.highlight||n.parameters.highlight)&&(o.highlight=!0),m={colors:[]},r){if(r.params.highlight&&(o.highlight=!0),o.hidden)continue;m=r.drawIndividualSeries(e,o)||m}else m="mountain"==o.type?this.drawMountainChart(l,t.extend({returnObject:!0},o),p):this.drawLineChart(l,o.style,p,t.extend({returnObject:!0},o));n.yValueCache=m.cache,Q.i7L(1);var S=Q.Q7L(4,3);(g=e.dataSegment[e.dataSegment.length-S])&&(f=!o.skipTransform&&e.transformFunc&&u==e.panel.yAxis,g[c]||0===g[c]||(g=this.getPreviousBar(e,c,e.dataSegment.length-1)),f&&g&&g.transform&&(g=g.transform)),!1!==o.displayFloatingLabel&&this.mainSeriesRenderer!=r&&g&&!u.noDraw&&(y="serie",y+="s",(v=g[c])&&(v=v[d]||0===v[d]?v[d]:v.iqPrevClose),x=u.priceFormatter?u.priceFormatter(this,l,v):this.formatYAxisPrice(v,l,null,u),this.yAxisLabels.push({src:y,args:[l,x,this.pixelFromTransformedValue(v,l,u),t.hexToRgba(t.colorToHex(h),parseFloat(o.opacity)),null,null,u]})),e.legend&&o.useChartLegend&&(e.legend.colorMap||(e.legend.colorMap={}),(b=o.display)||(b=o.symbol),e.legend.colorMap[C]={color:m.colors,display:b,isBase:r==this.mainSeriesRenderer})}this.runAppend("drawSeries",arguments)}}},z=e=>{var t;(t=e.CIQ).ChartEngine.prototype.scrollTo=function(e,t,i){var a,r;(a=this.swipe).end=!0,a.amplitude=a.target=(t-e.scroll)*this.layout.candleWidth,a.timeConstant=100,a.timestamp=Date.now(),a.scroll=e.scroll,a.chart=e,a.cb=i,r=this,requestAnimationFrame((function(){Q.K71(),r.autoscroll()}))},t.ChartEngine.prototype.autoscroll=function(){var e,t,i,a,r,n,s=Q;e=this,s.z71(),t=2;for(var o=1;391568399!==s.V6U(o.toString(),o.toString().length,85401);o++)i=this.swipe,t+=2;if(51583053!==s.V6U(t.toString(),t.toString().length,53987)&&(i=this.swipe),(i=this.swipe).amplitude){i.elapsed=Date.now()-i.timestamp,a=-i.amplitude*Math.exp(-i.elapsed/i.timeConstant),1725089473,-7545994,r=2;for(var l=1;1725089473!==s.f6U(l.toString(),l.toString().length,1517);l++)n=i.target*a%this.layout.candleWidth,i.chart.scroll=i.scroll-Math.round(n),r+=2;-7545994!==s.f6U(r.toString(),r.toString().length,98114)&&(n=(i.target+a)/this.layout.candleWidth,i.chart.scroll=i.scroll+Math.round(n)),this.draw(),this.updateChartAccessories(),a>.5||a<-.5?requestAnimationFrame((function(){s.K71(),e.autoscroll()})):(this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),i.cb&&i.cb())}}},H=e=>{var t;(t=e.CIQ).ChartEngine.prototype.drawXAxis=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w=Q;if("le","f","t","draw","X","Axi","s",a=[e,i],!this.runPrepend("drawXAxis",a)&&i&&!e.xAxis.noDraw){r=this.getBackgroundCanvas().context,this.canvasFont("stx_xaxis",r),n=this.getCanvasFontSize("stx_xaxis"),r.textAlign="center",r.textBaseline="middle",o=r.measureText("   ").width;for(var k=0;k<i.length;k++){s=i[k],l=r.measureText(s.text).width,w.z7L(8),h=Math.max(w.W7L(l,o),e.xAxis.minimumLabelWidth),s.hz=Math.floor(s.hz+this.micropixels)+.5,w.z7L(7);var L=w.W7L(18,1,18,376,20);s.left=s.hz-h/L,w.z7L(9);var A=w.Q7L(5,10,7);s.right=s.hz+h/A,w.z7L(8);var D=w.Q7L(0,2);s.unpaddedRight=s.hz+l/D}if(c=!0===this.xAxisAsFooter?this.chart.canvasHeight:e.panel.bottom,w.z7L(1),u=this.whichPanel(w.Q7L(c,1))){for(var T in this.adjustYAxisHeightOffset(u,u.yAxis),d=e.xAxis.displayBorder||null===e.xAxis.displayBorder,!0===this.axisBorders&&(d=!0),w.K71(),!1===this.axisBorders&&(d=!1),p=c-this.xaxisHeight+n,d&&(p+=3),m=!0,this.panels)if("st","x_grid_b","ord","er","b","o","un","dary",!(g=this.panels[T]).hidden&&!1!==g.shareChartXAxis&&(w.z7L(100),f=w.W7L(u,g),y=g.yAxis)){v=-Number.MAX_VALUE,x=Number.MAX_VALUE;for(var M=0;M<i.length;M++)if("boundary"==i[M].grid){x=i[M].left;break}r.save(),r.beginPath(),r.rect(g.left,g.top+(m?0:1),g.width,g.height-1),r.clip(),m=!1,(b=new t.Plotter).newSeries("line","stroke",this.canvasStyle("stx_grid")),b.newSeries("boundary","stroke",this.canvasStyle("stx_grid_dark")),b.newSeries("border","stroke",this.canvasStyle("stx_grid_border"));for(var F=0;F<i.length;F++){if(s=i[F],F==M){for(M++;M<i.length;M++)if("boundary"==i[M].grid){x=i[M].left;break}M>=i.length&&(M=-1,x=Number.MAX_VALUE)}else if(s.right>x)continue;if(!(s.left<v)){if(s.left<0){if(x<s.right)continue;if(M>=i.length&&i[F+1]&&i[F+1].left<s.right)continue}v=s.right,Math.floor(s.left)<=g.right&&(Math.floor(s.hz)>g.left&&(e.xAxis.displayGridLines&&(b.moveTo(s.grid,s.hz,y.top),b.lineTo(s.grid,s.hz,y.bottom)),f&&d&&(b.moveTo("border",s.hz,y.bottom+.5),b.lineTo("border",s.hz,y.bottom+6))),f&&s.right>g.left&&("stx_xax","is","stx_x","axi","s_dark",this.canvasColor("boundary"==s.grid?"stx_xaxis_dark":"stx_xaxis",r),r.fillText(s.text,s.hz,p)))}}d&&("bo","r","d","er",C=Math.round(y.bottom)+.5,S=Math.round(g.right)+.5,b.moveTo("border",g.left,C),b.lineTo("border",S,C)),b.draw(r),r.restore()}r.textAlign="left",this.runAppend("drawXAxis",a)}}},t.ChartEngine.prototype.createTickXAxisWithDates=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,V,B,U,j,Y,q,Z,G,J,$,ee,te,ie=Q;function ae(e){var i,a;if(A==t.MILLISECOND)i=e.getMilliseconds(),a=e.getSeconds();else if(A==t.SECOND)i=e.getSeconds(),a=e.getMinutes();else if(A==t.MINUTE)i=e.getMinutes(),a=e.getHours();else if(A==t.HOUR){ie.z7L(142);var r=ie.Q7L(4,62,1,4,2);i=e.getHours()+e.getMinutes()/r,a=e.getDate()}else if(A==t.DAY){i=e.getDate(),ie.i7L(33);var n=ie.Q7L(143,8,18);a=e.getMonth()+n}else if(A==t.MONTH){ie.z7L(143);var s=ie.Q7L(5,4,2,9,13);i=e.getMonth()+s,a=e.getFullYear()}else if(A==t.YEAR){i=e.getFullYear(),ie.z7L(32);var o=ie.Q7L(845122430,21,19);a=e.getFullYear()+("1000"<<o)}else i=e.getFullYear(),a=0;return ie.z71(),[i,a]}e||(e=this.chart),e.xaxis=[],a=e.context,r=[t.MILLISECOND,t.SECOND,t.MINUTE,t.HOUR,t.DAY,t.MONTH,t.YEAR],this.timeIntervalMap||("2","000","1","0:00","10:00",":","00.000",n=a.measureText.bind(a),(i={})[t.MILLISECOND]={arr:[1,2,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1e3,measurement:n("10:00:00.000")},i[t.SECOND]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,measurement:n("10:00:00")},i[t.MINUTE]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,measurement:n("10:00")},i[t.HOUR]={arr:[1,2,3,4,6,12],minTimeUnit:0,maxTimeUnit:24,measurement:n("10:00")},i[t.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32,measurement:n("30")},i[t.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13,measurement:n("Mar")},i[t.YEAR]={arr:[1,2,3,5],minTimeUnit:1,maxTimeUnit:2e7,measurement:n("2000")},i[t.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2e6,measurement:n("2000")},this.timeIntervalMap=i),i=this.timeIntervalMap,ie.z7L(19),s=[31,ie.Q7L("28",2147483647),31,30,31,30,31,31,30,ie.Q7L(1173126528,"31",ie.i7L(81)),30,31],o=this.layout.periodicity,l=this.layout.interval,h=e.maxTicks,c=e.dataSegment,u=e.xAxis,d=c.length,p=u.idealTickSizePixels||u.autoComputedTickSizePixels,m=this.chart.width/p;for(var re=0;re<d&&!c[re];re++);if(re==d)return[];switch(g=0,f=this.layout.timeUnit||"minute",isNaN(l)&&(f=l,l=1),y=0,f){case"millisecond":y=1;break;case"second":y=1e3,r.splice(0,1);break;case"minute":ie.z7L(16),y=ie.W7L("60000",0),r.splice(0,2);break;case"day":y=864e5,r.splice(0,4);break;case"week":ie.z7L(18),y=ie.W7L(7,864e5),r.splice(0,4);break;case"month":ie.i7L(18),y=ie.Q7L(30,864e5),ie.i7L(18),r.splice(ie.W7L(1,"0"),5)}if(v=this.layout.aggregationType,!y||v&&"ohlc"!=v&&"heikinashi"!=v)g=c[d-1].DT.getTime()-c[re].DT.getTime();else{1224093173,1837276947,x=2;for(var ne=1;1224093173!==ie.V6U(ne.toString(),ne.toString().length,24808);ne++)ie.z7L(144),g=ie.Q7L(d,l,y,o),x+=2;1837276947!==ie.f6U(x.toString(),x.toString().length,72825)&&(ie.z7L(77),g=ie.W7L(l,d,o,y))}for(0===g?e.market?("d","ay",(b=e.market.newIterator({begin:new Date,interval:"day",periodicity:1})).next(),C=b.previous(),g=((b=this.standardMarketIterator(C,null,e)).next().getTime()-C.getTime())*h):(ie.i7L(145),g=ie.W7L(h,60,60,"24",1e3)):(ie.z7L(146),g=ie.W7L(h,g,d)),ie.i7L(35),S=ie.W7L(g,m),w=0;w<r.length&&!(r[w]>S+.001);w++);if(S<1&&console.log("createTickXAxisWithDates: Assertion error. msPerGridLine < 1. Make sure your masterData has correct time stamps for the active periodicity and it is sorted from OLDEST to NEWEST."),w==r.length)w--;else if(w>0){ie.z7L(1),L=i[k=r[ie.W7L(w,1)]].arr,ie.i7L(142);var se=ie.Q7L(10,9,8,16,1);S-k*L[L.length-se]<r[w]-S&&w--}for(A=u.timeUnit||r[w],u.activeTimeUnit=A,T=(D=i[A]).arr,w=0;w<T.length&&!(T[w]*A>S);w++);for((w==T.length||S-T[w-1]*A<T[w]*A-S)&&w--,2*D.measurement.width<this.layout.candleWidth&&(w=0),M=u.timeUnitMultiplier||T[w],F=[],P=this.layout.candleWidth,w=0;w<=h&&!c[w];w++);if(w>0&&w<h){e.market&&(_=this.standardMarketIterator(c[w].DT,u.adjustTimeZone?this.displayZone:null));for(var oe=w;oe>0;oe--)E={},!_||e.lineApproximation&&P<1||(E.DT=_.previous()),e.xaxis.unshift(E)}for(ie.K71(),K=0,I=D.minTimeUnit,N=-1,O=!0,X=ae(c[w].DT),H=0,R=0,W=c[w].tick;H<W&&(z=ae(this.chart.dataSet[W-H].DT))[1]==X[1];H++)X=z;for(;R<this.chart.dataSet.length-W&&(z=ae(this.chart.dataSet[W+R].DT))[1]==X[1];R++)X=z;for(V=null,w=0;w<h+R;w++){if((B=c[w])?H&&(B=e.dataSet[B.tick-H]):B=e.xaxis[w],w<d)K=(U=B).displayDate&&u.adjustTimeZone?U.displayDate:U.DT,w&&!H&&e.segmentImage&&(P=((j=e.segmentImage[w]).leftOffset-j.candleWidth/2)/w);else if(e.market){if("t","ic","k","tick"==this.layout.interval&&!u.futureTicksInterval)break;if(e.lineApproximation&&P<1)break;if(!u.futureTicks)break;V||(V=this.standardMarketIterator(c[d-1].DT,u.adjustTimeZone?this.displayZone:null)),K=V.next()}if(K){if(Y=null,ie.i7L(1),Z=ie.W7L(w,H),(G={DT:K}).data=w<d?B:null,H?(H--,w--):!e.xaxis[w]&&w<h&&e.xaxis.push(G),J=(X=ae(K))[0],N!=($=X[1])){if(J<=I&&(I=D.minTimeUnit),q=e.left+Z*P-1,Y=null,A==t.HOUR||A==t.MINUTE&&N>$){if(this.internationalizer)Y=this.internationalizer.monthDay.format(K);else{ie.z7L(147);var le=ie.Q7L(31,13,5,0,4);ie.z7L(15);ie.Q7L(2,10,18);ie.i7L(67);ie.W7L(8,5,68570,9799);ie.z7L(78);ie.W7L(181811,15,17,172274);ie.i7L(8);ie.Q7L(473,5675);ie.z7L(8);ie.W7L(2170,20);Y=K.getMonth()+le+"/"+K.getDate()}u.formatter&&("bou","n","dar","y",Y=u.formatter(K,"boundary",t.DAY,1,Y))}else A==t.DAY?N>$?(Y=K.getFullYear(),u.formatter&&(Y=u.formatter(K,"boundary",t.YEAR,1,Y))):(Y=t.monthAsDisplay(K.getMonth(),!1,this),u.formatter&&(Y=u.formatter(K,"boundary",t.MONTH,1,Y))):A==t.MONTH&&(Y=K.getFullYear(),u.formatter&&("bo","u","nda","ry",Y=u.formatter(K,"boundary",t.YEAR,1,Y)));Y&&-1!=N&&F.push(new t.ChartEngine.XAxisLabel(q,"boundary",Y))}if(J>=I){if(I==D.minTimeUnit&&$==N)continue;ee=new Date(+K),ie.z7L(148);var he=ie.W7L(27,6,14,17,1);ie.i7L(149);var ce=ie.W7L(20,17,3,7);ie.i7L(106);var ue=ie.W7L(20,13,371,18);ie.i7L(150);var de=ie.W7L(733976527,20,20,15,40);if(q=e.left+(he*Z+ce)*P/ue-("1">>de),(te=Math.floor(J/M)*M)<J&&("week"==this.layout.interval?te=J:(ie.z7L(151),q-=ie.W7L(P,"2",818005568))),A==t.MILLISECOND?ee.setMilliseconds(te):A==t.SECOND?(ee.setMilliseconds(0),ee.setSeconds(te)):A==t.MINUTE?(ee.setMilliseconds(0),ee.setSeconds(0),ee.setMinutes(te)):A==t.HOUR?(ee.setMilliseconds(0),ee.setSeconds(0),ee.setMinutes(0),ee.setHours(te)):A==t.DAY?ee.setDate(Math.max(1,te)):A==t.MONTH?(ee.setDate(1),ie.z7L(1),ee.setMonth(ie.W7L(te,1))):(t.YEAR,ee.setDate(1),ee.setMonth(0)),ie.i7L(8),I=ie.W7L(te,M),A==t.DAY){ie.i7L(152);var pe=ie.W7L(19,5,0,10,951);D.maxTimeUnit=s[ee.getMonth()]+pe}if(I>=D.maxTimeUnit&&(I=D.minTimeUnit),N=$,O&&te<J){O=!1;continue}Y=A==t.DAY?ee.getDate():A==t.MONTH?t.monthAsDisplay(ee.getMonth(),!1,this):A==t.YEAR||A==t.DECADE?ee.getFullYear():t.timeAsDisplay(ee,this,A),u.formatter&&(Y=u.formatter(ee,"line",A,M,Y)),F.push(new t.ChartEngine.XAxisLabel(q,"line",Y))}}}return F}},R=e=>{var t;t=e.CIQ,Q.z71(),t.ChartEngine.prototype.createYAxis=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T=Q;if(a="create",a+="Y",a+="Ax",a+="is",!this.runPrepend("createYAxis",arguments)){if(r=e.chart,n=e.name==r.name,i||(i={}),i.noChange=!1,s=i.yAxis?i.yAxis:e.yAxis,t.ChartEngine.enableCaching&&s.high==e.cacheHigh&&s.low==e.cacheLow){T.z7L(8);var M=T.Q7L(0,1);o=r.dataSet.length-r.scroll-M,T.z7L(9);var F=T.W7L(4,3,0);l=o+r.maxTicks+F,e.cacheLeft=o,e.cacheRight=l,i.noChange=!0}else e.cacheLeft=1e6,e.cacheRight=-1,e.cacheHigh=s.high,e.cacheLow=s.low;if(h=r.xAxis.idealTickSizePixels?r.xAxis.idealTickSizePixels:r.xAxis.autoComputedTickSizePixels,s.goldenRatioYAxis&&s.idealTickSizePixels!=h/1.618&&(i.noChange=!1),!i.noChange){if(u="p",u+="rojection",this.adjustYAxisHeightOffset(e,s),d=s.height=s.bottom-s.top,p=(s.high-s.low)/(d-s.zoom),!s.semiLog)if(i.ground)s.high=s.high+s.zoom*p;else{T.z7L(14);var P=T.Q7L(18,31,11);s.high=s.high+(s.zoom/P+s.scroll)*p,T.z7L(8);var _=T.Q7L(0,2);s.low=s.low-(s.zoom/_-s.scroll)*p}(s.min||0===s.min)&&(s.low=s.min),(s.max||0===s.max)&&(s.high=s.max),s.shadow=s.high-s.low,!s.semiLog||this.activeDrawing&&this.activeDrawing.name==u||(m=function(){var e;T.K71(),s.logHigh=Math.log(s.high)/Math.LN10,e=Math.max(s.low,1e-9),s.logLow=Math.log(e)/Math.LN10,s.low<=0&&(s.logLow=0),s.logShadow=s.logHigh-s.logLow},s.semiLog&&m(),g=s.height/(s.height-s.zoom),s.flipped?(s.high=this.transformedPriceFromPixel(s.bottom+g*(s.zoom/2+s.scroll),e,s),s.low=this.transformedPriceFromPixel(s.top-g*(s.zoom/2-s.scroll),e,s)):(s.high=this.transformedPriceFromPixel(s.top-g*(s.zoom/2+s.scroll),e,s),s.low=this.transformedPriceFromPixel(s.bottom+g*(s.zoom/2-s.scroll),e,s)),s.shadow=s.high-s.low,s.semiLog&&m()),s.goldenRatioYAxis&&n&&s==e.yAxis?(T.i7L(35),s.idealTickSizePixels=T.Q7L(h,1.618),0===s.idealTickSizePixels&&(f=this.getCanvasFontSize("stx_yaxis"),T.i7L(18),s.idealTickSizePixels=T.Q7L(5,f))):s.idealTickSizePixels||(y="st",y+="x_yaxi",y+="s",f=this.getCanvasFontSize(y),n?(T.z7L(18),s.idealTickSizePixels=T.W7L(5,f)):(T.z7L(18),s.idealTickSizePixels=T.W7L(2,f))),v=Math.round(d/s.idealTickSizePixels),c=i.range?i.range[1]-i.range[0]:s.shadow,T.i7L(35),s.priceTick=Math.floor(T.Q7L(c,v)),x=1;for(var E=0;E<10&&!(s.priceTick>0);E++)T.i7L(23),x*=T.W7L(0,"10"),s.priceTick=Math.floor(c/v*x)/x;if(10==E&&(s.priceTick=1e-8),s.priceTick=Math.round(c/v*x)/x,b=Math.round(c/s.priceTick),i.range&&b<c&&!s.noEvenDivisorTicks){for(;b>=1&&c%b!=0;)b--;T.z7L(35),s.priceTick=T.Q7L(c,b)}if(s.minimumPriceTick){C="st",C+="x",C+="_y",C+="axis",S=s.minimumPriceTick,f=this.getCanvasFontSize(C);for(var K=0;K<100&&(T.z7L(35),d/T.Q7L(c,S)<2*f);K++)S+=s.minimumPriceTick;K<100&&(s.priceTick=S)}}(s.priceTick<=0||s.priceTick===1/0)&&(s.priceTick=1),w=-1980444612,k=230150821,T.z71(),L=2;for(var I=1;T.f6U(I.toString(),I.toString().length,7693)!==w;I++)s.multiplier=s.height+s.shadow,s.multiplier===1/0&&(s.multiplier=3),L+=2;if(T.f6U(L.toString(),L.toString().length,23809)!==k&&(s.multiplier=s.height/s.shadow,s.multiplier==1/0&&(s.multiplier=0)),s.decimalPlaces||0===s.decimalPlaces)s.printDecimalPlaces=s.decimalPlaces;else if(n){A=0;for(var N=0;N<e.yAxis.shadowBreaks.length;N++)D=e.yAxis.shadowBreaks[N],e.yAxis.shadow<D[0]&&(A=D[1]);s.printDecimalPlaces=A}else s.printDecimalPlaces=null;this.runAppend(a,arguments)}},t.ChartEngine.prototype.drawYAxis=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,V,B,U,j,Y,q,Z,G=Q;if(a="d",a+="raw",a+="YAx",a+="is",r="stx_y",r+="a",r+="x",r+="is",i||(i={}),n=i.yAxis?i.yAxis:e.yAxis,!e.hidden&&!n.noDraw&&n.width){if(t.Comparison&&n.priceFormatter==t.Comparison.priceFormat||((s=n.fractional)?(n.originalPriceFormatter||(n.originalPriceFormatter={func:n.priceFormatter}),s.resolution||(s.resolution=n.minimumPrice),s.formatter||(s.formatter="'"),n.priceFormatter||(n.priceFormatter=function(e,t,i){var a,r,n,o;if(s){a="",i<0&&(a="-",i=Math.abs(i)),r=Math.floor(Math.round(i/s.resolution)*s.resolution),n=Math.round((i-r)/s.resolution),o=Math.floor(n),G.z7L(9);var l=G.Q7L(20,19,0);G.i7L(2);G.W7L(6,9972,10665,12,1);G.i7L(153);var h=G.W7L(13,6,17,6211,74554);G.z7L(33);var c=G.W7L(56190,8030,8);G.i7L(33);G.Q7L(1274,423,18);G.i7L(154);G.Q7L(6,7,19,4,155);G.z7L(120);var u=G.W7L(15,15,17,0,15);G.z7L(83);var d=G.W7L(2064,5,2043,2059,16);G.i7L(5);var p=G.W7L(5,2,17,5);G.i7L(33);G.W7L(69244,5769,13);G.i7L(53);var m=G.Q7L(6,32676,5446,2);G.i7L(8);var g=G.Q7L(539,5930);return a+r+s.formatter+(o<"10"*l?394.02===h?483.23==c&&"r":"0":"")+o+(n-o>=.5?607.88==("5250"|u)?d>4370?7157:"819.06"*p<=237.98?m:g:"+":"")}})):n.originalPriceFormatter&&(n.priceFormatter=n.originalPriceFormatter.func,n.originalPriceFormatter=null)),o=this.colorOrStyle(n.textStyle||r),h=0,(l=this.highlightedDraggable)&&this.yaxisMatches(l,n)?h=.15:n.highlight&&(h=.1),h&&(c=o.constructor==String?o:o.color,n.setBackground(this,{color:c,opacity:h})),G.K71(),n.pretty)return this.drawYAxisPretty(e,i);if(!this.runPrepend("drawYAxis",arguments)){if(!i.noDraw&&!n.noDraw){if(!(u=n.yAxisPlotter)||!i.noChange){if(d="l",d+="e",d+="f",d+="t",p="s",p+="tx_",p+="grid_b",p+="order",m="str",m+="oke",u=n.yAxisPlotter=new t.Plotter,g=e.chart,f=e.name==g.name&&n.name===e.yAxis.name,!n.priceTick)return;if(y=n.shadow,v=i.range){x=716154763,b=-1672060787,C=2;for(var J=1;G.f6U(J.toString(),J.toString().length,5635)!==x;J++){G.z7L(9);var $=G.W7L(16,23,14);G.i7L(7);var ee=G.Q7L(11,1,2,6,1);y=v[$]/v[ee],C+=2}if(G.f6U(C.toString(),C.toString().length,82900)!==b){G.i7L(15);var te=G.Q7L(1,11,4);G.i7L(1);var ie=G.W7L(14,7);y=v[te]/v[ie]}y=v[1]-v[0]}if(S=y/n.priceTick,S=Math.round(S),n.semiLog){L=1256415780,A=1239749968,D=2;for(var ae=1;G.V6U(ae.toString(),ae.toString().length,93594)!==L;ae++)w=Math.log(this.valueFromPixel(n.flipped?n.top:n.bottom,e))-Math.LN10,k=n.logHigh/n.logLow+S,D+=2;G.V6U(D.toString(),D.toString().length,34933)!==A&&(w=Math.log(this.valueFromPixel(n.flipped?n.top:n.bottom,e))/Math.LN10,k=(n.logHigh-n.logLow)/S)}if(u.newSeries("grid","stroke",this.canvasStyle("stx_grid")),u.newSeries("text","fill",o),u.newSeries("border",m,this.canvasStyle(p)),T=0,M=v?v[1]:n.high,F=v?v[0]:n.low,P=null===n.displayBorder?g.panel.yAxis.displayBorder:n.displayBorder,!1===this.axisBorders&&(P=!1),!0===this.axisBorders&&(P=!0),K=(E=g.dynamicYAxis)?n.width:NaN,_="left"==(I=this.getYAxisCurrentPosition(n,e))?n.left+n.width:n.left,N=Math.round(_)+.5,O=P?3:0,I==d&&(O=P?-3:0),f)if(n.shadow<1){G.z7L(1);var re=G.Q7L(100,90);G.i7L(37);var ne=G.Q7L(9,8);T=(parseInt(F/n.priceTick,re)+ne)*n.priceTick-F}else T=n.priceTick-Math.round(F%n.priceTick*e.chart.roundit)/e.chart.roundit;else T=M%n.priceTick;X=this.getCanvasFontSize("stx_yaxis");for(var se=0;se<S;se++)z="t",z+="ext",n.semiLog?(G.z7L(22),R=G.W7L(k,w,se),H=Math.pow(10,R)):H=f?F+se*n.priceTick+T:M-se*n.priceTick-T,W=this.pixelFromTransformedValue(H,e,n),(V=Math.round(W)+.5)+X/2>e.bottom||V-X/2<e.top||Math.abs(V-n.bottom)<1||(n.flipped&&(V=n.top+n.bottom-V),n.displayGridLines&&(u.moveTo("grid",e.left+1,V),u.lineTo("grid",e.right-1,V)),P&&(G.z7L(1),u.moveTo("border",G.Q7L(N,.5),V),G.z7L(8),u.lineTo("border",G.W7L(N,O),V)),H=n.priceFormatter?n.priceFormatter(this,e,H):this.formatYAxisPrice(H,e,null,n),B=n.textBackground?this.containerColor:null,U=3,G.z7L(52),j=G.W7L(U,O,_),"left"==I?(j=n.left+U,!1!==n.justifyRight&&(j=n.left+n.width+O-U)):n.justifyRight&&(j=_+n.width),u.addText(z,H,j,V,B,null,X),E&&(K=Math.max(K,g.context.measureText(H).width+Math.abs(O)+U)));if(P&&(Y="bo",Y+="r",Y+="de",Y+="r",q="bo",q+="rder",Z=Math.round(n.bottom)+.5,u.moveTo(q,N,n.top),u.lineTo("border",N,Z),u.draw(this.getBackgroundCanvas(g).context,Y)),E&&K>n.width)throw n._dynamicWidth=K,this.calculateYAxisPositions(),new Error("reboot draw");if(!E&&n._dynamicWidth)throw this.resetDynamicYAxis({chartName:g.name}),new Error("reboot draw")}n==e.yAxis&&this.plotYAxisGrid(e)}this.runAppend(a,arguments)}}},t.ChartEngine.prototype.drawYAxisPretty=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,V,B,U,j,Y,q,Z,G=Q;if(a="drawYAxi",G.z71(),a+="s",!this.runPrepend("drawYAxis",arguments)&&(i||(i={}),r=i.yAxis?i.yAxis:e.yAxis,!e.hidden&&!r.noDraw&&r.width)){if(!i.noDraw){if(!(n=r.yAxisPlotter)||!i.noChange){if(s="l",s+="e",s+="ft",o="st",o+="x_ya",o+="xi",o+="s",n=r.yAxisPlotter=new t.Plotter,l=e.chart,!r.priceTick)return;if(isNaN(r.high)||isNaN(r.low))return;if(h=r.shadow,i.range){G.i7L(67);var J=G.W7L(18,7,17,8);h=i.range[J]-i.range[0]}c=r.height/r.idealTickSizePixels,c=Math.round(c),u=r.textStyle||o,n.newSeries("grid","stroke",this.canvasStyle("stx_grid")),n.newSeries("text","fill",this.colorOrStyle(u)),n.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),p=(d=i.range)?d[1]:r.high,m=d?d[0]:r.low,g=null===r.displayBorder?l.panel.yAxis.displayBorder:r.displayBorder,!1===this.axisBorders&&(g=!1),!0===this.axisBorders&&(g=!0),v=(y=l.dynamicYAxis)?r.width:NaN,f="left"==(x=this.getYAxisCurrentPosition(r,e))?r.left+r.width:r.left,b=Math.round(f)+.5,C=g?3:0,x==s&&(C=g?-3:0),S=this.getCanvasFontSize("stx_yaxis"),k=(w=r.increments).length,L=0,A=1,D=0,T=0,M=0,F=Number.MAX_VALUE;for(var $=0;$<100;$++){G.z7L(109);var ee=G.Q7L(20,5192,15,17,6);if(D=w[L]*Math.pow(ee,M),G.i7L(35),A=Math.floor(G.W7L(h,D)),G.z7L(1),(P=Math.abs(G.W7L(c,A)))>F)break;if(F=P,A==c){T=D;break}A>c?++L>=k&&(L=0,M++):--L<0&&(G.z7L(1),L=G.W7L(k,1),M--),T=D}if(_=Math.ceil(m/T)*T,E=0,r.bottom-this.pixelFromTransformedValue(_,e,r)>r.idealTickSizePixels&&r.semiLog&&r.prettySemiLog){for(K=Math.ceil(m),I=0;_-K>=1e4&&I<=15;)_/=10,K/=10,I++;for(_=Math.ceil(_),K=Math.ceil(K);K<_&&_%K!=0;++K);_*=Math.pow(10,I),(K*=Math.pow(10,I))<_&&(_===T&&(T=K,E=K),_=K)}if(r.height>r.zoom){N=0,O=Number.MAX_VALUE,l.context.save(),this.canvasFont("stx_yaxis",l.context);for(var te=0;te<100&&(X="le",X+="f",X+="t",G.i7L(22),!((z=G.W7L(T,_,N))>p));te++)if(T+=E,N++,O-(H=this.pixelFromTransformedValue(z,e,r))<S+1&&E>0)te=N=0,O=Number.MAX_VALUE,T=E,G.i7L(16),E*=G.W7L("2",0),n.reset();else if(O=H,!((R=Math.round(H)+.5)+S/2>e.bottom||R-S/2<e.top||Math.abs(R-r.bottom)<1)){if(r.displayGridLines&&(n.moveTo("grid",e.left+1,R),n.lineTo("grid",e.right-1,R)),g&&(G.i7L(1),n.moveTo("border",G.Q7L(b,.5),R),G.i7L(8),n.lineTo("border",G.Q7L(b,C),R)),z=r.priceFormatter?r.priceFormatter(this,e,z):this.formatYAxisPrice(z,e,null,r),W=r.textBackground?this.containerColor:null,V=3,G.z7L(52),B=G.Q7L(V,C,f),x==X){G.z7L(9);var ie=G.W7L(10,55,48);B=r.left+ie,!1!==r.justifyRight&&(B=r.left+r.width+C-V)}else r.justifyRight&&(B=f+r.width);n.addText("text",z,B,R,W,null,S),y&&(G.i7L(8),U=G.Q7L(z,""),v=Math.max(v,l.context.measureText(U).width+Math.abs(C)+V))}l.context.restore(),te>=100&&console.log("drawYAxisPretty: assertion error. zz reached 100")}if(g&&(j="bo",j+="rde",j+="r",Y=Math.round(r.bottom)+.5,n.moveTo("border",b,r.top),n.lineTo("border",b,Y),n.draw(this.getBackgroundCanvas(l).context,j)),y&&v>r.width)throw q="reb",q+="oot draw",r._dynamicWidth=v,this.calculateYAxisPositions(),new Error(q);if(!y&&r._dynamicWidth)throw Z="rebo",Z+="o",Z+="t dra",Z+="w",this.resetDynamicYAxis({chartName:l.name}),new Error(Z)}r==e.yAxis&&this.plotYAxisGrid(e)}this.runAppend(a,arguments)}}},n(W={}),s(),o(W),l(W),h(W),c(W),u(W),d(W),p(W),m(W),g(W),f(W),y(W),v(W),x(),b(W),C(W),S(W),w(W),k(W),L(W),A(W),D(W),T(W),M(W),F(W),P(W),_(W),E(W),K(W),I(W),N(W),O(W),X(W),z(W),H(W),R(W);var{CIQ:V,SplinePlotter:B,timezoneJS:U,$$:j,$$$:Y}=W}).call(this,i(26))},375:function(e,t,i){"use strict";(function(e){i.d(t,"e",(function(){return n})),i.d(t,"f",(function(){return s})),i.d(t,"g",(function(){return o})),i.d(t,"h",(function(){return l})),i.d(t,"i",(function(){return h})),i.d(t,"j",(function(){return c})),i.d(t,"k",(function(){return u})),i.d(t,"l",(function(){return d})),i.d(t,"m",(function(){return p})),i.d(t,"p",(function(){return m})),i.d(t,"q",(function(){return g})),i.d(t,"s",(function(){return f})),i.d(t,"t",(function(){return y})),i.d(t,"u",(function(){return v})),i.d(t,"v",(function(){return x})),i.d(t,"w",(function(){return b})),i.d(t,"x",(function(){return C})),i.d(t,"y",(function(){return S})),i.d(t,"z",(function(){return w})),i.d(t,"A",(function(){return k})),i.d(t,"C",(function(){return L})),i.d(t,"D",(function(){return A})),i.d(t,"n",(function(){return D})),i.d(t,"o",(function(){return T})),i.d(t,"r",(function(){return M})),i.d(t,"E",(function(){return F})),i.d(t,"F",(function(){return P}));var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E=i(374);function K(){}i.d(t,"c",(function(){return E.c})),i.d(t,"d",(function(){return E.d})),i.d(t,"B",(function(){return E.e})),i.d(t,"a",(function(){return E.a})),i.d(t,"b",(function(){return E.b})),K[10078]=function(){for(var e=2;9!==e;)switch(e){case 1:return globalThis;case 2:e="object"==typeof globalThis?1:5;break;case 5:var t;try{for(var i=2;6!==i;)switch(i){case 5:t.uzg0s=t,i=4;break;case 4:i="undefined"==typeof uzg0s?3:9;break;case 2:Object.defineProperty(Object.prototype,"hQWh$",{get:function(){for(;;)return this},configurable:!0}),t=hQWh$,i=5;break;case 3:throw"";case 9:delete t.uzg0s,delete Object.prototype.hQWh$,i=6}}catch(e){t=window}return t}}(),K[131077]=function(e){for(var t=2;12!==t;)switch(t){case 2:var i=[arguments];i[7]="6F",i[9]="F",i[4]="",i[4]="E",t=9;break;case 9:i[5]=1,i[3]=i[4],i[3]+=i[7],i[3]+=i[9],t=14;break;case 14:var a=function(e,t,a,r){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];n(i[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=13;break;case 13:a(r,"charCodeAt",i[5],i[3]),t=12}function r(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function n(e,t,i,a,r){for(var n=2;13!==n;)switch(n){case 7:l[7]="definePrope",l[6]=8;try{for(var s=2;8!==s;)switch(s){case 2:l[8]={},l[5]=(0,l[0][1])(l[0][0]),l[1]=[l[6],l[5].prototype][l[0][3]],l[8].value=l[1][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[4]=l[7],l[4]+=l[3],l[4]+=l[2],l[0][0].Object[l[4]](l[1],l[0][4],l[8]),o=3}}catch(e){}l[1][l[0][4]]=l[8].value,s=8}}catch(e){}n=13;break;case 2:var l=[arguments];l[2]="",l[2]="",l[2]="y",l[3]="",l[3]="rt",l[7]="",n=7}}}(K[10078]),K[141034]=function(e){function t(e,t,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[9]="",l[9]="ineProper",l[3]="def";try{for(var s=2;8!==s;)switch(s){case 4:l[5].value=l[1][l[0][2]];try{for(var o=2;3!==o;)switch(o){case 2:l[8]=l[3],l[8]+=l[9],l[8]+=l[7],l[0][0].Object[l[8]](l[1],l[0][4],l[5]),o=3}}catch(e){}l[1][l[0][4]]=l[5].value,s=8;break;case 2:l[5]={},l[4]=(0,l[0][1])(l[0][0]),l[1]=[l[4],l[4].prototype][l[0][3]],s=4}}catch(e){}n=6;break;case 2:var l=[arguments];l[7]="",l[7]="",l[7]="ty",n=3}}for(var i=2;43!==i;)switch(i){case 2:var a=[arguments];a[4]="ii",a[7]="",a[6]="6",i=3;break;case 3:a[7]="J",a[9]="",a[9]="K6",a[8]="",a[8]="",a[8]="i",a[1]="",i=12;break;case 28:r(o,"substring",a[2],a[10]),i=44;break;case 44:r(o,"charCodeAt",a[2],a[30]),i=43;break;case 12:a[1]="",a[1]="6i",a[3]="",a[3]="P",i=19;break;case 22:a[45]=a[7],a[45]+=a[6],a[45]+=a[4],a[60]=a[8],i=33;break;case 19:a[2]=8,a[2]=2,a[2]=1,a[5]=0,a[30]=a[3],a[30]+=a[1],i=26;break;case 31:var r=function(e,i,r,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];t(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=30;break;case 33:a[60]+=a[6],a[60]+=a[4],i=31;break;case 29:r(s,"fromCharCode",a[5],a[45]),i=28;break;case 26:a[30]+=a[8],a[10]=a[9],a[10]+=a[8],a[10]+=a[8],i=22;break;case 30:r(n,"String",a[5],a[60]),i=29}function n(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}function s(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}}(K[10078]),K[265782]=function(e){function t(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}function i(e,t,i,a,r){for(var n=2;14!==n;)switch(n){case 2:var s=[arguments];s[4]="eProperty",s[8]="",s[8]="fin",s[1]="",s[1]="de",n=8;break;case 8:s[2]=2,s[2]=8;try{for(var o=2;8!==o;)switch(o){case 9:s[3][s[0][4]]=s[5].value,o=8;break;case 2:s[5]={},s[6]=(0,s[0][1])(s[0][0]),s[3]=[s[2],s[6].prototype][s[0][3]],s[5].value=s[3][s[0][2]];try{for(var l=2;3!==l;)switch(l){case 5:s[9]+=s[4],s[0][0].Object[s[9]](s[3],s[0][4],s[5]),l=3;break;case 2:s[9]=s[1],s[9]+=s[8],l=5}}catch(e){}o=9}}catch(e){}n=14}}for(var a=2;15!==a;)switch(a){case 16:n(t,"map",r[1],r[6]),a=15;break;case 2:var r=[arguments];r[5]="",r[9]="g",r[5]="JJ",a=3;break;case 3:r[7]="5",r[4]="",r[4]="u",r[1]=3,r[1]=6,r[1]=1,a=13;break;case 17:n(s,"replace",r[1],r[3]),a=16;break;case 18:var n=function(e,t,a,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];s=1;break;case 1:i(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=17;break;case 13:r[6]=r[4],r[6]+=r[7],r[6]+=r[5],r[3]=r[9],a=20;break;case 20:r[3]+=r[7],r[3]+=r[5],a=18}function s(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].String}}}(K[10078]),K[286920]=function(e){for(var t=2;71!==t;)switch(t){case 6:a[8]="ct",a[1]="M",a[3]="",a[3]="abstra",t=11;break;case 72:i(l,"apply",a[46],a[42]),t=71;break;case 36:a[23]=a[65],a[23]+=a[86],a[23]+=a[14],a[28]=a[82],t=51;break;case 44:a[90]=4,a[90]=0,a[42]=a[73],a[42]+=a[86],t=40;break;case 64:a[24]=a[1],a[24]+=a[86],a[24]+=a[14],a[56]=a[7],a[56]+=a[9],a[56]+=a[2],t=58;break;case 31:a[73]="",a[73]="A",a[46]=7,a[46]=1,t=44;break;case 11:a[7]="__",a[5]="",a[5]="Y",a[4]="",t=18;break;case 55:var i=function(e,t,i,n){for(var s=2;5!==s;)switch(s){case 2:var o=[arguments];r(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};t=77;break;case 77:i(n,"test",a[46],a[20]),t=76;break;case 51:a[28]+=a[16],a[28]+=a[4],a[59]=a[5],a[59]+=a[83],t=47;break;case 24:a[65]="",a[65]="v",a[83]="",a[83]="5v",t=35;break;case 47:a[59]+=a[65],a[94]=a[7],a[94]+=a[3],a[94]+=a[8],t=64;break;case 2:var a=[arguments];a[6]="",a[6]="B",a[9]="",t=3;break;case 3:a[9]="resid",a[2]="ual",a[8]="",a[8]="",t=6;break;case 40:a[42]+=a[14],a[78]=a[96],a[78]+=a[83],a[78]+=a[65],t=36;break;case 58:a[20]=a[6],a[20]+=a[83],a[20]+=a[65],t=55;break;case 73:i(s,"push",a[46],a[78]),t=72;break;case 76:i(o,a[56],a[90],a[24]),t=75;break;case 18:a[4]="",a[4]="ze",a[16]="",a[16]="",a[16]="mi",a[82]="",a[82]="__opti",t=24;break;case 75:i(o,a[94],a[90],a[59]),t=74;break;case 35:a[14]="vv",a[96]="P",a[86]="",a[86]="5",t=31;break;case 74:i(o,a[28],a[90],a[23]),t=73}function r(e,t,i,a,r){for(var n=2;7!==n;)switch(n){case 3:l[3]="f",l[7]="de";try{for(var s=2;8!==s;)switch(s){case 3:try{for(var o=2;3!==o;)switch(o){case 2:l[5]=l[7],l[5]+=l[3],l[5]+=l[8],o=4;break;case 4:l[0][0].Object[l[5]](l[4],l[0][4],l[6]),o=3}}catch(e){}l[4][l[0][4]]=l[6].value,s=8;break;case 2:l[6]={},l[2]=(0,l[0][1])(l[0][0]),l[4]=[l[2],l[2].prototype][l[0][3]],l[6].value=l[4][l[0][2]],s=3}}catch(e){}n=7;break;case 2:var l=[arguments];l[8]="",l[8]="ineProperty",l[3]="",n=3}}function n(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].RegExp}}function s(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Array}}function o(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0]}}function l(e){for(var t=2;5!==t;)switch(t){case 2:var i=[arguments];return i[0][0].Function}}}(K[10078]),K.d1Q=function(){return"function"==typeof K[22341].G9X?K[22341].G9X.apply(K[22341],arguments):K[22341].G9X},K.s9d=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];return t[9]=void 0,t[7]={},t[7].J2a=function(){for(var e=2;90!==e;)switch(e){case 25:i[86].V2Q=function(){return"function"==typeof v5vv},e=24;break;case 12:i[9]=i[7],i[4]={},i[4].X1Q=["U2Q"],i[4].V2Q=function(){return/\x61\u0061\x61\x61\x61/.B5vv(function(){return"aaaa".padEnd(5,"a")}+[])},e=19;break;case 54:i[1].P5vv(i[40]),i[1].P5vv(i[93]),i[1].P5vv(i[23]),e=51;break;case 2:var i=[arguments];e=1;break;case 45:i[1].P5vv(i[52]),i[14]=[],i[39]="r1Q",i[81]="O1Q",i[48]="X1Q",e=61;break;case 51:i[1].P5vv(i[2]),i[1].P5vv(i[88]),i[1].P5vv(i[5]),e=48;break;case 76:e=i[61]<i[56][i[48]].length?75:70;break;case 70:i[90]++,e=57;break;case 21:i[21].V2Q=function(){return!/\u0062\x74\x6f\x61/.B5vv(function(){return btoa("=")}+[])},i[23]=i[21],e=34;break;case 34:i[77]={},i[77].X1Q=["U2Q"],i[77].V2Q=function(){return/\x58/.B5vv(function(){return"x".toUpperCase()}+[])},i[88]=i[77],i[42]={},i[42].X1Q=["F2Q"],i[42].V2Q=function(){var e=!1,t=[];try{for(var i in console)t.P5vv(i);e=0===t.length}catch(e){}return e},e=44;break;case 67:t[9]=55,e=66;break;case 56:i[56]=i[1][i[90]];try{i[38]=i[56][i[62]]()?i[39]:i[81]}catch(e){i[38]=i[81]}e=77;break;case 66:return 44;case 1:e=t[9]?5:4;break;case 58:i[90]=0,e=57;break;case 77:i[61]=0,e=76;break;case 57:e=i[90]<i[1].length?56:69;break;case 5:return 81;case 24:i[52]=i[86],i[21]={},i[21].X1Q=["U2Q"],e=21;break;case 44:i[93]=i[42],i[94]={},i[94].X1Q=["U2Q"],e=41;break;case 19:i[2]=i[4],i[6]={},i[6].X1Q=["F2Q"],i[6].V2Q=function(){return"function"==typeof Y5vv},i[5]=i[6],i[86]={},i[86].X1Q=["F2Q"],e=25;break;case 71:i[61]++,e=76;break;case 4:i[1]=[],i[8]={},i[8].X1Q=["U2Q"],i[8].V2Q=function(){return/\x78\x78/.B5vv(function(){return"x".repeat(2)}+[])},e=7;break;case 41:i[94].V2Q=function(){return/\u0074\x72\u0075\x65/.B5vv(function(){return"A".normalize("NFC")==="".normalize("NFC")}+[])},i[49]=i[94],e=39;break;case 68:e=68;break;case 36:i[40]=i[13],e=54;break;case 39:i[13]={},i[13].X1Q=["U2Q"],i[13].V2Q=function(){return/(\x3c|\x3e)/.B5vv(function(){return"a".anchor("b")}+[])},e=36;break;case 48:i[1].P5vv(i[9]),i[1].P5vv(i[49]),i[1].P5vv(i[3]),e=45;break;case 75:i[27]={},i[27][i[73]]=i[56][i[48]][i[61]],i[27][i[55]]=i[38],i[14].P5vv(i[27]),e=71;break;case 7:i[3]=i[8],i[7]={},i[7].X1Q=["F2Q"],i[7].V2Q=function(){return"function"==typeof M5vv},e=12;break;case 61:i[55]="Z1Q",i[62]="V2Q",i[73]="T1Q",e=58;break;case 69:e=function(e){for(var t=2;22!==t;)switch(t){case 12:a[5].P5vv(a[4][i[73]]),t=11;break;case 13:a[6][a[4][i[73]]]=function(){for(var e=2;9!==e;)switch(e){case 2:var t=[arguments];return t[7]={},t[7].h=0,t[7].t=0,t[7]}}.A5vv(this,arguments),t=12;break;case 25:a[2]=!0,t=24;break;case 15:a[9]=a[5][a[3]],a[1]=a[6][a[9]].h/a[6][a[9]].t,t=26;break;case 11:a[6][a[4][i[73]]].t+=!0,t=10;break;case 2:var a=[arguments];t=1;break;case 1:t=0===a[0][0].length?5:4;break;case 5:return;case 14:t=void 0===a[6][a[4][i[73]]]?13:11;break;case 18:a[2]=!1,t=17;break;case 26:t=a[1]>=.5?25:24;break;case 17:a[3]=0,t=16;break;case 7:t=a[3]<a[0][0].length?6:18;break;case 4:a[6]={},a[5]=[],a[3]=0,t=8;break;case 20:a[6][a[4][i[73]]].h+=!0,t=19;break;case 19:a[3]++,t=7;break;case 24:a[3]++,t=16;break;case 16:t=a[3]<a[5].length?15:23;break;case 8:a[3]=0,t=7;break;case 6:a[4]=a[0][0][a[3]],t=14;break;case 10:t=a[4][i[55]]===i[39]?20:19;break;case 23:return a[2]}}(i[14])?68:67}},t[7]}}(),K[10078].T9II=K,K.Y19=function(){return"function"==typeof K[248996].k0s?K[248996].k0s.apply(K[248996],arguments):K[248996].k0s},K.L9X=function(){return"function"==typeof K[538215].n9X?K[538215].n9X.apply(K[538215],arguments):K[538215].n9X},K[248996]=(a=function(e,t){var i=65535&t;return((t-i)*e|0)+(i*e|0)|0},{k0s:function(e,t,i){for(var r=i,n=-4&t,s=0;s<n;s+=4){var o=255&e.E6FF(s)|(255&e.E6FF(s+1))<<8|(255&e.E6FF(s+2))<<16|(255&e.E6FF(s+3))<<24;o=a(o,3432918353),r=5*(r=(524287&(r^=o=a(o=(131071&o)<<15|o>>>17,461845907)))<<13|r>>>19)+3864292196|0}switch(o=0,t%4){case 3:o=(255&e.E6FF(n+2))<<16;case 2:o|=(255&e.E6FF(n+1))<<8;case 1:o|=255&e.E6FF(n),o=a(o,3432918353),r^=o=a(o=(131071&o)<<15|o>>>17,461845907)}return r^=t,r=a(r^=r>>>16,2246822507),r=a(r^=r>>>13,3266489909),r^=r>>>16}}),K.C1Q=function(){return"function"==typeof K[22341].G9X?K[22341].G9X.apply(K[22341],arguments):K[22341].G9X},K.A9d=function(){return"function"==typeof K.s9d.J2a?K.s9d.J2a.apply(K.s9d,arguments):K.s9d.J2a},K.I9X=function(){return"function"==typeof K[538215].k9X?K[538215].k9X.apply(K[538215],arguments):K[538215].k9X},K.l9d=function(){return"function"==typeof K.s9d.J2a?K.s9d.J2a.apply(K.s9d,arguments):K.s9d.J2a},K.R9L=function(){return"function"==typeof K[397153].M6r?K[397153].M6r.apply(K[397153],arguments):K[397153].M6r},K.G9L=function(){return"function"==typeof K[397153].G6r?K[397153].G6r.apply(K[397153],arguments):K[397153].G6r},K.V9L=function(){return"function"==typeof K[397153].M6r?K[397153].M6r.apply(K[397153],arguments):K[397153].M6r},K.g19=function(){return"function"==typeof K[248996].k0s?K[248996].k0s.apply(K[248996],arguments):K[248996].k0s},K.O9X=function(){return"function"==typeof K[538215].k9X?K[538215].k9X.apply(K[538215],arguments):K[538215].k9X},K[397153]=function(){function e(e,n,s,o,l){for(var h=2;15!==h;)switch(h){case 13:h=n&&m>0&&46!==d.P6ii(m-1)?12:11;break;case 12:return!1;case 5:!t&&(t=void 0!==p?p[r([3,10,14,15,9,-4,8,0])]||" ":""),!i&&(i=void 0!==p?p[r([3,13,0,1])]:""),d=l?i:t,h=9;break;case 8:u=(c=d.K6ii(e,o)).length,h=6;break;case 11:return u=(c=d.K6ii(m,d.length)).length,K.Y19(c,u,s);case 2:var c,u,d,p;p=a[r([7,10,-2,-4,15,4,10,9])],h=5;break;case 14:var m=d.length-e;h=13;break;case 9:h=o>0?8:19;break;case 16:return K.Y19(c,u,s);case 18:u=(c=d.K6ii(0,d.length)).length,h=16;break;case 6:return K.Y19(c,u,s);case 19:h=null===e||e<=0?18:14}}for(;;){var t,i,a=K[10078];return{G6r:function(t,i,a,r){for(;;)return e(t,i,a,r)},M6r:function(t,i,a,r){for(;;)return e(t,i,a,r,!0)}}}function r(e){for(var t=2;7!==t;)switch(t){case 4:t=r<e.length?3:8;break;case 2:var i=3,a="";t=5;break;case 5:var r=0;t=4;break;case 9:r++,t=4;break;case 3:a+=i6ii.J6ii(e[r]-i+104),t=9;break;case 8:return a}}}(),K.x9X=function(){return"function"==typeof K[538215].n9X?K[538215].n9X.apply(K[538215],arguments):K[538215].n9X},K[22341]=function(e){function t(t){for(var i=2;15!==i;)switch(i){case 5:u=a[e[4]],i=4;break;case 12:i=s--?10:11;break;case 19:return r;case 4:i=s--?9:3;break;case 14:i=s--?12:13;break;case 6:l=o&&u(o,n),i=14;break;case 2:var r,n,o,l,h,c,u;i=1;break;case 3:n=26,i=9;break;case 1:i=s--?4:5;break;case 10:i=c>=0&&l>=0?20:18;break;case 18:i=c>=0?17:16;break;case 20:r=t-c>n&&l-t>n,i=19;break;case 9:i=s--?7:8;break;case 13:h=e[7],i=12;break;case 16:r=l-t>n,i=19;break;case 17:r=t-c>n,i=19;break;case 7:i=s--?14:6;break;case 11:c=(h||0===h)&&u(h,n),i=10;break;case 8:o=e[6],i=7}}for(var i=2;10!==i;)switch(i){case 11:return{G9X:function(i){for(var r=2;6!==r;)switch(r){case 5:r=s--?3:4;break;case 4:h=t(n),r=3;break;case 8:return function(t,r){for(var n=2;10!==n;)switch(n){case 2:n=void 0===t&&void 0!==i?1:5;break;case 1:t=i,n=5;break;case 6:n=0===o?14:12;break;case 5:n=void 0===r&&void 0!==e?4:3;break;case 14:s=h,n=13;break;case 4:r=e,n=3;break;case 3:var s,o=0;n=9;break;case 9:n=o<t[r[5]]?8:11;break;case 12:s^=h,n=13;break;case 11:return s;case 8:var l=a[r[4]](t[r[2]](o),16)[r[3]](2),h=l[r[2]](l[r[5]]-1);n=6;break;case 13:o++,n=9}}(void 0,void 0)?h:!h;case 1:r=n>c?5:8;break;case 2:var n=(new a[e[0]])[e[1]]();r=1;break;case 3:r=s--?8:9;break;case 9:c=n+6e4,r=8}}};case 8:i=s--?6:7;break;case 1:i=s--?4:5;break;case 2:var a,r,n,s;i=1;break;case 4:var o="fromCharCode",l="RegExp";i=3;break;case 5:a=K[10078],i=4;break;case 3:i=s--?8:9;break;case 9:r=typeof o,i=8;break;case 14:e=e.u5JJ((function(e){for(var t=2;13!==t;)switch(t){case 9:r+=a[n][o](e[i]+120),t=8;break;case 4:var i=0;t=3;break;case 1:t=s--?4:5;break;case 8:i++,t=3;break;case 2:var r;t=1;break;case 6:return;case 5:r="",t=4;break;case 7:t=r?14:6;break;case 3:t=i<e.length?9:7;break;case 14:return r}})),i=13;break;case 13:i=s--?11:12;break;case 6:i=s--?13:14;break;case 7:n=r.g5JJ(new a[l]("^['-|]"),"S"),i=6;break;case 12:var h,c=0;i=11}}([[-52,-23,-4,-19],[-17,-19,-4,-36,-15,-11,-19],[-21,-16,-23,-6,-55,-4],[-4,-9,-37,-4,-6,-15,-10,-17],[-8,-23,-6,-5,-19,-47,-10,-4],[-12,-19,-10,-17,-4,-16],[-65,-10,-18,-16,-20,-8,-13,-23,-13],[]]),K.C9L=function(){return"function"==typeof K[397153].G6r?K[397153].G6r.apply(K[397153],arguments):K[397153].G6r},K[538215]={n9X:function(){var e,t=arguments;switch(r){case 104:e=t[2]/(t[1]<<t[0]);break;case 46:e=t[3]*t[2]/t[1]-t[0];break;case 1:e=t[1]*t[0];break;case 155:e=t[0]*t[1]/t[3]-t[4]+t[2];break;case 53:e=t[1]>>t[0];break;case 66:e=t[0]>t[1];break;case 83:e=t[2]*t[0]*t[1];break;case 27:e=t[0]/+t[1];break;case 64:e=t[1]!=t[0];break;case 136:e=t[0]/t[1]*t[4]-t[2]+t[3];break;case 5:e=t[2]-t[0]+t[1];break;case 86:e=t[2]/(t[1]&t[0])-t[3];break;case 17:e=t[2]+t[0]+t[1]-t[3];break;case 33:e=(t[4]*t[1]+t[2])/t[3]-t[0];break;case 60:e=(t[1]+t[2]-t[0])*t[4]-t[3];break;case 68:e=t[0]>=t[1];break;case 142:e=(t[1]+t[4])*t[3]-t[2]-t[0];break;case 49:e=t[1]^t[0];break;case 90:e=t[4]*(t[1]>>t[3])*t[2]+t[0];break;case 79:e=t[0]*t[3]-t[1]+t[2];break;case 12:e=t[2]*t[0]+t[1]-t[3];break;case 14:e=-t[3]-t[1]+t[2]+t[0];break;case 30:e=t[0]*t[1]-t[2];break;case 29:e=t[0]*t[3]*t[4]/t[1]+t[2];break;case 88:e=t[0]*t[4]*t[2]+t[3]*t[1];break;case 59:e=(-t[1]-t[0])*t[2]+t[3];break;case 82:e=+t[1]*t[0];break;case 6:e=t[1]-t[0];break;case 67:e=t[0]<t[1];break;case 144:e=t[3]/t[4]*t[1]/t[0]+t[2];break;case 11:e=t[0]+t[1]-t[2];break;case 127:e=t[2]*t[0]/t[4]/t[3]+t[1];break;case 101:e=t[2]*t[0]/t[1];break;case 43:e=t[2]+t[1]+t[3]+t[0];break;case 47:e=t[3]/t[0]+t[1]-t[2];break;case 95:e=t[1]*t[2]+t[0];break;case 138:e=t[1]/(t[0]>>t[2]);break;case 102:e=(t[2]/t[3]-t[0])*t[1]+t[4];break;case 15:e=(t[2]+t[1])*t[3]-t[0];break;case 139:e=t[0]/t[1]-t[3]+t[2];break;case 36:e=t[1]+t[2]/t[0];break;case 37:e=t[1]-t[0]/t[2]-t[3];break;case 133:e=t[2]>(t[1]&t[0]);break;case 89:e=(t[3]+t[2]-t[0])%t[1];break;case 41:e=-t[0]-t[1]+t[2];break;case 55:e=(t[2]/t[0]+t[3])*t[1]-t[4];break;case 149:e=t[1]/t[0]/t[2];break;case 128:e=t[1]+ +t[0];break;case 143:e=(t[1]+t[0]+t[2])*t[3]+t[4];break;case 96:e=t[4]-t[1]+t[3]-t[0]+t[2];break;case 123:e=-t[0]*t[1]+t[2];break;case 111:e=(t[0]-t[4])/t[3]/t[1]+t[2];break;case 117:e=t[2]+t[3]+t[1]+t[4]-t[0];break;case 28:e=(t[3]+t[0])*t[2]/t[4]-t[1];break;case 145:e=(t[3]*t[2]+t[4])*t[0]-t[1];break;case 62:e=t[1]==t[0];break;case 57:e=t[0]/t[3]/t[2]/t[4]+t[1];break;case 110:e=(t[0]*t[4]-t[3])*t[2]-t[1];break;case 34:e=t[1]*t[0]+t[3]*t[2];break;case 131:e=t[4]*((t[0]-t[1])/t[3]+t[2]);break;case 118:e=(t[1]-t[3])*t[0]+t[4]+t[2];break;case 150:e=t[3]/t[0]+t[1]-t[4]+t[2];break;case 115:e=t[2]+(t[1]<<t[0]);break;case 116:e=t[0]-(t[3]-t[1])-t[2];break;case 23:e=(t[3]+t[1])*t[2]/t[4]+t[0];break;case 63:e=t[1]<=t[0];break;case 134:e=t[2]*t[3]*t[4]+t[1]-t[0];break;case 94:e=t[0]*t[3]*t[2]-t[1];break;case 84:e=t[0]*t[2]*+t[1];break;case 91:e=(t[1]-t[2])/t[0];break;case 44:e=t[0]-+t[1]+t[2];break;case 124:e=t[6]*t[2]*t[1]+(t[5]-t[3]*t[0])*t[4];break;case 48:e=t[2]-t[3]-t[0]-t[4]+t[1];break;case 73:e=t[1]%t[0];break;case 114:e=t[0]-+t[1];break;case 87:e=(t[1]<<t[0])-t[3]+t[2];break;case 92:e=t[0]*+t[1];break;case 93:e=(t[0]-t[4])*t[1]-t[3]+t[2];break;case 25:e=t[3]*t[1]/t[4]-t[2]-t[0];break;case 26:e=t[1]/t[0]+t[2]+t[3];break;case 78:e=t[1]-(t[3]-t[2])*t[0];break;case 16:e=(t[1]+t[2])/t[0]+t[3];break;case 10:e=(t[1]-t[3])*t[2]+t[0];break;case 81:e=-t[0]*t[3]/t[2]+t[1];break;case 22:e=t[1]-t[0]-t[2];break;case 56:e=t[0]-t[2]+t[3]+t[1];break;case 151:e=t[1]*t[0]-t[3]-t[2];break;case 103:e=t[2]*(t[1]/t[0]);break;case 135:e=t[0]*t[3]+t[2]+t[1]-t[4];break;case 137:e=(t[1]-t[3])/t[2]+t[0];break;case 85:e=t[4]*t[2]*t[1]+t[3]*t[0]+t[5];break;case 152:e=(t[5]-t[0])*(t[6]-t[1])+(t[7]-t[2])*(t[4]-t[3]);break;case 13:e=-t[1]/t[2]+t[0];break;case 130:e=t[1]*t[0]*t[3]*+t[2];break;case 19:e=t[3]+(t[1]+t[0]*t[4])*t[2];break;case 58:e=(t[3]+t[2])/t[0]+t[4]-t[1];break;case 108:e=t[2]*t[0]+t[1]+t[4]+t[3];break;case 141:e=t[1]*t[0]*t[2]*t[3]-t[4];break;case 3:e=t[3]+t[0]/t[2]-t[1];break;case 126:e=t[3]-t[2]+t[0]-t[1];break;case 70:e=t[3]|t[0]|t[2]|t[1];break;case 32:e=t[1]+t[2]-(t[3]|t[0]);break;case 18:e=(t[2]-t[1])*t[0];break;case 98:e=(-t[4]+t[2]-t[1])/t[0]-t[3];break;case 107:e=t[1]/t[2]+t[0];break;case 75:e=t[1]===t[0];break;case 50:e=t[0]|t[1];break;case 97:e=t[2]*t[3]/(t[1]+t[0]);break;case 159:e=(t[3]+t[2]/t[0])*t[1];break;case 157:e=t[2]-t[0]*t[1];break;case 153:e=(t[2]+t[0])/t[3]-t[1]+t[4];break;case 8:e=(t[1]+t[2])/t[0];break;case 158:e=(t[1]-t[0]/t[3])*t[2];break;case 0:e=t[1]+t[0];break;case 42:e=t[1]/t[2]*t[0]-t[3];break;case 106:e=(t[1]+t[2])*t[4]*t[3]-t[0];break;case 154:e=(t[0]+t[4]+t[2])/t[1]+t[3];break;case 109:e=(t[3]/t[2]+t[1])/t[0]+t[4];break;case 69:e=+t[1]<<t[0];break;case 100:e=t[1]*(t[2]+t[3]/t[0]);break;case 31:e=t[1]+t[2]-+t[0];break;case 54:e=t[2]/t[4]/t[0]*t[1]-t[3];break;case 99:e=(t[0]-t[2])*t[1]-t[3];break;case 20:e=t[0]+t[3]-t[2]-t[1]+t[4];break;case 129:e=(t[1]-t[3])/t[0]*t[4]+t[2];break;case 9:e=-t[1]+t[0];break;case 80:e=(t[4]-t[1]+t[0])/t[3]-t[2];break;case 76:e=t[1]-(t[2]-t[0]);break;case 40:e=-t[0]+t[2]-t[1]+t[3];break;case 35:e=t[1]<<t[0];break;case 7:e=t[0]/t[1];break;case 38:e=t[2]+t[0]*t[1];break;case 146:e=t[2]/t[1]/t[0]+t[3];break;case 77:e=-t[3]*t[2]/t[1]-t[0];break;case 4:e=-t[2]-t[1]-t[0]+t[3];break;case 160:e=(-t[3]-t[0]+t[2])*t[1]-t[4];break;case 113:e=t[0]/(t[1]*t[2]);break;case 105:e=t[3]+t[0]-t[2]+t[1];break;case 125:e=(t[2]-t[4])*t[1]+t[0]-t[3];break;case 140:e=(t[0]+t[2]-t[1])*t[3]+t[4];break;case 120:e=-t[2]+t[1]+t[0];break;case 119:e=(t[0]+t[1])/t[3]-t[2];break;case 39:e=t[2]-t[1]/t[0];break;case 72:e=t[0]|t[2]|t[3]|t[1]|t[4];break;case 71:e=t[1]|t[0]|t[2];break;case 61:e=(t[4]-t[2])*t[3]/t[1]+t[0];break;case 132:e=(t[3]<<t[4])+t[1]+t[0]+t[2];break;case 112:e=t[0]-t[2]-t[3]+t[1];break;case 65:e=t[0]+t[3]+t[4]+t[1]+t[2];break;case 148:e=t[4]/t[0]*t[2]+t[3]-t[1];break;case 45:e=t[4]/t[3]-t[0]-t[1]+t[2];break;case 2:e=t[3]-t[0]/t[2]+t[1];break;case 24:e=(t[1]/t[3]-t[0])/t[4]+t[2];break;case 122:e=t[0]/(t[2]+ +t[1]);break;case 51:e=(t[3]-t[1])/(t[2]-t[0]);break;case 147:e=t[2]/t[4]-t[1]+t[0]-t[3];break;case 74:e=t[1]&t[0];break;case 121:e=(-t[1]*t[4]+t[3])*t[0]+t[2];break;case 21:e=t[0]+t[1]+t[2];break;case 156:e=(t[1]<<t[5])*(t[4]/t[2]-t[0])+t[3];break;case 52:e=t[1]/t[2]-t[0]}return e},k9X:function(e){r=e}},K.W1Q=function(e){if(K.l9d(),K&&e)return K.d1Q(e)},K.o1Q=function(e){if(K.A9d(),K)return K.d1Q(e)},K.B1Q=function(e){if(K.A9d(),K&&e)return K.C1Q(e)},K.J1Q=function(e){if(K.A9d(),K)return K.C1Q(e)},K.e1Q=function(e){if(K.l9d(),K&&e)return K.C1Q(e)},K.a1Q=function(e){if(K.l9d(),K&&e)return K.d1Q(e)},K.A9d(),n=e=>{var t,i,a;K.A9d(),t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=class{get(e,t){K.l9d(),t("no storage defined")}set(e,t){}remove(e){}},t.ChartEngine.create=function(){let{container:e,config:r,deferLoad:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s,o,l;e||(e=document.querySelector(".chartContainer")||document.body),r||(r={}),s=Object.assign({container:e},r.chartEngineParams),o=new this(s);var{quoteFeeds:h,marketFactory:c,addOns:u,chartId:d,onChartReady:p}=r;for(var m in h&&o.attachQuoteFeed&&h.forEach(e=>{let{quoteFeed:t,behavior:i,filter:a}=e;o.attachQuoteFeed(t,i,a)}),c&&o.setMarketFactory(c),u&&Object.entries(u).filter(e=>{let[,t]=e;return K.l9d(),!!t}).forEach(e=>{let[i,a]=e;var n;if(r.enabledAddOns[i])if(n=a.moduleName||t.capitalize(i),K.A9d(),t[n]){var{cssRequired:s}=new t[n](Object.assign({stx:o},a,{config:r}));s&&t.UI&&t.UI.activatePluginUI(o,n)}else t.debug&&console.log("".concat(n," not available for addons with params:"),a)}),l=t.ensureDefaults(r.callbacks||{},{layout:this.getSaveLayout(r),symbolChange:this.getSaveLayout(r),drawing:this.getSaveDrawings(r),preferences:this.getSavePreferences(r),newChart:this.getRetoggleEvents(r)}))l[m]&&o.addEventListener(m,l[m]);function g(){p&&setTimeout(()=>p(o))}function f(){o.loadChart(r.initialSymbol,{masterData:r.initialData},g),o.draw()}return a=new(a=r.nameValueStore||t.NameValueStore||i),n||(r.restore?(this.restorePreferences(o,d),this.restoreLayout(o,e=>{K.l9d(),!o.chart.symbol&&r.initialSymbol?f():g()},d)):f()),o},t.ChartEngine.getSaveLayout=function(e){return K.A9d(),function(t){let{stx:i}=t;var r;K.A9d(),e.restore&&i.exportLayout&&(r=JSON.stringify(i.exportLayout(!0)),a.set("myChartLayout"+(e.chartId||""),r))}},t.ChartEngine.restoreLayout=function(e,t,i){var{restoreDrawings:r}=this;function n(){r(e,e.chart.symbol,i),t&&t()}i||(i=""),K.I9X(0),a.get(K.L9X(i,"myChartLayout"),(function(t,i){if(!t){try{i=JSON.parse(i)}catch(e){}K.A9d(),e.importLayout&&e.importLayout(i,{managePeriodicity:!0,cb:n}),e.termStructure&&e.setCandleWidth(1)}}))},t.ChartEngine.getSaveDrawings=function(e){return function(t){let{stx:i,symbol:r}=t;var n,s;e.restore&&i.exportDrawings&&(n=i.exportDrawings(),s=e.chartId?e.chartId+"~"+r:r,0===n.length?a.remove(s):a.set(s,JSON.stringify(n)))}},t.ChartEngine.restoreDrawings=function(e,i,r){var n;t.Drawing&&(n=r?r+"~"+i:i,a.get(n,(function(t,i){if(K.l9d(),!t){try{i=JSON.parse(i)}catch(e){}i&&(e.importDrawings(i),e.draw())}})))},t.ChartEngine.getSavePreferences=function(e){return K.A9d(),function(t){let{stx:i}=t;var r;e.restore&&i.exportPreferences&&(r=JSON.stringify(i.exportPreferences()),a.set("myChartPreferences"+(e.chartId||""),r))}},t.ChartEngine.restorePreferences=function(e,t){t||(t=""),K.I9X(0),a.get(K.L9X(t,"myChartPreferences"),(function(t,i){if(!t){try{i=JSON.parse(i)}catch(e){}K.l9d(),i&&e.importPreferences&&e.importPreferences(i)}}))},t.ChartEngine.getRetoggleEvents=function(e){return function(i){let{stx:a}=i;var r;(r=document.getElementById(e.chartId))||(r=(t.getFn("UI.getMyContext")(a.container)||{}).topNode),r||(r=document),r.querySelectorAll("".concat(e.selector.markersMenuItem,".ciq-active:not(.span-event)")).forEach((function(e){e.dispatchEvent(new Event("stxtap"))}))}}},s=e=>{var t;K.A9d(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.drawHeatmap=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g;if("c","har","t",t&&t.length&&((i=e.panel)||(i="chart"),a=this.panels[i])){r=e.yAxis?e.yAxis:a.yAxis,n=this.chart.dataSegment,e.name||(e.name="Data"),K.l9d(),e.widthFactor||(e.widthFactor=1),e.height||(e.height=Math.pow(10,1-(a.decimalPlaces||a.chart.decimalPlaces))),s="stx-",s+="flo",s+="at-d",s+="ate",o=this.chart.context,this.canvasFont(s,o),l=this.getCanvasFontSize(s),h=1,!e.highlight&&this.highlightedDraggable&&(h=.3),c=.5,a.chart.tmpWidth<=1&&(c=0),u=null,d=null,p=this,m=null,this.startClip(i),o.globalAlpha=h;for(var f=0;f<t.length;f++)y((g=t[f]).field,g.color,g.opacity,null,e.widthFactor,g.height,g.border_color?c:-c/4,g.subField),g.border_color&&this.layout.candleWidth>=2&&y(g.field,g.border_color,g.opacity,!0,e.widthFactor,g.height,c,g.subField);o.lineWidth=1,K.O9X(1),o.globalAlpha=K.x9X(1,"1"),this.endClip()}function y(t,i,s,c,g,f,y,v){var x,b,C,S,w,k,L,A,D,T,M,F,P,_,E=K;o.beginPath(),E.l9d(),o.fillStyle=i,o.strokeStyle=i,o.textAlign="center",x=p.layout.candleWidth*g,b=Math.floor(p.pixelFromBar(0,a.chart)-p.layout.candleWidth),"number"==typeof s&&(E.I9X(1),o.globalAlpha=E.x9X(h,s)),"object"==typeof s&&(w={minOpacity:s.min||0,maxOpacity:s.max||1});for(var I=0;I<n.length;I++)if("n","umb","er",(k=n[I])&&k.candleWidth?(b+=0===I?p.layout.candleWidth:(k.candleWidth+x/g)/2,x=k.candleWidth*g):b+=p.layout.candleWidth,E.O9X(2),C=E.x9X(x,y,2,b),E.I9X(3),(S=E.x9X(x,y,2,b))-C<2&&(E.O9X(0),S=E.L9X(1,C)),k&&(L=k[t])){L[v]&&(L=L[v]),"number"==typeof L&&(L=[L]);for(var N=0;N<L.length;N++){if(D=0,(A=L[N])instanceof Array){if(w){E.O9X(4);var O=E.L9X(5,18,3,28);E.I9X(5);var X=E.x9X(10,11,0);o.globalAlpha=h*(A[O]*w.maxOpacity+(1-A["2"*X])*w.minOpacity)}D=A[1],A=A[0]}T=p.pixelFromPrice(A,a,r),m||(f||(f=e.height),M=p.pixelFromPrice(A+f*(r.flipped?1:-1),a,r),o.lineWidth=1,E.O9X(6),u=E.x9X(T,M),E.O9X(7),d=E.x9X(u,2),m=o.lineWidth),c?(E.O9X(6),F=E.L9X(d,T),E.O9X(0),P=E.x9X(d,T),E.I9X(6),o.rect(C,F,E.L9X(C,S),E.L9X(F,P))):(E.I9X(6),o.fillRect(C,E.L9X(d,T),E.x9X(C,S),u),e.showSize&&D&&l<=u-2&&(_=o.globalAlpha,o.fillStyle=p.defaultColor,E.O9X(1),o.globalAlpha=E.L9X(h,.5),E.I9X(8),o.fillText(D,E.L9X(2,S,C),T),o.fillStyle=i,E.O9X(1),o.globalAlpha=E.x9X(h,_))),w&&A instanceof Array&&(o.globalAlpha=0)}}c&&o.stroke(),o.globalAlpha=h,o.closePath()}},t.ChartEngine.prototype.drawCandles=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,I,N,O,X,z,H,R,W,Q=K;r="o",r+="bje",r+="ct",(n=e.chart)||(n=e,e=e.chart),s=!1,o=!1,l=null,h=e.yAxis,a&&typeof a==r?(s=a.isOutline,o=a.isHistogram,l=a.field,h=a.yAxis):(s=a,o=arguments[3]),c=n.dataSegment,u=n.context,d=h.top,p=h.bottom,y=new Array(c.length),v="transparent",x="tr",x+="ansparent",Q.A9d(),b=0,Q.I9X(9);var V=Q.L9X(7,6);C=n.dataSet.length-n.scroll-V,S={},w=n.tmpWidth/2,k=this.layout.candleWidth,Q.I9X(10);var B=Q.x9X(45,0,4,11);L=e.left-.5*k+this.micropixels-B;for(var U=0;U<=c.length;U++)if(A="transpa",A+="rent",D="so",D+="l",D+="i",D+="d",T=w,Q.O9X(7),L+=Q.L9X(k,2),k=this.layout.candleWidth,Q.O9X(7),L+=Q.L9X(k,2),(M=c[U])&&!M.projection&&(M.candleWidth&&(L+=(M.candleWidth-k)/2,k=M.candleWidth,(a.isVolume||k<n.tmpWidth)&&(Q.O9X(7),T=Q.L9X(k,2))),n.transformFunc&&h==n.panel.yAxis&&M.transform&&(M=M.transform),M&&l&&(M=M[l]),(M||0===M)&&(F=M.Close,P=void 0===M.Open?F:M.Open,o&&n.defaultPlotField&&(F=M[n.defaultPlotField]),(F||0===F)&&(o||P!=F&&null!==P)&&(_=i(this,M,s?"outline":D))))){if(s?v=_:x=_,S[x]=1,(E=v&&!t.isTransparent(v))&&!a.highlight&&(b=.5),u.beginPath(),u.fillStyle=x,M.cache||(M.cache={}),I=M.cache,Q.I9X(0),(N=Q.x9X(U,C))<e.cacheLeft||N>e.cacheRight||!I.open){if(O=h.semiLog?h.height*(1-(Math.log(Math.max(P,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-P)*h.multiplier,X=h.semiLog?h.height*(1-(Math.log(Math.max(F,0))/Math.LN10-h.logLow)/h.logShadow):(h.high-F)*h.multiplier,h.flipped?(Q.O9X(6),O=Q.x9X(O,p),Q.I9X(6),X=Q.x9X(X,p)):(O+=d,X+=d),y[U]=X,m=Math.floor(o?X:Math.min(O,X))+b,g=o?h.bottom:Math.max(O,X),Q.I9X(6),f=Math.floor(Q.L9X(m,g)),m<d){if(m+f<d){I.open=m,I.close=m;continue}Q.I9X(6),f-=Q.L9X(m,d),m=d}m+f>p&&(Q.O9X(11),f-=Q.L9X(m,f,p)),f=Math.max(f,2),I.open=m,I.close=I.open+f}I.open>=p||I.close<=d||(z=Math.floor(L)+(!a.highlight&&.5),H=Math.floor(z-T)+b,R=Math.round(z+T)-b,I.open!=I.close&&u.rect(H,I.open,Math.max(1,R-H),Math.max(1,I.close-I.open)),!a.highlight&&this.highlightedDraggable&&(u.globalAlpha*=.3),x!=A&&u.fill(),E&&(u.lineWidth=1,a.highlight&&(u.lineWidth*=2),u.strokeStyle=v,u.stroke()))}for(var j in W={colors:[],cache:y},S)a.hollow&&t.equals(j,this.containerColor)||W.colors.push(j);return W},t.ChartEngine.prototype.drawShadows=function(e,t,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M=K;(a=e.chart)||(a=e,e=e.chart),r=a.dataSegment,(n=this.chart.context).lineWidth=1,M.l9d(),i.highlight&&(n.lineWidth*=2),!i.highlight&&this.highlightedDraggable&&(n.globalAlpha*=.3),s=i.field,l=(o=i.yAxis||e.yAxis).top,h=o.bottom,M.O9X(12);var F=M.x9X(7,8,10,77);c=a.dataSet.length-a.scroll-F,u=this.layout.candleWidth,M.I9X(9);var P=M.L9X(11,10);d=e.left-.5*u+this.micropixels-P;for(var _=0;_<=r.length;_++)if("s","ha","do","w",M.O9X(7),d+=M.L9X(u,2),u=this.layout.candleWidth,M.O9X(7),d+=M.x9X(u,2),(p=r[_])&&!p.projection&&(p.candleWidth&&(d+=(p.candleWidth-u)/2,u=p.candleWidth),(m=t(this,p,"shadow"))&&(a.transformFunc&&o==a.panel.yAxis&&p.transform&&(p=p.transform),p&&s&&(p=p[s]),(p||0===p)&&(g=p.Close,f=void 0===p.Open?g:p.Open,y=void 0===p.High?Math.max(g,f):p.High,v=void 0===p.Low?Math.min(g,f):p.Low,g||0===g)))){if(p.cache||(p.cache={}),x=p.cache,M.I9X(0),(b=M.x9X(_,c))<e.cacheLeft||b>e.cacheRight||!x.top){if(C=o.semiLog?o.height*(1-(Math.log(Math.max(y,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-y)*o.multiplier,S=o.semiLog?o.height*(1-(Math.log(Math.max(v,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-v)*o.multiplier,o.flipped?(M.I9X(6),C=M.x9X(C,h),M.I9X(6),S=M.x9X(S,h)):(C+=l,S+=l),M.O9X(6),w=M.x9X(C,S),C<l){if(C+w<l){x.top=C,x.bottom=C;continue}M.O9X(6),w-=M.x9X(C,l),C=l}C+w>h&&(M.I9X(11),w-=M.x9X(C,w,h)),x.top=C,x.bottom=x.top+w}x.top>=h||x.bottom<=l||(k=Math.floor(d)+(!i.highlight&&.5),n.beginPath(),g==f&&(L=this.offset,i.isVolume&&(M.I9X(7),L=M.L9X(u,2)),M.I9X(6),A=M.L9X(L,k),M.O9X(0),D=M.L9X(L,k),T=o.semiLog?o.height*(1-(Math.log(Math.max(g,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-g)*o.multiplier,o.flipped?(M.O9X(6),T=M.L9X(T,h)):T+=l,T<=h&&T>=l&&(n.moveTo(A,T),n.lineTo(D,T))),y!=v&&(n.moveTo(k,x.top),n.lineTo(k,x.bottom)),n.strokeStyle=m,n.stroke())}},t.ChartEngine.prototype.drawBarChart=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E=K;(n=e.chart)||(n=e,e=e.chart),s=n.dataSegment,o=new Array(s.length),l=n.context,(h=this.canvasStyle(i)).width&&parseInt(h.width,10)<=25?l.lineWidth=Math.max(1,t.stripPX(h.width)):l.lineWidth=1,r.highlight&&(l.lineWidth*=2),!r.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),c=r.field,d=(u=r.yAxis||e.yAxis).top,p=u.bottom,E.I9X(13);var I=E.L9X(2,14,14);g=n.dataSet.length-n.scroll-I,f={},E.O9X(6);var N=E.x9X(20,22);y=n.tmpWidth/N,v=l.lineWidth/2,x=this.layout.candleWidth,E.O9X(14);var O=E.L9X(18,16,14,15);b=e.left-.5*x+this.micropixels-O;for(var X=0;X<=s.length;X++)if(E.O9X(7),b+=E.L9X(x,2),x=this.layout.candleWidth,E.I9X(7),b+=E.L9X(x,2),C=s[X]){if(C.projection)break;if(C.candleWidth&&(b+=(C.candleWidth-x)/2,x=C.candleWidth),(S=a(this,C))&&(f[S]=1,l.strokeStyle=S,l.beginPath(),n.transformFunc&&u==n.panel.yAxis&&C.transform&&(C=C.transform),C&&c&&(C=C[c]),(C||0===C)&&(w=C.Close,k=void 0===C.Open?w:C.Open,L=void 0===C.High?Math.max(w,k):C.High,A=void 0===C.Low?Math.min(w,k):C.Low,w||0===w))){if(C.cache||(C.cache={}),D=C.cache,E.I9X(0),(T=E.x9X(X,g))<e.cacheLeft||T>e.cacheRight||!D.top){if(M=this.pixelFromTransformedValue(L,e,u),F=this.pixelFromTransformedValue(A,e,u),D.open=u.semiLog?u.height*(1-(Math.log(Math.max(k,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-k)*u.multiplier,D.close=u.semiLog?u.height*(1-(Math.log(Math.max(w,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-w)*u.multiplier,u.flipped?(D.open=u.bottom-D.open,D.close=u.bottom-D.close):(D.open+=u.top,D.close+=u.top),o[X]=D.close,E.O9X(6),m=E.x9X(M,F),M<d){if(M+m<d){D.top=M,D.bottom=M;continue}E.O9X(6),m-=E.L9X(M,d),M=d}M+m>p&&(E.I9X(11),m-=E.L9X(M,m,p)),D.top=M,E.I9X(0),D.bottom=E.x9X(m,M)}P=Math.floor(b)+(!r.highlight&&.5),D.top<p&&D.bottom>d&&C.High!=C.Low&&(l.moveTo(P,D.top-v),l.lineTo(P,D.bottom+v)),"hlc"!=r.type&&D.open>d&&D.open<p&&(l.moveTo(P,D.open),E.I9X(6),l.lineTo(E.L9X(y,P),D.open)),D.close>d&&D.close<p&&(l.moveTo(P,D.close),E.O9X(0),l.lineTo(E.x9X(y,P),D.close)),l.stroke()}}for(var z in l.lineWidth=1,_={colors:[],cache:o},f)t.equals(z,this.containerColor)||_.colors.push(z);return _},t.ChartEngine.prototype.drawWaveChart=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A=K;function D(t){return p.pixelFromTransformedValue(t,e,o)}r=(a=e.chart).dataSegment,n=new Array(r.length),s=a.context,i||(i={}),o=i.yAxis||e.yAxis,this.startClip(e.name),s.beginPath(),l=!1,h=!1,c=e.yAxis.top,u=e.yAxis.bottom,d=e.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),p=this;for(var T=0;T<=r.length;T++)if(d+=this.layout.candleWidth,m=r[T]){if(m.projection)break;if(a.transformFunc&&o==a.panel.yAxis&&m.transform&&(m=m.transform),m&&i.field&&(m=m[i.field]),(m||0===m)&&(g=m.Close,f=void 0===m.Open?g:m.Open,y=void 0===m.High?Math.max(g,f):m.High,v=void 0===m.Low?Math.min(g,f):m.Low,g||0===g)){A.O9X(15);var M=A.x9X(510,20,7,19);A.I9X(9);var F=A.L9X(15,7);if(x=d-M*this.layout.candleWidth/F,(b=D(f))<c){if(b=c,h){s.moveTo(x,b);continue}h=!0}else if(b>u){if(b=u,h){s.moveTo(x,b);continue}h=!0}else h=!1;if(l)s.lineTo(x,b);else{l=!0,A.I9X(0);var P=A.L9X(15,307911921);(C=a.dataSet.length-a.scroll-("1"<<P))<0?s.moveTo(x,b):C>=0&&((S=a.dataSet[C]).transform&&(S=S.transform),w=D(w=S.Close),w=Math.min(Math.max(w,c),u),s.moveTo(e.left+(T-1)*this.layout.candleWidth+this.micropixels,w),s.lineTo(x,b)),s.moveTo(x,b)}A.O9X(16);var _=A.x9X(1,0,2,2);if(x+=this.layout.candleWidth/_,f<g){(b=D(v))<c&&(b=c),b>u&&(b=u),s.lineTo(x,b),A.I9X(17);var E=A.L9X(18,16,0,30);x+=this.layout.candleWidth/E,(b=D(y))<c&&(b=c),b>u&&(b=u),s.lineTo(x,b)}else{(b=D(y))<c&&(b=c),b>u&&(b=u),s.lineTo(x,b),A.O9X(5);var I=A.L9X(15,11,8);x+=this.layout.candleWidth/I,(b=D(v))<c&&(b=c),b>u&&(b=u),s.lineTo(x,b)}A.I9X(4);var N=A.x9X(12,12,15,43);x+=this.layout.candleWidth/N,b=D(g),n[T]=b,b<c&&(b=c),b>u&&(b=u),s.lineTo(x,b)}}return(k=this.canvasStyle("stx_line_chart")).width&&parseInt(k.width,10)<=25?s.lineWidth=Math.max(1,t.stripPX(k.width)):s.lineWidth=1,i.highlight&&(s.lineWidth*=2),this.canvasColor("stx_line_chart"),i.color&&(s.strokeStyle=i.color),!i.highlight&&this.highlightedDraggable&&(s.globalAlpha*=.3),s.stroke(),s.closePath(),L={colors:[s.strokeStyle],cache:n},this.endClip(),s.lineWidth=1,L},t.ChartEngine.prototype.drawHistogram=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,I=K;if("Da","ta",i&&i.length&&((a=e.panel)||(a="chart"),r=this.panels[a])){for(n=e.yAxis?e.yAxis:r.yAxis,s=e.type,o=this.chart.dataSegment,l=!1,h=1,c=1,d=0;d<i.length;d++)l|=i[d].border_color_up&&!t.isTransparent(i[d].border_color_up),l|=i[d].border_color_down&&!t.isTransparent(i[d].border_color_down),h=i[d].opacity_up,c=i[d].opacity_down,!e.highlight&&this.highlightedDraggable&&(h*=.3,c*=.3);!1===e.borders&&(l=!1),e.name||(e.name="Data"),I.A9d(),p=n.multiplier,e.heightPercentage||(e.heightPercentage=.7),e.widthFactor||(e.widthFactor=.8),m=0,g=0;for(var N=0;N<this.chart.maxTicks;N++)if(f=o[N])for(y=0,d=0;d<i.length;d++)((v=f[i[d].field])||0===v)&&("st","acked",u=i[d].subField||this.chart.defaultPlotField||"Close","object"==typeof v&&v[u]&&(v=v[u]),"stacked"==s?y+=v:y=v,y>m&&(m=y),y<g&&(g=y));if(0!==m||0!==g){if(b=!1,e.bindToYAxis){n.baseline&&(g=n.baseline.value,b=!0),I.O9X(0);var O=I.x9X(1,0);x=Math.floor(this.pixelFromPrice(g,r,n))+(n.flipped?-.5*O:.5)}else n.flipped?(x=Math.floor(n.top)-.5,C=Math.floor(n.bottom)-.5):(x=Math.floor(n.bottom)+.5,C=Math.floor(n.top)+.5),p=Math.abs(x-C)*e.heightPercentage/(m-g);for(this.startClip(a),S=this.layout.candleWidth<=1||!l?0:.5,w=this.chart.context,n.flipped&&(w.translate(0,2*n.top),w.scale(1,-1)),k=Math.max(0,(1-e.widthFactor)*this.layout.candleWidth/2),L=new Array(o.length),A=[],D=this,T=1,d=0;d<i.length;d++){if("st","a","cke","d","clus","tere","d",M=i[d],T=this.layout.candleWidth*e.widthFactor,k&&this.layout.candleWidth-T<=2&&(l=!1),F=0,"clustered"==s&&(F=d,T/=i.length),u=M.subField||this.chart.defaultPlotField||"Close","function"==typeof M.color_function){_={};for(var X=0;X<o.length;X++)if(o[X]){"string"==typeof(P=M.color_function(o[X]))&&(P={fill_color:P,border_color:P}),P.hasOwnProperty("border_opacity")||(P.border_opacity=P.opacity),I.I9X(6);I.L9X(8080,16160);I.I9X(11);var z=I.L9X(60300,4,55279);I.O9X(20);var H=I.x9X(5713,15,12,6,8);I.O9X(21);I.x9X(6958,3,12);I.O9X(17);var R=I.L9X(5,6,195200,185451);I.I9X(22);I.x9X(12,8098,6);I.I9X(23);var W=I.L9X(837,6,4,56,4);I.O9X(24);I.L9X(3,3199,2403,1,4);I.I9X(25);var Q=I.L9X(83547,10,3,9283,1);I.O9X(26);var V=I.x9X(137,685,7,9572);(E=P.fill_color+(2640===z?H:R===W?"C":947!==Q?",":V)+P.border_color)in _?_[E].positions.push(X):(P.positions=[X],_[E]=P)}for(E in _)P=_[E],B(M.field,u,P.fill_color,P.opacity,null,null,F,T,P.positions),B(M.field,u,P.border_color,P.border_opacity,!0,null,F,T,P.positions)}else B(M.field,u,M.fill_color_up,h,null,!0,F,T),B(M.field,u,M.fill_color_down,c,null,null,F,T),this.layout.candleWidth>=2&&l&&(B(M.field,u,M.border_color_up,h,!0,!0,F,T),B(M.field,u,M.border_color_down,c,!0,null,F,T));"stacked"==s&&(A=t.shallowClone(L))}w.globalAlpha=1,this.endClip()}else this.displayErrorAsWatermark(a,this.translateIf(e.name+" Not Available"))}function B(e,t,i,a,n,l,h,c,u){var d,m,f,y,v,C,T,M,F,P,_,E,K;I.A9d(),a||(a=1),w.globalAlpha=a,w.beginPath(),I.O9X(0),d=I.x9X(.5,x),m=Math.floor(D.pixelFromBar(0,r.chart)-D.layout.candleWidth/2);for(var N=0;N<o.length;N++)"objec","t",f=A[N]||x,0===N&&(d=f),o[N]&&o[N][e]?("object"==typeof(v=(y=o[N])[e])&&v[t]&&(v=v[t]),I.O9X(18),C=I.L9X(p,g,v),isNaN(C)||(T=D.layout.candleWidth,y.candleWidth&&(T=y.candleWidth,0===N&&(m=Math.floor(D.pixelFromBar(0,r.chart)-y.candleWidth/2))),(M=Math.floor(f-C)+.5)>f&&!b&&(M=f),u&&-1==u.indexOf(N)||!u&&(l&&y.Close<y.iqPrevClose||!l&&y.Close>=y.iqPrevClose)?(d=M,m+=T):(F=T/D.layout.candleWidth,k?(I.O9X(19),P=Math.round(I.L9X(h,k,F,m,c)),I.O9X(0),_=I.x9X(n?0:S,P),E=P+Math.round(c*F)-(n?0:S)):(I.I9X(19),P=I.x9X(h,k,F,m,c),_=Math.round(P)+(n?0:S),E=Math.round(P+c*F)-(n?0:S)),E-_<2&&(I.I9X(0),E=I.L9X(1,_)),_%1==(K=n?0:.5)&&(_+=.5),E%1==K&&(E+=.5),w.moveTo(E,f),x!=f&&n&&!k&&A[N+1]&&w.moveTo(E,Math.max(M,Math.min(f,A[N+1]))),w.lineTo(E,M),w.lineTo(_,M),n&&h?(L[N]>M||0===N)&&w.lineTo(_,Math.min(f,L[N])):n&&!k&&"clustered"==s?N>0&&L[N-1]&&L[N-1]>M&&w.lineTo(_,Math.min(f,L[N-1])):n&&!k?(d>M||0===N)&&w.lineTo(_,Math.min(f,d)):w.lineTo(_,f),d=M,m+=T,("clustered"!=s||n)&&(L[N]=M)))):(d=f,m+=D.layout.candleWidth);n?(w.strokeStyle=i&&"auto"!=i?i:D.defaultColor,w.stroke()):("au","t","o",w.fillStyle=i&&"auto"!=i?i:D.defaultColor,w.fill()),w.closePath()}},t.ChartEngine.prototype.scatter=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=K;b.A9d(),a=(i=e.chart).dataSegment,r=new Array(a.length),n=this.chart.context,this.canvasColor("stx_scatter_chart"),t||(t={}),s=t.field||i.defaultPlotField,o=t.yAxis||e.yAxis,l=t.subField||i.defaultPlotField||"Close",this.startClip(e.name),n.beginPath(),n.lineWidth=t.lineWidth||4,t.highlight&&(n.lineWidth*=2),!t.highlight&&this.highlightedDraggable&&(n.globalAlpha*=.3),t.color&&(n.strokeStyle=t.color),h=o.top,c=o.bottom,u=this.layout.candleWidth,d=e.left-.5*u+this.micropixels-1;for(var C=0;C<=a.length;C++)if(b.O9X(27),d+=b.x9X(u,"2"),u=this.layout.candleWidth,b.O9X(7),d+=b.x9X(u,2),p=a[C]){if(p.candleWidth){b.O9X(28);var S=b.L9X(10,2,6,0,15);d+=(p.candleWidth-u)/S,u=p.candleWidth}if(!p.projection){i.transformFunc&&o==i.panel.yAxis&&p.transform&&(p=p.transform),(m=p[s])&&void 0!==m[l]&&(m=m[l]),m instanceof Array||(m=[m]),"Scatter"in p&&(m=p.Scatter);for(var w=0;w<m.length;w++)(m[w]||0===m[w])&&(g=m[w],f=0,m[w]instanceof Array&&(g=m[w][0],f=m[w][2]),y=o.semiLog?o.height*(1-(Math.log(Math.max(g,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-g)*o.multiplier,o.flipped?(b.I9X(6),y=b.L9X(y,c)):y+=h,y<h||y>c||(v=2,f&&(b.O9X(1),v=b.x9X(f,u)),b.O9X(6),n.moveTo(b.x9X(v,d),y),b.O9X(0),n.lineTo(b.L9X(v,d),y),r[C]=y))}}return n.stroke(),n.closePath(),x={colors:[n.strokeStyle],cache:r},this.endClip(),n.lineWidth=1,x}},o=e=>{var t,i;K.l9d(),t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.ChartEngine.drawingTools={},t.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},annotation:{font:{style:null,size:null,weight:null,family:null}}},t.ChartEngine.registerDrawingTool=function(e,i){K.l9d(),t.ChartEngine.drawingTools[e]=i},t.ChartEngine.prototype.setDrawingContainer=function(e){K.A9d(),this.drawingContainer=e},t.ChartEngine.prototype.exportDrawings=function(){var e;e=[];for(var t=0;t<this.drawingObjects.length;t++)e.push(this.drawingObjects[t].serialize());for(var i=1;-39134986!==K.Y19(i.toString(),i.toString().length,94398);i++)return e;if(1629301557!==K.Y19(2..toString(),2..toString().length,28435))return e},t.ChartEngine.prototype.abortDrawings=function(e){var t;!1!==e&&(e=!0);for(var i=this.drawingObjects.length-1;i>=0;i--)(t=this.drawingObjects[i]).abort(!0),!e&&t.permanent||this.drawingObjects.splice(i,1)},t.ChartEngine.prototype.importDrawings=function(e){var i,a,r;if(K.l9d(),t.Drawing)for(var n=0;n<e.length;n++)"fibonacci"==(i=e[n]).name&&(i.name="retracement"),(a=t.ChartEngine.drawingTools[i.name])||t.Drawing[i.name]&&(a=t.Drawing[i.name],t.ChartEngine.registerDrawingTool(i.name,a)),a&&((r=new a).reconstruct(this,i),this.drawingObjects.push(r))},t.ChartEngine.prototype.clearDrawings=function(e,i){var a,r;!1!==i&&(i=!0),K.l9d(),a=this.exportDrawings(),this.abortDrawings(i),e?this.undoStamps=[]:this.undoStamp(a,this.exportDrawings()),this.changeOccurred("vector"),this.cancelTouchSingleClick=!0,t.clearCanvas(this.chart.tempCanvas,this),this.draw(),(r=this.controls.mSticky)&&(r.style.display="none",r.children[0].innerHTML="")},t.ChartEngine.prototype.createDrawing=function(e,i){var a,r;if(t.Drawing){for(var n in(a=new t.Drawing[e]).reconstruct(this,i),(r=new t.Drawing[e]).stx=this,r.copyConfig(),r)a[n]=a[n]||r[n];return this.drawingObjects.push(a),K.A9d(),this.draw(),a}},t.ChartEngine.prototype.removeDrawing=function(e){for(var t=0;t<this.drawingObjects.length;t++)if(this.drawingObjects[t]==e)return this.drawingObjects.splice(t,1),this.changeOccurred("vector"),void this.draw()},t.ChartEngine.prototype.undo=function(){K.l9d(),this.runPrepend("undo",arguments)||(this.activeDrawing&&(this.activeDrawing.abort(),this.activeDrawing.hidden=!1,this.drawingSnapshot=null,this.activateDrawing(null),t.clearCanvas(this.chart.tempCanvas,this),this.draw(),this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair"),this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair"),t.ChartEngine.drawingLine=!1),this.runAppend("undo",arguments))},t.ChartEngine.prototype.undoStamp=function(e,t){K.A9d(),this.undoStamps.push(e),this.dispatch("undoStamp",{before:e,after:t,stx:this})},t.ChartEngine.prototype.undoLast=function(){K.l9d(),this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=[],this.importDrawings(this.undoStamps.pop()),this.changeOccurred("vector"),this.draw())},t.ChartEngine.prototype.addDrawing=function(e){var t;t=this.exportDrawings(),K.l9d(),this.drawingObjects.push(e),this.undoStamp(t,this.exportDrawings())},t.ChartEngine.prototype.repositionDrawing=function(e,i){var a,r,n;a=this.panels[e.panelName],r=this.adjustIfNecessary(a,this.crosshairTick,this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),a)),n=this.chart.tempCanvas,t.clearCanvas(n,this),i?(this.drawingSnapshot=this.exportDrawings(),e.render(n.context)):(e.reposition(n.context,e.repositioner,this.crosshairTick,r),this.drawingSnapshot&&this.undoStamp(t.shallowClone(this.drawingSnapshot),this.exportDrawings()),this.drawingSnapshot=null),e.measure&&e.measure()},t.ChartEngine.prototype.activateRepositioning=function(e){this.repositioningDrawing=e,e&&(this.draw(),this.repositionDrawing(e,!0)),this.chart.tempCanvas.style.display=e?"block":"none"},t.ChartEngine.prototype.activateDrawing=function(e,i){var a,r,n,s=K;function o(e){var t;e.layout.studies&&(t=e.layout.studies[i.name])&&!t.overlay&&delete e.overlays[t.name]}if("no","ne","b","loc","k",i||(i=this.currentPanel),!e)return this.activeDrawing=null,this.chart.tempCanvas.style.display="none",o(this),!1;if(!(a=t.ChartEngine.drawingTools[e])&&t.Drawing[e]){-2097044530,-906121741,r=2;for(var l=1;-2097044530!==s.Y19(l.toString(),l.toString().length,94541);l++)a=t.Drawing[e],r+=2;-906121741!==s.Y19(r.toString(),r.toString().length,67691)&&(a=t.Drawing[e]),t.ChartEngine.registerDrawingTool(e,a)}if(a){1505290803,-1072070522,n=2;for(var h=1;1505290803!==s.g19(h.toString(),h.toString().length,27531);h++)this.activeDrawing=new a,n+=2;if(-1072070522!==s.Y19(n.toString(),n.toString().length,15560)&&(this.activeDrawing=new a),this.activeDrawing.construct(this,i),!this.charts[i.name]&&this.activeDrawing.chartsOnly)return this.activeDrawing=null,o(this),!1}return this.chart.tempCanvas.style.display="block",this.controls.drawOk&&(this.controls.drawOk.style.display="none"),o(this),!0},t.ChartEngine.prototype.drawingClick=function(e,i,a){var r,n,s;if(t.Drawing&&e&&""===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,e))){if(this.activeDrawing)return this.userPointerDown&&!this.activeDrawing.dragToDraw?void(t.ChartEngine.drawingLine||this.activateDrawing(null)):(r=this.tickFromPixel(i,e.chart),n=this.panels[this.activeDrawing.panelName],s=this.adjustIfNecessary(n,r,this.valueFromPixel(a,n)),this.magnetizedPrice&&(s=this.adjustIfNecessary(n,r,this.magnetizedPrice)),this.activeDrawing.click(this.chart.tempCanvas.context,r,s)?this.activeDrawing&&("st","x_crosshair",t.ChartEngine.drawingLine=!1,t.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred("vector"),this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair"),this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair")):(this.changeOccurred("drawing"),t.ChartEngine.drawingLine=!0,this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing"),this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing")),!0);-1086104753,33510566,2;for(var o=1;-1086104753!==K.Y19(o.toString(),o.toString().length,6537);o++)return!0;return 33510566!==K.Y19(2..toString(),2..toString().length,56216)}},t.ChartEngine.prototype.rightClickDrawing=function(e,t){var i,a;i="ri",i+="gh",i+="tCl",i+="ickDrawing",this.runPrepend("rightClickDrawing",arguments)||e.permanent||(this.callbackListeners.drawingEdit.length?this.dispatch("drawingEdit",{stx:this,drawing:e,forceEdit:t}):(e.abort()||(a=this.exportDrawings(),this.removeDrawing(e),this.undoStamp(a,this.exportDrawings())),this.changeOccurred("vector")),this.runAppend(i,arguments))},t.ChartEngine.prototype.magnetize=function(){var e,i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k=K;if(e="stx-dra",e+="g",e+="g",e+="able",i="Clos",i+="e",a="O",a+="p",a+="e",a+="n",this.magnetizedPrice=null,this.preferences.magnet&&!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&(r=this.currentVectorParameters.vectorType)&&"projection"!=r&&"freeform"!=r&&("annotation"!=r&&"callout"!=r||!t.ChartEngine.drawingLine)&&(s=(n=this.currentPanel).chart,!((o=this.crosshairTick)>s.dataSet.length)&&(l=s.dataSet[o],k.l9d(),l))){(h=s.transformFunc&&n.yAxis===s.yAxis)&&l.transform&&(l=l.transform),u=this.getRenderedItems(),d=[a,"High","Low",i],this.magneticHold&&this.activeDrawing&&this.activeDrawing.penDown?(p="H",p+="i",p+="g",p+="h",u=-1!=d.indexOf(this.magneticHold)&&-1!=u.indexOf(p)?d:[this.magneticHold]):this.magneticHold=null,m=1e9,g=parseFloat(this.preferences.magnet);for(var L=0;L<u.length;L++)if(f=l[u[L]],y=this.getYAxisByField(n,u[L]),(v=t.existsInObjectChain(l,u[L]))&&(f=v.obj[v.member]),(f||0===f)&&(x=this.pixelFromTransformedValue(f,n,y),Math.abs(this.cy-x)<m)){if(m=Math.abs(this.cy-x),g&&g<=m)continue;this.magnetizedPrice=h?this.valueFromPixel(x,n):f,c=x,this.magneticHold=u[L]}b=this.pixelFromTick(o,s),C=c,t.clearCanvas(s.tempCanvas,this),(S=s.tempCanvas.context).beginPath(),S.lineWidth=1,k.I9X(29);var A=k.x9X(2,6,8,4,3);k.I9X(30);var D=k.x9X(60,14,837);w=Math.max(this.layout.candleWidth,A)/D,S.arc(b,C,Math.min(w,8),0,2*Math.PI,!1),S.fillStyle="#398dff",S.strokeStyle="#398dff",S.fill(),S.stroke(),S.closePath(),s.tempCanvas.style.display="block",this.anyHighlighted&&this.container.classList.remove(e),this.activeDrawing&&this.activeDrawing.move(S,this.crosshairTick,this.magnetizedPrice),this.runAppend("magnetize",arguments)}},t.ChartEngine.prototype.changeVectorType=function(e){this.currentVectorParameters.vectorType=e,t.Drawing&&t.Drawing.initializeSettings(this,e),t.ChartEngine.drawingLine&&this.undo(),this.insideChart&&this.doDisplayCrosshairs()},t.ChartEngine.prototype.changeVectorParameter=function(e,t){var i;return"li","ne","Width","t","r","ue","axisLabel"==e?t="true"===t.toString()||Number(t):"lineWidth"==e?t=Number(t):"fontSize"==e&&(t=parseInt(t,10)+"px"),i=this.currentVectorParameters,K.A9d(),(void 0!==i[e]||"font"==e.substr(0,4)&&("unde","fi","ned","family"==(e=e.substr(4).toLowerCase())&&"default"==t.toLowerCase()&&(t=null),void 0!==(i=i.annotation.font)[e]))&&(i[e]=t,!0)},t.ChartEngine.prototype.drawVectors=function(){var e,t,i,a,r;if(!this.vectorsShowing&&!this.runPrepend("drawVectors",arguments)){if(this.vectorsShowing=!0,!this.chart.hideDrawings&&!this.highlightedDraggable){for(e={},i=0;i<this.drawingObjects.length;i++)(a=this.drawingObjects[i]).hidden||this.repositioningDrawing!==a&&(t=a.panelName,this.panels[a.panelName]&&!this.panels[a.panelName].hidden&&(e[t]||(e[t]=[]),e[t].push(a)));for(t in e){for(this.startClip(t),r=e[t],i=0;i<r.length;i++)r[i].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},t.ChartEngine.prototype.adjustDrawings=function(){for(var e,t=0;t<this.drawingObjects.length;t++)e=this.drawingObjects[t],this.panels[e.panelName]&&e.adjust()},t.Drawing=t.Drawing||function(){this.chartsOnly=!1,this.penDown=!1},t.Drawing.getDrawingParameters=function(e,i){var a,r,n,s;K.A9d();try{a=new t.Drawing[i]}catch(e){}if(!a)return null;a.stx=e,a.copyConfig(!0),r={},n=a.configs;for(var o=0;o<n.length;o++)r[n[o]]=a[n[o]];return(s=e.canvasStyle("stx_annotation"))&&r.font&&(r.font.size=s.fontSize,r.font.family=s.fontFamily,r.font.style=s.fontStyle,r.font.weight=s.fontWeight),r},t.Drawing.saveConfig=function(e,i){var a,r;i&&((a=e.preferences).drawings||(a.drawings={}),a.drawings[i]={},(r=new t.Drawing[i]).stx=e,t.Drawing.copyConfig(r),r.configs.forEach((function(e){K.A9d(),a.drawings[i][e]=r[e]})),K.A9d(),e.changeOccurred("preferences"))},t.Drawing.restoreDefaultConfig=function(e,i,a){a?e.preferences.drawings=null:e.preferences.drawings[i]=null,e.changeOccurred("preferences"),e.currentVectorParameters=t.clone(t.ChartEngine.currentVectorParameters),e.currentVectorParameters.vectorType=i},t.Drawing.initializeSettings=function(e,i){var a,r;a=t.Drawing[i],K.A9d(),a&&(r=new a).initializeSettings&&r.initializeSettings(e)},t.Drawing.updateSource=function(e,t,i,a){var r,n;if(t){for(var s in r=!1,e.drawingObjects)(n=e.drawingObjects[s]).field&&(i?n.field==t?(n.field=i,r=!0):n.field.indexOf(t)>-1&&-1==n.field.indexOf(t+"-")&&(n.field=n.field.replace(t,i),r=!0):n.field.split("--\x3e")[0]!=t&&n.panelName!=t||(n.panelName=a,r=!0));r&&e.changeOccurred("vector")}},t.Drawing.prototype.copyConfig=function(e){t.Drawing.copyConfig(this,e)},t.Drawing.copyConfig=function(e,i){var a,r,n,s,o;for(K.A9d(),a=e.stx.currentVectorParameters,r=e.configs,n=0;n<r.length;n++)"color"==(s=r[n])?e.color=a.currentColor:"parameters"==s?e.parameters=t.clone(a.fibonacci):"font"==s?e.font=t.clone(a.annotation.font):e[s]=a[s];if(i&&(o=e.stx.preferences)&&o.drawings)for(t.extend(e,o.drawings[a.vectorType]),n=0;n<r.length;n++)"fon","t","color"==(s=r[n])?a.currentColor=e.color:"parameters"==s?a.fibonacci=t.clone(e.parameters):"font"==s?a.annotation.font=t.clone(e.font):a[s]=e[s]},t.Drawing.prototype.dragToDraw=!1,t.Drawing.prototype.permanent=!1,t.Drawing.prototype.chartsOnly=!1,t.Drawing.prototype.abort=function(e){},t.Drawing.prototype.measure=function(){},t.Drawing.prototype.construct=function(e,t){this.stx=e,this.panelName=t.name},t.Drawing.prototype.render=function(e){console.warn("must implement render function!")},t.Drawing.prototype.click=function(e,t,i){K.A9d(),console.warn("must implement click function!")},t.Drawing.prototype.move=function(e,t,i){K.A9d(),console.warn("must implement move function!")},t.Drawing.prototype.reposition=function(e,t,i,a){},t.Drawing.prototype.intersected=function(e,t,i){console.warn("must implement intersected function!")},t.Drawing.prototype.reconstruct=function(e,t){console.warn("must implement reconstruct function!")},t.Drawing.prototype.serialize=function(){K.l9d(),console.warn("must implement serialize function!")},t.Drawing.prototype.adjust=function(){K.A9d(),console.warn("must implement adjust function!")},t.Drawing.prototype.highlight=function(e){return(e&&!this.highlighted||!e&&this.highlighted)&&(this.highlighted=e),this.highlighted},t.Drawing.prototype.littleCircleRadius=function(){return 6,6},t.Drawing.prototype.littleCircle=function(e,i,a,r){var n,s;this.permanent||(n=this.stx.defaultColor,s=t.chooseForegroundColor(n),e.beginPath(),e.lineWidth=1,e.arc(i,a,this.littleCircleRadius(),0,2*Math.PI,!1),e.fillStyle=r?n:s,e.strokeStyle=n,e.setLineDash([]),e.fill(),e.stroke(),e.closePath())},t.Drawing.prototype.rotator=function(e,t,i,a){var r,n,s,o=K;this.permanent||(r=this.littleCircleRadius(),n=this.stx.defaultColor,e.beginPath(),e.lineWidth=2,o.A9d(),a||(o.I9X(6),e.globalAlpha=o.x9X(0,"0.5")),o.O9X(0),s=o.x9X(r,4),e.arc(t,i,s,0,3*Math.PI/2,!1),o.O9X(21),e.moveTo(o.L9X(t,2,s),o.L9X(2,i,o.I9X(0))),o.I9X(0),e.lineTo(o.x9X(s,t),i),o.I9X(5),e.lineTo(o.L9X(2,s,t),o.x9X(2,i,o.O9X(0))),o.O9X(6),e.moveTo(o.L9X(2,t),o.L9X(i,2,s,o.I9X(11))),o.I9X(6),e.lineTo(t,o.L9X(s,i)),o.I9X(6),e.lineTo(o.L9X(2,t),o.x9X(2,i,s,o.I9X(22))),e.strokeStyle=n,e.stroke(),e.closePath(),e.globalAlpha=1)},t.Drawing.prototype.mover=function(e,t,i,a){var r,n,s,o=K;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,5,o.O9X(0),s=o.x9X(1,r),e.save(),e.lineWidth=2,e.strokeStyle=n,e.translate(t,i),a||(e.globalAlpha=.5);for(var l=0;l<4;l++)e.rotate(Math.PI/2),e.beginPath(),e.moveTo(0,s),o.O9X(0),e.lineTo(0,o.x9X(5,s)),o.O9X(31),e.moveTo(-2,o.x9X("2",s,5)),o.I9X(0),e.lineTo(0,o.x9X(5,s)),o.O9X(32),e.lineTo(2,o.x9X(0,s,5,"2")),e.closePath(),e.stroke();e.globalAlpha=1,e.restore()}},t.Drawing.prototype.resizer=function(e,t,i,a){var r,n,s,o,l=K;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,l.I9X(33);var h=l.L9X(24,4,12,6,36);s=5*Math.sqrt(h),l.O9X(0),o=l.x9X(1,r),e.save(),e.lineWidth=2,e.strokeStyle=n,e.translate(t,i),e.rotate(-t*i/Math.abs(t*i)*Math.PI/4),a||(e.globalAlpha=.5);for(var c=0;c<2;c++)e.rotate(Math.PI),e.beginPath(),e.moveTo(0,o),l.O9X(0),e.lineTo(0,l.x9X(s,o)),l.O9X(11),e.moveTo(-2,l.x9X(o,s,2)),l.O9X(0),e.lineTo(0,l.x9X(s,o)),l.I9X(11),e.lineTo(2,l.x9X(o,s,2)),e.closePath(),e.stroke();e.globalAlpha=1,e.restore()}},t.Drawing.prototype.pointIntersection=function(e,t,i,a){if(K.l9d(),!this.stx.panels[this.panelName])return!1;if(a){if(e>=i.cx0&&e<=i.cx1&&t>=i.cy0&&t<=i.cy1)return!0}else if(e>=i.x0&&e<=i.x1&&t>=Math.min(i.y0,i.y1)&&t<=Math.max(i.y0,i.y1))return!0;return!1},t.Drawing.prototype.setPoint=function(e,i,a,r){var n,s,o,l,h,c=K;c.l9d(),n=null,s=null,"number"==typeof i?n=i:i.length>=8?s=i:n=Number(i),(a||0===a)&&(c.O9X(0),this[c.x9X(e,"v")]=a),null!==n?(o=this.stx.dateFromTick(n,r,!0),c.I9X(0),this[c.L9X(e,"tzo")]=o.getTimezoneOffset(),c.I9X(0),this[c.x9X(e,"d")]=t.yyyymmddhhmmssmmm(o),c.I9X(0),this[c.x9X(e,"p")]=[n,a]):null!==s&&("tz","o","t","z","o",o=t.strToDateTime(s),this["tzo"+e]||0===this["tzo"+e]||(c.O9X(0),this[c.L9X(e,"tzo")]=o.getTimezoneOffset()),c.O9X(0),this[c.L9X(e,"d")]=s,l=this["tzo"+e]-o.getTimezoneOffset(),o.setMinutes(o.getMinutes()+l),h=!1,"freeform"==this.name||t.ChartEngine.isDailyInterval(this.stx.layout.interval)||o.getHours()||o.getMinutes()||o.getSeconds()||o.getMilliseconds()||(h=!0),c.I9X(0),this[c.L9X(e,"p")]=[this.stx.tickFromDate(t.yyyymmddhhmmssmmm(o),r,null,h),a])},t.Drawing.prototype.getLineColor=function(e){var i,a,r,n,s,o,l,h,c;if("a","u","t","o","au","to",e||(e=this.color),i=this.stx,a=e,this.highlighted)a=i.getCanvasColor("stx_highlight_vector");else if(t.isTransparent(a))a=i.defaultColor;else if("auto"==a&&(a=i.defaultColor,this.field)){for(r in i.layout.studies)if(s=(n=i.layout.studies[r]).outputs[n.outputMap[this.field]]){a=s.color||s;break}for(r in i.chart.seriesRenderers){l=i.chart.seriesRenderers[r];for(var u=0;u<l.seriesParams.length;u++){if("-","->","C","l","o","se",(c=(h=l.seriesParams[u]).field)||l.highLowBars||(c=this.defaultPlotField||"Close"),h.symbol&&h.subField&&(c+="--\x3e"+h.subField),this.field==c){a=h.color;break}h.field&&h.field==this.field.split("--\x3e")[0]&&(o=h.color)}}o&&(a=o)}return"auto"==a&&(a=i.defaultColor),a},t.Drawing.BaseTwoPoint=function(){this.p0=null,this.p1=null,K.l9d(),this.color=""},t.inheritsFrom(t.Drawing.BaseTwoPoint,t.Drawing),t.Drawing.BaseTwoPoint.prototype.configs=[],t.Drawing.BaseTwoPoint.prototype.lineIntersection=function(e,i,a,r,n,s,o){var l,h,c;return n||(n=this.p0),K.A9d(),s||(s=this.p1),l=this.stx,!(!n||!s)&&(void 0!==(h=t.convertBoxToPixels(l,this.panelName,a)).x0&&(c={x0:n[0],x1:s[0],y0:n[1],y1:s[1]},o||(c=t.convertBoxToPixels(l,this.panelName,c)),t.boxIntersects(h.x0,h.y0,h.x1,h.y1,c.x0,c.y0,c.x1,c.y1,r)))},t.Drawing.BaseTwoPoint.prototype.boxIntersection=function(e,t,i){return!(!this.p0||!this.p1)&&(!(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))&&!(i.y1>Math.max(this.p0[1],this.p1[1])||i.y0<Math.min(this.p0[1],this.p1[1])))},t.Drawing.BaseTwoPoint.prototype.accidentalClick=function(e,t){var i,a,r,n,s,o,l,h=K;if(i=this.stx.panels[this.panelName],a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(e,i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,e,t),h.I9X(6),o=Math.abs(h.x9X(a,r)),h.I9X(6),h.A9d(),l=Math.abs(h.L9X(n,s)),h.O9X(34),Math.sqrt(h.L9X(o,o,l,l))<10)return this.penDown=!1,this.dragToDraw&&this.stx.undo(),!0},t.Drawing.BaseTwoPoint.prototype.click=function(e,t,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?(K.A9d(),this.accidentalClick(t,i)?this.dragToDraw:(this.setPoint(1,t,i,a.chart),this.penDown=!1,!0)):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},t.Drawing.BaseTwoPoint.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart))},t.Drawing.BaseTwoPoint.prototype.move=function(e,t,i){this.penDown&&(this.copyConfig(),this.p1=[t,i],this.render(e))},t.Drawing.BaseTwoPoint.prototype.measure=function(){var e,i,a;K.A9d(),this.p0&&this.p1&&(this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name),(i=(e=this.stx.controls.mSticky)&&e.querySelector(".mStickyInterior"))&&((a=[]).push(t.capitalize(this.name)),this.getYValue&&a.push(this.field||this.stx.defaultPlotField||"Close"),a.push(i.innerHTML),i.innerHTML=a.join("<br>")))},t.Drawing.BaseTwoPoint.prototype.reposition=function(e,t,i,a){var r,n,s;t&&(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,"move"==t.action?(this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),K.I9X(6),this.setPoint(K.L9X(0,"1"),t.p1[0]-n,t.p1[1]-s,r.chart),this.render(e)):"drag"==t.action&&(this[t.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.render(e)))},t.Drawing.BaseTwoPoint.prototype.drawDropZone=function(e,t,i,a,r){var n,s,o,l,h,c=K;(n=this.stx.panels[this.panelName])&&(s=n.left,o=n.width,(a||0===a)&&(s=this.stx.pixelFromTick(a,n.chart)),(r||0===r)&&(o=this.stx.pixelFromTick(r,n.chart)),l=this.stx.pixelFromPrice(t,n),h=this.stx.pixelFromPrice(i,n),e.fillStyle="#008000",e.globalAlpha=.2,c.O9X(6),c.l9d(),e.fillRect(s,l,c.x9X(s,o),c.L9X(l,h)),e.globalAlpha=1)},t.Drawing.annotation=function(){this.name="annotation",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text="",this.ta=null,K.I9X(35),K.A9d(),this.fontSize=K.L9X(990594176,"0"),this.font={}},t.inheritsFrom(t.Drawing.annotation,t.Drawing.BaseTwoPoint),t.Drawing.annotation.prototype.getFontString=function(){var e,t;for(var i in"stx_annota","ti","on",this.fontDef={style:null,weight:null,size:"12px",family:null},(e=this.stx.canvasStyle("stx_annotation"))&&(e.fontStyle&&(this.fontDef.style=e.fontStyle),e.fontWeight&&(this.fontDef.weight=e.fontWeight),e.fontSize&&(this.fontDef.size=e.fontSize),e.fontFamily&&(this.fontDef.family=e.fontFamily)),this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),K.A9d(),this.font.family&&(this.fontDef.family=this.font.family),this.fontString="",t=!0,this.fontDef)this.fontDef[i]&&(t?t=!1:this.fontString+=" ",this.fontString+=this.fontDef[i])},t.Drawing.annotation.prototype.configs=["color","font"],t.Drawing.annotation.prototype.measure=function(){},t.Drawing.annotation.prototype.render=function(e){var t,i,a,r,n,s,o,l,h,c,u,d,p,m=K;if("mi","ddle",!this.ta&&(t=this.stx.panels[this.panelName])){i=this.stx.pixelFromTick(this.p0[0],t.chart),a=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),e.font=this.fontString,e.textBaseline="middle",r=i,n=a,s=this.w,o=this.h,l=this.getLineColor(),this.stem&&(this.stem.d?(h=this.stx.pixelFromTick(this.stem.t),u=this.stx.pixelFromValueAdjusted(t,this.stem.t,this.stem.v),m.O9X(36),c=m.x9X(2,r,s),m.O9X(36),d=m.L9X(2,n,o)):this.stem.x&&(h=r,u=n,r+=this.stem.x,n+=this.stem.y,m.I9X(36),c=m.x9X(2,r,s),m.I9X(36),d=m.L9X(2,n,o)),e.beginPath(),this.borderColor?e.strokeStyle=this.borderColor:e.strokeStyle=l,e.moveTo(h,u),e.lineTo(c,d),e.stroke()),p=e.lineWidth,this.highlighted?(this.stx.canvasColor("stx_annotation_highlight_bg",e),m.O9X(6),e.fillRect(m.x9X(p,r),m.L9X(o,n,2,p,m.I9X(37)),m.x9X(2,p,s,m.O9X(38)),m.x9X(2,p,o,m.O9X(38)))):this.fillColor?(e.fillStyle=this.fillColor,m.O9X(39),e.fillRect(r,m.x9X(2,o,n),s,o)):this.stem&&(e.fillStyle=this.stx.containerColor,m.I9X(39),e.fillRect(r,m.L9X(2,o,n),s,o)),this.borderColor&&("s","tx_highl","ight","_vector",e.beginPath(),e.strokeStyle=this.highlighted?this.stx.getCanvasColor("stx_highlight_vector"):this.borderColor,m.I9X(6),e.rect(m.x9X(p,r),m.x9X(o,n,2,p,m.I9X(37)),m.x9X(2,p,s,m.I9X(38)),m.x9X(2,p,o,m.O9X(38))),e.stroke()),this.highlighted?this.stx.canvasColor("stx_annotation_highlight",e):e.fillStyle=l,m.O9X(6);var g=m.x9X(16,18);if(n+=this.padding/g,!this.ta)for(var f=0;f<this.arr.length;f++){e.fillText(this.arr[f],r+this.padding,n-o/2+this.fontSize/2),m.I9X(40);var y=m.x9X(14,20,2,34);n+=this.fontSize+y}e.textBaseline="alphabetic"}},t.Drawing.annotation.prototype.onChange=function(e){K.l9d()},t.Drawing.annotation.prototype.edit=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=K;function b(e){return x.A9d(),function(i){var a,s,o,l,h,c,u,d;if("p","x",i)switch(i.keyCode){case 27:return void e.stx.undo()}a=e.stx,o=(s=e.ta).value.split("\n"),l=0,a.chart.context.font=e.fontString;for(var p=0;p<o.length;p++)(h=a.chart.context.measureText(o[p]).width)>l&&(l=h);x.I9X(41);var m=x.x9X(4,6,11);x.I9X(42);var g=x.x9X(3,9,9,0);c=(o.length+m)*(e.fontSize+g),l<50&&(l=50),x.O9X(21),s.style.width=x.x9X(l,30,"px"),x.I9X(0),s.style.height=x.x9X("px",c),u=parseInt(t.stripPX(s.style.top),10),d=t.stripPX(s.style.left),l=s.clientWidth,c=s.clientHeight,d+l+100<e.stx.chart.canvasWidth?("p","x","p","x",x.I9X(0),r.style.top=x.x9X("px",u),x.O9X(0),n.style.top=x.x9X("px",u),x.I9X(43),r.style.left=x.L9X("px",l,d,10),x.I9X(43),n.style.left=x.L9X("px",l,d,60)):u+c+30<e.stx.chart.canvasHeight?("p","x","p","x","p","x",x.I9X(43),r.style.top=x.L9X("px",c,u,10),x.I9X(43),n.style.top=x.x9X("px",c,u,10),x.O9X(0),r.style.left=x.x9X("px",d),x.I9X(21),n.style.left=x.L9X(d,50,"px")):("p","x","p","x",x.I9X(44),r.style.top=x.x9X(u,"35","px"),x.I9X(5),n.style.top=x.x9X(35,"px",u),x.I9X(0),r.style.left=x.L9X("px",d),x.I9X(21),n.style.left=x.x9X(d,50,"px"))}}if(("inlin","e-bl","ock","p","x","p","x",a=this.stx.panels[this.panelName])&&(r=this.stx.controls.annotationSave,n=this.stx.controls.annotationCancel,r&&n&&(s=this.stx,o=this.ta,s.editingAnnotation=!0,s.undisplayCrosshairs(),s.openDialog="annotation",o||("En","t","e","r Text","stx_annota","tion","TEXT","AREA",(o=this.ta=document.createElement("TEXTAREA")).className="stx_annotation",o.onkeyup=b(this),o.onmouseup=(f=s,function(e){x.A9d(),f.manageTouchAndMouse&&t.ChartEngine.drawingLine&&f.mouseup(e)}),o.setAttribute("wrap","hard"),t.isIOS7or8&&o.setAttribute("placeholder","Enter Text"),s.chart.container.appendChild(o),o.style.position="absolute",o.style.width="100px",o.style.height="20px",o.value=this.text,t.touchDevice&&(o.ontouchstart=function(e){e.stopPropagation()})),l=this,o.oninput=function(e){x.A9d(),"historyUndo"!=e.inputType&&"historyRedo"!=e.inputType&&l.onChange(e)},o.style.font=this.fontString,this.color&&("transparent"==this.color||"auto"==this.color?(h=getComputedStyle(o))&&t.isTransparent(h.backgroundColor)?o.style.color=s.defaultColor:("#0","00",o.style.color="#000"):o.style.color=this.color),c=s.pixelFromTick(this.p0[0],a.chart),u=s.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),o.style.left=c+140<s.chart.canvasRight?c+"px":s.chart.canvasRight-200+"px",o.style.top=u+60<s.chart.canvasHeight?u-(isNaN(this.h)?this.defaultHeight:this.h/2)+"px":u-60+"px","callout"==this.name&&(o.style.left=t.stripPX(o.style.left)-(isNaN(this.w)?this.defaultWidth:this.w/2)+"px"),t.safeClickTouch(r,(y=this,function(e){var i;""!==y.ta.value&&(y.text=y.ta.value,(i=y.stx).editingAnnotation=!1,y.adjust(),i.drawingSnapshot?i.undoStamp(t.shallowClone(i.drawingSnapshot),i.exportDrawings()):i.addDrawing(y),i.undo(),i.cancelTouchSingleClick=!0,i.changeOccurred("vector"))})),t.safeClickTouch(n,(v=this,x.A9d(),function(e){var t;(t=v.stx).editingAnnotation=!1,t.undo(),t.cancelTouchSingleClick=!0})),b(this)(),r.style.display="inline-block",n.style.display="inline-block",i&&(s.drawingSnapshot=s.exportDrawings(),this.hidden=!0,s.draw(),s.activeDrawing=this,t.ChartEngine.drawingLine=!0,e=s.chart.tempCanvas.context,s.chart.tempCanvas.style.display="block",this.w=o.clientWidth,this.h=o.clientHeight,t.clearCanvas(e.canvas,s),this.render(e),this.edit(e)),o.focus(),t.isAndroid&&!t.is_chrome&&!t.isFF))){this.priorBottom=s.chart.container.style.bottom,400,-1388925827,35515804,d=2;for(var C=1;-1388925827!==x.g19(C.toString(),C.toString().length,14478);C++){x.I9X(6);var S=x.L9X(7182,7695);p=s.resolveY(u)/S,d+=2}if(35515804!==x.g19(d.toString(),d.toString().length,85342)){x.O9X(5);var w=x.x9X(14,16,98);p=s.resolveY(u)+w}p>t.pageHeight()-400&&("p","x",m=t.pageHeight()-p,x.O9X(6),g=x.L9X(m,400),x.O9X(0),s.chart.container.style.bottom=x.x9X("px",g))}},t.Drawing.annotation.prototype.click=function(e,t,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,t,i,a.chart),this.adjust(),this.edit(e),!1},t.Drawing.annotation.prototype.reposition=function(e,t,i,a){var r,n,s;t&&(r=this.stx.panels[this.panelName],n=t.tick-i,s=t.value-a,K.l9d(),this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),this.render(e))},t.Drawing.annotation.prototype.intersected=function(e,i,a){var r,n,s,o,l,h,c,u=K;if(r=this.stx.panels[this.panelName],!this.p0)return null;n=this.stx.pixelFromTick(this.p0[0],r.chart),u.O9X(45);var d=u.L9X(11,9,11,2,20);u.O9X(6);var p=u.x9X(16,18);return s=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[d])-this.h/p,o=n+this.w,l=s+this.h,this.stem&&this.stem.x&&(n+=this.stem.x,o+=this.stem.x,s+=this.stem.y,l+=this.stem.y),h=this.stx.pixelFromTick(e,r.chart),c=this.stx.pixelFromValueAdjusted(r,e,i),h+a.r>=n&&h-a.r<=o&&c+a.r>=s&&c-a.r<=l&&(this.highlighted=!0,{p0:t.clone(this.p0),tick:e,value:i})},t.Drawing.annotation.prototype.abort=function(){var e,i;e=this.stx.controls.annotationSave,i=this.stx.controls.annotationCancel,e&&(e.style.display="none"),i&&(i.style.display="none"),this.ta&&this.stx.chart.container.removeChild(this.ta),this.ta=null,this.stx.openDialog="",this.stx.showCrosshairs(),this.stx.editingAnnotation=!1,t.clearCanvas(this.stx.chart.tempCanvas,this.stx),!t.isAndroid||t.is_chrome||t.isFF||(this.stx.chart.container.style.bottom=this.priorBottom),t.fixScreen()},t.Drawing.annotation.prototype.reconstruct=function(e,i){this.stx=e,this.color=i.col,this.panelName=i.pnl,this.d0=i.d0,this.tzo0=i.tzo0,this.v0=i.v0,this.text=e.escapeOnSerialize?decodeURIComponent(i.text):i.text,this.stem=i.stem,this.borderColor=i.bc,this.fillColor=i.bg,this.lineWidth=i.lw,this.pattern=i.ptrn,this.font=t.replaceFields(i.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),K.l9d(),this.font||(this.font={}),this.adjust()},t.Drawing.annotation.prototype.serialize=function(){var e,i;return e={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text},this.font&&("f","l",i=t.removeNullValues(t.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),t.isEmpty(i)||(e.fnt=i)),this.stem&&(e.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(e.bc=this.borderColor),this.fillColor&&(e.bg=this.fillColor),this.lineWidth&&(e.lw=this.lineWidth),this.pattern&&(e.ptrn=this.pattern),e},t.Drawing.annotation.prototype.renderText=function(){var e,i,a,r,n,s,o=K;if(this.getFontString(),e=this.stx.panels[this.panelName]){this.arr=this.text.split("\n"),o.I9X(35),i=o.x9X(302603232,"0"),o.l9d(),this.stx.chart.context.font=this.fontString;for(var l=0;l<this.arr.length;l++)(a=this.stx.chart.context.measureText(this.arr[l]).width)>i&&(i=a);if(0===i)o.O9X(30),i=o.x9X(24,13,310)*this.defaultWidth;this.fontSize=t.stripPX(this.fontDef.size),o.I9X(46);var h=o.x9X(8491828528,1,5,2122957136);r=this.arr.length*(this.fontSize+("2"<<h)),t.touchDevice&&(r+=5),o.O9X(30);var c=o.L9X(22,12,262);this.w=i+this.padding*c,o.I9X(47);var u=o.L9X(2,5,22,38);this.h=r+this.padding*u,n=this.stx.pixelFromTick(this.p0[0],e.chart)+i,o.I9X(48);var d=o.x9X(12,32,0,12,7);s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[d])+r,this.p1=[this.stx.tickFromPixel(n,e.chart),this.stx.valueFromPixel(s,e)],this.stem&&this.stem.d&&(this.stem.t=this.stx.tickFromDate(this.stem.d,e.chart))}},t.Drawing.annotation.prototype.adjust=function(){var e;K.A9d(),(e=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,e.chart),this.renderText())},t.Drawing.segment=function(){this.name="segment"},t.inheritsFrom(t.Drawing.segment,t.Drawing.BaseTwoPoint),t.Drawing.segment.prototype.render=function(e){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v;if("so","li","d",a=this.stx.panels[this.panelName]){if(r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromTick(this.p1[0],a.chart),s=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(a,this.p1[0],this.p1[1]),l=this.lineWidth,h=this.getLineColor(),"none"==(c={pattern:this.pattern,lineWidth:l}).pattern&&(c.pattern="solid"),this.stx.plotLine(r,n,s,o,h,this.name,e,a,c),this.axisLabel&&!this.repositioner)if("horizontal"==this.name)this.stx.endClip(),u=this.p0[1],a.chart.transformFunc&&(u=a.chart.transformFunc(this.stx,a.chart,u)),u=a.yAxis.priceFormatter?a.yAxis.priceFormatter(this.stx,a,u):this.stx.formatYAxisPrice(u,a),this.stx.createYAxisLabel(a,u,s,h),this.stx.startClip(a.name);else if("vertical"==this.name&&this.p0[0]>=0&&!this.stx.chart.xAxis.noDraw){if(d=this.stx.dateFromTick(this.p0[0],a.chart,!0),t.ChartEngine.isDailyInterval(this.stx.layout.interval))d.setHours(0,0,0,0);else{K.O9X(26);var x=K.L9X(1e3,5e3,8,987);m=d.getSeconds()*x+d.getMilliseconds(),i.Date&&this.stx.displayZone&&(p=new i.Date(d.getTime(),this.stx.displayZone),d=new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes()),d=new Date(d.getTime()+m))}g=t.mmddhhmm(t.yyyymmddhhmm(d)),a.chart.xAxis.formatter?g=a.chart.xAxis.formatter(d,this.name,null,null,g):this.stx.internationalizer&&(0!==d.getHours()||0!==d.getMinutes()?(f=this.stx.internationalizer.monthDay.format(d),f+=" "+this.stx.internationalizer.hourMinute.format(d)):f=this.stx.internationalizer.yearMonthDay.format(d),g=f),this.stx.endClip(),this.stx.createXAxisLabel({panel:a,txt:g,x:r,backgroundColor:h,color:null,pointed:!0,padding:2}),this.stx.startClip(a.name)}this.highlighted&&"horizontal"!=this.name&&"vertical"!=this.name&&("p","0",y="p0"==this.highlighted,v="p1"==this.highlighted,this.littleCircle(e,r,s,y),this.littleCircle(e,n,o,v))}},t.Drawing.segment.prototype.abort=function(){this.stx.setMeasure(null,null,null,null,!1)},t.Drawing.segment.prototype.intersected=function(e,i,a){var r,n;if(K.l9d(),"vert","i","c","al",!this.p0||!this.p1)return null;if("horizontal"!=(r=this.name)&&"vertical"!=r&&"gartley"!=r)for(var s in n={0:this.p0,1:this.p1})if(this.pointIntersection(n[s][0],n[s][1],a))return K.O9X(0),this.highlighted=K.L9X(s,"p"),{action:"drag",point:"p"+s};return"horizontal"!=r&&"vertical"!=r||(r="line"),this.lineIntersection(e,i,a,r)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):null},t.Drawing.segment.prototype.configs=["color","lineWidth","pattern"],t.Drawing.segment.prototype.copyConfig=function(e){t.Drawing.copyConfig(this,e),K.A9d(),"none"==this.pattern&&-1==this.configs.indexOf("fillColor")&&(this.pattern="solid")},t.Drawing.segment.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,K.A9d(),this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.adjust()},t.Drawing.segment.prototype.serialize=function(){return K.l9d(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},t.Drawing.line=function(){this.name="line"},t.inheritsFrom(t.Drawing.line,t.Drawing.segment),t.Drawing.line.prototype.dragToDraw=!1,t.Drawing.line.prototype.calculateOuterSet=function(e){var i,a,r,n=K;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!t.ChartEngine.isDailyInterval(this.stx.layout.interval)){(i={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>i.x1&&(i={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),n.O9X(0);var s=n.L9X(929,71);a=i.x0-s,n.O9X(6);var o=n.x9X(5,1856858501);r=i.x1+("1000"<<o),this.v0B=t.yIntersection(i,a),this.v1B=t.yIntersection(i,r),this.d0B=this.stx.dateFromTick(a,e.chart),this.d1B=this.stx.dateFromTick(r,e.chart)}},t.Drawing.line.prototype.click=function(e,t,i){var a;if(K.A9d(),a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(t,i)?this.dragToDraw:(K.I9X(49),this.setPoint(K.x9X(0,"1"),t,i,a.chart),this.calculateOuterSet(a),this.penDown=!1,!0):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1)},t.Drawing.line.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.v0=t.v0,this.v1=t.v1,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,t.d0B&&(this.d0B=t.d0B,this.d1B=t.d1B,this.v0B=t.v0B,this.v1B=t.v1B),this.adjust()},t.Drawing.line.prototype.serialize=function(){var e;return e={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1},this.d0B&&(e.d0B=this.d0B,e.d1B=this.d1B,e.v0B=this.v0B,e.v1B=this.v1B),e},t.Drawing.line.prototype.adjust=function(){var e;(e=this.stx.panels[this.panelName])&&(K.l9d(),this.setPoint(0,this.d0,this.v0,e.chart),this.setPoint(1,this.d1,this.v1,e.chart),t.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,e.chart),this.setPoint(1,this.d1B,this.v1B,e.chart)))},t.Drawing.horizontal=function(){K.A9d(),this.name="horizontal"},t.inheritsFrom(t.Drawing.horizontal,t.Drawing.segment),t.Drawing.horizontal.prototype.dragToDraw=!1,t.Drawing.horizontal.prototype.measure=function(){},t.Drawing.horizontal.prototype.click=function(e,t,i){var a;if(a=this.stx.panels[this.panelName])return this.copyConfig(),this.setPoint(0,t,i,a.chart),!0},t.Drawing.horizontal.prototype.intersected=function(e,t,i){var a,r;return this.lineIntersection(e,t,i,"line")?("m","o","v","e",a=this.stx.chart.dataSet.length,r=this.p0[1],this.highlighted=!0,{action:"move",p0:[a-2,r],p1:[a-1,r],tick:e,value:t}):null},t.Drawing.horizontal.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.v0=t.v0,this.d0=t.d0,this.tzo0=t.tzo0,K.l9d(),this.axisLabel=t.al,this.adjust()},t.Drawing.horizontal.prototype.serialize=function(){return K.A9d(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel}},t.Drawing.horizontal.prototype.adjust=function(){var e;if(e=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,e.chart),K.O9X(0),K.A9d();var t=K.L9X(94,6);this.p1=[this.p0[0]+t,this.p0[1]]}},t.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"],t.Drawing.vertical=function(){K.l9d(),this.name="vertical"},t.inheritsFrom(t.Drawing.vertical,t.Drawing.horizontal),t.Drawing.vertical.prototype.measure=function(){},t.Drawing.vertical.prototype.intersected=t.Drawing.segment.prototype.intersected,t.Drawing.vertical.prototype.adjust=function(){var e;if(e=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,e.chart),K.O9X(10);var t=K.x9X(91,8,15,14);this.p1=[this.p0[0],this.p0[1]+t]}},t.Drawing.measure=function(){K.l9d(),this.name="measure"},t.inheritsFrom(t.Drawing.measure,t.Drawing.segment),t.Drawing.measure.prototype.click=function(e,t,i){return this.copyConfig(),this.penDown?(this.stx.undo(),this.penDown=!1,K.l9d(),!0):(this.p0=[t,i],this.penDown=!0,!1)},t.Drawing.rectangle=function(){this.name="rectangle"},t.inheritsFrom(t.Drawing.rectangle,t.Drawing.BaseTwoPoint),t.Drawing.rectangle.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f=K;(i=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),o=Math.round(Math.min(a,r))+.5,l=Math.min(n,s),h=Math.max(a,r)-o,c=Math.max(n,s)-l,u=this.color,this.highlighted&&(u=this.stx.getCanvasColor("stx_highlight_vector")),(d=this.fillColor)&&!t.isTransparent(d)&&"auto"!=d&&(e.beginPath(),e.rect(o,l,h,c),e.fillStyle=d,e.globalAlpha=.2,e.fill(),e.closePath(),e.globalAlpha=1),p={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&"none"==p.pattern&&("soli","d",p.pattern="solid",.1==p.lineWidth&&(p.lineWidth=1)),this.stx.plotLine(a,r,n,n,u,"segment",e,i,p),f.O9X(6),f.A9d(),this.stx.plotLine(r,r,f.x9X(.5,n),f.L9X(.5,s,f.O9X(0)),u,"segment",e,i,p),this.stx.plotLine(r,a,s,s,u,"segment",e,i,p),f.I9X(0),this.stx.plotLine(a,a,f.L9X(.5,s),f.x9X(.5,n,f.I9X(6)),u,"segment",e,i,p),this.highlighted&&(m="p0"==this.highlighted,g="p1"==this.highlighted,this.littleCircle(e,a,n,m),this.littleCircle(e,r,s,g)))},t.Drawing.rectangle.prototype.intersected=function(e,i,a){var r;if(K.l9d(),!this.p0||!this.p1)return null;for(var n in r={0:this.p0,1:this.p1})if(this.pointIntersection(r[n][0],r[n][1],a))return K.I9X(0),this.highlighted=K.x9X(n,"p"),{action:"drag",point:"p"+n};return this.boxIntersection(e,i,a)?(this.highlighted=!0,{action:"move",p0:t.clone(this.p0),p1:t.clone(this.p1),tick:e,value:i}):null},t.Drawing.rectangle.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.rectangle.prototype.reconstruct=function(e,t){this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.d1=t.d1,this.tzo0=t.tzo0,this.tzo1=t.tzo1,this.v0=t.v0,this.v1=t.v1,this.adjust()},t.Drawing.rectangle.prototype.serialize=function(){return K.l9d(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},t.Drawing.shape=function(){var e,t=K;this.name="shape",this.radians=0,t.O9X(50),this.a=t.x9X("0",0),this.rotating=!1,e=2;for(var i=1;-1447985585!==t.Y19(i.toString(),i.toString().length,3802);i++)this.textMeasure=!1,this.configurator="shape",e+=2;-775396478!==t.Y19(e.toString(),e.toString().length,32748)&&(this.textMeasure=!0,this.configurator=""),t.I9X(35),t.A9d(),this.dimension=[t.x9X(1842452256,"0"),0],this.points=[]},t.inheritsFrom(t.Drawing.shape,t.Drawing.BaseTwoPoint),t.Drawing.shape.prototype.setRotationOnInitialDraw=!1,t.Drawing.shape.prototype.measure=function(){},t.Drawing.shape.prototype.render=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w=K;if("undefi","ned",this.points.length&&(i=this.stx.panels[this.panelName])){if(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),this.p1){if("#","0","00000",n=this.stx.pixelFromTick(this.p1[0],i.chart),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),e.globalAlpha=.5,e.fillStyle="#000000",this.rotating){if(w.O9X(51),this.radians=Math.atan(w.x9X(a,r,n,s)),n<a)this.radians+=Math.PI;else if(s<r){w.I9X(42);var k=w.x9X(9,18,6,25);this.radians+=k*Math.PI}w.I9X(0);var L=w.L9X(9,1);this.a=5*parseInt((36*this.radians/Math.PI).toFixed(0),L),this.a%=360,w.I9X(52);var A=w.x9X(1620,1800,1);this.radians=this.a*Math.PI/A,this.textMeasure&&e.fillText(this.a+"",n+10,s+10)}else this.penDown&&(this.sx=Math.max(1,parseFloat(Math.abs(2*(n-a)/this.dimension[0]).toFixed(1))),n<a&&(this.sx*=-1),this.sy=Math.max(1,parseFloat(Math.abs(2*(s-r)/this.dimension[1]).toFixed(1))),s<r&&(this.sy*=-1),this.textMeasure&&e.fillText(this.sx+"x,"+this.sy+"x",n+this.sx+5,s+this.sy+5));e.globalAlpha=1}void 0===this.sx&&(w.I9X(53),this.sx=this.sy=w.L9X(568655904,"1")),(o=this.lineWidth)||(o=1.1),l={pattern:this.pattern,lineWidth:o},this.highlighted&&"none"==l.pattern&&("so","l","i","d",l.pattern="solid",.1==l.lineWidth&&(l.lineWidth=1)),("auto"==(h=this.color)||t.isTransparent(h))&&(h=this.stx.defaultColor),this.highlighted&&(h=this.stx.getCanvasColor("stx_highlight_vector"),.1==o&&(w.O9X(6),o=w.L9X(0,"1.1"))),c=this.fillColor,w.I9X(17);var D=w.x9X(9,2,18,27);for(o/=Math.abs(this.sx*this.sy)*D/(Math.abs(this.sx)+Math.abs(this.sy)),e.save(),e.translate(a,r),e.rotate(this.radians),e.scale(this.sx,i.yAxis.flipped?-this.sy:this.sy),p={x:(this.dimension[0]-1)/2,y:(this.dimension[1]-1)/2},u=0;u<this.points.length;u++){for("no","n","e",e.beginPath(),d=0;d<this.points[u].length;d++)"M"==this.points[u][d]?(m=this.points[u][++d]-p.x,g=this.points[u][++d]-p.y,e.moveTo(m,g)):"L"==this.points[u][d]?(m=this.points[u][++d]-p.x,g=this.points[u][++d]-p.y,e.lineTo(m,g)):"Q"==this.points[u][d]?(f=this.points[u][++d]-p.x,v=this.points[u][++d]-p.y,m=this.points[u][++d]-p.x,g=this.points[u][++d]-p.y,e.quadraticCurveTo(f,v,m,g)):"B"==this.points[u][d]&&(f=this.points[u][++d]-p.x,v=this.points[u][++d]-p.y,y=this.points[u][++d]-p.x,x=this.points[u][++d]-p.y,m=this.points[u][++d]-p.x,g=this.points[u][++d]-p.y,e.bezierCurveTo(f,v,y,x,m,g));e.closePath(),c&&!t.isTransparent(c)&&"auto"!=c&&(e.fillStyle=c,e.fill()),h&&"none"!=this.pattern&&(e.strokeStyle=h,e.lineWidth=o,e.setLineDash&&(e.setLineDash(t.borderPatternToArray(o,this.pattern)),e.lineDashOffset=0),e.stroke())}e.restore(),e.save(),e.translate(a,r),e.rotate(this.radians),this.highlighted?("p","0",b="p0"==this.highlighted,C="p1"==this.highlighted,S="p2"==this.highlighted,this.littleCircle(e,0,0,b),w.O9X(35),this.mover(e,w.L9X(2007912e3,"0"),0,b),this.littleCircle(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,C),this.resizer(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,C),this.littleCircle(e,this.sx*this.dimension[0]/2,0,S),this.rotator(e,this.sx*this.dimension[0]/2,0,S),e.globalAlpha=.5,e.fillStyle="#000000",this.textMeasure&&("x",",",e.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),e.fillText(this.a+"",this.sx*this.dimension[0]/2+12,5)),e.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(e,this.sx*this.dimension[0]/2,0,!0):this.resizer(e,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),e.restore()}},t.Drawing.shape.prototype.reposition=function(e,t,i,a){var r,n,s,o,l,h,c,u=K;if(u.A9d(),t)if(r=this.stx.panels[this.panelName],"move"==t.action)n=t.tick-i,s=t.value-a,this.setPoint(0,t.p0[0]-n,t.p0[1]-s,r.chart),this.render(e);else if(o=this.stx.pixelFromTick(this.p0[0],r.chart),l=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),h=this.stx.pixelFromTick(i,r.chart),c=this.stx.pixelFromValueAdjusted(r,i,a),"scale"==t.action)this[t.point]=[i,a],this.sx=parseFloat((((h-o)*Math.cos(this.radians)+(c-l)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy)),this.sy=parseFloat((((c-l)*Math.cos(this.radians)-(h-o)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(e);else if("rotate"==t.action){if(this[t.point]=[i,a],u.I9X(51),this.radians=Math.atan(u.L9X(o,l,h,c)),h<o)this.radians+=Math.PI;else if(c<l){u.I9X(54);var d=u.x9X(3,4,12,14,1);this.radians+=d*Math.PI}u.O9X(0);var p=u.x9X(9,1);u.O9X(11);var m=u.L9X(0,10,5);if(this.a=parseInt((36*this.radians/Math.PI).toFixed(0),p)*m,this.sx<0){u.O9X(55);var g=u.L9X(5,6,3240,18,3816);this.a=this.a+g}this.a%=360,u.O9X(43);var f=u.x9X(125,11,26,18);this.radians=this.a*Math.PI/f,this.render(e)}},t.Drawing.shape.prototype.intersected=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=K;if(!this.p0)return null;if(this.stx.repositioningDrawing==this&&this.stx.repositioningDrawing.repositioner)return this.stx.repositioningDrawing.repositioner;r=this.stx.panels[this.panelName],n=this.stx.pixelFromTick(this.p0[0],r.chart),s=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),o=this.stx.pixelFromTick(e,r.chart),l=this.stx.pixelFromValueAdjusted(r,e,i),h=l-=s,c=o-=n,o=Math.cos(this.radians)*c+Math.sin(this.radians)*h,l=Math.cos(this.radians)*h-Math.sin(this.radians)*c,o/=this.sx,l/=this.sy,this.padding=t.ensureDefaults(this.padding||{},{left:0,right:0,top:0,bottom:0}),u=this.padding.right+this.padding.left,d=this.padding.bottom+this.padding.top,p=Math.pow(t.touchDevice?25:5+this.littleCircleRadius(),2),m=Math.abs(p/(this.sx*this.sy)),x.I9X(0);var b=x.L9X(1,1);x.I9X(52);var C=x.x9X(15,17,1);x.I9X(56);var S=x.x9X(5,1,9,4);x.I9X(17);var w=x.x9X(19,19,0,36);x.O9X(57);var k=x.L9X(5,1,5,1,1);g=Math.pow((this.dimension[0]-u+3)/b,C)+Math.pow((this.dimension[S]-d+3)/w,k)>Math.pow(o-u/2,2)+Math.pow(l-d/2,2),x.I9X(55);var L=x.L9X(18,2,18,8,16);x.I9X(6);var A=x.L9X(12,14);f=(p-(Math.pow(o*this.sx,L)+Math.pow(l*this.sy,A)))/Math.abs(this.sx*this.sy),x.O9X(9);var D=x.x9X(16,14);x.O9X(58);var T=x.L9X(1,15,4,0,12);x.O9X(59);var M=x.x9X(8,13,18,380);x.O9X(60),x.A9d();var F=x.L9X(3,0,6,4,2);y=m-Math.pow(o-this.dimension[0]/D,2)-Math.pow(l-this.dimension[T]/M,F),x.I9X(11);var P=x.L9X(0,6,4);x.O9X(0);var _=x.L9X(2,0);x.O9X(61);var E=x.L9X(7,8,20,2,0);return v=m-Math.pow(o-this.dimension[0]/P,_)-Math.pow(l,E),g?("p","0",y>=v&&y>=f&&y>-1?("s","c","ale",this.highlighted="p1",{action:"scale"}):v>=y&&v>=f&&v>-1?(this.highlighted="p2",{action:"rotate"}):(this.highlighted=!(f>-1)||"p0",{action:"move",p0:t.clone(this.p0),tick:e,value:i})):null},t.Drawing.shape.prototype.configs=["color","fillColor","lineWidth","pattern"],t.Drawing.shape.prototype.littleCircleRadius=function(){return K.A9d(),3},t.Drawing.shape.prototype.click=function(e,t,i){var a;return!!this.points.length&&(this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?(K.l9d(),this.setPoint(1,t,i,a.chart),this.rotating||!this.setRotationOnInitialDraw?(this.penDown=!1,this.rotating=!1,!0):(this.rotating=!0,!1)):(this.setPoint(0,t,i,a.chart),this.penDown=!0,!1))},t.Drawing.shape.prototype.adjust=function(){var e,i,a;if(K.A9d(),e=this.stx.panels[this.panelName]){i=this.name+"_v"+(this.version||0),t.Drawing[i]&&(a=new t.Drawing[i],this.name=a.name,this.dimension=a.dimension,this.padding=a.padding,this.points=a.points,this.version=a.version),this.setPoint(0,this.d0,this.v0,e.chart),K.O9X(11);var r=K.L9X(0,11,6);this.radians=Math.round(this.a/r)*Math.PI/36}},t.Drawing.shape.prototype.reconstruct=function(e,t){K.A9d(),this.stx=e,this.color=t.col,this.fillColor=t.fc,this.panelName=t.pnl,this.pattern=t.ptrn,this.lineWidth=t.lw,this.d0=t.d0,this.v0=t.v0,this.tzo0=t.tzo0,this.a=t.a,this.sx=t.sx,this.sy=t.sy,this.version=t.ver,this.adjust()},t.Drawing.shape.prototype.serialize=function(){return K.A9d(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,ver:this.version}},t.Drawing.arrow=function(){var e=K;this.name="arrow",e.A9d(),this.version=1,this.dimension=[11,22],this.padding={left:0,right:0,top:11,bottom:0},e.O9X(1),this.points=[["M",3,21,"L",7,21,"L",7,16,"L",10,16,"L",5,11,"L",e.x9X(1,"0"),e.L9X(2110521792,"16",e.O9X(53)),"L",3,16,"L",3,21]]},t.inheritsFrom(t.Drawing.arrow,t.Drawing.shape),t.Drawing.getDrawingToolList=function(e){var i,a;for(var r in i={},a={arrow_v0:!0,BaseTwoPoint:!0,fibonacci:!0,shape:!0},K.A9d(),t.extend(a,e),t.Drawing)!a[r]&&t.Drawing[r].prototype.render&&(i[(new t.Drawing[r]).name]=r);return i}},l=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).EaseMachine=function(e,t,i,a){K.l9d(),this.fc=e,this.ms=t,(i||0===i)&&this.reset(i,a)},t.EaseMachine.prototype.reset=function(e,t){for(var i in e||0===e||(e=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,K.O9X(62),this.useNameValuePairs=K.x9X("object",typeof t),this.startTime=Date.now(),K.l9d(),this.useNameValuePairs?(this.startValues=e,this.endValues=t):(this.startValues={default:e},this.endValues={default:t}),this.changeValues={},this.currentValues={},this.startValues)this.changeValues[i]=this.endValues[i]-this.startValues[i]},t.EaseMachine.prototype.next=function(){var e;for(var t in"defa","ult",(e=Date.now())>=this.startTime+this.ms&&(e=this.startTime+this.ms,this.hasCompleted=!0,this.running=!1),this.currentValues={},this.changeValues)this.currentValues[t]=this.fc(e-this.startTime,this.startValues[t],this.changeValues[t],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},t.EaseMachine.prototype.hasCompleted=!0,t.EaseMachine.prototype.run=function(e,t,i,a){var r;function n(){var t;r.afid=null,r.okayToRun&&(t=r.next(),e(t),r.hasCompleted||(r.afid=requestAnimationFrame(n)))}this.afid&&cancelAnimationFrame(this.afid),K.A9d(),t||0===t?this.reset(t,i):(i||0===i)&&this.reset(this.currentValues,i),r=this,this.running=!0,a?this.afid=requestAnimationFrame(n):n()},t.EaseMachine.prototype.stop=function(){return"unde","fined",this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.hasCompleted=!0,this.running=!1,K.A9d(),void 0===this.useNameValuePairs?{}:this.useNameValuePairs?this.currentValues:this.currentValues.default},t.ChartEngine.prototype.animations.zoom.isStub&&(t.ChartEngine.prototype.animations.zoom=new t.EaseMachine(Math.easeOutCubic,400))},h=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i=function(){var e,i,a,r,n,s,o,l,h,c,u,d=K;function p(e,t){return d.O9X(63),d.L9X(t,e)}function m(e){return d.l9d(),Math.cosh?Math.cosh(e):(Math.exp(e)+Math.exp(-e))/2}function g(e){return Math.tanh?Math.tanh(e):e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function f(e,t){return d.l9d(),Number(e)+Number(t)}function y(e){return Math.asinh?Math.asinh(e):e===-1/0?e:(d.l9d(),Math.log(e+Math.sqrt(e*e+1)))}function v(e){var t;for(d.l9d(),t=e=Math.floor(e);e>1;)d.O9X(1),t=d.x9X(--e,t);return t}function x(e,t){return d.I9X(7),d.x9X(e,t)}function b(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:(e=e.slice(),d.l9d(),e.push(t),e)}function C(){var e,t;if(d.A9d(),Math.hypot)return Math.hypot.apply(this,arguments);e=0,t=arguments.length;for(var i=0;i<t;i++){if(arguments[i]===1/0||arguments[i]===-1/0)return 1/0;e+=arguments[i]*arguments[i]}return Math.sqrt(e)}function S(e){function t(){}return t.prototype=e,new t}function w(e,t){return d.l9d(),d.O9X(64),d.L9X(t,e)}function k(e,t){return d.I9X(66),d.A9d(),d.L9X(e,t)}function L(e,t){return d.I9X(1),d.A9d(),d.L9X(t,e)}function A(e,t){return Boolean(e&&t)}function D(e,t){return d.O9X(67),d.L9X(e,t)}function T(e,t,i,a){this.type_=e,this.index_=t||0,this.prio_=i||0,d.A9d(),this.number_=null!=a?a:0,this.toString=function(){switch(this.type_){case 0:return this.number_;case 1:case 2:case 3:return this.index_;case 4:return"CALL";default:return"Invalid Token"}}}function M(e,t){return Boolean(e||t)}function F(e,t){return d.O9X(6),d.x9X(t,e)}function P(e){return Math.trunc?Math.trunc(e):e<0?Math.ceil(e):Math.floor(e)}function _(e){return-e}function E(e){return Math.log(e)*Math.LOG10E}function I(t){return d.l9d(),"string"==typeof t?(e.lastIndex=0,e.test(t)?"'"+t.replace(e,(function(e){var t;return"0","0","0","0","strin","g","string"==typeof(t=i[e])?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+"'":"'"+t+"'"):t}function N(e){return d.A9d(),Math.atanh?Math.atanh(e):Math.log((1+e)/(1-e))/2}function O(e){return d.l9d(),Math.acosh?Math.acosh(e):Math.log(e+Math.sqrt(e*e-1))}function X(e,t,i){return e?t:i}function z(e){d.O9X(0);var t=d.x9X(1,0);return Math.random()*(e||t)}function H(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:W,cosh:m,tanh:g,asinh:y,acosh:O,atanh:N,sqrt:Math.sqrt,log:Math.log,lg:E,log10:E,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:P,"-":_,exp:Math.exp},this.ops2={"+":f,"-":F,"*":L,"/":x,"%":U,"^":Math.pow,",":b,"||":Q,"==":R,"!=":w,">":k,"<":D,">=":V,"<=":p,and:A,or:M},this.functions={random:z,fac:v,min:Math.min,max:Math.max,hypot:C,pyt:C,pow:Math.pow,atan2:Math.atan2,if:X},this.consts={E:Math.E,PI:Math.PI}}function R(e,t){return d.O9X(62),d.L9X(t,e)}function W(e){return d.l9d(),Math.sinh?Math.sinh(e):(Math.exp(e)-Math.exp(-e))/2}function Q(e,t){return d.l9d(),d.O9X(21),d.L9X("",e,t)}function V(e,t){return d.O9X(68),d.l9d(),d.L9X(e,t)}function B(e,t,i,a){this.tokens=e,this.ops1=t,this.ops2=i,this.functions=a}function U(e,t){return d.O9X(73),d.x9X(t,e)}return"\\","r","\\","f",0,1,2,3,4,/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},t.extend(B.prototype,{simplify:function(e){var t,i,a,r,n,s,o,l;for(e=e||{},t=[],i=[],n=this.tokens.length,o=0,o=0;o<n;o++)if(0===(l=(s=this.tokens[o]).type_))t.push(s);else if(3===l&&s.index_ in e)d.O9X(49),s=new T(0,0,d.x9X(0,"0"),e[s.index_]),t.push(s);else if(2===l&&t.length>1)r=t.pop(),a=t.pop(),s=new T(0,0,0,(0,this.ops2[s.index_])(a.number_,r.number_)),t.push(s);else if(1===l&&t.length>0)a=t.pop(),s=new T(0,0,0,(0,this.ops1[s.index_])(a.number_)),t.push(s);else{for(;t.length>0;)i.push(t.shift());i.push(s)}for(;t.length>0;)i.push(t.shift());return new B(i,S(this.ops1),S(this.ops2),S(this.functions))},substitute:function(e,t){var i,a,r,n,s,o;for(t instanceof B||(t=(new H).parse(String(t))),i=[],a=this.tokens.length,n=0,n=0;n<a;n++)if(3===(r=this.tokens[n]).type_&&r.index_===e)for(var l=0;l<t.tokens.length;l++)o=new T((s=t.tokens[l]).type_,s.index_,s.prio_,s.number_),i.push(o);else i.push(r);return new B(i,S(this.ops1),S(this.ops2),S(this.functions))},evaluate:function(e){var t,i,a,r,n,s,o,l;for(d.l9d(),e=e||{},t=[],n=this.tokens.length,o=0,o=0;o<n;o++)if(0===(l=(s=this.tokens[o]).type_))t.push(s.number_);else if(2===l)a=t.pop(),i=t.pop(),r=this.ops2[s.index_],t.push(r(i,a));else if(3===l)if(s.index_ in e)t.push(e[s.index_]);else{if(!(s.index_ in this.functions))throw new Error("undefined variable: "+s.index_);t.push(this.functions[s.index_])}else if(1===l)i=t.pop(),r=this.ops1[s.index_],t.push(r(i));else{if(4!==l)throw"inval","i","d Express","ion",new Error("invalid Expression");if(i=t.pop(),!(r=t.pop()).apply||!r.call)throw d.O9X(0),new Error(d.x9X(" is not a function",r));"[object Array]"==Object.prototype.toString.call(i)?t.push(r.apply(void 0,i)):t.push(r.call(void 0,i))}if(t.length>1)throw new Error("invalid Expression (parity)");return t[0]},toString:function(e){var t,i,a,r,n,s,o,l;for(t=[],n=this.tokens.length,d.I9X(53),o=d.L9X(1594107744,"0"),o=0;o<n;o++)if(0===(l=(s=this.tokens[o]).type_))t.push(I(s.number_));else if(2===l)a=t.pop(),i=t.pop(),r=s.index_,e&&"^"==r?(d.O9X(65),t.push(d.L9X("Math.pow(",a,")",i,","))):(d.O9X(65),t.push(d.L9X("(",a,")",i,r)));else if(3===l)t.push(s.index_);else if(1===l)i=t.pop(),"-"===(r=s.index_)?(d.O9X(43),t.push(d.x9X(")",r,"(",i))):(d.I9X(43),t.push(d.x9X(")","(",r,i)));else{if(4!==l)throw new Error("invalid Expression");i=t.pop(),r=t.pop(),d.O9X(43),t.push(d.L9X(")","(",r,i))}if(t.length>1)throw new Error("invalid Expression (parity)");return d.l9d(),t[0]},variables:function(){var e,t,i;e=this.tokens.length,t=[];for(var a=0;a<e;a++)3===(i=this.tokens[a]).type_&&-1==t.indexOf(i.index_)&&t.push(i.index_);return t}},!0),H.parse=function(e){return(new H).parse(e)},H.evaluate=function(e,t){return H.parse(e).evaluate(t)},H.Expression=B,H.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:W,cosh:m,tanh:g,asinh:y,acosh:O,atanh:N,sqrt:Math.sqrt,log:Math.log,lg:E,log10:E,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:P,random:z,fac:v,exp:Math.exp,min:Math.min,max:Math.max,hypot:C,pyt:C,pow:Math.pow,atan2:Math.atan2,if:X,E:Math.E,PI:Math.PI},d.I9X(35),a=d.x9X(0,1),d.O9X(35),r=d.L9X(1,1),d.O9X(35),n=d.x9X(2,1),d.I9X(35),s=d.L9X(3,1),d.I9X(35),o=d.x9X(4,1),d.O9X(35),l=d.x9X(5,1),d.I9X(35),h=d.L9X(6,1),d.A9d(),d.O9X(69),c=d.L9X(7,"1"),d.O9X(35),u=d.x9X(8,1),t.extend(H.prototype,{parse:function(e){var t,i,p,m,g,f,y,v;for(this.errormsg="",this.success=!0,t=[],i=[],this.tmpprio=0,d.I9X(70),p=d.L9X(s,h,n,a),d.I9X(49),d.A9d(),m=d.x9X(0,"0"),this.expression=e,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&p&h?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",m++,this.addfunc(i,t,1)),d.I9X(70),p=d.L9X(s,h,n,a)):this.isComment()||(0==(p&r)&&("une","xpecte","d oper","ator",this.error_parsing(this.pos,"unexpected operator")),m+=2,this.addfunc(i,t,2),d.O9X(70),p=d.L9X(s,h,n,a)):this.isNumber()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected number"),g=new T(0,0,0,this.tokennumber),i.push(g),d.I9X(71),p=d.x9X(o,r,l)):this.isString()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected string"),g=new T(0,0,0,this.tokennumber),i.push(g),d.O9X(71),p=d.L9X(o,r,l)):this.isLeftParenth()?(0==(p&s)&&("unexpecte",'d "(','"',this.error_parsing(this.pos,'unexpected "("')),p&c&&(m+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(i,t,4)),d.I9X(72),p=d.x9X(a,h,s,n,u)):this.isRightParenth()?(p&u?(g=new T(0,0,0,[]),i.push(g)):0==(p&o)&&this.error_parsing(this.pos,'unexpected ")"'),d.I9X(72),p=d.x9X(r,s,o,l,c)):this.isComma()?(0==(p&l)&&("une","x",'pected ","',this.error_parsing(this.pos,'unexpected ","')),this.addfunc(i,t,2),m+=2,d.O9X(70),p=d.x9X(s,h,n,a)):this.isConst()?(0==(p&a)&&("unex","pec","t","ed constant",this.error_parsing(this.pos,"unexpected constant")),f=new T(0,0,0,this.tokennumber),i.push(f),d.O9X(71),p=d.x9X(o,r,l)):this.isOp2()?(0==(p&n)&&("unexpected"," fun","cti","on",this.error_parsing(this.pos,"unexpected function")),this.addfunc(i,t,2),m+=2,p=s):this.isOp1()?(0==(p&n)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(i,t,1),m++,p=s):this.isVar()?(0==(p&a)&&this.error_parsing(this.pos,"unexpected variable"),d.I9X(6),y=new T(3,this.tokenindex,0,d.x9X(0,"0")),i.push(y),d.O9X(72),p=d.x9X(r,s,o,l,c)):this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');t.length>0;)v=t.pop(),i.push(v);return m+1!==i.length&&this.error_parsing(this.pos,"parity"),new B(i,S(this.ops1),S(this.ops2),S(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,d.I9X(43),d.A9d(),this.errormsg=d.L9X(t,e,"parse error [column ","]: "),this.column=e,new Error(this.errormsg)},addfunc:function(e,t,i){var a;for(d.A9d(),a=new T(i,this.tokenindex,this.tokenprio+this.tmpprio,0);t.length>0&&a.prio_<=t[t.length-1].prio_;)e.push(t.pop());t.push(a)},isNumber:function(){var e,t,i;for(e=!1,t="";this.pos<this.expression.length&&((i=this.expression.charCodeAt(this.pos))>=48&&i<=57||46===i);)t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0;return e},unescape:function(e,t){var i,a,r,n;d.l9d(),i=[],a=!1;for(var s=0;s<e.length;s++)if(r=e.charAt(s),a){switch(r){case"'":i.push("'");break;case"\\":i.push("\\");break;case"/":i.push("/");break;case"b":i.push("\b");break;case"f":i.push("\f");break;case"n":i.push("\n");break;case"r":i.push("\r");break;case"t":i.push("\t");break;case"u":n=parseInt(e.substring(s+1,s+5),16),i.push(String.fromCharCode(n)),s+=4;break;default:throw"Il","le","gal escape sequence: '\\",d.O9X(0),this.error_parsing(d.L9X(s,t),d.x9X("Illegal escape sequence: '\\",r,"'",d.I9X(21)))}a=!1}else"\\"==r?a=!0:i.push(r);return i.join("")},isString:function(){var e,t,i;if(e=!1,t="",i=this.pos,this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,i),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){var e;for(var t in d.l9d(),this.consts)if(e=t.length,t===this.expression.substr(this.pos,e))return this.tokennumber=this.consts[t],this.pos+=e,!0;return!1},isOperator:function(){var e;if(43===(e=this.expression.charCodeAt(this.pos)))this.tokenprio=2,this.tokenindex="+";else if(45===e)this.tokenprio=2,this.tokenindex="-";else if(62===e)61===this.expression.charCodeAt(this.pos+1)?(">","=",this.pos++,this.tokenprio=1,this.tokenindex=">="):(this.tokenprio=1,this.tokenindex=">");else if(60===e)61===this.expression.charCodeAt(this.pos+1)?("<","=",this.pos++,this.tokenprio=1,this.tokenindex="<="):(this.tokenprio=1,this.tokenindex="<");else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,d.O9X(49),this.tokenprio=d.L9X(0,"1"),this.tokenindex="||"}else if(61===e){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,d.O9X(50),this.tokenprio=d.L9X("1",1),this.tokenindex="=="}else if(33===e){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===e){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===e){if(114!==this.expression.charCodeAt(this.pos+1))return!1;"o","r",this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===e||8729===e||8226===e)this.tokenprio=3,this.tokenindex="*";else if(47===e)this.tokenprio=4,this.tokenindex="/";else if(37===e)this.tokenprio=4,this.tokenindex="%";else{if(94!==e)return!1;this.tokenprio=5,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e;if(45===(e=this.expression.charCodeAt(this.pos-1))||43===e)return!0;d.A9d();for(var t=1;2121897746!==d.Y19(t.toString(),t.toString().length,91969);t++)return!1;return 1514834826!==d.g19(2..toString(),2..toString().length,29605)||void 0},isPositiveSign:function(){return d.l9d(),43===this.expression.charCodeAt(this.pos-1)},isNegativeSign:function(){return 45===this.expression.charCodeAt(this.pos-1)},isLeftParenth:function(){var e;return e=this.expression.charCodeAt(this.pos),d.l9d(),40===e&&(this.pos++,this.tmpprio+=10,!0)},isRightParenth:function(){var e;return e=this.expression.charCodeAt(this.pos),d.l9d(),41===e&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return d.A9d(),44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var e;return e=this.expression.charCodeAt(this.pos),d.A9d(),(32===e||9===e||10===e||13===e)&&(this.pos++,!0)},isOp1:function(){var e,t;e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&e in this.ops1&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isOp2:function(){var e,t;d.A9d(),e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&e in this.ops2&&(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0)},isVar:function(){var e,t;e="";for(var i=this.pos;i<this.expression.length&&((t=this.expression.charAt(i)).toUpperCase()!==t.toLowerCase()||!(i===this.pos||"_"!=t&&(t<"0"||t>"9")));i++)e+=t;return e.length>0&&(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0)},isComment:function(){var e;if(47===this.expression.charCodeAt(this.pos-1)&&42===this.expression.charCodeAt(this.pos)){d.I9X(30);var t=d.L9X(32,12,382);if(this.pos=this.expression.indexOf("*/",this.pos)+t,1===this.pos){565332205,726895552,e=2;for(var i=1;565332205!==d.Y19(i.toString(),i.toString().length,12326);i++)this.pos=this.expression.length,d.I9X(49),e+=d.x9X(0,"2");726895552!==d.g19(e.toString(),e.toString().length,70750)&&(this.pos=this.expression.length),this.pos=this.expression.length}return!0}return!1}},!0),H},K.A9d(),t.computeEquationChart=function(e,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k=K;function L(e){if(e.i++,a[e.s]){if(e.i>=a[e.s].length)return 0;c=a[e.s][e.i]}return c.DT||(c.DT=t.strToDateTime(c.Date)),e.d=c.DT,1}for(var A in e=e.replace(/[:]/,"/"),r=0,a)"sy","m","bo","l","\\","$","&","\\","[",n=new RegExp("\\["+A.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&")+"\\]","g"),k.I9X(0),e=e.replace(n,k.x9X(r,"symbol")),r++;function D(){var e,t,i,a;k.I9X(74),e=-k.x9X(2147483647,"156747620"),t=2;for(var r=1;-1889940802!==k.g19(r.toString(),r.toString().length,93328);r++)i=null,a=null,t+=2;for(var n in k.Y19(t.toString(),t.toString().length,48414)!==e&&(i=1,a=1),l)a?l[n].d.getTime()<a.d.getTime()?i=a=l[n]:l[n].d.getTime()>a.d.getTime()&&(i=a):a=l[n];return i?L(i)?-1:0:1}for(A in s=i().parse(e),o=[],l={},h=0,u=null,d=!1,p=[],a)m={sym:A,map:a[A]},a[A]?p.unshift(m):p.push(m);for(var T=0;T<p.length;T++)g=p[T],l[g.sym]={i:0,s:g.sym},g.map?(h++,c=g.map[0]):1==h&&(d=g.sym),c.DT||(c.DT=t.strToDateTime(c.Date)),l[g.sym].d=c.DT,u||(u=l[g.sym]);k.O9X(75),f=k.L9X(0,h),y=1==h&&-1==e.indexOf("%");e:for(;v=D();)if(1==v){if(d)(b=a[u.s][u.i][d])&&(b.Close||0===b.Close)&&(b=b.Close),C=s.evaluate({symbol0:a[u.s][u.i].Close,symbol1:b}),C=Number(C.toFixed(8)),(x={DT:u.d,Close:C,Adj_Close:C})[u.s]=a[u.s][u.i].Close,isNaN(C)||C==1/0||o.push(x);else{if(f)throw S=s.evaluate({}),k.I9X(21),t.alert(k.L9X(e,"=",S)),{name:"NoException",message:""};for(A in r=0,w={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},a){for(var M in w)k.O9X(0),w[M][k.x9X(r,"symbol")]=a[A][l[A].i][M];r++}(x={DT:u.d}).Adj_Close=s.evaluate(w.Adj_Close),x.Close=s.evaluate(w.Close),x.Open=s.evaluate(w.Open),x.Volume=s.evaluate(w.Volume),isNaN(x.Volume)&&(x.Volume=0),y?(x.High=s.evaluate(w.High),x.Low=s.evaluate(w.Low)):(x.High=Math.max(x.Open,x.Close),x.Low=Math.min(x.Open,x.Close)),isNaN(x.Close)||x.Close==1/0||o.push(x),isNaN(x.High)||(x.High=Number(x.High.toFixed(8))),isNaN(x.Low)||(x.Low=Number(x.Low.toFixed(8))),isNaN(x.Open)||(x.Open=Number(x.Open.toFixed(8))),isNaN(x.Close)||(x.Close=Number(x.Close.toFixed(8))),isNaN(x.Adj_Close)?x.Adj_Close=x.Close:x.Adj_Close=Number(x.Adj_Close.toFixed(8))}for(A in a)if(!L(l[A]))break e}return o}},c=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.setLocale=function(e,i){var a,r,n,s,o=K;if(o.A9d(),"numer","ic","2-","d","igit","2-di","git","num","e","ri","c","nu","mer","ic","undefined"!=typeof Intl&&this.locale!=e){for(this.locale=e,(r=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"}),r.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"}),r.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),r.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:"numeric"}),r.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"}),r.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),r.month=new Intl.DateTimeFormat(this.locale,{month:"short"}),r.numbers=new Intl.NumberFormat(this.locale),r.priceFormatters=[],i||(i=8),a=0;a<i+1;a++)r.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:a,minimumFractionDigits:a}));for(a=0;a<5;a++)"pe","rcent",n=a,s=a,a||(n="",o.I9X(35),s=o.L9X(845122432,"2")),o.O9X(0),r[o.L9X(n,"percent")]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:s,maximumFractionDigits:s});t.I18N.createMonthArrays&&t.I18N.createMonthArrays(this,r.month,this.locale)}},t.I18N=function(){},t.I18N.hereDoc=function(e){return K.A9d(),e.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"")},t.I18N.language="en",t.I18N.longMonths={zh:!0},t.I18N.reverseColorsByLocale={zh:!0,ja:!0},t.I18N.findAllTextNodes=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v;if("\n","|\t",K.A9d(),"|","\f","^","\\s","*","$",e||(e=document.body),e==document.body&&!document.querySelector(".ciq_stashed_texts")){(i=document.createElement("div")).className="ciq_stashed_texts",i.style.display="none",e.appendChild(i),a=document.querySelectorAll("input,textarea,.editable_content");for(var x=0;x<a.length;x++)"place","ho","ld","er",(r=a[x].getAttribute("placeholder"))&&((n=i.appendChild(document.createElement("translate"))).setAttribute("original",r),n.placeholderFor=a[x],n.appendChild(document.createTextNode(r)))}for(o=(s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),l=new RegExp("^\\s*$"),h=new RegExp("\n|\t|\f","g"),c={},u={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};o;)d=o.nodeValue,l.test(d)||(p=o.parentNode,m=o.nextSibling,u[g=p.tagName]||("TRANSLATE"!=g?((f=document.createElement("translate")).setAttribute("original",d),f.appendChild(o),p.insertBefore(f,m)):d=p.getAttribute("original"),h.test(d)&&(d=d.replace(h,"")),c[d]||(c[d]=[]),c[d].push(o))),o=s.nextNode();if(e==document.body&&(y=t.Studies?t.Studies.studyLibrary:null))for(var b in y){if(null===c[b]&&(c[b]=[]),(v=y[b]).inputs)for(var C in v.inputs)c[C]||(c[C]=[]);if(v.outputs)for(var S in v.outputs)c[S]||(c[S]=[])}return c},t.I18N.missingWordList=function(e){var i,a,r,n,s,o;for(var l in"Show"," as Un","derlay","Sh","ow Zones",e||(e=t.I18N.language),i=t.I18N.findAllTextNodes(),a={},(r=t.I18N.wordLists[e])||(r={}),n=function(e){void 0===r[e]&&(a[e]="")},i)n(l);if(!t.Studies||!t.Studies.studyLibrary)return a;for(var h in t.Studies.studyLibrary){for(var c in n((s=t.Studies.studyLibrary[h]).name),s.inputs)switch(n(c),o=s.inputs[c],Object.prototype.toString.call(o)){case"[object String]":n(o);break;case"[object Array]":for(var u=0;u<o.length;++u)n(o[u])}for(var d in s.outputs)n(d)}return n("Show Zones"),n("OverBought"),n("OverSold"),n("Panel"),n("Show as Underlay"),n("Y-Axis"),n("Invert Y-Axis"),a},t.I18N.printableMissingWordList=function(e){return JSON.stringify(t.I18N.missingWordList(e)).replace(/","/g,'",\n"')},t.I18N.translateUI=function(e,i){var a,r,n,s,o,l,h,c;if(K.A9d(),"pu"==e&&(e="pt"),t.I18N.wordLists&&(e||(e=t.I18N.language),a=t.I18N.findAllTextNodes(i),r=t.I18N.wordLists[e]))for(var u in a){n=t.I18N.translateSections(u,r),s=a[u];for(var d=0;d<s.length;d++)h=(l=(o=s[d]).parentNode).getAttribute("original"),","!==n&&n||(n=h),(c=l.placeholderFor)?c.placeholder=n:o.data=n}},t.I18N.translate=function(e,i){var a,r;return K.A9d(),i||(i=t.I18N.language),t.I18N.wordLists?(r=null,(a=t.I18N.wordLists[i])&&(r=t.I18N.translateSections(e,a)||e),","===r?e:r):(console.log("Must include translations.js in order to use CIQ.I18N.translate()"),e)},t.I18N.translateSections=function(e,t){var i,a,r,n,s=K;s.l9d(),s.I9X(35),i=-s.L9X(834649984,"1076829934"),s.O9X(53),a=s.x9X(1156018432,"2");for(var o=1;-1012411808!==s.g19(o.toString(),o.toString().length,72064);o++)r=204003,a+=2;return s.g19(a.toString(),a.toString().length,16472)!==i&&(r=""),"string"==typeof e&&-1!=e.indexOf(r)?("$","1",s.I9X(21),(n=(e=e.replace(/([(),])/g,s.L9X(r,"$1",r))).split(r)).forEach((function(e,i,a){var r,n;if(r=e.match(/^(\s*).*\S(\s*)$/),s.A9d(),n=t[e.trim()]){if(r)s.I9X(11),n=r[s.x9X(0,10,9)]+n+r[2];a[i]=n}})),n.join("")):t[e]},t.I18N.convertCSV=function(e){var i,a,r,n,s,o,l,h,c,u=K;if(i=new RegExp("[]|[]","g"),a=new RegExp('^(")|(")$',"g"),r=t.I18N.wordLists,e||(e=t.I18N.csv),e){n=e.split("\n"),u.I9X(35),s=n[u.x9X(1019031584,"0")].split(",");for(var d=0;d<s.length;d++)r[o=s[d]]||(r[o]={});for(var p=1;p<n.length;p++){l=n[p].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[],u.O9X(49),h=l[u.L9X(0,"0")],a.test(h)&&(h=h.replace(a,"")),i.test(h)&&(h=h.replace(i,'"'));for(var m=1;m<l.length;m++)c=l[m],a.test(c)&&(c=c.replace(a,"")),r[s[m]][h]=c}}},t.I18N.setLanguage=function(e,i,a,r,n){n||(n=(e.uiContext||{}).topNode||document.body),"pu"==i&&(i="pt"),K.l9d(),t.I18N.convertCSV(r),t.I18N.language=i,t.I18N.translateUI(i,n),a||(a=t.I18N.translate),e.translationCallback=a},t.I18N.setLocale=function(e,i,a,r,n){var s,o,l;if(t.xor(this.reverseColorsByLocale[i],this.reverseColorsByLocale[e.locale])&&this.reverseCandles(e),"undefined"==typeof Intl||!Intl.__addLocaleData)return e.setLocale(i,n),void(a&&a(null));r=void 0===r?"locale-data/jsonp":r,K.O9X(43),K.l9d(),s=K.L9X(".js","/",r,i),(o=document.createElement("SCRIPT")).async=!0,o.src=s,(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(o,l.nextSibling),o.onload=function(){e.setLocale(i,n),K.l9d(),a&&a(null)},o.onerror=function(){K.A9d(),a&&a("cannot load script")}},K.l9d(),t.I18N.createMonthArrays=function(e,i,a){var r,n,s,o,l;e.monthAbv=[],e.monthLetters=[],r=new Date,n=!0,t.I18N.longMonths&&t.I18N.longMonths[a]&&(n=!1);for(var h=0;h<12;h++)if(r.setDate(1),r.setMonth(h),s=i.format(r),n){o="";for(var c=0;c<s.length;c++)(l=s.charAt(c)).charCodeAt(0)<65||(o+=l);e.monthAbv[h]=o,e.monthLetters[h]=o[0]}else e.monthAbv[h]=s,e.monthLetters[h]=s},t.I18N.localize=function(e,t){this.setLocale(e,t),K.A9d(),this.setLanguage(e,t)},t.I18N.reverseCandles=function(e){var t,i,a;t=e.styles,i=e.cloneStyle(t.stx_candle_down),a=e.cloneStyle(t.stx_candle_up),t.stx_candle_up=i,t.stx_candle_down=a},t.I18N.wordLists={en:{}},t.I18N.languages={en:"English"}},u=e=>{var t,i;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.pointerEvents={down:[],up:[]},t.ChartEngine.prototype.manageTouchAndMouse=!0,t.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var e,i,a,r,n,s,o;this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,i=(e=this.controls.chartControls||document).querySelector(".stx-zoom-in"),a=e.querySelector(".stx-zoom-out"),r=this.chart.container,n=this,s=function(e,t,i){n.addDomEventListener(r,e,(function(e){if(n.mainSeriesRenderer&&n.mainSeriesRenderer.nonInteractive)return;K.l9d(),t(e)}),i),K.l9d()},t.touchDevice?t.isSurface?("point","ermove",s("mousemove",(function(e){K.A9d(),n.msMouseMoveProxy(e)})),s("mouseenter",(function(e){n.msMouseMoveProxy(e)})),s("mousedown",(function(e){n.msMouseDownProxy(e)})),s("mouseup",(function(e){K.l9d(),n.msMouseUpProxy(e)})),s("pointerdown",(function(e){return n.startProxy(e)})),s("pointermove",(function(e){n.moveProxy(e)})),s("pointerenter",(function(e){return K.A9d(),n.moveProxy(e)})),s("pointerup",(function(e){return n.endProxy(e)}))):("to","uchend",t.isMobile||("mouseente","r",s("mousemove",(function(e){n.iosMouseMoveProxy(e)})),s("mouseenter",(function(e){n.iosMouseMoveProxy(e)})),s("mousedown",(function(e){K.l9d(),n.iosMouseDownProxy(e)})),s("mouseup",(function(e){n.iosMouseUpProxy(e)}))),s("touchstart",(function(e){n.touchstart(e)})),s("touchmove",(function(e){K.l9d(),n.touchmove(e)})),s("touchend",(function(e){n.touchend(e)})),s("pointerdown",(function(e){K.A9d(),n.touchPointerType=e.pointerType})),i&&("onM","ouseOut",i.removeAttribute("onMouseOver"),i.removeAttribute("onMouseOut")),a&&(a.removeAttribute("onMouseOver"),a.removeAttribute("onMouseOut"))):("mo","us","edow","n",s("mousemove",(function(e){n.mousemove(e)})),s("mouseenter",(function(e){K.l9d(),n.mousemove(e)})),s("mousedown",(function(e){n.mousedown(e)})),s("mouseup",(function(e){n.mouseup(e)}))),o=t.wheelEvent,this.captureMouseWheelEvents&&s(o,(function(e){K.A9d(),n.mouseWheel(e)}),{passive:!1}))},t.ChartEngine.prototype.mousedown=function(e){var i,a,r,n,s;if(!this.runPrepend("mousedown",arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!(this.editingAnnotation||e.button&&e.button>=2)))if(i=this.container.getBoundingClientRect(),this.top=i.top,this.left=i.left,this.right=this.left+this.width,this.bottom=this.top+this.height,e.clientX>=this.left&&e.clientX<=this.right&&e.clientY>=this.top&&e.clientY<=this.bottom){if(this.insideChart=!0,this.currentPanel){this.manageTouchAndMouse&&e&&e.preventDefault&&this.captureTouchEvents&&e.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,""===this.openDialog&&this.registerPointerEvent({x:e.clientX,y:e.clientY,time:this.mouseTimer},"down"),a=this.currentPanel.chart;for(var o=0;o<this.drawingObjects.length;o++)if((r=this.drawingObjects[o]).highlighted&&!r.permanent){if(this.cloneDrawing)return(n=new(0,t.ChartEngine.drawingTools[r.name])).reconstruct(this,r.serialize()),this.drawingObjects.push(n),this.activateRepositioning(n),void(n.repositioner=r.repositioner);if(s=this.currentVectorParameters.vectorType,!(t.Drawing&&s&&t.Drawing[s]&&(new t.Drawing[s]).dragToDraw))return void this.activateRepositioning(r)}this.mainSeriesRenderer||{};var{baselineHelper:l}=this;if(!l.size||!this.findBaselineHandle(e,!0)){if(this.controls.anchorHandles){var{anchorHandles:h}=this.controls;for(var c in h){var{handle:u,sd:d,highlighted:p}=h[c];if(p)return this.repositioningAnchorSelector={sd:d},void u.classList.add("stx-grab")}}var m;if(!(this.drawingClick&&(this.currentPanel.subholder===e.target&&this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw)))this.grabbingScreen=!0,a.spanLock=!1,this.yToleranceBroken=!1,this.grabStartX=e.clientX,this.grabStartY=e.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=a.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((m=this,K.l9d(),function(){K.A9d(),m.grabbingHand()}),100),this.swipeStart&&this.swipeStart(a),(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer(),this.runAppend("mousedown",arguments)}}}else this.insideChart=!1},t.ChartEngine.prototype.mousemove=function(e){var i,a;i="mo",i+="us",i+="emove",a=e,t.ChartEngine.crosshairX=a.clientX,t.ChartEngine.crosshairY=a.clientY,a.type.toLowerCase().indexOf("enter")>-1?this.positionCrosshairsAtPointer():this.runPrepend("mousemove",arguments)||this.displayInitialized&&""===this.openDialog&&(this.baselineHelper.size&&this.findBaselineHandle(a),this.grabbingScreen&&1!==a.buttons&&(this.cancelLongHold=!0,this.displayDragOK(),this.grabbingScreen=!1,this.findHighlights(!1,!0)),this.mousemoveinner(a.clientX,a.clientY),this.runAppend(i,arguments))},t.ChartEngine.prototype.mouseup=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f;if(i="u",i+="p",a="mous",a+="e",a+="up",!this.runPrepend(a,arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250)return r="vec",r+="t",r+="or",this.changeOccurred(r),t.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline){var{handle:y}=this.repositioningBaseline;return this.repositioningBaseline=null,y.classList.remove("stx-grab"),(n=this.mainSeriesRenderer||{}).params&&n.params.baseline&&n.params.type,void this.draw()}if(this.repositioningAnchorSelector)return t.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,Object.values(this.controls.anchorHandles).forEach(e=>{let{handle:t}=e;return"s","tx","-g","rab",t.classList.remove("stx-grab")}),void this.findHighlights();if(s=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized){if(o=this.backOutY(e.clientY),l=this.backOutX(e.clientX),h=e.which&&e.which>=2||e.button&&e.button>=2,""!==this.openDialog||h||this.registerPointerEvent({x:e.clientX,y:e.clientY,time:Date.now()},i),c=this.isDoubleClick(),this.grabbingScreen=!1,this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(l,o),this.currentPanel=this.whichPanel(o)),u=this.currentPanel,this.grabStartYAxis=null,this.displayDragOK(),""!==this.openDialog)return d="stx",d+="-",d+="dra",d+="g-chart",void(this.insideChart&&this.container.classList.remove(d));if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||!this.swipeRelease||this.swipeRelease(),this.container.classList.remove("stx-drag-chart"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(this.insideChart&&this.container.classList.remove("stx-drag-chart"),t.ChartEngine.resizingPanel)this.releaseHandle();else{if(h||e.ctrlKey)return this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),e.preventDefault&&this.captureTouchEvents&&e.preventDefault(),e.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:u,x:l,y:o}),!0);if(!(e.clientX<this.left||e.clientX>this.right||e.clientY<this.top||e.clientY>this.bottom)){if(p=u&&u.subholder===e.target,K.A9d(),c&&(p||this.overYAxis||this.overXAxis))this.doubleClick({button:e.button,x:l,y:o});else if(s&&p&&(this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(u,l,o),!this.longHoldTookEffect&&this.activeMarker&&this.activeMarker.click({cx:l,cy:o,panel:u})),!this.longHoldTookEffect&&!this.activeDrawing){m=1267036333,g=1761517764,f=2;for(var v=1;K.Y19(v.toString(),v.toString().length,60931)!==m;v++)this.dispatch("",{stx:this,panel:u,x:l,y:o}),f+=2;K.Y19(f.toString(),f.toString().length,33143)!==g&&this.dispatch("",{stx:this,panel:u,x:l,y:o}),this.dispatch("tap",{stx:this,panel:u,x:l,y:o})}this.runAppend("mouseup",arguments)}}}}},t.ChartEngine.prototype.registerPointerEvent=function(e,t){this.pointerEvents[t].length>1&&this.pointerEvents[t].pop(),this.pointerEvents[t].unshift(e)},t.ChartEngine.prototype.resetPointerEvent=function(e){this.pointerEvents[e].splice(0)},t.ChartEngine.prototype.isDoubleClick=function(e){var t,i;t=e?1200:400;var{up:a,down:r}=this.pointerEvents;return this.cancelTouchSingleClick=!1,!(a.length<2||r.length<2)&&((i=r[0].time-a[1].time<this.doubleClickTime&&Math.pow(a[1].x-a[0].x,2)+Math.pow(a[1].y-a[0].y,2)<=t&&a[1].time-r[1].time<this.longHoldTime&&a[0].time-r[0].time<this.longHoldTime)&&(this.resetPointerEvent("up"),this.resetPointerEvent("down"),this.cancelTouchSingleClick=!0),i)},t.ChartEngine.prototype.doubleClick=function(e,i,a){var r,n;if(r="d",r+="oubleClick",n="dou",K.l9d(),n+="bleClick",!this.runPrepend(n,arguments)&&!this.editingAnnotation)return t.ChartEngine.drawingLine?this.undo():void(this.activeDrawing||(this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:a,panel:this.currentPanel})||this.dispatch("doubleClick",{stx:this,button:e,x:i,y:a}),this.runAppend(r,arguments)))},t.ChartEngine.prototype.handleMouseOut=function(e){var i,a,r,n;if(e=e||window.event,!t.withinElement(this.chart.container,e.pageX,e.pageY)){if(i="ha",i+="ndleMouseOut",a="handl",a+="eMouseOu",a+="t",this.runPrepend(a,arguments))return;this.grabbingScreen||this.findHighlights(null,!0),this.undisplayCrosshairs(),this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,r=this.backOutY(e.pageY),n=this.backOutX(e.pageX),this.drawingClick(this.currentPanel,n,r)),this.repositioningAnchorSelector&&(this.repositioningAnchorSelector=null),this.insideChart=!1,this.overYAxis=!1,this.overXAxis=!1,this.displaySticky(),this.runAppend(i,arguments)}},t.ChartEngine.prototype.startLongHoldTimer=function(){var e,t;e=this,this.cancelLongHold=!1,K.l9d(),this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),t=function(){e.cancelLongHold||(e.longHoldTookEffect=!0,e.dispatch("longhold",{stx:e,panel:e.currentPanel,x:e.cx,y:e.cy}),e.displayDragOK())},this.longHoldTime?this.longHoldTimeout=setTimeout(t,this.longHoldTime):0===this.longHoldTime&&t()},t.ChartEngine.prototype.grabHandle=function(e){var i;i="g",i+="rabH",i+="a",i+="ndle",this.runPrepend(i,arguments)||(K.A9d(),e&&(t.ChartEngine.crosshairY=e.top+this.top,t.ChartEngine.resizingPanel=e,e.handle.classList.add("stx-grab"),this.runAppend("grabHandle",arguments)))},t.ChartEngine.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(K.A9d(),t.touchDevice||this.container.classList.add("stx-drag-chart"))},t.ChartEngine.prototype.releaseHandle=function(){var e;if(e="r",e+="eleaseHa",e+="n",e+="dle",this.runPrepend(e,arguments))return!0;t.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),K.l9d(),t.ChartEngine.resizingPanel&&t.ChartEngine.resizingPanel.handle.classList.remove("stx-grab"),t.ChartEngine.resizingPanel=null,this.runAppend("releaseHandle",arguments)},t.ChartEngine.prototype.findHighlights=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,I,N,O,X,z,H,R,W,Q;a=this.preferences[e?"highlightsTapRadius":"highlightsRadius"],this.highlightViaTap=e;var{cx:V,cy:B}=this;if(this.anyHighlighted=!1,this.currentPanel){var{chart:U}=this.currentPanel;if(this.activeDrawing&&(i=!0),r=!1,n=null,s=i?{}:{forceShow:!0,type:"drawing"},o={x0:this.tickFromPixel(V-a,U),x1:this.tickFromPixel(V+a,U),y0:this.valueFromPixel(B-a,this.currentPanel),y1:this.valueFromPixel(B+a,this.currentPanel),cx0:V-a,cx1:V+a,cy0:B-a,cy1:B+a,r:a},this.repositioningDrawing&&o.x1-o.x0<2?(o.x1++,o.x0--):o.x1==o.x0&&(o.x0-=.5,o.x1+=.5),l=this.markerHelper&&this.markerHelper.chartMap[U.name]&&this.markerHelper.chartMap[U.name].markers,!U.hideDrawings)for(var j=this.drawingObjects.length-1;j>=0;j--)h=this.drawingObjects[j],this.panels[h.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=h||(c=h.highlighted,u=h.panelName==this.currentPanel.name,h.repositioner=h.intersected(this.crosshairTick,this.crosshairValue,o),u=u&&h.repositioner,!i&&u?(c?(n=h,this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),h.highlighted&&h.highlighted!=c&&(r=!0)):c!=h.highlight(!0)&&(n||(n=h),this.anyHighlighted&&this.singleDrawingHighlight&&(h.highlighted=!1),r=!0),this.anyHighlighted=!0):c!=h.highlight(!1)&&(r=!0),h.highlighted&&(s.noDelete=h.permanent,s.noEdit=!this.callbackListeners.drawingEdit.length)));for(d in this.layout.studies)(p=this.layout.studies[d]).prev=p.highlight,p.highlight=this.yaxisMatches(p,this.grabStartYAxis);for(d in U.seriesRenderers){(y=U.seriesRenderers[d]).params.highlight=this.yaxisMatches(y,this.grabStartYAxis);for(var Y=0;Y<y.seriesParams.length;Y++)(f=y.seriesParams[Y]).prev=f.highlight,f.highlight=y.params.highlight}for(m=0;l&&m<l.length;m++)(g=l[m]).params.box&&(this.activeMarker=null,g.prev=l[m].highlight,g.highlight=!1);if(this.markerHelper&&(this.markerHelper.highlighted=[]),this.highlightedDataSetField=null,this.highlightedDraggable=null,!i&&!this.anyHighlighted&&this.controls.anchorHandles)for(var q in this.controls.anchorHandles){v=this.controls.anchorHandles[q];var{handle:Z,sd:G}=v;if(x=this.resolveX(V),b=this.resolveY(B),Z){var{left:J,top:$,right:ee,bottom:te}=Z.getBoundingClientRect();if(t.boxIntersects(J,$,ee,te,x,b,x,b)){"a","ncho","rHandle",v.highlighted=!0,this.anyHighlighted=!0,r=!0,s={message:G.name,type:"anchorHandle"};continue}!0===v.highlighted&&(v.highlighted=!1,r=!0)}}if(!i&&!this.anyHighlighted&&U.dataSegment&&(C=this.barFromPixel(V))>=0&&C<U.dataSegment.length){for(d in this.overlays)if("fu","n","cti","on",(p=this.overlays[d]).panel==this.currentPanel.name&&!1!==p.study.isHighlighted)if("function"!=typeof p.study.isHighlighted){if(U.dataSegment[C]){for(var ie in p.outputMap)if(ne.call(this,C,o,ie,p.getYAxis(this))){p.name!=p.panel&&(this.anyHighlighted=!0),p.highlight=ie;break}if(p.highlight){this.highlightedDataSetField=ie;break}}}else p.study.isHighlighted(this,V,B)&&(p.highlight=!0,this.anyHighlighted=!0);for(d in U.seriesRenderers){if(this.highlightedDataSetField)break;if(k=(w=U.seriesRenderers[d]).params.panel,w!=this.mainSeriesRenderer&&(w.params.highlightable||this.currentVectorParameters.vectorType)&&k==this.currentPanel.name)for(m=0;m<w.seriesParams.length;m++){if("C","l","o","se",(L=(f=w.seriesParams[m]).field)||w.highLowBars||(L=this.defaultPlotField||"Close"),f.symbol&&f.subField&&(L+="--\x3e"+f.subField),!(A=w.params.yAxis)&&k&&(A=this.panels[k].yAxis),w.params.step&&C>0){if(!w.caches[f.id])continue;if(!(S=w.caches[f.id][C])&&0!==S)continue;K.O9X(6),(((D=w.caches[f.id][K.x9X(1,C)])||0===D)&&B+a>=S&&B-a<=D||B-a<=S&&B+a>=D)&&(f.highlight=!0,this.anyHighlighted=!0)}else ne.call(this,C,o,L,A,w,f.id)&&(f.highlight=!0,this.anyHighlighted=!0);if(f.highlight){this.highlightedDataSetField=L;break}}}}for(d in M=this.preferences.dragging,this.overlays)(p=this.overlays[d]).highlight&&(this.anyHighlighted=!0,P=p.inputs.display||p.name,s={message:P=this.translateIf(P),noDelete:p.permanent,noEdit:!p.editFunction,type:"study"},n=null,(!0===M||M&&M.study)&&(T=p),F=p.getYAxis(this)),p.prev!=p.highlight&&(r=!0);for(d in U.seriesRenderers){E=(_=U.seriesRenderers[d]).params.yAxis?_.params.yAxis.textStyle:null;for(var ae=0;ae<_.seriesParams.length;ae++)f=_.seriesParams[ae],_.params.highlightable&&f.highlight&&("serie","s","a","u","t","o",this.anyHighlighted=!0,"auto"==(I=f.color||E)&&(I=this.defaultColor),f.opacity&&1!==f.opacity&&(I=t.hexToRgba(t.colorToHex(I),parseFloat(f.opacity))),s={message:f.display||f.symbol,backgroundColor:I,noDelete:f.permanent,type:"series"},n=null,(!0===M||M&&M.series)&&(T=_,_.params.highlight=!0),F=_.getYAxis(this)),f.prev!=f.highlight&&(r=!0)}for(d in this.plugins)O={},(N=this.plugins[d]).findHighlights&&((O=N.findHighlights(this,e,i)).somethingChanged&&(r=!0),O.anyHighlighted&&(this.anyHighlighted=!0,s=O.stickyArgs||{}));for(var re in X=this.whichPanel(B),z=this.whichYAxis(X,V),F||(F=z),this.currentBaseline&&(F=this.currentBaseline.getYAxis(this)),F&&(F.highlight||(r=!0),F.highlight=!0),H=[],this.panels)H=H.concat(this.panels[re].yaxisLHS).concat(this.panels[re].yaxisRHS);for(d=0;d<H.length;d++)(F!=H[d]||i)&&(H[d].highlight&&(r=!0),H[d].highlight=!1);for(m=0;l&&m<l.length;m++)(R=(g=l[m]).params.box)&&g.params.panelName===this.currentPanel.name&&(W=t.convertBoxToPixels(this,this.currentPanel.name,o),t.boxIntersects(W.x0,W.y0,W.x1,W.y1,R.x0,R.y0,R.x1,R.y1)&&(this.activeMarker=g,g.highlight=!0,this.markerHelper.highlighted.push(g)),g.prev!=g.highlight&&(r=!0));if(r&&(this.draw(),s.panel=X,this.anyHighlighted&&!this.grabStartYAxis?s.panel=X:s={},this.displaySticky(s),this.clearMeasure(),n&&n.measure()),(!0===M||M&&M.yaxis)&&z&&!z.noDraw&&(this.anyHighlight=!0,T=z),this.anyHighlighted||this.setMeasure(),T&&!X.noDrag){if(this.longHoldTookEffect&&!this.cancelLongHold){if(T.params)for(d in T.params.dependentOf&&((T=U.seriesRenderers[T.params.dependentOf]).params.highlight=!0),U.seriesRenderers)U.seriesRenderers[d].params.dependentOf==T.params.name&&(U.seriesRenderers[d].params.highlight=!0);if(this.highlightedDraggable=T,T.getDependents)for(d in Q=T.getDependents(this,!0),this.overlays)p=this.overlays[d],Q.indexOf(p)>-1&&(p.highlight=!0)}this.container.classList.add("stx-draggable")}else this.container.classList.remove("stx-draggable");this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField),this.displayDrawOK()}function ne(e,i,a,r,n,s){var o,l,h,c,u,d,p,m,g,f,y,v,x,b,S,w,k,L,A,D,T,M,F=K;if("segme","nt","Clos","e",o=this.chart,l=this.currentPanel,r||(r=l.yAxis),h=a.split("--\x3e"),c=h[0],(u=h[1])||(u="Close"),d=o.dataSegment[C],v=null,x=null,b=null,S=new Array(3),w=n&&n.caches[s],d&&w){for(g=w[C],v=d.tick,(g||0===g)&&(S[0]=1),k=C-1;k>=0;k--)if(w[k]||0===w[k]){f=w[k],F.I9X(76),x=F.L9X(k,v,C),S[1]=1;break}for(k=C+1;k<o.dataSegment.length;k++)if(w[k]||0===w[k]){y=w[k],F.I9X(76),b=F.L9X(k,v,C),S[2]=1;break}}if(null===x&&(p=this.getPreviousBar.call(this,o,a,C))&&(x=p.tick,f=P(p)),null===b&&(m=this.getNextBar.call(this,o,a,C))&&(b=m.tick,y=P(m)),null===x&&null===b)return!1;function P(e){var t;return e?((t=e[c])&&(t[u]||0===t[u])&&(t=t[u]),n&&n.getBasis&&(t+=n.getBasis(e,c,u)),F.A9d(),o.transformFunc&&r==o.yAxis?e.transform&&c in e.transform?((t=e.transform[c])&&(t[u]||0===t[u])&&(t=t[u]),t):o.transformFunc(this,o,t):t):null}return w||(g=P(d),f=P(p),y=P(m),v=d.tick,p&&(x=p.tick),m&&(b=m.tick)),f||0===f||(f=0,x=0),y||0===y||(g||0===g?(y=g,S[2]=S[0]):(y=f,F.O9X(50),S[F.x9X("2",0)]=S[1]),b=s&&o.series[s].parameters.extendToEndOfDataSet?o.dataSet.length-1:x),g||0===g||(g=y,v=b,S[0]=S[2],0===f&&0===x&&(f=g,x=v,F.O9X(53),S[F.x9X(65535168,"1")]=S[0])),L=this.pixelFromTransformedValue.bind(this),g=(A=this.valueFromPixel.bind(this))(S[0]?g:L(g,l,r),l),f=A(S[1]?f:L(f,l,r),l),y=A(S[2]?y:L(y,l,r),l),D=t.convertBoxToPixels(this,l.name,i),T=t.convertBoxToPixels(this,l.name,{x0:x,y0:f,x1:v,y1:g}),M=t.convertBoxToPixels(this,l.name,{x0:v,y0:g,x1:b,y1:y}),!(!t.boxIntersects(D.x0,D.y0,D.x1,D.y1,T.x0,T.y0,T.x1,T.y1,"segment")&&!t.boxIntersects(D.x0,D.y0,D.x1,D.y1,M.x0,M.y0,M.x1,M.y1,"segment"))}},t.ChartEngine.prototype.rightClickHighlighted=function(){K.A9d(),this.runPrepend("rightClickHighlighted",arguments)||(this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},t.ChartEngine.prototype.deleteHighlighted=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m;if(K.l9d(),a="deleteHighlight",a+="ed",!this.runPrepend("deleteHighlighted",arguments)){if(this.cancelTouchSingleClick=!0,t.clearCanvas(this.chart.tempCanvas,this),(r=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var g=this.drawingObjects.length-1;g>=0;g--)(n=this.drawingObjects[g]).highlighted&&(e?this.rightClickDrawing(n,i):n.permanent||(n.abort()||(s=this.exportDrawings(),this.drawingObjects.splice(g,1),this.undoStamp(s,this.exportDrawings())),this.changeOccurred("vector")));if(r||!this.bypassRightClick.study)for(var f in this.overlays)((o=this.overlays[f]).overlay||o.underlay)&&o.highlight&&!o.permanent&&(e||i?this.rightClickOverlay(f,i):this.removeOverlay(f));if(l=this.currentPanel.chart,r||!this.bypassRightClick.series)for(var y in l.seriesRenderers)if((h=l.seriesRenderers[y]).params.highlightable){u=(c=this.panels[h.params.panel])&&c.yAxis.name;for(var v=h.seriesParams.length-1;v>=0;v--)d=h.seriesParams[v],!h.params.highlight&&!d.highlight||d.permanent||(h.removeSeries(d.id),h.seriesParams.length<1&&(this.removeSeriesRenderer(h),h.params.name==u?this.electNewPanelOwner(h.params.panel):(this.checkForEmptyPanel(h.params.panel),(p=this.getYAxisByName(c,h.params.name))&&(p.name=p.studies[0]||p.renderers[1]))))}this.draw(),this.resizeChart(),this.clearMeasure(),(m=this.controls.mSticky)&&(m.style.display="none",m.children[0].innerHTML=""),this.runAppend(a,arguments)}},t.ChartEngine.prototype.displayDragOK=function(e){var t,i,a,r,n,s,o,l,h,c,u=K;if(t=this.controls.dragOk){if(e||this.tapForHighlighting&&this.touchingEvent&&!this.anyHighlighted||this.findHighlights(this.highlightViaTap),a=(i=this.highlightedDraggable)&&i.undraggable&&i.undraggable(this),r=this.cx,n=this.cy,!e){if(i&&!a&&this.longHoldTookEffect&&!this.cancelLongHold)"inline","-b","loc","k",s=i.inputs&&i.inputs.display||i.params&&(i.params.display||i.params.name)||i.name,t.querySelector(".field").setAttribute("text",s),p.call(this,t),t.style.display="inline-block",this.draw(),this.displaySticky(),this.grabStartYAxis?this.container.classList.replace("stx-drag-chart","stx-drag-axis"):this.container.classList.replace("stx-drag-chart","stx-drag-series");else for(var d in"stx-dra","g-axis","n","o","n","e",t.style.display="none",this.draw(),this.container.classList.remove("stx-drag-series"),this.container.classList.remove("stx-drag-axis"),this.panels){for("l","e","f","t","a","l","l",(o=this.panels[d].subholder.classList).remove("dropzone"),o.remove("all"),o.remove("left"),o.remove("right"),o.remove("top"),o.remove("bottom"),l=0;l<this.panels[d].yaxisLHS.length;l++)this.panels[d].yaxisLHS[l].dropzone=null;for(l=0;l<this.panels[d].yaxisRHS.length;l++)this.panels[d].yaxisRHS[l].dropzone=null}this.draw()}i&&(h=n+t.offsetHeight,c=Math.max(0,r-t.offsetWidth),u.I9X(0),t.style.top=u.x9X("px",h),u.I9X(0),t.style.left=u.L9X("px",c),p.call(this,t))}function p(e){var t,i;t=this.translateIf(e.querySelector(".field").getAttribute("text")),i=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy),u.l9d(),i&&"all"==i.dropzone&&(t+="--\x3e"+this.translateIf(i.name)),e.querySelector(".field").innerHTML=t}},t.ChartEngine.prototype.displayDrawOK=function(){var e,i,a,r,n=K;e=this.controls.drawOk,n.l9d(),e&&t.Drawing&&((i=t.Drawing[this.currentVectorParameters.vectorType])&&(i=new i),this.highlightedDataSetField&&i&&i.getYValue?(".","fi","eld","p","x",e.style.display="inline-block",a=this.cy+e.offsetHeight,r=this.cx-e.offsetWidth,n.O9X(0),e.style.top=n.x9X("px",a),n.O9X(0),e.style.left=n.x9X("px",r),e.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField)):e.style.display="none")},t.ChartEngine.prototype.mouseWheel=function(e){var i,a,r,n,s,o,l,h,c,u,d=K;if(!this.runPrepend("mouseWheel",arguments)&&(e.preventDefault&&e.preventDefault(),""===this.openDialog)){i=e.deltaX,a=e.deltaY,Math.abs(a)>Math.abs(i)?(d.I9X(74),i=d.L9X(2147483647,"0")):a=0,r=-586099853,n=-1276657693,d.I9X(74),s=d.L9X(2147483647,"2");for(var p=1;d.Y19(p.toString(),p.toString().length,26125)!==r;p++){if(this.lastMouseWheelEvent=Date.now(),3!==Math.abs(i)||5==Math.abs(a))return;s+=2}if(d.Y19(s.toString(),s.toString().length,54980)===n||(this.lastMouseWheelEvent=Date.now(),0!==Math.abs(i)||0!==Math.abs(a))){if(this.allowSideswipe&&0!==i)return this.lastMove="horizontal",(o=i)>50&&(o=50),o<-50&&(o=-50),this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=t.ChartEngine.crosshairX,this.grabStartY=t.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mousemoveinner(t.ChartEngine.crosshairX-o,t.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1);if(this.lastMove="vertical",this.allowZoom&&this.displayInitialized){if(!a)if("mousewheel"==t.wheelEvent){d.O9X(6);var m=d.x9X(1,0);if(a=m/40*e.wheelDelta,e.wheelDeltaX){d.O9X(77);var g=d.L9X(0,143,13,11);d.I9X(29);var f=d.L9X(57,10374,39,13,14);i=g/f*e.wheelDeltaX}}else a=e.detail;if(void 0===e.deltaMode&&(e.deltaMode="MozMousePixelScroll"==e.type?0:1),l=-a,1==e.deltaMode&&(d.O9X(49),l*=d.L9X(0,"33")),h=null,c=null,this.mouseWheelAcceleration&&(u=Math.max(Math.pow(Math.abs(l),.3),1),d.O9X(78),h=d.L9X(u,1,0,"0.1"),d.I9X(38),c=d.L9X(.2,u,1)),this.zoomInitiatedByMouseWheel=!0,l>0?this.reverseMouseWheel?this.zoomOut(null,c):this.zoomIn(null,h):l<0&&(this.reverseMouseWheel?this.zoomIn(null,h):this.zoomOut(null,c)),!this.runAppend("mouseWheel",arguments))return!1}}}},t.ChartEngine.handleContextMenu=function(e){for(var i,a=0;a<t.ChartEngine.registeredContainers.length;a++)if((i=t.ChartEngine.registeredContainers[a].stx)&&i.anyHighlighted)return e.preventDefault&&e.preventDefault(),!1},"undefined"!=typeof document&&document.addEventListener("contextmenu",t.ChartEngine.handleContextMenu),t.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',mSticky:'<div class="stx_sticky"> <span class="mStickyInterior"></span> <span class="mStickyRightClick"><span class="overlayEdit stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="overlayTrashCan stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="mouseDeleteInstructions"><span>(</span><span class="mouseDeleteText">right-click to delete</span><span class="mouseManageText">right-click to manage</span><span class="dragAnchorText">drag to change anchor time</span><span>)</span></span></span><span class="stickyLongPressText">(long-press to drag)</span></div>',drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'},t.ChartEngine.prototype.registerChartControl=function(e,i,a){var r,n,s,o=K;if((r=this.controls)&&r.chartControls&&!r.chartControls.querySelector("."+e))return o.l9d(),n=null,(s=r.chartControls.querySelector(".stx-zoom-in"))?("s","tx-chart-control-button ","</s","pan>","<",'span class="stx-tooltip">',n=document.createElement("span"),o.I9X(21),n.innerHTML=o.x9X('<span class="stx-tooltip">',i,"</span>"),o.O9X(0),n.className=o.L9X(e,"stx-chart-control-button "),s.parentNode.appendChild(n),a&&t.safeClickTouch(n,a),t.touchDevice||this.makeModal(n),n):void 0},t.ChartEngine.prototype.zoomOut=function(e,t){var i,a,r,n,s;if(K.l9d(),i="zo",i+="omOut",!this.runPrepend(i,arguments))for(var o in this.preferences.zoomOutSpeed?t=this.preferences.zoomOutSpeed:t||(K.O9X(7),t=K.L9X(1,.7)),e&&e.preventDefault&&e.preventDefault(),this.cancelTouchSingleClick=!0,a=this,this.charts)n=(r=this.charts[o]).width*t/this.layout.candleWidth,!1===r.allowScrollFuture&&!1===r.allowScrollPast&&n>r.dataSet.length&&(n=r.dataSet.length),s=this.chart.width/n,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(l(r),this.layout.candleWidth,s);function l(e){return K.A9d(),function(t){if(a.zoomSet(t,e),a.animations.zoom.hasCompleted){if(a.runAppend("zoomOut",arguments))return;a.changeOccurred("layout"),a.continuousZoom&&a.continuousZoom.execute(!0)}}}},t.ChartEngine.prototype.zoomIn=function(e,t){var i,a,r,n;if(!this.runPrepend("zoomIn",arguments))for(var s in this.preferences.zoomInSpeed?t=this.preferences.zoomInSpeed:t||(t=.7),e&&e.preventDefault&&e.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts)r=(a=this.charts[s]).width*t/this.layout.candleWidth,a.maxTicks-r<1&&(r=a.maxTicks-1),r<this.minimumZoomTicks&&(r=this.minimumZoomTicks),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(o(a),this.layout.candleWidth,n);function o(e){return K.A9d(),function(t){var a;if(i.zoomSet(t,e),i.animations.zoom.hasCompleted){if(a="z",a+="o",a+="omI",a+="n",i.runAppend(a,arguments))return;i.changeOccurred("layout"),i.continuousZoom&&i.continuousZoom.execute()}}}},t.ChartEngine.prototype.createCrosshairs=function(){var e,t,i;e="createCr",e+="osshairs",this.runPrepend("createCrosshairs",arguments)||!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||(t=this.controls.crossX,i=this.controls.crossY,t&&(t.onmousedown||(t.onmousedown=function(e){return e.preventDefault&&e.preventDefault(),!1})),i&&(i.onmousedown||(i.onmousedown=function(e){return e.preventDefault&&e.preventDefault(),!1})),this.runAppend(e,arguments))},i=!1,t.ChartEngine.prototype.mousemoveinner=t.ChartEngine.prototype.mousemoveinner||function(e,t){K.l9d(),i||console.error("interaction feature requires activating movement feature."),i=!0}},d=e=>{var t;K.A9d(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Marker||(t.ChartEngine.helpersToRegister.push((function(e){e.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]}})),t.ChartEngine.prototype.addToHolder=function(e){var i,a,r,n;i=this.panels[e.params.panelName],K.l9d(),i&&(a=e.params,r=e.node,(n=e.stxNodeCreator)&&n.prepareForHolder&&(r=n.prepareForHolder(e)),a.chartContainer?this.container.appendChild(e.node):a.includeAxis?i.holder.appendChild(e.node):i.subholder.appendChild(r),e.chart=i.chart,n&&n.addToHolder&&n.addToHolder(e),n&&n.expand&&t.Marker.initializeScrollBehavior(n))},t.ChartEngine.prototype.getMarkerArray=function(e,t){var i,a;for(var r in i=[],this.markers)for(var n=0;n<this.markers[r].length;n++)a=this.markers[r][n],"panelName"==e?a.params.panelName==t&&i.push(a):"label"==e?r==t&&i.push(a):"all"==e&&i.push(a);return i},t.ChartEngine.prototype.removeFromHolder=function(e){var t,i,a,r,n,s,o;if(t=this.panels[e.params.panelName]){-401043568,-936757062,i=2;for(var l=1;-401043568!==K.g19(l.toString(),l.toString().length,52593);l++)e.node.parentNode==t.holder?t.holder.removeChild(e.node):e.node.parentNode==t.subholder?t.subholder.removeChild(e.node):e.node.parentNode==this.container&&this.container.removeChild(e.node),i+=2;-936757062!==K.g19(i.toString(),i.toString().length,32903)&&(e.node.parentNode!==t.holder?t.holder.removeChild(e.node):e.node.parentNode!==t.subholder?t.subholder.removeChild(e.node):e.node.parentNode!=this.container&&this.container.removeChild(e.node))}if(a=this.markers[e.params.label]){for(r=0;r<a.length;r++)if(a[r]===e){a.splice(r,1);break}if(n=this.markerHelper.chartMap[e.chart.name])for(r=0;r<n.markers.length;r++)if(n.markers[r]===e){n.markers.splice(r,1);break}if((s=this.markerHelper.classMap[e.className])&&(o=s[e.params.panelName]))for(r=0;r<o.length;r++)if(o[r]===e){o.splice(r,1);break}}},t.ChartEngine.prototype.moveMarkers=function(e,t){var i,a;i=this.getMarkerArray("panelName",e);for(var r=0;r<i.length;r++)i[r].params.panelName=t;for(var n in this.markerHelper.classMap)(a=this.markerHelper.classMap[n][e])&&(this.markerHelper.classMap[n][t]=a,delete this.markerHelper.classMap[n][e])},t.ChartEngine.prototype.establishMarkerTicks=function(){var e,t;for(var i in e=this.markerHelper.chartMap)if((t=e[i]).dataSetLength!=this.charts[i].dataSet.length)for(var a=0;a<t.markers.length;a++)this.setMarkerTick(t.markers[a])},t.ChartEngine.prototype.futureTickIfDisplayed=function(e){var t,i,a,r,n,s,o,l,h,c=K;if(!((t=e.chart).dataSet.length<1)){i=t.xaxis[t.xaxis.length-1].DT,c.O9X(79);var u=c.x9X(3529,2,9,17);if(i=new Date(i.getTime()-this.timeZoneOffset*u),!(e.params.x>i)){c.A9d(),a=t.maxTicks-t.dataSegment.length,r=t.dataSet.length+a,o=new Date(+t.dataSet[t.dataSet.length-1].DT),l=this.standardMarketIterator(o,null,t),h=e.params.x.getTime();for(var d=t.dataSet.length;d<r;d++){if(n=o.getTime(),(s=(o=l.next()).getTime())==h)return void(e.tick=d);if(s>h&&n<h)return c.O9X(6),void(e.tick=Math.max(c.L9X(1,d),0))}}}},t.ChartEngine.prototype.setMarkerTick=function(e){var t,i,a,r;if(t=e.chart,"master"==e.params.xPositioner&&e.params.x)e.tick=Math.floor(e.params.x/this.layout.periodicity);else if("date"==e.params.xPositioner&&e.params.x){r=e.params.x.getTime();for(var n=0;n<t.dataSet.length;n++){if(i=a=t.dataSet[n].DT.getTime(),n>0&&(i=t.dataSet[n-1].DT.getTime()),a==r)return void(e.tick=n);if(a>r&&i<r)return K.O9X(6),void(e.tick=Math.max(K.x9X(1,n),0));if(r<a)return void(e.tick=null)}if(t.dataSet.length<1)return;new Date(+t.dataSet[n-1].DT).getTime()<r&&(e.params.future=!0),e.tick=null}},t.ChartEngine.prototype.positionMarkers=function(){var e,t,i,a,r,n,s;function o(){var t,i,a,r;if(!e.runPrepend("positionMarkers",arguments)){for(var n in e.markerTimeout=null,e.markerHelper.classMap)for(var s in e.markerHelper.classMap[n])t=e.markerHelper.classMap[n][s],i=e.panels[s],t.length&&((a={stx:e,arr:t,panel:i}).firstTick=i.chart.dataSet.length-i.chart.scroll,a.lastTick=a.firstTick+i.chart.dataSegment.length,(r=t[0].constructor.placementFunction)?r(a):e.defaultMarkerPlacement(a));e.runAppend("positionMarkers",arguments)}}if("a","l",K.l9d(),"l",e=this,t=this.chart,e.markerHelper&&(this.markerDelay||0===this.markerDelay?this.markerTimeout||(this.markerTimeout=setTimeout(o,this.markerDelay)):o(),i=this.getFirstLastDataRecord(t.dataSegment,"tick"),a=this.getFirstLastDataRecord(t.dataSegment,"tick",!0),i&&a)){r=this.getMarkerArray("all");for(var l=0;l<r.length;l++)s=(n=r[l]).stxNodeCreator,i.tick<=n.tick&&n.tick<=a.tick?s&&s.drawMarker&&s.drawMarker(n):n.attached&&s.expand&&(s.expand.style.visibility="hidden")}},t.Marker=t.Marker||function(e){var i,a,r,n;if("gene","ric","cha","r","t","da","te",this.params={xPositioner:"date",yPositioner:"value",panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},t.extend(this.params,e),this.params.node||("DI","V",this.params.node=document.createElement("DIV")),!(i=this.params.stx))return"Marker cre","ated without s","pecifyi","ng stx",void console.log("Marker created without specifying stx");this.className||(this.className="CIQ.Marker"),t.derivedFrom(this.params.node,t.Marker.NodeCreator)?(this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node):this.node=this.params.node,a=this.params.label,i.markers[a]||(i.markers[a]=[]),i.markers[a].push(this),r=i.panels[this.params.panelName],K.l9d(),this.chart=r.chart,i.markerHelper.chartMap[this.chart.name]||(i.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]}),i.markerHelper.chartMap[this.chart.name].markers.push(this),(n=i.markerHelper.classMap[this.className])||(n=i.markerHelper.classMap[this.className]={}),n[this.params.panelName]||(n[this.params.panelName]=[]),n[this.params.panelName].push(this),this.stxNodeCreator&&this.stxNodeCreator.deferAttach||i.addToHolder(this),i.setMarkerTick(this),this.stxNodeCreator&&this.stxNodeCreator.drawMarker&&this.stxNodeCreator.drawMarker(this)},t.Marker.prototype.remove=function(){K.A9d(),this.params.stx.removeFromHolder(this)},t.Marker.prototype.click=function(e){var t,i;t="n",t+="um",typeof arguments[0]===(t+="ber")&&(e={cx:arguments[0],cy:arguments[1],panel:arguments[3]});var{cx:a,cy:r,panel:n}=e;this.params.stx&&(i=this.params.node).click&&i.click(a,r,this,n)},t.Marker.prototype.doubleClick=function(e){let{cx:t,cy:i,panel:a}=e;return K.l9d(),!1},t.Marker.prototype.render=function(){var e,t;e=[this],t={stx:this.params.stx,arr:e,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},K.l9d(),this.constructor.placementFunction(t)},t.Marker.removeByLabel=function(e,t){var i,a;K.A9d(),i=e.getMarkerArray("label",t);for(var r=0;r<i.length;r++)a=i[r],e.removeFromHolder(a),a.stxNodeCreator&&a.stxNodeCreator.remove&&a.stxNodeCreator.remove(a);e.draw()},t.Marker.positionContentVerticalAndHorizontal=function(e){var i,a,r,n,s,o,l,h,c,u,d,p=K;if((i=e.querySelectorAll(".stx-marker-expand")[0])&&t.trulyVisible(i)){a=i.offsetHeight,(r=i.style).left=r.right="",r.bottom=r.top="",s=(n=getComputedStyle(i)).left,o=n.bottom,p.O9X(30);var m=p.L9X(30,13,380);l=e.offsetLeft+parseInt(s,m),h=parseInt(o,10),c=e.offsetTop-(h+a-e.offsetHeight),u=e.parentNode.offsetWidth,d=e.parentNode.offsetHeight,l+i.offsetWidth>u&&(r.right=s,r.left="auto"),e.offsetTop<=d?c>d-a&&("a","u","t","o",r.top=d-e.offsetTop-a+"px",r.bottom="auto"):(p.I9X(0),r.top=p.x9X("px",d)),e.offsetTop+e.offsetHeight>=0?c<0&&("p","x",r.top=-e.offsetTop+"px",r.bottom="auto"):("0","p","x",r.bottom="0px")}},t.Marker.initializeScrollBehavior=function(e){K.A9d();var{expand:i}=e;if(i){i.addEventListener(t.wheelEvent,e=>(K.A9d(),e.stopPropagation()));var{scrollbarStyling:a}=t.UI||{};a?a.refresh(i):i.style.overflowY="scroll"}},t.ChartEngine.prototype.getBarBounds=function(e){var t,i,a,r;return"pan","df",this.layout.chartType,t="pandf"==this.layout.aggregationType?{high:Math.max(e.pfOpen,e.pfClose),low:Math.min(e.pfOpen,e.pfClose)}:{high:e.High,low:e.Low},e.markerHigh&&(t.high=e.markerHigh),e.markerLow&&(t.low=e.markerLow),void 0===e.Open&&(i=e.Close),void 0===e.High&&(a=Math.max(e.Open||i,e.Close)),void 0===e.Low&&(r=Math.min(e.Open||i,e.Close)),t.high||0===t.high||(t.high=a),t.low||0===t.low||(t.low=r),t},t.ChartEngine.prototype.defaultMarkerPlacement=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T=K;i=e.panel,a=e.yAxis?e.yAxis:e.panel.yAxis,r=i.chart,n=e.stx,T.l9d(),s=n.chart.highLowBars,(o=r.defaultPlotField)&&!s||(o="Close"),l={};for(var M=0;M<e.arr.length;M++)if("n","on","e",c=(h=e.arr[M]).params,!h.params.box){if(u=h.node,h.clientWidth||(h.clientWidth=u.clientWidth),h.clientHeight||(h.clientHeight=u.clientHeight),d=null,p=c.xPositioner,m=c.yPositioner,g=h.tick,f=r.dataSet,y=h.clientWidth,"none"!=p){if("bar"==p&&c.x){c.x<r.xaxis.length&&(v=r.xaxis[c.x])&&(d=v.data),T.O9X(0);var F=T.x9X(1,1);T.I9X(80);var P=T.L9X(18,12,1,9,12);u.style.left=Math.round(n.pixelFromBar(c.x,r)-y/F)+P+"px"}else{if("p","x",!g&&0!==g){if(!(c.future&&r.scroll<r.maxTicks)){u.style.left="-1000px";continue}if(n.futureTickIfDisplayed(h),!(g=h.tick)&&0!==g){u.style.left="-1000px";continue}}if(g<f.length&&(d=f[g]),h.leftpx=Math.round(n.pixelFromTick(g,r)-r.left-y/2),h.rightEdge=h.leftpx+y,u.style.left=h.leftpx+"px",g<e.firstTick&&h.rightEdge<r.left-50)continue}d||(d=f[f.length-1])}else if(m.indexOf("candle")>-1&&(x=getComputedStyle(u).left)&&(b=n.barFromPixel(parseInt(x,10),r))>=0&&!(d=r.xaxis[b].data)){T.O9X(81);var _=T.x9X(5,36,2,14);d=f[f.length-_]}if(u.style.top="auto",C=c.y,S=h.clientHeight,"none"!=m){if("und","er_c","an","dle","und","ef","ined",k=m+"-"+u.style.left,L=c.chartContainer?n.height:i.yAxis.bottom,A=0,T.O9X(1),T.L9X(1,"0"),void 0===l[k]&&(l[k]=0),D=l[k],l[k]+=S,"value"!=m||!C&&0!==C)if("below_candle"!=m&&"under_candle"!=m||!d)if("on_candle"==m&&d){w=d[o],s&&(w=(d.Low+d.High)/2),T.I9X(52);var E=T.x9X(0,40,20);A=Math.round(L-n.pixelFromPrice(w,i,a)-S/E-D)+"px"}else"top"==m?A=Math.round(L-S-D-i.top)+"px":"bottom"==m?A=Math.round(D)+"px":d&&("hi","gh","l","o","w",w=d[o],s&&(w=n.getBarBounds(d)[a.flipped?"low":"high"]),A=Math.round(L-n.pixelFromPrice(w,i,a)+D)+"px");else"p","x",w=d[o],s&&(w=n.getBarBounds(d)[a.flipped?"high":"low"]),A=Math.round(L-n.pixelFromPrice(w,i,a)-S-D)+"px";else{T.O9X(41);var I=T.x9X(3,5,10);A=Math.round(L-n.pixelFromPrice(C,i,a)-S/I)+"px"}u.style.bottom!=A&&(u.style.bottom=A)}t.Marker.positionContentVerticalAndHorizontal(u)}},t.Marker.NodeCreator=function(){},t.Marker.NodeCreator.toNode=function(){return K.l9d(),this.node},t.Marker.Simple=function(e){var i,a,r,n;function s(){t.Marker.positionContentVerticalAndHorizontal(i)}K.A9d(),(i=this.node=document.createElement("div")).className="stx-marker",i.classList.add(e.type),e.category&&i.classList.add(e.category),a=t.newChild(i,"div","stx-visual"),t.newChild(i,"div","stx-stem"),"callout"==e.type?("h","4",n=t.newChild(a,"div","stx-marker-content"),t.newChild(n,"h4",null,e.headline),r=t.newChild(n,"div","stx-marker-expand"),t.newChild(r,"p",null,e.story)):("s","tx-ma","rker-ex","pand",r=t.newChild(i,"div","stx-marker-expand"),t.newChild(r,"h4",null,e.headline),t.newChild(r,"p",null,e.story),t.safeClickTouch(r,(function(e){K.A9d(),i.classList.toggle("highlight")}))),t.safeClickTouch(a,(function(e){i.classList.toggle("highlight"),setTimeout(s,10)})),this.nodeType="Simple",this.expand=r},t.inheritsFrom(t.Marker.Simple,t.Marker.NodeCreator,!1))},p=e=>{var t,i,a,r,n,s,o,l=K;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,l.O9X(82),a=l.L9X(60,"60000"),l.O9X(1),r=l.L9X(24,a),n=t.Market,t.Market=function(e){this.market_def=!1,this.rules=!1,this.normalHours=[],this.extraHours=[],this.class_name="Market",i.Date?this.tz_lib=i.Date:this.tz_lib=Date,this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,void 0!==e&&e&&!t.isEmpty(e)&&(e.market_definition&&(e=e.market_definition),e.rules&&(this.rules=e.rules),e.market_tz&&(this.market_tz=e.market_tz),e.convertOnDaily&&(this.convertOnDaily=e.convertOnDaily),e.hour_aligned,this.hour_aligned=e.hour_aligned,void 0!==e.beginningDayOfWeek&&(this.beginningDayOfWeek=e.beginningDayOfWeek),void 0!==e.enabled_by_default&&e.enabled_by_default instanceof Array&&(this.enabled_by_default=e.enabled_by_default),this.market_def=e,void 0===this.market_def.name&&(this.market_def.name="no market name specified"),t.Market._createTimeSegments(this),this.getSessionNames())},t.Market.Symbology=function(){},t.Market.Symbology.isForeignSymbol=function(e){return l.A9d(),!1},t.Market.Symbology.isFuturesSymbol=function(e){return l.A9d(),!1},t.Market.Symbology.isRateSymbol=function(e){return l.l9d(),!1},t.Market.Symbology.isForexSymbol=function(e){return!1},t.Market.Symbology.isForexMetal=function(e,t){return l.l9d(),!1},t.Market.Symbology.isForexFuturesSymbol=function(e){return!!t.Market.Symbology.isForexSymbol(e)||!!t.Market.Symbology.isFuturesSymbol(e)},t.Market.Symbology.factory=function(e){return null},t.Market.Symbology.encodeTermStructureInstrumentSymbol=function(e,t){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.")},n&&t.extend(t.Market,n),t.Market.prototype.sessions=null,t.Market.prototype.beginningDayOfWeek=0,t.Market.prototype.getSessionNames=function(){var e,t;return this.rules?this.sessions||(e=[],t=[],this.rules.map((function(i){i.name&&-1===e.indexOf(i.name)&&(e.push(i.name),t.push({name:i.name,enabled:!!i.enabled&&i.enabled}))})),this.sessions=t):this.sessions=[],this.sessions.slice()},t.Market.prototype._find_next_segment=function(e,t){var i,a,r,n;return this.market_def&&this.rules?(i=new Date(+e),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)&&(r=this.zseg_match.close_parts.hours,n=this.zseg_match.close_parts.minutes,i.setHours(r),i.setMinutes(n),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})),a.next()):null},t.Market.prototype._find_prev_segment=function(e,t){var i,a,r,n,s;return this.market_def&&this.rules?(i=new Date(+e),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),null===(r=this._wasOpenIntraDay(i))?(l.O9X(6),i=new Date(l.x9X(6e4,i)),r=this._wasOpenIntraDay(i)):(t&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!t&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=a.previous()),r?(n=this.zseg_match.open_parts.hours,s=this.zseg_match.open_parts.minutes,i.setHours(n),i.setMinutes(s),i=(a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===n&&this.zseg_match.close_parts.minutes===s?t?a.next():i:this.zseg_match.adjacent_child?i:t?a.next():i):a.previous()):null},t.Market.prototype.disableSession=function(e,t){var i;if(l.l9d(),i=!1,void 0!==t&&t&&(i=!0),e){for(var a=0;a<this.normalHours.length;a++)this.normalHours[a].name===e&&(this.normalHours[a].enabled=i);for(a=0;a<this.extraHours.length;a++)this.extraHours[a].name===e&&(this.extraHours[a].enabled=i)}},t.Market.prototype.enableSession=function(e){l.A9d(),this.disableSession(e,"enable_instead")},t.Market.prototype.enableAllAvailableSessions=function(){var e,t;e=2;for(var i=1;-1009190342!==l.Y19(i.toString(),i.toString().length,63309);i++)t=this.getSessionNames(),e+=2;926069760!==l.Y19(e.toString(),e.toString().length,72205)&&(t=this.getSessionNames());for(var a=0;a<t.length;a++)this.enableSession(t[a].name)},t.Market.prototype.getClose=function(e,t,i,a){var r,n;if(l.A9d(),"un","defined",!this.market_def)return null;if(!this.rules)return null;if(r=e,e||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==t){if(this._wasOpenIntraDay(r)&&this.zseg_match.name===t)return r.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.child_;)n=n.child_;for(;!n.enabled;)n=n.parent_;return r.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},t.Market.prototype.getNextClose=function(e,t,i){var a,r,n;if(!this.market_def)return null;if(!this.rules)return null;for(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),this._wasOpenIntraDay(a)||(a=this.newIterator({begin:a,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),l.A9d(),r=a.getDate(),n=this.zseg_match;n.adjacent_child;)n=n.adjacent_child,r+=1;return a.setDate(r),a.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),a=this._convertFromMarketTZ(a,i)},t.Market.prototype.getNextOpen=function(e,t,i){var a;return l.A9d(),this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_next_segment(a),this.zseg_match.adjacent_parent?(a=this.getNextOpen(a,this.market_tz,this.market_tz),a=this._convertFromMarketTZ(a,i)):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getOpen=function(e,t,i,a){var r,n;if(!this.market_def)return null;if(!this.rules)return null;if(l.l9d(),r=e,e||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==t){if(this._wasOpenIntraDay(r)&&this.zseg_match.name==t)return r.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.parent_;)n=n.parent_;for(;!n.enabled;)n=n.child_;return r.setHours(n.open_parts.hours,n.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}return null},t.Market.prototype.getNormalOpen=function(){var{market_def:e,rules:t}=this;return l.A9d(),e&&t?e.normal_daily_open?e.normal_daily_open:"FOREX"===e.name?"17:00":t.find(e=>{let{name:t}=e;return l.l9d(),!t||""===t}).open:"00:00"},t.Market.prototype.getNormalClose=function(){var{market_def:e,rules:t}=this;return e&&t?e.normal_daily_close?e.normal_daily_close:"FOREX"===e.name?"17:00":t.filter(e=>{let{dayofweek:t,name:i}=e;return t&&(!i||""===i)}).pop().close:"24:00"},t.Market.prototype.getPreviousClose=function(e,t,i){var a;return this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_prev_segment(a,!1),this.zseg_match.adjacent_child?this.getPreviousClose(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.close_parts.hours),a.setMinutes(this.zseg_match.close_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getPreviousOpen=function(e,t,i){var a;return this.market_def&&this.rules?(a=e,e||(a=new Date,t=null),a=this._convertToMarketTZ(a,t),a=this._find_prev_segment(a,!0),this.zseg_match.adjacent_parent?this.getPreviousOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))):null},t.Market.prototype.getSession=function(e,t){return e=this._convertToMarketTZ(e,t),this._wasOpenIntraDay(e)&&this.zseg_match?this.zseg_match.name:null},t.Market.prototype.marketZoneNow=function(){return l.A9d(),this._convertToMarketTZ(new Date)},t.Market.prototype.isHourAligned=function(){return l.l9d(),this.hour_aligned},t.Market.prototype.isOpen=function(){var e;return e=new Date,this.market_tz&&(e=new this.tz_lib(e.getTime(),this.market_tz)),this._wasOpenIntraDay(e)},t.Market.prototype.isMarketDay=function(){var e;return e=new Date,this.market_tz&&(e=new this.tz_lib(e.getTime(),this.market_tz)),this._wasOpenDaily(e)},t.Market.prototype.isMarketDate=function(e){return this._wasOpenDaily(e)},t.Market.prototype.newIterator=function(e){var i,a;return"s","e","c","ond",i=!1,e.periodicity?i=e.periodicity:e.multiple&&(i=e.multiple),(a=e.interval)||(a="minute"),"hour"==a&&(a=60),i||(i=1),e.begin||(e.begin=new Date,e.inZone=null),a==parseInt(a,10)&&(a=parseInt(a,10),e.periodicity<1/60?(l.I9X(83),i=l.x9X(a,6e4,i),a="millisecond"):e.periodicity<1?(l.I9X(84),i=l.L9X(i,"60",a),a="second"):(l.I9X(1),i=l.x9X(a,i),a="minute")),e.timeUnit&&("t","ick","millisecond"===e.timeUnit||"second"===e.timeUnit?a=e.timeUnit:"tick"===e.timeUnit&&(a="second")),"tick"==a&&(a="second"),e.interval=a,e.multiple=i,e.market=this,new t.Market.Iterator(e)},t.Market.prototype._wasOpenDaily=function(e){return this._was_open(e,!1)},t.Market.prototype._wasOpenIntraDay=function(e){return l.l9d(),this._was_open(e,!0)},t.Market.prototype._was_open=function(e,t){var i,a,r,n,s,o,h,c,u,d,p,m,g;if("und","ef","i","ned",i=this.zseg_match,this.zopen_hour=0,this.zopen_minute=0,l.O9X(74),this.zclose_hour=l.x9X(2147483647,"0"),this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour=24,!0;for(a=!1,l.A9d(),r=!1,n=e.getFullYear(),s=e.getMonth()+1,o=e.getDay(),h=e.getDate(),c=e.getHours(),u=e.getMinutes(),d=e.getSeconds(),l.O9X(85),m=l.x9X(60,60,60,u,c,d),void 0===t&&(t=!0),g=0;g<this.normalHours.length;g++)if((p=this.normalHours[g]).enabled&&((a=p.dayofweek===o)&&t&&(a=m>=p.open&&m<p.close),a)){if(!t&&this.zseg_match&&(p.open_parts.hours>this.zopen_hour||p.open_parts.hours==this.zopen_hour&&p.open_parts.minutes>this.zopen_minute))continue;if(p===i||p.adjacent_parent||p.adjacent_child||(this.shouldResetToBeginningOfSegment=!0),this.zopen_hour=p.open_parts.hours,this.zopen_minute=p.open_parts.minutes,this.zclose_hour=p.close_parts.hours,this.zclose_minute=p.close_parts.minutes,this.zmatch_open=m===p.open,this.zseg_match=p,t)break}for(g=0;g<this.extraHours.length;g++)if((p=this.extraHours[g]).enabled&&("*"===p.year||n===p.year)&&s===p.month&&h===p.day&&(!(r=!t&&p.open||m>=p.open&&m<p.close)&&this.zseg_match&&(a=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),r)){if(!t&&this.zseg_match&&(p.open_parts.hours>this.zopen_hour||p.open_parts.hours==this.zopen_hour&&p.open_parts.minutes>this.zopen_minute))continue;if(this.zopen_hour=p.open_parts.hours,this.zopen_minute=p.open_parts.minutes,this.zclose_hour=p.close_parts.hours,this.zclose_minute=p.close_parts.minutes,this.zmatch_open=m===p.open,this.zseg_match=p,t)break}return this.zseg_match},t.Market.prototype._wasClosed=function(e){return l.l9d(),!this._was_open(e,!0)},t.Market.prototype._wasOpen=function(e){return l.l9d(),this._was_open(e,!0)},t.Market.prototype._tzDifferenceMillis=function(e,t,i){var a,r;a=e,r=e.getTimezoneOffset()-a.getTimezoneOffset(),l.A9d();for(var n=1;218025821!==l.g19(n.toString(),n.toString().length,26844);n++)return l.O9X(86),l.x9X(2147483647,"69",r,7810);if(-2121537214!==l.Y19(2..toString(),2..toString().length,44047))return l.I9X(83),l.L9X(60,1e3,r)},t.Market._createTimeSegments=function(e){var t,i,a,r,n;l.A9d(),t=function(e,t){if(24===e.close_parts.hours&&0===t.open_parts.hours&&0===t.open_parts.minutes){if(i.dayofweek===r.dayofweek-1)return!0;if(6===i.dayofweek&&0===r.dayofweek)return!0}return!1};for(var o=0;o<e.rules.length;o++){"nam","e","u","ndef","ined",void 0===(a=JSON.parse(JSON.stringify(e.rules[o]))).open&&void 0===a.close&&(a.open="00:00",a.close="00:00"),a.hasOwnProperty("name")||(a.name="");try{if(void 0!==a.dayofweek?(a.year="*",r=s._createDayOfWeekSegment(e,a),i&&(i.dayofweek===r.dayofweek?(i.child_=r,r.parent_=i):t(i,r)&&(i.adjacent_child=r,r.adjacent_parent=i)),i=r):void 0!==a.date?(a.isDayOfWeek=!1,a.dayofweek=-1,r=s._createDateTimeSegment(e,a)):(l.I9X(0),console.log(l.L9X(a,"Error, unknown rule type "))),e.enabled_by_default)for(var h=0;h<e.enabled_by_default.length;h++)if(n=e.enabled_by_default[h],r.name===n){r.enabled=!0;break}}catch(e){l.I9X(0),console.log(l.x9X(e,"Error, creating market rules "))}}},t.Market._timeSegment={},(s=t.Market._timeSegment).re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,s.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s.re_split_hours_minutes=/^(\d\d):(\d\d)$/,s.re_split_hour_minutes=/^(\d):(\d\d)$/,s._hashCode=function(e){var t,i,a,r;if(t=0,0===e.length)return t;for(i=0,r=e.length;i<r;i++)a=e.charCodeAt(i),l.O9X(87),t=l.x9X(5,t,a,t),t|=0;return t},s._splitHoursMinutes=function(e){var t,i;return i={hours:NaN,minutes:NaN},null===(t=s.re_split_hour_minutes.exec(e))&&null===(t=s.re_split_hours_minutes.exec(e))||(i.hours=parseInt(t[1],10),i.minutes=parseInt(t[2],10),l.A9d()),i},s._createDayOfWeekSegment=function(e,t){var i;return""===(i={name:t.name,isDayOfWeek:!0,dayofweek:t.dayofweek,date_str:"*",open_parts:s._splitHoursMinutes(t.open),close_parts:s._splitHoursMinutes(t.close),open:s._secSinceMidnight(e,t.open,!0),close:s._secSinceMidnight(e,t.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1}).name&&(i.enabled=!0),i.hash_code=this._hashCode((i.open+i.close).toString()),e.normalHours.push(i),i},s._createDateTimeSegment=function(e,t){var i,a,r;if(l.l9d(),null===(i=this.re_regular_iso.exec(t.date))){if(null===(i=this.re_wild_card_iso.exec(t.date)))return void console.log("Warning: invalid date format on rule -> "+t.date);a="*"}else a=parseInt(i[1],10);return""===(r={name:t.name,isDayOfWeek:!1,dayofweek:-1,year:a,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:t.date,open_parts:s._splitHoursMinutes(t.open),close_parts:s._splitHoursMinutes(t.close),open:s._secSinceMidnight(e,t.open,!0),close:s._secSinceMidnight(e,t.close,!1),enabled:!1}).name&&(r.enabled=!0),r.hash_key=this._hashCode(r.date_str+r.open+r.close),e.extraHours.push(r),r},s._secSinceMidnight=function(e,t,i){var a,r,n,s,o,h;if(l.l9d(),a=t.split(":"),r=parseInt(a[0],10),n=parseInt(a[1],10),l.O9X(88),s=l.x9X(r,60,60,n,60),!i&&24===r){l.O9X(74),o=l.x9X(2147483647,"1085748585"),1752063099,h=2;for(var c=1;l.g19(c.toString(),c.toString().length,53201)!==o;c++)l.O9X(89),s=l.x9X(43,3,58,r),h+=2;1752063099!==l.Y19(h.toString(),h.toString().length,55327)&&(l.O9X(90),s=l.L9X(1,"60",60,119202368,r))}return s},t.Market.prototype._convertToMarketTZ=function(e,t){var i;return l.l9d(),(i=t?new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),t):new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())).setTimezone&&i.setTimezone(this.market_tz),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())},t.Market.prototype._convertFromMarketTZ=function(e,t){var i;return i=new this.tz_lib(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),this.market_tz),t?(i.setTimezone&&i.setTimezone(t),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())},t.Market.Iterator=function(e){this.market=e.market,l.l9d(),this.begin=e.begin,this.interval=e.interval,this.multiple=e.multiple,this.inZone=e.inZone,this.outZone=e.outZone,this.clock=new t.Market.Iterator._Clock(e.market,e.interval,e.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,e.inZone)),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1},t.Market.Iterator.prototype.date=function(){return this.clock._date()},t.Market.Iterator.prototype.futureTick=function(e){var t,i,a,r,n,s,o;if(this.clock.skip=1,l.I9X(1),t=l.x9X(1,"0"),(i=this.intraDay?this.market._convertToMarketTZ(e.end,this.inZone).getTime():e.end.getTime())===(a=this.clock.ctime))return t;if(r=2,1e3,n=0,e.sample_size&&(r=e.sample_size),s=(new Date).getTime(),i>a){for(this.clock.forward=!0;this.clock.ctime<i;)if(t+=1,l.O9X(50),n+=l.x9X("1",1),this.clock._findNext(),1e3===n&&(n=0,(new Date).getTime()-s>=r)){o=(this.clock.ctime-a)/t,l.O9X(91),t=Math.floor(l.x9X(o,i,a));break}this.clock.ctime>i&&t--}else for(this.clock.forward=!1;this.clock.ctime>i;)if(t+=1,n+=1,this.clock._findPrevious(),1e3===n&&(l.I9X(74),n=l.L9X(2147483647,"0"),(new Date).getTime()-s>=r)){o=(a-this.clock.ctime)/t,l.I9X(91),t=Math.floor(l.x9X(o,a,i));break}return t},t.Market.Iterator.prototype.isHourAligned=function(){return l.l9d(),!this.intraDay||this.market.isHourAligned()},t.Market.Iterator.prototype.isOpen=function(){return l.A9d(),this.market.isOpen()},t.Market.Iterator.prototype.next=function(e){this.clock.skip=1,e&&(this.clock.skip=e),this.clock.forward=!0;for(var t=0;t<this.clock.skip;t++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},t.Market.Iterator.prototype.peek=function(){return l.A9d(),this.clock._peek()},t.Market.Iterator.prototype.previous=function(e){this.clock.skip=1,e&&(this.clock.skip=e),this.clock.forward=!1,l.l9d();for(var t=0;t<this.clock.skip;t++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},t.Market.Iterator._Clock=function(e,t,i){var n,s;i%60==0&&"second"===t&&(t="minute",l.O9X(7),i=l.x9X(i,60)),this.market=e,this.interval=t,this.multiple=i,this.intra_day=!1,this.intervals=[],this.max_iters=10080,n=r,s=this._dayImpl,"millisecond"===t?(s=this._millisImpl,n=1):"second"===t?(s=this._secondImpl,n=1e3):"minute"===t?(s=this._minuteImpl,n=6e4):"hour"===t?(s=this._hourImpl,n=a):"day"===t?(s=this._dayImpl,n=r):"week"===t?(s=this._weekImpl,l.I9X(1),n=l.x9X(7,r)):"month"===t?(s=this._monthImpl,l.I9X(92),n=l.x9X(r,"30")):(l.I9X(21),console.log(l.x9X('Periodicity ERROR: "',t,'" is not a valid interval. Please see setPeriodicity() for details.'))),l.O9X(1),this.tick_time=l.x9X(i,n),this.intra_day=this.tick_time<r,this._findPrevious=this._findNext=s},(o=t.Market.Iterator._Clock.prototype)._total_minutes=function(e,t,i,a){return l.I9X(93),l.l9d(),l.L9X(i,60,a,t,e)},o._alignMinutes=function(){var e,t,i,a,r;if(!this.market.market_def||void 0===this.market.zopen_minute)return[];if(e=this.market.zopen_minute,(t=this.market.zseg_match)&&t.adjacent_parent){l.O9X(94);var n=l.x9X(52,3996,6,13);l.I9X(12);var s=l.L9X(11,14,1446,14480);e=t.adjacent_parent.open/n-s}else this.market.isHourAligned()&&this.multiple%60==0&&(e=0);for(i=this._total_minutes(this.market.zopen_hour,e,this.market.zclose_hour,this.market.zclose_minute),a=[],l.I9X(1),r=l.x9X(1,"0");r<i;)l.O9X(0),a.push(l.x9X(r,e)),r+=this.multiple;return a},o._alignBaseZero=function(e){var t,i;for(i=[t=0];!((t+=this.multiple)>=e);)i.push(t);return i},o._date=function(){var e,t;return e=Math.round(this.ctime),l.l9d(),t=new Date(e),this.intra_day?this.display_date=new Date(e+this.shift_millis):this.display_date=t,t},o._alignToBoundary=function(e,t){var i,a,r;i=0,a=0,r=t;for(var n=0;n<e.length-1&&(i=e[n],l.O9X(0),a=e[l.x9X(1,n)],t!==i&&t!==a);n++){if(t>i&&t<a){r=i;break}n+1===e.length-1&&(r=a)}return r},o._peek=function(){return this._date().toString()},o._seekHr=function(){this.forward?this.ctime-=a:this.ctime+=a},o._setStart=function(e){var t,i;t=this.market._tzDifferenceMillis(e),i=new Date(e.getTime()+t),this.shift_millis=t,this.ctime=i.getTime(),l.O9X(49),this.shift_millis=l.L9X(0,"0"),this.ctime=e.getTime()},o._tickTock=function(){l.l9d(),this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},o._tockTick=function(){this.forward?this.ctime-=this.tick_time:this.ctime+=this.tick_time},o._tickTock24=function(){var e;l.l9d(),e=2;for(var t=1;239824313!==l.Y19(t.toString(),t.toString().length,47414);t++)this.ctime*=r,e+=2;-371214485!==l.Y19(e.toString(),e.toString().length,15467)&&(this.ctime+=r)},o._tockTick24=function(){l.A9d(),this.ctime-=r},o._windMaybe=function(e,t){var i,a,r,n;for(i=0,a=new Date(this.ctime),l.l9d(),r=!1;!e.call(this.market,a);)if(t.call(this),r=!0,a=new Date(this.ctime),(i+=1)>this.max_iters){n="Warning! max iterations ("+this.max_iters,n+=") reached with no rule match.",console.log(n);break}return r},o._millisImpl=function(){var e,t,i,a,r,n,s,o,h,c;return e=!1,this.mperiods_aligned||(l.I9X(6),t=this._alignBaseZero(l.L9X(0,"1000")),a=(i=new Date(this.ctime)).getMilliseconds(),a=this._alignToBoundary(t,a),i.setMilliseconds(0),this.ctime=i.getTime()+a,this.mperiods_aligned=!0,e=!0),l.A9d(),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!e&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this._date().getMilliseconds(),h=this.tick_time,this.tick_time=6e4,c=this.multiple,l.I9X(49),this.multiple=l.x9X(0,"1"),this._minuteImpl(),this.tick_time=h,this.multiple=c,l.O9X(95),this.ctime+=l.L9X(o,1e3,s)),this._date()},o._secondImpl=function(){var e,t,i,a,r,n,s,o,h;return l.A9d(),e=!1,this.speriod_aligned||(t=this._alignBaseZero(60),a=(i=new Date(this.ctime)).getSeconds(),a=this._alignToBoundary(t,a),i.setSeconds(a),i.setMilliseconds(0),this.ctime=i.getTime(),this.speriod_aligned=!0,e=!0),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!e&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),o=this.tick_time,this.tick_time=6e4,h=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=o,this.multiple=h,l.O9X(1),this.ctime+=l.L9X(s,1e3)),this._date()},o._minuteImpl=function(){var e,t,i,a,r,n,s,o,h,c;if(e=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=(t=new Date(this.ctime)).getTimezoneOffset(),a=t.getMinutes(),r=t.getHours(),n=this._alignMinutes(),s=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,r,a)+this.market.zopen_minute,e)if(this.forward){l.O9X(11);var u=l.L9X(2,8,9);s=n[n.length-u]}else s=n[0];else s=this._alignToBoundary(n,s);l.O9X(95);var d=l.x9X(40,4,5);if(r=Math.floor(s/d)+this.market.zopen_hour,l.I9X(73),t.setHours(r,l.L9X(60,s),0,0),o=t.getTimezoneOffset()-i,(this.forward&&o<0||!this.forward&&o>0)&&t.setTime(t.getTime()-6e4*o),this.ctime=t.getTime(),this._tickTock(),h=this.market.hour_aligned&&this.multiple%60==0,this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!h&&this.shouldResetToBeginningOfSegment){if(t=new Date(this.ctime),this.forward)t.setMinutes(this.market.zopen_minute),t.setHours(this.market.zopen_hour);else{n=this._alignMinutes(),l.O9X(6);var p=l.x9X(2,1053754658);c=n[n.length-("1"<<p)],l.O9X(73),t.setMinutes(l.x9X(60,c)),t.setHours(Math.floor(c/60)+this.market.zopen_hour)}this.ctime=t.getTime()}return this._date()},o._hourImpl=function(){var e,t,i,a,r;if(this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),e=new Date(this.ctime),this.market.isHourAligned()?(l.I9X(1),e.setMinutes(l.L9X(1,"0"))):e.setMinutes(this.market.zopen_minute),e.setSeconds(0),e.setMilliseconds(0),this.ctime=e.getTime(),this._tickTock(),t=this.market.zseg_match,this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!this.market.hour_aligned&&t!=this.market.zseg_match){if(i=new Date(this.ctime),this.forward)i.setMinutes(this.market.zopen_minute),i.setHours(this.market.zopen_hour);else{a=this._alignMinutes(),l.I9X(11);var n=l.L9X(7,2,8);r=a[a.length-n],l.I9X(73),i.setMinutes(l.x9X(60,r)),i.setHours(Math.floor(r/60)+this.market.zopen_hour)}this.ctime=i.getTime()}return this._date()},o._dayImpl=function(){var e,t;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),e=new Date(this.ctime),l.l9d(),e.setHours(12,0,0,0),this.ctime=e.getTime(),t=0;t<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(t+=1);return(e=new Date(this.ctime)).setHours(0),this.ctime=e.getTime(),this._date()},o._weekImpl=function(){var e,t;for(e=this.market,(t=new Date(this.ctime)).setHours(12),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime);t.getDay()!==e.beginningDayOfWeek;)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(e._wasOpenDaily,this._tickTock24),t=new Date(this.ctime),l.O9X(74),t.setHours(0,0,l.L9X(2147483647,"0"),0),this.ctime=t.getTime(),this._date()},o._monthImpl=function(){var e;return(e=new Date(this.ctime)).setDate(15),this.ctime=e.getTime(),this._tickTock(),e=new Date(this.ctime),l.O9X(53),e.setDate(l.x9X(1850868064,"1")),e.setHours(12),this.ctime=e.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(e=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=e.getTime(),this._date()},o._findNext=null,o._findPrevious=null},m=e=>{var t,i,a,r=K;r.u1Q=function(e){if(r.l9d(),r)return r.d1Q(e)},r.m1Q=function(e){if(r.A9d(),r&&e)return r.C1Q(e)},r.f1Q=function(e){if(r&&e)return r.d1Q(e)},r.h1Q=function(e){if(r&&e)return r.d1Q(e)},r.k1Q=function(e){if(r.A9d(),r&&e)return r.C1Q(e)},t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="valid",r.I9X(74),t.valid=r.x9X(2147483647,"0"),t[r.k1Q("e3d7")?"ChartEngine":""][r.h1Q("782e")?"prototype":""][r.a1Q("bb8c")?"":"mousemoveinner"]=function(e,a){r.Q1Q=function(e){if(r&&e)return r.d1Q(e)},r.z1Q=function(e){if(r)return r.C1Q(e)},r.I1Q=function(e){if(r&&e)return r.C1Q(e)},r.G1Q=function(e){if(r.A9d(),r&&e)return r.d1Q(e)};var n=-(r.e1Q("927e")?5584694209:1369033598),s=-(r.f1Q("d2d2")?275100496:944535649),o=r.G1Q("d968")?8967121776:1152522172,l=-(r.J1Q("3c99")?1774336746:3889723347),h=r.I1Q("d4c1")?902808910:460082353,c=32925579,u=487848811,d=r.z1Q("e7d4")?3570473681:2029656737,p=-(r.B1Q("34b1")?502099741:183904618),m=486932963,g=-709227830,f=1970054570,y=r.o1Q("3fa1")?1654477928:6413283408,v=r.Q1Q("87d9")?1195516860:6721782531,x=-1938824572,b=r.m1Q("1787")?723786846:729079046;if(r.G9L(0,!r.W1Q("1ee4"),r.u1Q("47e3")?899828:412402)===n||r.C9L(0,!1,861235)===s||r.C9L(11,!1,554462)===o||r.G9L(0,!1,537004)===l||r.G9L(10,!1,443528)===h||r.C9L(0,!1,709995)===c||r.G9L(10,!1,851828)===u||r.G9L(0,!1,314098)===d||r.C9L(11,!1,603729)===p||r.G9L(0,!1,150159)===m||r.G9L(10,!1,394554)===g||r.G9L(0,!1,886680)===f||r.G9L(10,!1,683489)===y||r.G9L(0,!1,216268)===v||r.G9L(9,!1,736043)===x||r.G9L(0,!1,933434)===b){var C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,Q,V,B,U,j,Y,q,Z,G,J;if(C="mouse",C+="moveinner",!this.chart.canvas)return;if(!(t.isAndroid||t.isIOS7or8||this.chart.canvas.height==Math.floor(this.devicePixelRatio*this.chart.container.clientHeight)&&this.chart.canvas.width==Math.floor(this.devicePixelRatio*this.chart.container.clientWidth)))return void this.resizeChart();if(this.runPrepend(C,arguments))return;if(w=arguments,k=this.container.getBoundingClientRect(),this.top=k.top,this.left=k.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.hasDragged=!0,t.ChartEngine.crosshairX=e,t.ChartEngine.crosshairY=a,L=this.cy=this.crossYActualPos=this.backOutY(t.ChartEngine.crosshairY),A=this.cx=this.crossXActualPos=this.backOutX(t.ChartEngine.crosshairX),this.grabbingScreen&&this.anyHighlighted){r.O9X(96);var $=r.x9X(19,12,6,9,18);r.O9X(0);var ee=r.x9X(2,0);if(Math.pow(this.grabStartX-e,$)+Math.pow(this.grabStartY-a,ee)<36)return}if(this.cancelLongHold=!0,D=function(e,a){if(r.A9d(),-1268502337===r.C9L(0,!1,530311)||-1129431116===r.C9L(0,!1,205970)||1790116959===r.G9L(11,!1,629460)||597120635===r.G9L(0,!1,314647)||434516339===r.C9L(10,!1,560879)||1009665056===r.G9L(0,!1,785601)||-264380120===r.G9L(10,!1,340359)||-791527354===r.C9L(0,!1,574914)||-1885086312===r.G9L(11,!1,507161)||316561223===r.G9L(0,!1,396977)||1481940314===r.G9L(10,!1,690932)||1900197950===r.G9L(0,!1,929433)||724186871===r.C9L(10,!1,919269)||907561193===r.C9L(0,!1,980510)||2008939533===r.G9L(9,!1,687614)||1914828977===r.C9L(0,!1,354209)){if(0===t[i])return e.whichPanel(a)||e.chart.panel;e.draw[i]||(e.draw=function(){-399978118!==r.C9L(0,!1,191196)&&155774614!==r.C9L(0,!1,574294)&&-2001359268!==r.G9L(11,!1,673139)&&-763208433!==r.C9L(0,!1,143089)&&1469188647!==r.C9L(10,!1,506231)&&-759780068!==r.C9L(0,!1,446435)&&1971180036!==r.C9L(10,!1,837737)&&636805352!==r.C9L(0,!1,218691)&&1299693418!==r.C9L(11,!1,433331)&&639047202!==r.G9L(0,!1,734238)&&1555073133!==r.G9L(10,!1,407242)&&1790167306!==r.G9L(0,!1,771968)&&-655644609!==r.G9L(10,!1,840283)&&91382829!==r.G9L(0,!1,883505)&&1171012760!==r.G9L(9,!1,980018)&&1934248565!==r.G9L(0,!1,762557)||t.clearCanvas(this.chart.canvas,this)},e.draw[i]=!0)}},this.currentPanel=D(this,L),!this.currentPanel)return;function te(e){r.l9d();-269499956!==r.G9L(0,!1,459371)&&1364765024!==r.G9L(0,!1,317818)&&-678501013!==r.G9L(11,!1,321603)&&1804467678!==r.C9L(0,!1,364110)&&256315928!==r.C9L(10,!1,683307)&&-1183561877!==r.G9L(0,!1,865225)&&-1232091893!==r.G9L(10,!1,624271)&&-1509433451!==r.C9L(0,!1,282431)&&-2051033470!==r.G9L(11,!1,606992)&&1543238135!==r.C9L(0,!1,191790)&&646129359!==r.G9L(10,!1,709338)&&-1784748347!==r.G9L(0,!1,373279)&&456318646!==r.C9L(10,!1,749973)&&643461910!==r.C9L(0,!1,615746)&&1429249725!==r.C9L(9,!1,494650)&&-894429253!==r.G9L(0,!1,236222)||(e.currentBaseline=null,e.runAppend("mousemoveinner",w))}if((T=this.currentPanel.chart).dataSet&&(this.crosshairTick=this.tickFromPixel(A,T),S=this.valueFromPixel(L,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,S),(M="chart"==this.currentPanel.name?this.preferences.horizontalCrosshairField:this.currentPanel.horizontalCrosshairField)&&this.crosshairTick<T.dataSet.length&&this.crosshairTick>-1&&(S=T.dataSet[this.crosshairTick][M],this.crossYActualPos=this.pixelFromPrice(S,this.currentPanel))),t.ChartEngine.crosshairX>=this.left&&t.ChartEngine.crosshairX<=this.right&&t.ChartEngine.crosshairY>=this.top&&t.ChartEngine.crosshairY<=this.bottom){F=917250754,P=-732573405,_=2;for(var ie=1;r.Y19(ie.toString(),ie.toString().length,14851)!==F;ie++)this.insideChart=!1,_+=2;r.Y19(_.toString(),_.toString().length,31294)!==P&&(this.insideChart=!1),this.insideChart=!0}else this.insideChart=!1;if(E=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=this.insideChart&&t.ChartEngine.crosshairY<=E+this.top&&t.ChartEngine.crosshairY>E-this.xaxisHeight+this.top,this.overYAxis=(this.cx>=this.currentPanel.right||this.cx<=this.currentPanel.left)&&this.insideChart,(this.overXAxis||this.overYAxis||!this.insideChart&&!this.grabbingScreen)&&(this.undisplayCrosshairs(),!this.overXAxis&&!this.overYAxis))return;if(!this.displayCrosshairs&&!t.ChartEngine.resizingPanel)return void this.undisplayCrosshairs();if(this.repositioningBaseline)return this.setBaselineUserLevel(),te(this);if(this.repositioningAnchorSelector)return K=this.repositioningAnchorSelector.hoverTick,(I=this.tickFromPixel(this.cx,this.chart))>=0&&I<this.chart.dataSet.length&&(!K||0===K||I!==K)&&(this.repositioningAnchorSelector.hoverTick=I,this.draw()),te(this);if(this.grabbingScreen&&!t.ChartEngine.resizingPanel){if(N="p",N+="a",N+="n",this.highlightedDraggable)return this.displayDragOK(!0),this.dragPlotOrAxis(A,L),te(this);if(this.anyHighlighted){for(O in t.clearCanvas(this.chart.tempCanvas,this),this.anyHighlighted=!1,this.overlays)this.overlays[O].highlight=!1;for(O in T.series)T.series[O].highlight=!1;this.displaySticky()}if(-1==this.grabStartX&&(this.grabStartX=t.ChartEngine.crosshairX,this.grabStartScrollX=T.scroll),-1==this.grabStartY&&(this.grabStartY=t.ChartEngine.crosshairY,this.grabStartScrollY=this.currentPanel.yAxis.scroll),X=t.ChartEngine.crosshairX-this.grabStartX,z=t.ChartEngine.crosshairY-this.grabStartY,0===X&&0===z)return;if(Math.abs(X)+Math.abs(z)>5&&(this.grabOverrideClick=!0),R=this.layout.candleWidth,this.allowZoom&&this.grabMode!=N&&(0===this.grabMode.indexOf("zoom")||this.overXAxis||this.grabStartYAxis)){if(""===this.grabMode&&(this.overXAxis?this.grabMode="zoom-x":this.grabStartYAxis&&(this.grabMode="zoom-y")),"zoom-x"==this.grabMode?(r.I9X(53),z=r.x9X(1720825952,"0")):"zoom-y"==this.grabMode&&(X=0),X&&(this.grabStartX=t.ChartEngine.crosshairX,W=R-X/this.chart.maxTicks,this.zoomSet(W,this.chart)),this.layout.setSpan&&(this.layout.setSpan=null,this.changeOccurred("layout")),H=this.grabStartYAxis){r.I9X(1),Q=-r.L9X(1,"1514675592"),V=-1631182443,B=2;for(var ae=1;r.g19(ae.toString(),ae.toString().length,90150)!==Q;ae++)H.flipped&&(z+=!0),r.I9X(53),B+=r.x9X(504191392,"2");if(r.Y19(B.toString(),B.toString().length,12448)!==V&&H.flipped&&(z*=-1),H.zoom=Math.round(this.grabStartZoom+z),this.grabStartZoom<H.height){if(H.zoom>=H.height){r.O9X(17);var re=r.L9X(9,13,8,29);H.zoom=H.height-re}}else{U=-489428741,j=-2047896574,r.I9X(74),Y=r.L9X(2147483647,"2");for(var ne=1;r.Y19(ne.toString(),ne.toString().length,66504)!==U;ne++){if(H.zoom>=H.height){r.O9X(10);var se=r.L9X(252,0,13,19);H.zoom=H.height%se}Y+=2}if(r.g19(Y.toString(),Y.toString().length,7764)!==j&&H.zoom>=H.height&&(H.zoom=H.height%5),H.zoom<=H.height){r.O9X(6);var oe=r.L9X(5,6);H.zoom=H.height+oe}}}}else if(!this.overYAxis&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!0}),this.allowScroll)){if(Math.abs(z)<this.yTolerance){if(!this.yToleranceBroken&&(r.O9X(6),z=r.L9X(0,"0"),0===X))return}else this.yToleranceBroken=!0;this.grabStartMicropixels||(this.grabStartMicropixels=0),this.grabMode="pan",T.scroll=this.grabStartScrollX,r.I9X(6);var le=r.x9X(15,2091346031);r.I9X(47);var he=r.L9X(8,10,10,8);if(this.micropixels=this.grabStartMicropixels+X*(this.shift?"5"<<le:he),!this.lineTravelSpacing){for(;this.micropixels>0;)this.micropixels-=R,T.scroll++;for(;this.micropixels<-R;)this.micropixels+=R,T.scroll--}T.scroll>=T.maxTicks?this.preferences.whitespace=this.initialWhitespace:this.preferences.whitespace=(T.maxTicks-T.scroll)*R,this.currentPanel==this.grabStartPanel&&((H=this.currentPanel.yAxis).flipped&&(z*=-1),H.scroll=this.grabStartScrollY+z),this.dispatch("scroll",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy})}return q=function(e){if(r.A9d(),623993072===r.C9L(0,!1,224336)||138055977===r.C9L(0,!1,563906)||1575567228===r.G9L(11,!1,371292)||-1370910677===r.C9L(0,!1,531038)||456356204===r.G9L(10,!1,832232)||2035690280===r.C9L(0,!1,722847)||-1199370808===r.C9L(10,!1,914628)||-2034781445===r.C9L(0,!1,285638)||-1269676436===r.G9L(11,!1,788171)||-205772576===r.C9L(0,!1,384542)||-1305241029===r.G9L(10,!1,928811)||1723785792===r.C9L(0,!1,480944)||-1851803572===r.G9L(10,!1,530694)||-1749441133===r.G9L(0,!1,312601)||-1169724342===r.G9L(9,!1,404933)||802213184===r.C9L(0,!1,949644))return function(){r.A9d();-673160581!==r.C9L(0,!1,856899)&&1934634290!==r.C9L(0,!1,764459)&&-2039619377!==r.G9L(11,!1,505102)&&1913686508!==r.C9L(0,!1,649235)&&50542274!==r.C9L(10,!1,489452)&&-558270411!==r.G9L(0,!1,166714)&&1665186236!==r.G9L(10,!1,319634)&&-454986799!==r.C9L(0,!1,867491)&&120712930!==r.G9L(11,!1,988227)&&1953828433!==r.C9L(0,!1,370858)&&2108752921!==r.G9L(10,!1,167002)&&723767570!==r.G9L(0,!1,596288)&&1304781947!==r.G9L(10,!1,501561)&&1225308e3!==r.G9L(0,!1,783346)&&-1172325387!==r.G9L(9,!1,578838)&&1374929070!==r.G9L(0,!1,930244)||(e.draw(),e.updateChartAccessories())}},t.ChartEngine.useAnimation?window.requestAnimationFrame(q(this)):(this.draw(),this.updateChartAccessories()),this.activeDrawing&&(t.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}return this.grabMode="",this.overXAxis||this.overYAxis?(this.updateChartAccessories(),this.tapForHighlighting&&this.touchingEvent&&!this.anyHighlighted||this.findHighlights(),te(this)):(this.controls.crossX&&(this.controls.crossX.style.left=this.pixelFromTick(this.crosshairTick,T)-.5+"px"),this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+"px"),this.insideChart&&!t.ChartEngine.resizingPanel?(Z=this.currentVectorParameters.vectorType,this.layout.studies&&(G=this.layout.studies[this.currentPanel.name])&&(this.preferences.dragging&&this.preferences.dragging.study||delete this.overlays[G.name],Z&&(this.overlays[G.name]=G)),t.Drawing&&Z&&t.Drawing[Z]&&(new t.Drawing[Z]).dragToDraw||this.doDisplayCrosshairs(),this.updateChartAccessories()):this.undisplayCrosshairs(),this.magnetize&&this.magnetize(),this.repositioningDrawing?this.repositionDrawing(this.repositioningDrawing):t.ChartEngine.drawingLine?this.activeDrawing&&(J=this.panels[this.activeDrawing.panelName],S=this.adjustIfNecessary(J,this.crosshairTick,this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),J)),this.magnetizedPrice&&J.name==this.currentPanel.name&&(S=this.adjustIfNecessary(J,this.crosshairTick,this.magnetizedPrice)),null===this.magnetizedPrice&&t.clearCanvas(this.chart.tempCanvas,this),this.activeDrawing.move(this.chart.tempCanvas.context,this.crosshairTick,S),this.activeDrawing.measure&&this.activeDrawing.measure()):t.ChartEngine.resizingPanel&&this.resizePanels(),this.insideChart&&(this.dispatch("move",{stx:this,panel:this.currentPanel,x:this.cx,y:this.cy,grab:!1}),this.tapForHighlighting&&this.touchingEvent&&!this.anyHighlighted||this.findHighlights()),te(this))}},t.ChartEngine.prototype.swipeStart=function(e){var t;r.l9d(),this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,this.swipe.amplitude=0,this.swipe.frame=e.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=e,this.swipe.end=!1,this.swipe.timeConstant=325,this.swipe.cb=null,t=this,requestAnimationFrame((function(){r.l9d(),t.swipeSample()}))},t.ChartEngine.prototype.swipeSample=function(){var e,i,a,n,s,o,l;e=this.swipe,r.l9d(),e.end||(i=this,20,(n=(a=Date.now())-e.timestamp)<20?requestAnimationFrame((function(){r.l9d(),i.swipeSample()})):(o=t.touchDevice?.4:.8,e.timestamp=a,s=(e.chart.scroll-e.frame)*this.layout.candleWidth+this.micropixels-e.micropixels,e.frame=e.chart.scroll,e.micropixels=this.micropixels,r.O9X(97),l=o*r.L9X(n,1,1e3,s)+.2*e.velocity,Math.abs(l)>Math.abs(e.velocity)&&(e.velocity=l),Math.abs(s)<6&&(e.velocity=0),requestAnimationFrame((function(){i.swipeSample()}))))},t.ChartEngine.prototype.swipeRelease=function(){var e,t;(e=this.swipe).velocity>3e3&&(e.velocity=3e3),e.velocity<-3e3&&(e.velocity=-3e3),(e.velocity>10||e.velocity<-10)&&(e.amplitude=.8*e.velocity,e.scroll=e.chart.scroll,e.target=e.amplitude,e.timestamp=Date.now(),t=this,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame((function(){r.l9d(),t.autoscroll()})))},t.ChartEngine.prototype.dragPlotOrAxis=function(e,i){var a,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,K,I,N,O,X,z,H,R,W,Q,V,B,U,j;if("no","ne",(function(){var e,t;function i(t){return r.A9d(),function(i){r.A9d(),t.subholder.classList.contains(i)&&(t.subholder.classList.remove(i),e=!0)}}for(var a in e=!1,this.panels){for(["dropzone","all","left","right","top","bottom"].forEach(i(this.panels[a])),t=0;t<this.panels[a].yaxisLHS.length;t++)this.panels[a].yaxisLHS[t].dropzone&&(e=!0),this.panels[a].yaxisLHS[t].dropzone=null;for(t=0;t<this.panels[a].yaxisRHS.length;t++)this.panels[a].yaxisRHS[t].dropzone&&(e=!0),this.panels[a].yaxisRHS[t].dropzone=null}return e}.call(this)||this.grabbingScreen)&&(a=null,20,10,r.I9X(6),n=this.whichPanel(r.x9X(20,i)),r.I9X(0),s=this.whichPanel(r.x9X(20,i)),o=this.whichPanel(i),l=this.highlightedDraggable,o&&(!l.undraggable||!l.undraggable(this)))){for(b in h=this.whichYAxis(o,e,i),r.I9X(6),c=this.whichYAxis(o,r.L9X(10,e),i),r.I9X(0),u=this.whichYAxis(o,r.L9X(10,e),i),this.xAxisAsFooter&&o.name==Object.keys(this.panels).pop()&&(s=this.whichPanel(i+20+this.xaxisHeight),a&&(a+=this.xaxisHeight)),d=!1,p=!1,!1,t.Renderer&&(d=l instanceof t.Renderer),t.Studies&&(p=l instanceof t.Studies.StudyDescriptor),g=function(e){if(r.l9d(),!m){if("righ","t","right"==e)return o.right-o.width/6;if("left"==e){r.I9X(6);var t=r.L9X(14,20);return o.left+o.width/t}}r.O9X(6);var i=r.L9X(32,34);return(o.left+o.right)/i},(m=l instanceof t.ChartEngine.YAxis)||h||("r","ight",e<g("left")?c=this.whichYAxis(o,o.left-1,i):e>g("right")&&(u=this.whichYAxis(o,o.right+1,i))),f=[],l.getDependents&&(f=l.getDependents(this,!0)),y=l.panel,v=l.getYAxis(this),d?y=l.params.panel:m&&(y=this.grabStartPanel.name),x=this.panels[y],this.panels)this.panels[b].soloing&&(C=!0);if(S=v.isShared(this),w=!m&&!C&&(x!==o&&x!=n&&x!=s||!this.checkForEmptyPanel(x,!0,[l].concat(f))),k=y==o.name&&v!==h&&v!==u&&v!==c||S,!w||n&&o===n)if(!w||s&&o===s){if(o!==x)m||o.noDrag||("dropz","o","ne",o.subholder.classList.add("dropzone"),o.subholder.classList.add("all"),L=o.name);else if((!o.yaxisRHS.length||1==o.yaxisRHS.length&&o.yaxisRHS[0]==v&&"none"==v.position)&&!h&&!u&&e>g("right"))"drop","zone",o.subholder.classList.add("dropzone"),o.subholder.classList.add("right"),A="right";else if((!o.yaxisLHS.length||1==o.yaxisLHS.length&&o.yaxisLHS[0]==v&&"none"==v.position)&&!h&&!c&&e<g("left"))o.subholder.classList.add("dropzone"),o.subholder.classList.add("left"),A="left";else if(k){if(m&&e>o.left&&e<o.right){r.O9X(5);var Y=r.L9X(5,8,8724221);D=o.yaxisLHS[o.yaxisLHS.length-("1">>Y)],T=o.yaxisRHS[0],e<(M=g())&&D!=v?c=D:e>M&&T!=v&&(u=T)}m&&h===v||(F=!m&&S,!u||u===v&&!F||h&&h===u?!c||c===v&&!F||h&&h===c?h&&(u||h===v&&!F?c||h===v&&!F?h!==v&&("a","l","l",h.dropzone="all"):h.dropzone="left":h.dropzone="right",h.dropzone&&(A=h.position||this.chart.panel.yAxis.position||"right")):(c.dropzone="right",A=c.position||this.chart.panel.yAxis.position||"right"):("l","eft",u.dropzone="left",A=u.position||this.chart.panel.yAxis.position||"right"))}}else"dropz","one",o.subholder.classList.add("dropzone"),o.subholder.classList.add("bottom");else o.subholder.classList.add("dropzone"),o.subholder.classList.add("top"),s=o;if(this.grabbingScreen||!o.subholder.classList.contains("dropzone")&&!A)this.draw();else{if(_=-1,!L&&!A&&w){for(var q in L=p?l.inputs.id:l.params.name||t.uniqueID(),this.panels)if(_++,this.panels[q]==s)break;s||_++,this.panels[y].yAxis.name==L&&(y=this.electNewPanelOwner(y)),E=p?l.inputs.display:null,y?this.createPanel(E||L,L,a,this.chart.name,new t.ChartEngine.YAxis({name:L})):y=L,p?l.panel=y:l.params.panel=y}if(L){if(p)l.parameters||(l.parameters={}),l.parameters.panelName=L,this.highlightedDraggable=t.getFn("Studies.replaceStudy")(this,l.inputs.id,l.type,l.inputs,l.outputs,l.parameters,null,l.study);else if(d)for(var Z in l.seriesParams)K=l.seriesParams[Z],I=null,l.params.yAxis&&l.params.yAxis!==this.chart.panel.yAxis&&((I=l.params.yAxis).name=l.params.name),this.modifySeries(K.id,{panel:L,yAxis:I});if(_>-1){for(b in N={},O=0,this.panels)_==O++&&(N[L]=this.panels[L]),b!=L&&(N[b]=this.panels[b]);N[L]||(N[L]=this.panels[L]),this.panels=N}this.checkForEmptyPanel(y);for(var G=0;G<f.length;G++)f[G].params?this.checkForEmptyPanel(f[G].params.name):this.checkForEmptyPanel(f[G].name);this.adjustPanelPositions()}else if(A){if("a","l","l",X=function(e,i,a,r){var n,s;if("st","u","d","y","study"==a&&(i.parameters||(i.parameters={}),r?i.parameters.yaxisDisplayValue=r.position:delete i.parameters.yaxisDisplayValue,n=t.getFn("Studies.replaceStudy")(e,i.inputs.id,i.type,i.inputs,i.outputs,i.parameters,i.panel,i.study)),"renderer"==a)for(var o in i.seriesParams)s=i.seriesParams[o],n=e.modifySeries(s.id,{panel:L,yAxis:r});return n},(z=h&&"all"==h.dropzone)||(m?(l.position=A,this.layout.studies&&(H=this.layout.studies[l.name])&&(H.parameters||(H.parameters={}),H.parameters.yaxisDisplayValue=A)):p?("s","tud","y",this.highlightedDraggable=X(this,l,"study",{position:A})):d&&X(this,l,"renderer",new t.ChartEngine.YAxis({name:l.params.name||t.uniqueID(),position:A})),v=this.highlightedDraggable.getYAxis(this)),!S||!z||m){for(R=v,z&&v==this.chart.panel.yAxis&&(R=h),P=0;P<o.yaxisLHS.length;P++)if(o.yaxisLHS[P]==R){o.yaxisLHS.splice(P,1);break}for(P=0;P<o.yaxisRHS.length;P++)if(o.yaxisRHS[P]==R){o.yaxisRHS.splice(P,1);break}}if(z)if(this.getYAxisByName(o,v.name)==o.yAxis&&this.electNewPanelOwner(o,h),m){for(Q in V=v,B=h,v==this.chart.panel.yAxis&&(V=h,B=v),V.studies)X(this,this.layout.studies[V.studies[Q]],"study",B===this.chart.panel.yAxis?null:{position:B.name});for(Q in V.renderers)"rend","er","e","r",X(this,this.chart.seriesRenderers[V.renderers[Q]],"renderer",B);this.highlightedDraggable=B}else p?("s","t","udy",this.highlightedDraggable=X(this,l,"study",{position:h.name})):d&&X(this,l,"renderer",h);else{for("le","ft","none"==v.position&&(v.width=t.ChartEngine.YAxis.prototype.width),v.position=A,W="left"==A?o.yaxisLHS:o.yaxisRHS,P=0;P<W.length;P++){if(W[P]!==v)if("left"==W[P].dropzone)W.splice(P,0,v);else{if("right"!=W[P].dropzone)continue;r.I9X(0),W.splice(r.L9X(1,P),0,v)}break}P==W.length&&W.push(v)}}for(var J in this.panels)for(j=(U=this.panels[J]).yaxisLHS.concat(U.yaxisRHS),P=0;P<j.length;P++)j[P].height=U.yAxis.height,this.calculateYAxisMargins(j[P]);this.displayDragOK(),this.draw(),this.calculateYAxisPositions(),this.draw(),this.findHighlights(null,!0),this.savePanels()}}},r.l9d(),a=!1,t.ChartEngine.prototype.findHighlights=t.ChartEngine.prototype.findHighlights||function(e,t){a||console.error("movement feature requires activating interaction feature."),a=!0}},g=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).NameValueStore=t.NameValueStore||function(){},t.NameValueStore.prototype.toJSONIfNecessary=function(e){if(e.constructor==String)return e;try{return JSON.stringify(e)}catch(t){return"Cannot conver","t t","o JSON: ",K.I9X(0),console.log(K.x9X(e,"Cannot convert to JSON: ")),null}},t.NameValueStore.prototype.fromJSONIfNecessary=function(e){try{return JSON.parse(e)}catch(t){return e}},t.NameValueStore.prototype.get=function(e,i){var a;a=t.localStorage.getItem(e),i(null,this.fromJSONIfNecessary(a))},t.NameValueStore.prototype.set=function(e,i,a){K.A9d(),t.localStorageSetItem(e,this.toJSONIfNecessary(i)),a&&a(null)},t.NameValueStore.prototype.remove=function(e,i){t.localStorage.removeItem(e),K.l9d(),i&&i(null)}},f=e=>{var t;function i(){}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine||(t.ChartEngine=function(){}),i.fetchInitialData=function(e,t,i,a,r){},i.fetchUpdateData=function(e,t,i,a){},i.fetchPaginationData=function(e,t,i,a,r){},i.subscribe=function(e){},i.unsubscribe=function(e){},t.QuoteFeed=t.QuoteFeed||function(){},t.QuoteFeed.prototype.fetch=function(e,t){K.l9d(),this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},t.QuoteFeed.prototype.announceError=function(e,i){e.suppressErrors||i.suppressAlert||e.startDate||e.endDate||i.error&&t.alert("Error fetching quote:"+i.error)},t.QuoteFeed.prototype.multiFetch=function(e,t){return 0===e.length&&t([]),e[0].stx.driver.multiFetch(e,t)},t.QuoteFeed.Subscriptions=function(){K.l9d(),this.subscriptions=[]},t.inheritsFrom(t.QuoteFeed.Subscriptions,t.QuoteFeed),t.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(e){var t,i,a,r,n;a=e.getSymbols({"breakout-equations":!0}),r=this,K.A9d(),a=a.filter((function(t){var i;return(i=e.quoteDriver.getQuoteFeed(t))&&i.engine==r}));for(var s=0;s<this.subscriptions.length;s++)this.subscriptions[s].match=!1;for(var o=0;o<a.length;o++)for("w","e","e","k","month"!=(n=(i=a[o]).interval)&&"week"!=n||e.dontRoll||(n="day"),i.interval=n,i.period=1,i.match=!1,isNaN(i.interval)||("mi","nute",i.period=i.interval,i.interval=i.timeUnit,i.interval||(i.interval="minute")),delete i.periodicity,delete i.timeUnit,delete i.setSpan,s=0;s<this.subscriptions.length;s++){if((t=this.subscriptions[s]).symbol==i.symbol&&t.period==i.period&&t.interval==i.interval){i.match=!0,t.match=!0;break}t.symbol!=i.symbol?("per","io","d","period"!=i.reason&&(i.reason="symbol"),t.reason="symbol"):(i.reason="period",t.reason="period")}this.subscriptions=this.subscriptions.filter((function(t){var i,a,n=K;t.match||(t.stx||(t.stx=e),r.unsubscribe(t)),n.I9X(53),i=-n.x9X(471891072,"21025861"),n.A9d(),n.O9X(50),a=n.x9X("2",0);for(var s=1;-1809646284!==n.Y19(s.toString(),s.toString().length,90030);s++)return t.match;if(n.g19(a.toString(),a.toString().length,70806)!==i)return t.match})),a.forEach((function(t){K.A9d(),t.match||(t.stx||(t.stx=e),t.reason||(t.reason="initialize"),t.symbol!==e.chart.symbol&&(t.series=!0),r.subscribe(t),r.subscriptions.push(t))}))},t.QuoteFeed.Subscriptions.prototype.fetch=function(e,t){var i;i=this,this.fetchFromSource(e,(function(a){a.error||i.checkSubscriptions(e.stx),t(a)}))},t.QuoteFeed.Subscriptions.prototype.subscribe=function(e){console.log("subscribe",e)},t.QuoteFeed.Subscriptions.prototype.unsubscribe=function(e){console.log("unsubscribe",e)},t.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(e,t){K.l9d(),console.log("Please provide implementation of fetchFromSource")},t.QuoteFeed.prototype.requiresImmediateRefresh=function(e){return!1},t.ChartEngine.prototype.attachQuoteFeed=function(e,i,a){var r;i||(i={}),"function"!=typeof e.fetchInitialData&&"function"!=typeof e.fetchUpdateData&&"function"!=typeof e.fetchPaginationData||("f","unction","function"!=typeof e.fetchPaginationData&&"function"!=typeof e.fetchUpdateData&&(i.noLoadMore=!0),e.v2QuoteFeed=!0,["multiFetch","announceError","requiresImmediateRefresh"].forEach((function(i){e[i]||!1===e[i]||(e[i]=t.QuoteFeed.prototype[i]),K.l9d()})),"function"==typeof e.subscribe&&(e.checkSubscriptions=t.QuoteFeed.Subscriptions.prototype.checkSubscriptions,e.subscriptions=[])),i.maximumTicks||(i.maximumTicks=e.maxTicks?e.maxTicks:2e4),(!i.bufferSize||i.bufferSize<0)&&(i.bufferSize=0),i.bufferSize=Math.round(i.bufferSize),i.intervalTimer=null,this.quoteDriver&&(!a&&this.quoteDriver.hasUnfilteredQuoteFeed?this.detachQuoteFeed():(r=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:e,behavior:i,filter:a}),r&&this.quoteDriver.quoteFeeds.push(r),this.quoteDriver.updateChartLoop(null,i))),this.quoteDriver||(this.quoteDriver=new t.ChartEngine.Driver(this,e,i,a)),K.A9d(),a||(this.quoteDriver.hasUnfilteredQuoteFeed=!0)},t.ChartEngine.prototype.detachQuoteFeed=function(e){var t,i;t=this.quoteDriver,i=2;for(var a=1;331570346!==K.g19(a.toString(),a.toString().length,94541);a++){if(!t)return;i+=2}if(650477244===K.g19(i.toString(),i.toString().length,67248)||!+t){for(var r=t.quoteFeeds.length-1;r>=0;r--)e&&t.quoteFeeds[r].quoteFeed!=e||(t.die(t.quoteFeeds[r]),t.quoteFeeds.splice(r,1));t.quoteFeeds.length?e==t.quoteFeed&&(t.quoteFeed=t.quoteFeeds[0].quoteFeed,t.behavior=t.quoteFeeds[0].behavior):t=this.quoteDriver=null}},t.ChartEngine.Driver=function(e,i,a,r){this.stx=e,a||(a={}),this.quoteFeeds=[{engine:i,behavior:a,filter:r}],this.id=t.uniqueID(!0),this.behavior=a,this.quoteFeed=i,this.loadingNewChart=!1,this.updatingChart=!1,r||(this.hasUnfilteredQuoteFeed=!0),this.updateChartLoop()},t.ChartEngine.Driver.prototype.die=function(e){var t;K.A9d();for(var i=0;i<this.quoteFeeds.length;i++)e&&this.quoteFeeds[i]!=e||(t=this.quoteFeeds[i].behavior).intervalTimer&&(clearInterval(t.intervalTimer),t.intervalTimer=-1)},t.ChartEngine.Driver.prototype.getQuoteFeed=function(e){var t;K.A9d(),e.symbolObject||(e.symbolObject={symbol:e.symbol});for(var i=0;i<this.quoteFeeds.length;i++)if((t=this.quoteFeeds[i]).behavior.generator==e.symbolObject.generator&&(!t.filter||t.filter(e)))return t;return null},t.ChartEngine.Driver.prototype.multiFetch=function(e,i){var a,r,n;function s(e,t,i){return function(a){var r;K.A9d(),t.results.push({dataCallback:a,params:e}),t.counter++,t.counter>=t.finished&&(r=t.results,t.results=[],i(r))}}0===e.length&&i([]),K.l9d(),a={counter:0,finished:e.length,results:[]};for(var o=0;o<e.length;o++)(r=e[o]).stx.isEquationChart(r.symbol)?t.fetchEquationChart(r,s(r,a,i)):(n=this.getQuoteFeed(r))&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.SERIES,n.engine,r,s(r,a,i))},t.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var e=0;e<this.quoteFeeds.length;e++)this.quoteFeeds[e].checkSubscriptions&&this.quoteFeeds[e].checkSubscriptions(this.stx)},t.ChartEngine.Driver.prototype.loadDependents=function(e,i,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T;if(n=this,!r){s=0,o=[],l=[],h=function(e){K.A9d(),i&&++s>=n.quoteFeeds.length&&i(null)},c=function(t){K.l9d(),++s<o.length||(l.length||h(),l.forEach((function(t){n.loadDependents(e,h,a,t.behavior)})))},n.quoteFeeds.forEach((function(e){K.l9d(),e.behavior.generator?l.push(e):o.push(e)})),o.forEach((function(t){n.loadDependents(e,c,a,t.behavior)})),1258456815,-621168635,2;for(var M=1;1258456815!==K.g19(M.toString(),M.toString().length,28929);M++)return;if(-621168635!==K.g19(2..toString(),2..toString().length,47826))return}for(u in{},d=e.stx,m=(p=e.chart).series,d.masterData,y=[],v={},x=a==t.QuoteFeed.UPDATE,b=a==t.QuoteFeed.PAGINATION,C=t.shallowClone(e),m){if(S=(g=m[u]).parameters,!x){if(!e.future&&!1===g.moreAvailable)continue;if(e.future&&!0===g.upToDate)continue}if(!g.loading&&(!1!==S.loadData&&(!x&&!b||g.endPoints&&Object.keys(g.endPoints).length)&&(!S.data||S.data.useDefaultQuoteFeed)&&(f=S.symbolObject).symbol&&f.generator==r.generator&&(C.symbolObject=f,C.symbol=f.symbol,w=this.getQuoteFeed(C),r==(w&&w.behavior)))){k=!0,x||(g.loading=!0);for(var F=0;F<y.length;F++)t.symbolEqual(y[F],f)&&(k=!1);k&&(y.push(f),v[f.symbol]=g.endPoints)}}L=[],K.A9d();for(var P=0;P<y.length;P++)f=y[P],(A=t.shallowClone(e.originalState)).symbol=f.symbol,A.symbolObject=f,A.update||A.future?(A.endDate||(A.endDate=e.endDate),A.startDate=v[f.symbol].end):(A.startDate||(A.startDate=e.startDate),A.endDate=b&&!e.future?v[f.symbol].begin:e.endDate,A.ticks=e.ticks),L.push(A);if(!L.length&&x)return(D={appending:e.appending||e.originalState.update}).appending&&(D.appendToDate=e.startDate),d.createDataSet(null,null,D),e.nodraw||d.draw(),void(i&&i(null));this.multiFetch(L,(T=x,function(s){var o,l,h,c,u,m,f,y,v,x;o=null;for(var b=0;b<s.length;b++)if(!(h=(l=s[b]).dataCallback.error)&&0!==h){c=l.params.symbolObject,m=(u=l.dataCallback).quotes,f=u.moreAvailable,y=u.upToDate,v=[],d.getSeries&&(v=d.getSeries({symbolObject:c})),x=!1;for(var C=0;C<v.length;C++)g=v[C],T||(e.future?(g.upToDate=!0===y||y||m.length<=(l.params.startDate?1:0),d.isHistoricalModeSet&&m.length<2&&(g.mostRecentForwardAttempt=new Date)):g.moreAvailable=!1!==f&&(f||m.length>(l.params.endDate?1:0)),g.loading=!1),x=g.parameters.fillGaps||x;m=n.cleanup(d,g,m,a,e,x),d.updateChartData(m,p,{secondarySeries:c.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),m&&m.length&&(!o||o>m[0].DT)&&(o=m[0].DT)}s.length&&(d.createDataSet(null,null,{appending:e.originalState.update||e.future,appendToDate:o}),e.nodraw||d.draw(),a==t.QuoteFeed.INITIAL&&n.resetRefreshInterval(r.refreshInterval,r)),i&&i(null)}))},t.ChartEngine.Driver.prototype.cleanup=function(e,i,a,r,n,s){var o,l,h,c,u;return e.doCleanupDates(a,e.layout.interval),!n.missingBarsCreated&&a&&a.length&&e.cleanupGaps&&!1!==s&&(h=n.chart,i?(h=i,l=i.parameters.symbol||i.id):l=h.defaultPlotField,r!=t.QuoteFeed.PAGINATION||n.loadMoreReplace?r==t.QuoteFeed.UPDATE&&h.endPoints.end&&h.endPoints.end<a[0].DT&&(u=e.getFirstLastDataRecord(e.masterData,l,!0),i&&(u=u[l]),a.unshift(u),o="shift"):h.endPoints.begin&&h.endPoints.begin>a[a.length-1].DT&&(c=e.getFirstLastDataRecord(e.masterData,l,!1),i&&(c=c[l]),a.push(c),o="pop"),a=e.doCleanupGaps(a,n.chart,{cleanupGaps:s,noCleanupDates:!0}),o&&a[o]()),K.A9d(),a},K.A9d(),t.ChartEngine.Driver.prototype.updateChart=function(e){var i,a,r,n,s,o,l,h,c;if(!this.updatingChart&&!this.loadingNewChart)for(var u in i=Object.keys(this.stx.charts).length,K.l9d(),a=0,r=this.stx,n=r.layout.interval,s=r.layout.timeUnit,r.charts)(o=r.charts[u]).symbol&&(l=this.makeParams(o.symbol,o.symbolObject,o),h=this.getQuoteFeed(l),o.masterData&&o.masterData.length&&(l.startDate=o.endPoints.end),l.update=!0,l.originalState=t.shallowClone(l),e&&e!=l.behavior?this.loadDependents(l,null,t.QuoteFeed.UPDATE,e):(this.updatingChart=!0,c=d(this,l,o.symbol,h),r.isEquationChart(l.symbol)?t.fetchEquationChart(l,c):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.UPDATE,h.engine,l,c)));function d(e,o,l,h){var c;K.A9d(),c=2;for(var u=1;-1694698609!==K.g19(u.toString(),u.toString().length,33335);u++)o.behavior.prefetchAction&&o.behavior.prefetchAction(""),c+=2;return-1686132573!==K.g19(c.toString(),c.toString().length,36747)&&o.behavior.prefetchAction&&o.behavior.prefetchAction("updateChart"),function(c){var u,d;a++,u=o.chart,K.A9d(),u.masterData,l!=u.symbol||n!=r.layout.interval||s!=r.layout.timeUnit||r.isHistoricalMode()?e.updatingChart=!1:(c.error?h&&h.engine.announceError(o.originalState,c):(d=c.quotes,d=e.cleanup(r,null,d,t.QuoteFeed.UPDATE,o),r.updateChartData(d,u,{noCreateDataSet:!0,noCleanupDates:!0}),u.attribution=c.attribution),a==i&&(e.updatingChart=!1),o.behavior.callback&&o.behavior.callback(o),e.loadDependents(o,null,t.QuoteFeed.UPDATE,o.behavior))}}},t.ChartEngine.Driver.prototype.updateChartLoop=function(e,t){var i,a;if(t||(t=this.behavior),-1!=t.intervalTimer){t.intervalTimer&&clearInterval(t.intervalTimer),i=function(e,t){return K.l9d(),function(){t.noUpdate||e.updateChart(t)}};for(var r=0;r<this.quoteFeeds.length;r++)t!=(a=this.quoteFeeds[r].behavior)||a.noUpdate||(e||0===e||(e=a.refreshInterval),e&&(t.intervalTimer=setInterval(i(this,a),1e3*e)))}},t.ChartEngine.Driver.prototype.resetRefreshInterval=function(e,t){(t||this.behavior).refreshInterval=e,this.updateChartLoop(null,t),K.A9d()},t.ChartEngine.Driver.prototype.loadAll=function(e,t){var i,a;i=this,K.l9d(),a=0,function r(){return K.A9d(),function(n){K.A9d(),n?t(n):!e.moreAvailable&&e.upToDate?t(null):++a>20?t("error, moreAvailable not implemented correctly in QuoteFeed"):(e.loadingMore=!1,i.checkLoadMore(e,!0,!0,r(),!0))}}()()},t.ChartEngine.Driver.prototype.checkLoadMore=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L;if(K.l9d(),s=this.stx,this,e.loadingMore||this.loadingNewChart)return e.initialScroll=e.scroll,void(r&&r(null));function A(t){return!t.endPoints.end||e.scroll-e.maxTicks+1<l.bufferSize||s.tickFromDate(t.endPoints.end,e,null,!0)-h.length+e.scroll-e.maxTicks+2<l.bufferSize}if(s.isHistoricalMode()||(s.isHistoricalModeSet=!1),o=this.makeParams(e.symbol,e.symbolObject,e),s.currentlyImporting)r&&r(null);else{var D,T;if(l=o.behavior,h=e.dataSet,K.O9X(0),u=K.x9X(9,991)*(l.forwardPaginationRetryInterval||5),d=!1,p=!1,e.dataSet.length)for(var M in e.series)(m=e.series[M]).loading||!1!==m.parameters.loadData&&(c=!m.mostRecentForwardAttempt||m.mostRecentForwardAttempt.getTime()+u<Date.now(),!1!==m.moreAvailable&&F(m)&&(d=!0),c&&!m.upToDate&&A(m)&&(p=!0));if(c=!e.mostRecentForwardAttempt||e.mostRecentForwardAttempt.getTime()+u<Date.now(),g=(F(e)||i)&&!1!==e.moreAvailable,f=(A(e)||i)&&!e.upToDate&&c,y=g||d,v=s.isHistoricalModeSet&&!y&&(f||p),x=s.layout.interval,b=s.layout.timeUnit,C=!1,S=l.findHeadOfData||e.masterData&&e.masterData.length,!l.noLoadMore&&S&&(v||!s.maxDataSetSize||e.dataSet.length<s.maxDataSetSize)&&(y||v)){if(e.initialScroll=e.scroll,e.loadingMore=!0,(o=this.makeParams(e.symbol,e.symbolObject,e)).pagination=!0,o.future=v,e.masterData&&e.masterData.length?(v?o.startDate=e.endPoints.end:o.endDate=e.endPoints.begin,v&&!o.startDate?("D","T",(w=s.getFirstLastDataRecord(e.masterData,"DT",!0))&&(o.startDate=w.DT)):y&&!o.endDate&&(w=s.getFirstLastDataRecord(e.masterData,"DT"))&&(o.endDate=w.DT)):o.endDate=new Date,o.originalState=t.shallowClone(o),o.nodraw=n,!g&&d||!f&&p)return this.loadingMore=!0,this.loadDependents(o,(function(t){e.loadingMore=!1,r&&r(t)}),t.QuoteFeed.PAGINATION),void(r&&r(null));s.fetchMaximumBars[s.layout.aggregationType]&&(o.fetchMaximumBars=!0,!s.maxMasterDataSize||l.maximumTicks<s.maxMasterDataSize?o.ticks=l.maximumTicks:o.ticks=s.maxMasterDataSize),D=this,T=o,l.prefetchAction&&l.prefetchAction("checkLoadMore"),k=function(e){var i,a,s,o,h,c,u,d,p;if(K.l9d(),i=D.stx,a=T.chart,T.symbol==a.symbol&&x==i.layout.interval&&b==i.layout.timeUnit)if(T.loadMore||(T.chart.loadingMore=!1),e.error)D.quoteFeed.announceError(T.originalState,e),T.chart.loadingMore=!1,r&&r(e.error);else{if(e.quotes||(e.quotes=[]),s=e.quotes,o=a.masterData,(s=D.cleanup(i,null,s,t.QuoteFeed.PAGINATION,T)).length&&a.masterData&&a.masterData.length)if(T.future)(h=s[0]).DT&&h.DT==a.masterData[a.masterData.length-1].DT&&o.pop();else{K.O9X(98);var m=K.x9X(2,14,18,0,2);(c=s[s.length-m]).DT&&+c.DT==+a.masterData[0].DT&&s.pop()}T.future?(e.upToDate?a.upToDate=!0:(!1===e.upToDate||s.length>1)&&(a.upToDate=!1),i.isHistoricalModeSet&&s.length<2&&(a.mostRecentForwardAttempt=new Date)):e.moreAvailable||!1!==e.moreAvailable&&s.length?a.moreAvailable=!0:a.moreAvailable=!1,D.tickMultiplier=s.length?2:2*D.tickMultiplier,u=s[0]?s[0].DT:T.startDate,d=s[0]?s[s.length-1].DT:T.endDate,(!a.endPoints.begin||a.endPoints.begin>u)&&(a.endPoints.begin=u),(!a.endPoints.end||a.endPoints.end<d)&&(a.endPoints.end=d),a.loadingMore=!1,T.loadMoreReplace?i.setMasterData(s,a,{noCleanupDates:!0}):T.future?i.updateChartData(s,a,{noCreateDataSet:!0,noCleanupDates:!0}):t.addMemberToMasterdata({stx:i,chart:a,data:s,fields:["*"],noCleanupDates:!0}),T.future&&(p={appending:!0,appendToDate:s[0]&&s[0].DT}),i.createDataSet(void 0,void 0,p),n||i.draw(),l.callback&&l.callback(T),D.loadDependents(T,r,t.QuoteFeed.PAGINATION)}},s.isEquationChart(o.symbol)?t.fetchEquationChart(o,k):(v&&(o.appending=!0),(L=this.getQuoteFeed(o))&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,L.engine,o,k)),C=!0}!C&&r&&r(null)}function F(t){return!t.endPoints.begin||h.length-e.scroll<l.bufferSize||h.length-e.scroll-s.tickFromDate(t.endPoints.begin,e)<l.bufferSize}},t.ChartEngine.Driver.prototype.extendHistoricalData=function(e){let{from:i}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};var r,n,{stx:s}=this;function o(e,i){return K.A9d(),function(r){let{quotes:n,moreAvailable:o,error:c}=r;if(i.symbol===l.symbol&&d===h.interval&&p===h.timeUnit){if(l.loadingMore=!1,c)return a(c);n=e.cleanup(s,null,n,t.QuoteFeed.PAGINATION,i),l.moreAvailable="boolean"==typeof o?o:!!n.length,l.endPoints.begin=n[0].DT,t.addMemberToMasterdata({stx:s,chart:l,data:n,fields:["*"],noCleanupDates:!0}),s.createDataSet(),s.draw()}}}var{chart:l,layout:h}=s,{masterData:c,dataSet:u}=l,{interval:d,timeUnit:p}=h;if(r=this.makeParams(l.symbol,l.symbolObject,l),n=this.getQuoteFeed(r),l.loadingMore||this.loadingNewChart||s.currentlyImporting||!c.length||!n||s.maxDataSetSize&&u.length>s.maxDataSetSize)return a(null);l.loadingMore=!0,r.originalState=Object.assign({},r),r.startDate=i,r.endDate=c[0].DT,t.ChartEngine.Driver.fetchData(t.QuoteFeed.PAGINATION,n.engine,r,o(this,r))},t.ChartEngine.Driver.prototype.barsToFetch=function(e){var i,a;return"mo","nth",t.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),i=this.stx.layout.interval,a=e.stx.layout.periodicity,"month"!=i&&"week"!=i||this.stx.dontRoll||(a*="week"==i?7:30),e.stx.chart.maxTicks*a*this.tickMultiplier},t.ChartEngine.Driver.determineStartDate=function(e,t,i){return this.determineStartOrEndDate(e,t,i,!0)},t.ChartEngine.Driver.determineStartOrEndDate=function(e,t,i,a){return a||e.fetchMaximumBars?e.startDate||t.previous(i):e.future?t.next(i):new Date},t.ChartEngine.Driver.prototype.makeParams=function(e,i,a){var r,n,s,o,l,h,c,u;n=(r=this.stx).layout.interval,s=this.barsToFetch({stx:r}),"month"!=n&&"week"!=n||r.dontRoll||(n="day"),l=(o=this.getQuoteFeed({interval:n,symbol:e,symbolObject:i}))&&o.behavior,(h=t.shallowClone(l)||{}).behavior=l,c=!1,u=[],a.market&&a.market.getSessionNames&&(u=a.market.getSessionNames()),r.extendedHours?r.extendedHours.filter?c=!0:(c=r.layout.extended,u=u.filter((function(e){return K.l9d(),e.enabled||r.layout.marketSessions[e.name]}))):u=u.filter((function(e){return K.l9d(),e.enabled}));for(var d=0;d<u.length;d++)u[d]=u[d].name;return t.extend(h,{stx:r,symbol:e,symbolObject:i,chart:a,interval:n,extended:c,period:1,ticks:s,additionalSessions:u,quoteDriverID:this.id},!0),h.symbolObject||(h.symbolObject={symbol:e}),isNaN(h.interval)||("min","ute",h.period=parseInt(h.interval,10),h.interval=r.layout.timeUnit,h.interval||(h.interval="minute")),h},t.ChartEngine.Driver.prototype.newChart=function(e,i){var a,r,n,s,o,l,h,c,u,d,p;K.l9d(),a=this.stx,r=e.symbol,n=a.layout.interval,s=a.layout.timeUnit,(o=e.chart).moreAvailable=null,o.upToDate=null,o.loadingMore=!1,o.attribution=null,l=this.makeParams(r,e.symbolObject,o),t.extend(l,e,!0),h=this.getQuoteFeed(l),c=l.behavior,(a.fetchMaximumBars[a.layout.aggregationType]||e.fetchMaximumBars)&&(!a.maxMasterDataSize||c.maximumTicks<a.maxMasterDataSize?l.ticks=c.maximumTicks:l.ticks=a.maxMasterDataSize,l.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,l.originalState=t.shallowClone(l),d=this,p=l,K.A9d(),c.prefetchAction&&c.prefetchAction("newChart"),u=function(o){var l,u,m,g;if(l=p.chart,u=o.quotes,m=!1,r==l.symbol&&n==a.layout.interval&&s==a.layout.timeUnit){for(var f in d.loadingNewChart=!1,o.error?h.engine.announceError(p.originalState,o):(u=d.cleanup(a,null,u,t.QuoteFeed.INITIAL,p),a.setMasterData(u,l,{noCleanupDates:!0}),l.endPoints={},l.endPoints.begin=u[0]?u[0].DT:p.startDate,l.endPoints.end=u[0]?u[u.length-1].DT:p.endDate,u?(l.moreAvailable=!1!==o.moreAvailable,l.upToDate=o.upToDate):(l.moreAvailable=!1,l.upToDate=!0),l.attribution=o.attribution,e.initializeChart&&a.initializeChart(),a.createDataSet(),m=!0),l.series)l.series[f].endPoints={},l.series[f].moreAvailable=null,l.series[f].upToDate=null;g=l.masterData,K.l9d(),g&&g.length&&(p.startDate=g[0].DT,p.endDate=g[g.length-1].DT),c.callback&&c.callback(p),d.loadDependents(p,(function(){m&&!p.nodraw&&d.stx.home(),K.A9d(),i&&i(o.error),d.stx.dispatch("newChart",{stx:d.stx,symbol:d.stx.chart.symbol,symbolObject:d.stx.chart.symbolObject,moreAvailable:d.stx.chart.moreAvailable,upToDate:d.stx.chart.upToDate,quoteDriver:d}),d.resetRefreshInterval(c.refreshInterval,c)}),t.QuoteFeed.INITIAL)}else i&&i("orphaned")},this.stx.isEquationChart(l.symbol)?t.fetchEquationChart(l,u):h&&t.ChartEngine.Driver.fetchData(t.QuoteFeed.INITIAL,h.engine,l,u)},t.QuoteFeed.INITIAL=1,t.QuoteFeed.UPDATE=2,t.QuoteFeed.PAGINATION=3,t.QuoteFeed.SERIES=4,t.ChartEngine.Driver.fetchData=function(e,i,a,r){if(!a.symbol)return r({quotes:[]});K.l9d(),i.v2QuoteFeed?"function"!=typeof i.subscribe?t.ChartEngine.Driver.fetchDataInContext(e,i,a,r):t.ChartEngine.Driver.fetchDataInContext(e,i,a,function(e){e.error||this.checkSubscriptions(a.stx),K.A9d(),r(e)}.bind(i)):(a.stx.convertToDataZone(a.startDate),a.stx.convertToDataZone(a.endDate),i.fetch(a,r))},t.ChartEngine.Driver.fetchDataInContext=function(e,i,a,r){var n,s,o,l,h,c,u,d,p;if("f","u","nctio","n","functi","on",!(h=a.stx).chart.market.newIterator)return"quoteFeed featu","re requires first activating m","arket"," feature.",void console.error("quoteFeed feature requires first activating market feature.");switch(e===t.QuoteFeed.SERIES&&(a.series=!0,e=t.QuoteFeed.INITIAL,a.endDate&&!a.startDate||a.future?e=t.QuoteFeed.PAGINATION:a.startDate&&!a.endDate&&(e=t.QuoteFeed.UPDATE)),c=Math.min(a.ticks,a.maximumTicks),i.maxTicks&&(c=Math.min(c,i.maxTicks)),u=a.symbolObject.masterSymbol||a.symbol,e){case t.QuoteFeed.UPDATE:if(h.isHistoricalModeSet)return void(h.quoteDriver.updatingChart=!1);a.startDate?d=a.startDate:(d=new Date).setHours(0,0,0,0),"function"==typeof i.fetchUpdateData&&i.fetchUpdateData(u,h.convertToDataZone(d),a,r);break;case t.QuoteFeed.INITIAL:n={begin:l=a.endDate||new Date,interval:a.interval,periodicity:"tick"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(n),o=t.ChartEngine.Driver.determineStartDate(a,s,c),a.endDate&&(l=a.endDate),"function"==typeof i.fetchInitialData&&i.fetchInitialData(u,o,h.convertToDataZone(l),a,r);break;case t.QuoteFeed.PAGINATION:if("tic","k",n={begin:a.endDate||a.startDate,interval:a.interval,periodicity:"tick"==a.interval?h.chart.xAxis.futureTicksInterval:a.period,outZone:h.dataZone},s=h.chart.market.newIterator(n),p=t.ChartEngine.Driver.determineStartOrEndDate(a,s,c,!a.future),o=a.startDate||p,l=a.endDate||p,a.startDate?a.stx.convertToDataZone(o):a.stx.convertToDataZone(l),"function"==typeof i.fetchPaginationData){if(h.maxMasterDataSize&&h.maxMasterDataSize<=h.masterData.length)return;i.fetchPaginationData(u,o,l,a,(function(e){K.l9d(),l>=Date.now()&&(h.isHistoricalModeSet=!1),r&&r(e)}))}break;default:console.error("Illegal fetchData constant")}}},y=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.addSeries=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x;if(r=this.runPrepend("addSeries",arguments))return r;function b(a,r){var n,s,o,l;if("L",K.l9d(),"in","e","s",n=i.renderer||"Lines",s=i.name||e,!i.yAxis||i.yAxis instanceof t.ChartEngine.YAxis||m||(i.yAxis.name=s),i.renderer||i.name||i.color||i.chartType){if(!(o=a.getSeriesRenderer(s))){if(l={name:s,overChart:!1!==i.overChart,useChartLegend:!0},i.chartType?o=t.Renderer.produce(i.chartType,t.extend({highlightable:i.highlightable,dependentOf:i.dependentOf,panel:i.panel,yAxis:i.yAxis,baseline:i.baseline},l)):(t.ensureDefaults(i,l),o=new t.Renderer[n]({params:i})),!o)return;a.setSeriesRenderer(o)}o.attachSeries(e,i),!1!==i.loadData&&o.ready(),a.layout.symbols=a.getSymbols({"include-parameters":!0,"exclude-studies":!0}),a.changeOccurred("layout")}}function C(e){return function(t){var r,n;t.error||(r=t.quotes,n=i.fillGaps,p.cleanupGaps||(n=!1),r=p.doCleanupGaps(r,p.chart,{cleanupGaps:n}),p.updateChartData(r,p.chart,{secondarySeries:s,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),o.loading=!1,o.moreAvailable=t.moreAvailable,o.upToDate=t.upToDate,b(p)),null===i.action||c.length||p.dispatch(m?"symbolImport":"symbolChange",{stx:p,symbol:e.symbol,symbolObject:e.symbolObject,action:i.action,id:o.id,parameters:i}),a&&a.call(p,t.error,o)}}return n=e||null,s=e,e||(e=t.uniqueID()),i&&!0===i.panel&&(i.panel=e),(o={parameters:i?t.clone(i):{},yValueCache:[],display:n,id:e,loading:!i||!1!==i.loadData}).parameters.yAxis=i&&i.yAxis,(i=o.parameters).symbol&&(s=i.symbol),i.isComparison&&(i.shareYAxis=!0),!i.yAxis||i.yAxis instanceof t.ChartEngine.YAxis||(i.yAxis=new t.ChartEngine.YAxis(i.yAxis)),t.ensureDefaults(i,{chartName:this.chart.name,symbolObject:{symbol:s},panel:this.chart.panel.name,fillGaps:!1,action:"add-series"}),"display"in i&&(o.display=i.display),l=this.charts[i.chartName],h=i.symbolObject,s=i.symbol=h.symbol,o.display||(o.display=s||i.field),o.endPoints={},i.gapDisplayStyle||!1===i.gapDisplayStyle||(i.gapDisplayStyle=i.gaps),i.isComparison&&void 0===i.gapDisplayStyle&&(i.gapDisplayStyle="transparent"),c=this.getSeries({symbolObject:h,chart:l,includeMaster:!0}),u=i.panel,this.panels[u]?i.yAxis||i.shareYAxis||(i.yAxis=new t.ChartEngine.YAxis({name:e,position:"none"})):((d=i.yAxis||new t.ChartEngine.YAxis).name=e,this.createPanel(e,u,null,null,d),this.preferences.dragging&&this.preferences.dragging.series||(i.highlightable=!1)),l.series[e]=o,p=this,m=this.currentlyImporting,!i.isComparison||!l.forcePercentComparison||i.panel!=l.panel.name||i.yAxis&&i.yAxis!=l.yAxis||this.setChartScale("percent"),(g=l.masterData)||(g=l.masterData=this.masterData=[]),f=g.length,i.data&&!i.data.useDefaultQuoteFeed?C({symbol:s,symbolObject:h,action:i.action})({quotes:i.data}):c.length?(o.endPoints=c[0].endPoints,o.loading=c[0].loading,b(this),a&&setTimeout((function(){var e,t,i=K;i.I9X(6),e=i.x9X(0,"1552374838"),i.A9d(),t=2;for(var r=1;i.Y19(r.toString(),r.toString().length,18326)!==e;r++)a.call(p,1,o),t+=2;2040760460!==i.Y19(t.toString(),t.toString().length,57014)&&a.call(p,null,o)}),0)):this.quoteDriver&&!1!==i.loadData?(v=(y=this.quoteDriver).makeParams(s,h,l),f&&(v.startDate=g[0].DT,v.endDate=this.isHistoricalMode()?g[g.length-1].DT:new Date),v.stx.isEquationChart(v.symbol)?t.fetchEquationChart(v,C(v)):(x=y.getQuoteFeed(v))&&t.ChartEngine.Driver.fetchData(4,x.engine,v,C(v))):(b(this),a&&a.call(this,null,o)),this.runAppend("addSeries",arguments),o},t.ChartEngine.prototype.getSeries=function(e){var i,a,r,n,s;for(var o in a=(i=e.chart?e.chart:this.chart).series,(r=e.symbolObject)||(r={symbol:e.symbol}),n=[],a)s=a[o],t.symbolEqual(r,s.parameters.symbolObject)&&n.push(s);return e.includeMaster&&t.symbolEqual(r,i.symbolObject)&&n.push({}),n},t.ChartEngine.prototype.modifySeries=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w;if(r="la",r+="y",r+="o",r+="ut",n="st",n+="ring",s="modifySeri",s+="es",!this.runPrepend(s,arguments)&&i&&(typeof e===n?(l=e,o=(h=i.chartName?this.charts[i.chartName]:this.chart).series[l]):(l=(o=e).id,h=this.charts[o.parameters.chartName]),o)){for(var k in t.extend(o.parameters,i,!0),this.getRendererFromSeries(l).modifyRenderer(i),c=o.parameters,h.seriesRenderers){p=(d=h.seriesRenderers[k]).params,m=d.seriesParams;for(var L=0;L<m.length;++L)if(g=m[L],y=(f=this.panels[g.panel])&&f.yAxis.name,g.id===o.id){!0===c.panel&&(c.panel=c.dependentOf||c.name),p.panel=c.panel,i.yAxis&&(i.yAxis instanceof t.ChartEngine.YAxis||(i.yAxis=new t.ChartEngine.YAxis(i.yAxis)),p.yAxis=i.yAxis),c.panel!=g.panel&&p.name==y?this.electNewPanelOwner(g.panel):(v=this.getYAxisByName(c.panel,p.name))&&c.yAxis&&v.name!==c.yAxis.name&&(v.name=this.electNewYAxisOwner(v)),c.field||(c.field=null),d.attachSeries(l,t.ensureDefaults(c,g)),c.field||(c.field=c.subField),delete c.subField,!c.isComparison||!h.forcePercentComparison||c.panel!=h.panel.name||o.parameters.yAxis&&c.yAxis.name!=h.yAxis.name||this.setChartScale("percent"),u=d;break}}if(this.changeOccurred(r),t.getFn("Drawing.updateSource")(this,o.parameters.symbol||l,null,o.parameters.panel),this.runAppend("modifySeries",arguments),!0!==a){x=-1203440976,b=-333794271,C=2;for(var A=1;K.Y19(A.toString(),A.toString().length,20644)!==x;A++)S=u.getDependents(this),C+=2;K.g19(C.toString(),C.toString().length,30728)!==b&&(S=u.getDependents(this));for(var D=0;D<S.length;D++)this.modifySeries(S[D].params.name,{panel:u.params.panel,yAxis:o.parameters.yAxis},!0);(w=h.seriesRenderers[u.params.dependentOf])&&(w.params.yAxis==o.parameters.yAxis&&w.params.panel==u.params.panel||this.modifySeries(u.params.dependentOf,{panel:u.params.panel,yAxis:o.parameters.yAxis},!0))}return this.draw(),o}},t.ChartEngine.prototype.deleteSeries=function(e,t,i){var a,r,n,s,o,l,h,c,u;a="del",a+="eteSeries",r="symbo",r+="l",r+="C",r+="hange",this.runPrepend("deleteSeries",arguments)||(n=(i=i||{}).action?i.action:"remove-series","object"==typeof e?(s=e.id,t=t||this.charts[e.parameters.chartName]):(s=e,t=t||this.chart),(o=t.series[s])&&(l=o.parameters.loadData,h=o.parameters.symbolObject,delete t.series[s],K.A9d(),c=this.getSeries({symbolObject:h,includeMaster:!0}),!1===l&&c.push(s),c.length||this.cleanMasterData(h,t),(u=this.panels[o.parameters.panel])&&this.checkForEmptyPanel(u),this.createDataSet(),c.length||this.dispatch(this.currentlyImporting?"symbolImport":r,{stx:this,symbol:h.symbol,symbolObject:h,id:s,action:n}),this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend(a,arguments)))},t.ChartEngine.prototype.removeSeries=function(e,t){var i,a,r,n,s,o;if(!this.runPrepend("removeSeries",arguments)){for(var l in a=!1,"object"==typeof e?(i=e.id,t=t||this.charts[e.parameters.chartName]):(i=e,t=t||this.chart),t.seriesRenderers){r=t.seriesRenderers[l],s=(n=this.panels[r.params.panel])&&n.yAxis.name;for(var h=r.seriesParams.length-1;h>=0;h--)r.seriesParams[h].id===i&&(r.removeSeries(i),r.seriesParams.length<1&&(this.removeSeriesRenderer(r),r.params.name==s?this.electNewPanelOwner(r.params.panel):this.checkForEmptyPanel(r.params.panel)||(o=this.getYAxisByName(n,r.params.name))&&(o.name=o.studies[0]||o.renderers[1])),a=!0)}a||this.deleteSeries(i,t),this.resetDynamicYAxis(),this.draw(),this.resizeChart(),K.A9d(),this.runAppend("removeSeries",arguments)}},t.Comparison=t.Comparison||function(){},t.Comparison.initialPrice=100,t.Comparison.getInitialPrice=function(e){var i,a,r;if(e.initialComparisonPrice)return e.initialComparisonPrice;if(e.initialComparisonPrice=100,"number"==typeof(i=t.Comparison.initialPrice)&&(e.initialComparisonPrice=i),"string"==typeof i&&(e.series[i]||""===i)){a="Close",e.defaultPlotField&&(e.highLowBars||(a=e.defaultPlotField));for(var n=e.dataSet.length-e.scroll-1;n<e.dataSet.length;n++)if(r=e.dataSet[n]){if(r[i]&&r[i][a]){e.initialComparisonPrice=r[i][a];break}if(""===i&&r[a]){e.initialComparisonPrice=r[a];break}}}return K.A9d(),e.initialComparisonPrice},t.Comparison.priceToPercent=function(e,i,a){var r,n=K;r=t.Comparison.baseline||a,n.O9X(99);var s=n.x9X(120,19,6,2066);n.O9X(6);var o=n.L9X(13,10013);n.O9X(6);var l=n.x9X(15e4,16e4);return Math.round((a-r)/r*s*o)/l},t.Comparison.percentToPrice=function(e,i,a){var r;return K.l9d(),r=t.Comparison.baseline||1,K.I9X(100),K.L9X(100,r,1,a)},t.Comparison.priceToRelative=function(e,i,a){var r,n;return r=t.Comparison.baseline||a,n=t.Comparison.getInitialPrice(i),K.I9X(101),K.A9d(),K.L9X(a,r,n)},t.Comparison.relativeToPrice=function(e,i,a){var r,n;return K.A9d(),r=t.Comparison.baseline||1,n=t.Comparison.getInitialPrice(i),K.O9X(101),K.x9X(a,n,r)},t.Comparison.createComparisonSegmentInner=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D=K;for(r in"L","o","w","Hi","g","h",a=[],i.series)(o=i.series[r].parameters).isComparison&&a.push(o.symbol);for(var T in l=["Close","Open","High","Low","iqPrevClose"],h=e.chart.highLowBars,i.defaultPlotField&&!h&&l.unshift(i.defaultPlotField),c=l[0],u=e.layout.studies)if(d=u[T],n=e.panels[d.panel],s=d.getYAxis(e),n&&n.yAxis==s){for(r in d.outputMap)l.push(r);for(var M=0;M<=2;M++)"_","hi","s","t",l.push(d.name+"_hist"+(M||""));d.referenceOutput&&l.push(d.referenceOutput+" "+d.name)}for(var F in e.plugins)if((p=e.plugins[F]).transformOutputs)for(r in p.transformOutputs)l.push(r);i.initialComparisonPrice=null,i.dataSegment=[],m=null,D.O9X(0);var P=D.x9X(1,0);g=i.dataSet.length-i.scroll-P,e.startComparisonsAtFirstVisibleBar&&(g+=1),D.I9X(102);var _=D.x9X(19,20,1462910683,1462910683,1462911048);f=i.maxTicks+("3">>_);for(var E=0;E<=f;E++){if(E==f&&(E=-1),D.I9X(0),(y=D.x9X(E,g))<i.dataSet.length&&y>=0){if(x=(v=i.dataSet[y])[c],!m){if(0===x||null===x){if(E<0)break;continue}m=t.clone(v)}for(v.transform||(v.transform={cache:{},DT:v.DT,Date:v.Date}),!t.Comparison.baseline&&x&&(m=t.clone(v)),t.Comparison.baseline=m[c],b=0;b<l.length;b++)(v[r=l[b]]||0===v[r])&&(v.transform[r]=i.transformFunc(e,i,v[r]));for(b=0;b<a.length;b++)if(r=a[b],C=i.series[r],-1==E&&C&&C.parameters.isComparison)delete v.transform[r];else{S=v[r];for(var I=0;S&&I<l.length;I++)((w=S[l[I]])||0===w)&&((k=m[r]&&m[r][l[0]])||0===k||(m[r]||(m[r]={}),m[r][l[I]]=k=w*t.Comparison.baseline/v[c]),0!==k&&(L=t.Comparison.baseline||1,D.O9X(103),A=D.L9X(k,L,w),v.transform[r]||(v.transform[r]={}),v.transform[r][l[I]]=i.transformFunc(e,i,A)))}i.dataSegment.push(v)}else y<0&&i.dataSegment.push(null);if(E<0)break}},t.Comparison.priceFormat=function(e,t,i){var a,r,n=K;if(null==i||isNaN(i))return"";if(a=t.yAxis.priceTick,r=e.internationalizer)a>=5?(n.I9X(7),i=r.percent.format(n.x9X(i,100))):a>=.5?(n.I9X(7),i=r.percent1.format(n.x9X(i,100))):a>=.05?(n.I9X(7),i=r.percent2.format(n.L9X(i,100))):a>=.005?(n.O9X(27),i=r.percent3.format(n.L9X(i,"100"))):(n.O9X(104),i=r.percent4.format(n.x9X(1489177376,"100",i)));else if(a>=5){n.O9X(105);var s=n.L9X(15,2,8,3872);n.O9X(106);n.L9X(1353928,9450,18,16,9);n.O9X(107);var o=n.x9X(8910,8931,8931);n.I9X(9);n.L9X(15,14);n.I9X(108);n.x9X(7,6,476,5703,9);i=i.toFixed(0)+(2789!=s&&(o>85.53?"%":"c"))}else if(a>=.5){n.O9X(9);var l=n.L9X(10,9);i=i.toFixed(l)+"%"}else if(a>=.05){n.I9X(95);var h=n.L9X(483058806,69008401,10);n.O9X(95);n.x9X(616,122,12);n.O9X(109);var c=n.x9X(1,17,425,850,9332);n.I9X(0);var u=n.x9X(2820,1410);n.O9X(110);n.x9X(5219,104341,3,16,7);i=i.toFixed(2)+(714.69=="7289">>h?!(c>u)||685.31:"%")}else if(a>=.005){n.O9X(0);var d=n.L9X(7,122);n.O9X(6);n.x9X(64185,68464);n.I9X(30);var p=n.L9X(9859,20,187314);n.I9X(111);var m=n.L9X(631,1,628,69,10);i=i.toFixed(3)+(("1427"|d)!==p?"%":m)}else{n.I9X(112);var g=n.L9X(1,29,18,8);n.O9X(46);var f=n.x9X(23597,1,15,2145);n.I9X(52);var y=n.L9X(22375,62650,2);i=i.toFixed(g)+(f<=y?"%":1930)}return n.l9d(),0===parseFloat(i)&&"-"==i.charAt(0)&&(i=i.substring(1)),i},t.ChartEngine.prototype.setComparison=function(e,i,a){var r,n;if("str","i","n","g",i||(i=this.chart),"string"==typeof i&&(i=this.charts[i]),(a||""===a)&&(t.Comparison.initialPrice=a),!0===e){if("pe","rc","en","t",i.isComparison)return;e="percent"}switch(this.resetDynamicYAxis(),n=(r=i.panel.yAxis).priceFormatter==t.Comparison.priceFormat,e){case"relative":this.setTransform(i,t.Comparison.priceToRelative,t.Comparison.relativeToPrice),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSegment",i.isComparison=!0;break;case"percent":this.setTransform(i,t.Comparison.priceToPercent,t.Comparison.percentToPrice),n||(r.originalPriceFormatter={func:r.priceFormatter},r.priceFormatter=t.Comparison.priceFormat),r.whichSet="dataSegment",i.isComparison=!0;break;default:this.unsetTransform(i),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSet",i.isComparison=!1}},t.ChartEngine.prototype.setChartScale=function(e){var i,a;i=this.chart,a={percent:!0,relative:!0},e||(e="linear"),K.A9d(),a[e]?this.setComparison(e,i,t.Comparison.initialPrice):a[this.layout.chartScale]&&this.setComparison(!1,i),this.layout.chartScale=e,i.canvas&&this.draw(),this.changeOccurred("layout")}},v=e=>{var t,i;function a(e,t,a){var r,s,o,l,h,c,u;if(t||(t={}),[],"ciq-no-share",r=document.querySelector("body"),t.hide&&t.hide instanceof Array){","," ",s=t.hide.join(", "),o=document.querySelectorAll(s);for(var d=0;d<o.length;d++)o[d].classList.add("ciq-no-share")}for(r.classList.add("sharing"),l=e.chart.container.getElementsByTagName("svg"),h=[],c=0;c<l.length;c++)u=l[c],h.push(u.innerHTML),n(u);i(e.chart.container,{allowTaint:!1,logging:!1,width:t.width||null,height:t.height||null,backgroundColor:t.background||null,useCORS:!0}).then((function(e){for(a&&("im","age/pn","g",a(null,t.data?e.toDataURL("image/png"):e)),c=0;c<l.length;c++)l[c].innerHTML=h[c];r.classList.remove("sharing")})).catch((function(e){for(K.A9d(),a&&a(e),c=0;c<l.length;c++)l[c].innerHTML=h[c];r.classList.remove("sharing")}))}function r(e){if("undefined"!=typeof html2canvas)return i=html2canvas,e();if("htm","l2can","vas.min.","js","un","define","d","undefined"!=typeof requirejs)try{return requirejs(["html2canvas.min.js"],(function(t){return i=t,e()}))}catch(e){console.warn("Require loading has failed, attempting to load html2canvas manually.")}t.loadScript(function(){var e,i;if(K.A9d(),t.Share.html2canvasLocation)return t.Share.html2canvasLocation;e=document.getElementsByTagName("script");for(var a=0;a<e.length;a++)if((i=e[a]).src&&i.src.indexOf("share.js")>-1)return i.src.replace(/standard\/share\.js/,"")+"thirdparty/";return"js/thirdparty/"}()+"html2canvas.min.js",(function(){return K.A9d(),i=html2canvas,e()}))}function n(e){var t;if("fill-o","paci","ty","fil","l",e.style)for(var i in t=getComputedStyle(e),["alignment-baseline","dominant-baseline","fill","fill-opacity","font-family","font-size","font-variant","font-weight","text-align","text-anchor"].forEach((function(i){K.A9d(),!e.style[i]&&t[i]&&(e.style[i]=t[i])})),e.children)n(e.children[i])}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Share=t.Share||function(){},t.Share.FullChart2PNG=function(e,t,n){if(e&&e.chart){if(K.l9d(),"undefined"==typeof html2canvas)return r((function(){return a(e,t,n)}));i=html2canvas,a(e,t,n)}},K.l9d(),t.Share.createImage=function(e,i,a){var r,n,s,o,l,h,c,u,d,p;r="i",r+="m",r+="g",n="o",n+="bjec",n+="t",s=[].slice.call(arguments),a=s.pop(),null!==i&&typeof i==n||(i={widthPX:s[1],heightPX:s[2],imageType:s[3]}),o=i.widthPX,l=i.heightPX,h=i.imageType,c=e.chart.canvas.height,u=e.chart.canvas.width,e.chart.canvas.style.height&&(c=t.stripPX(e.chart.canvas.style.height),u=t.stripPX(e.chart.canvas.style.width)),o&&l?(c=l,u=o):l?u=e.chart.canvas.width*(c/e.chart.canvas.height):o&&(u=o,c=e.chart.canvas.height*(o/e.chart.canvas.width)),d=h?"image/"+h:"image/png",(p=document.createElement(r)).onload=function(){t.Share.FullChart2PNG(e,{image:this,width:u,height:c,hide:i.hide},(function(e,t){if(e)K.I9X(0),console.warn(K.L9X(e,"Error producing canvas snapshot: "));else try{a(t.toDataURL(d))}catch(e){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),a(p.src)}}))},p.src=e.chart.canvas.toDataURL(d)},t.Share.uploadImage=function(e,i,a,r){K.A9d(),a||(a={}),a.image=e,t.postAjax(i,JSON.stringify(a),(function(e,t){200==e?r(null,t):r(e,null)}))||r(0,null)},t.Share.shareChart=function(e,i,a){t.Share.createImage(e,{},(function(r){var n,s,o,l,h,c=K;if(n=t.uniqueID(),s="ht",s+="tps",s+=":",s+="//share.chartiq.com",c.O9X(21),c.l9d(),o=c.x9X(s,"/upload/",n),i&&(i.host&&(s=i.host),i.path)){c.I9X(23);var u=c.L9X(6072,9,16,608,1234);o=s+i.path+(u<604.86?336.7:"/")+n}l=e.getStartDateOffset(),h={id:n,image:r,config:{layout:e.exportLayout(),drawings:e.exportDrawings(),xOffset:l,startDate:e.chart.dataSegment[l].Date,endDate:e.chart.dataSegment[e.chart.dataSegment.length-1].Date,id:n,symbol:e.chart.symbol}},t.Share.uploadImage(r,o,h,(function(e,i){c.A9d(),null!==e?("err","or sharing chart",": ",t.alert("error sharing chart: ",e)):(c.I9X(0),a(c.L9X(i,s)))}))}))}},x=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.setRange=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,I,N,O=K;function X(e,i,a,r,n,s){var o,l;return o=0,O.O9X(6),l=O.x9X(i,e),O.l9d(),t.ChartEngine.isDailyInterval(a)?o="month"==a?l/t.MONTH/r:"week"==a?l/t.WEEK/r:l/t.DAY/r:isNaN(a)||("se","co","nd","millisecond"==n?(O.O9X(113),o=O.x9X(l,r,a)):o="second"==n?l/t.SECOND/(r*a):l/t.MINUTE/(r*a)),Math.round(o)}function z(t){var o,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,M;if("l","a","y","out",void 0===t&&(t=null),o=0,h=0,c=new Date,u=e.base,d=e.periodicity,p=l.layout,e.goIntoFuture&&(!r.masterData.length||n>r.masterData[r.masterData.length-1].DT)&&(m=r.masterData.length?r.masterData.pop():{DT:n},g=l.doCleanupGaps([m,{DT:s}],r,{cleanupGaps:"gap",noCleanupDates:!0}),l.setMasterData(r.masterData.concat(g),r,{noCleanupDates:!0}),l.createDataSet(null,null,{appending:!0})),y=(f=r.dataSet).length,f&&0!==y){if("day"===u&&d&&"day"===d.interval)o=y<(x=e.multiplier)?0:y-x,O.O9X(114),h=O.x9X(y,"1");else if("today"===u&&f[y-1].DT.getDate()<c.getDate()){(b=new Date(f[y-1].DT.getTime())).getTime(),v=0;for(var F=y-1;F>=0;F--)if(f[F]&&f[F].DT.getDate()!=b.getDate()){b=new Date(+f[F+1].DT),O.O9X(115),v=O.x9X(772416640,"1",F);break}o=v,O.O9X(6),h=O.x9X(1,y)}else{if("a","l","l","all"!=e.base&&(n.getTime()>=f[0].DT.getTime()||e.goIntoPast))o=l.tickFromDate(n,r,null,!0);else{O.O9X(53),C=-O.L9X(143359680,"1091346484"),-1049587807,O.O9X(1),S=O.L9X(1,"2");for(var P=1;O.Y19(P.toString(),P.toString().length,62757)!==C;P++)o=2,S+=2;-1049587807!==O.g19(S.toString(),S.toString().length,77558)&&(o=0)}"all"!=e.base&&(s.getTime()<=f[y-1].DT.getTime()||e.goIntoFuture)?(h=l.tickFromDate(s,r))>y-1&&h--:(O.I9X(6),h=O.x9X(1,y))}if(O.O9X(5),(w=O.L9X(o,1,h))<1)i&&i(t);else{for(var _ in k=e.padding||0,h<y-1&&(k=0),M=(r.width-k)/w,l.setCandleWidth(M,r),O.I9X(116),r.scroll=O.x9X(w,y,1,h),l.micropixels=1,l.panels)l.calculateYAxisMargins(l.panels[_].yAxis);e.dontSaveRangeToLayout?delete p.range:(delete e.chart,delete p.setSpan,p.range=e),l.draw(),l.changeOccurred("layout"),a||l.dispatch("periodicity",{stx:l,differentData:T,prevPeriodicity:{interval:L,periodicity:A,timeUnit:D}}),i&&i(t)}}else i&&i(t)}if(t.isEmpty(e)&&(e={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},i=arguments[4]),this.staticRange&&(e.goIntoPast=e.goIntoFuture=!0),e.chart||(e.chart=this.chart),void 0===e.padding&&(O.O9X(49),e.padding=O.x9X(0,"0")),a=!1,r=e.chart,n="string"==typeof e.dtLeft?new Date(e.dtLeft):e.dtLeft,s=new Date,e.dtRight&&(s="string"==typeof e.dtRight?new Date(e.dtRight):e.dtRight),n||(o=this.standardMarketIterator(s,null,r),n=o.previous(r.maxTicks),e.periodicity||(a=!0)),r.inflectionPoint=n,this.layout.range={dtLeft:n,dtRight:s},l=this,h=0,this.quoteDriver){if(a)c=this.layout.interval,d=this.layout.timeUnit,u=this.layout.periodicity;else if(e.periodicity)c=(p=t.cleanPeriodicity(e.periodicity.period,e.periodicity.interval,e.periodicity.timeUnit)).interval,d=p.timeUnit,u=p.period;else if(m=s.getTime()-n.getTime(),this.autoPickCandleWidth.turnOn){v=0,v=this.autoPickCandleWidth.candleWidth?this.autoPickCandleWidth.candleWidth:this.chart.barsHaveWidth?5:2,x=r.width/v,c=(b=this.dynamicRangePeriodicityMap)[0].interval,u=1;for(var H=0;H<b.length;H++){if((S=m/b[H].rangeInMS)<x){b[H-1]?(c=b[H-1].interval,d=b[H-1].timeUnit,O.O9X(7),u=Math.ceil(O.x9X(C,x))):(c=b[H].interval,d=b[H].timeUnit,u=1);break}C=S}}else{g=this.staticRangePeriodicityMap,f=null;for(var R=0;R<g.length;R++)if(m/(y=g[R]).rangeInMS<1.001){f=y;break}c=f.interval,u=f.periodicity,d=f.timeUnit}w=this.chart.scroll,k=this.layout.candleWidth,L=this.layout.interval,A=this.layout.periodicity,D=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=X(s.getTime(),n.getTime(),c,u,d,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,T=this.needDifferentData({period:u,interval:c,timeUnit:d}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>n||this.chart.endPoints.end<s)&&(T=!0),!this.chart.masterData||!this.chart.masterData.length||T||e.forceLoad?(M="w",M+="e",M+="e",M+="k",F="m",F+="onth",this.layout.interval=c,this.layout.periodicity=u,this.layout.timeUnit=d,this.layout.timeUnit||(P="min",P+="ute",_="tic",_+="k",t.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:"second"==this.layout.interval?this.layout.timeUnit="second":this.layout.interval!=_&&(this.layout.timeUnit=P)),E={symbol:r.symbol,symbolObject:r.symbolObject,chart:r,nodraw:!0},"tick"==this.layout.interval&&(E.startDate=n,E.endDate=s),this.displayInitialized||(E.initializeChart=!0),(I={symbol:r.symbol,symbolObject:r.symbolObject,interval:this.layout.interval}).interval!=F&&I.interval!=M||this.dontRoll||(I.interval="day"),N=Math.max(this.quoteDriver.getQuoteFeed(I).behavior.bufferSize+50,200),o=this.standardMarketIterator(n,null,r),E.startDate=new Date(o.previous(N).getTime()),o=this.standardMarketIterator(s,null,r),E.endDate=new Date(o.next(N).getTime()),E.endDate<Date.now()&&(this.isHistoricalModeSet=!0),this.clearCurrentMarketData(this.chart),clearTimeout(this.streamParameters.timeout),this.quoteDriver.newChart(E,W)):(this.layout.interval==c&&this.layout.periodicity==u&&this.layout.timeUnit==d&&this.chart.dataSegment&&this.chart.dataSegment[0]&&this.chart.dataSegment[0].DT==r.inflectionPoint||(this.layout.interval=c,this.layout.periodicity=u,this.layout.timeUnit=d,this.createDataSet()),W())}else z();function W(e){return e&&0===h?(r.scroll=w,l.setCandleWidth(k),l.layout.interval=L,l.layout.periodicity=A,l.layout.timeUnit=D,void(i&&i(e))):++h>10?(console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),void z()):void z()}},K.l9d(),t.ChartEngine.prototype.setSpan=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F=K;function P(e,t){return C?(7,t?e.setHours(e.getHours()+7):(e.setHours(e.getHours()-7),u.isMarketDate(e)||e.setDate(e.getDate()-2)),e):e}if(a="y",a+="e",a+="ar",r="y",r+="t",r+="d",n="a",n+="ll",s="o",s+="bjec",o=arguments[0],l=arguments[1],h=arguments[2],c=arguments[3],typeof e==(s+="t")?(o=e.period?e.period:e.multiplier?e.multiplier:1,l=e.interval?e.interval:e.base?e.base:e.span?e.span:e.period,h=e.padding,c=e.chart):(e={period:o,interval:l,padding:h,chart:c},i=arguments[5]),c||(c=this.chart),u=c.market,(l=l.toLowerCase())==n)return e.dontSaveRangeToLayout=!0,void this.displayAll(e,i);if(p=l,m=1,"today"==l){g=1289119044,f=887718409,y=2;for(var _=1;F.Y19(_.toString(),_.toString().length,18902)!==g;_++)p="day",y+=2;F.Y19(y.toString(),y.toString().length,82408)!==f&&(p="")}else"year"==l&&(p="month",m=12);if(v=t.shallowClone(e),b=(x={begin:u.marketZoneNow(),interval:p,period:m}).begin,C=t.Market.Symbology.isForexSymbol(c.symbol),l===r)(b=I(b)).setMonth(0),b.setDate(1);else if("month"===l)(b=I(new Date)).setMonth(b.getMonth()-o);else if(l===a)(b=I(new Date)).setFullYear(b.getFullYear()-o);else if("week"===l)(b=I(new Date)).setDate(b.getDate()-7*o);else if("day"===l&&1==o&&u.isMarketDay())S=b.getHours(),w=b.getMinutes(),k=b.getSeconds(),L=b.getMilliseconds(),(b=(d=u.newIterator(x)).previous()).setHours(S,w,k,L),b=u._convertFromMarketTZ(b);else if("today"===l){x.begin=P(b,!0),d=u.newIterator(x),(u.isOpen()||u.getPreviousOpen().getDate()==b.getDate())&&d.next(),P(b=d.previous()),v.goIntoFuture=!0,v.dtRight=new Date(+b),v.dtRight.setDate(b.getDate()+1),v.dtRight=u._convertFromMarketTZ(v.dtRight),C||(b.setHours(d.market.zopen_hour),b.setMinutes(d.market.zopen_minute),b.setSeconds(0)),A=1289837553,D=-451506933,T=2;for(var E=1;F.g19(E.toString(),E.toString().length,79471)!==A;E++)b=u._convertFromMarketTZ(b),T+=2;F.g19(T.toString(),T.toString().length,56809)!==D&&(b=u._convertFromMarketTZ(b))}else"day"==l&&(x.begin=P(b,!0)),d=u.newIterator(x),1==o&&o++,F.I9X(6),b=d.previous(F.x9X(1,o)),"day"==l&&(b=u._convertFromMarketTZ(P(b)));function I(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),F.A9d(),e}v.dtLeft=b,v.maintainPeriodicity&&(v.periodicity={},v.periodicity.interval=this.layout.interval,v.periodicity.period=this.layout.periodicity),c.spanLock=!1,v.dontSaveRangeToLayout=!0,M=this,this.setRange(v,(function(t){M.layout.setSpan=e,M.changeOccurred("layout"),"today"==l&&(c.spanLock=!0),i&&i(t)}))},t.ChartEngine.prototype.getSpanCandleWidth=function(e){var t,i,a,r,n,s=K;if("wee","k","d","a","y","mont","h",e&&e.base&&e.multiplier){t=parseFloat(e.multiplier),i=e.base,a=new Date,r=new Date,"year"==i?r.setFullYear(r.getFullYear()-t):"month"==i?r.setMonth(r.getMonth()-t):"day"==i?r.setDate(r.getDate()-t):"week"==i?r.setDate(r.getDate()-7*t):"YTD"==i&&(r.setMonth(0),r.setDate(1)),s.O9X(117);var o=s.L9X(30,9,996,9,16);s.O9X(0);var l=s.L9X(30,30);return n=(a.getTime()-r.getTime())/o/l/60/24,s.I9X(101),n=s.L9X(5,7,n),this.chart.width/n}},t.ChartEngine.prototype.displayAll=function(e,i){var a,r,n,s,o=K;var{chart:l,layout:h}=this;function c(){var r;l.masterData&&l.masterData.length&&((r=t.clone(e)).dtLeft=l.endPoints.begin.DT,r.dtRight=l.endPoints.end.DT,r.periodicity={},r.periodicity.interval=h.interval,r.periodicity.period=h.periodicity,r.periodicity.timeUnit=h.timeUnit,a.setRange(r,(function(t){for(var r in a.layout.setSpan={base:e.base,multiplier:e.multiplier},a.changeOccurred("layout"),a.panels)a.calculateYAxisMargins(a.panels[r].yAxis);o.A9d(),a.draw(),i&&i(t)})))}if(o.l9d(),e&&e.chart&&(l=e.chart),a=this,this.quoteDriver){r=e.maintainPeriodicity?{period:h.periodicity,interval:h.interval,timeUnit:h.timeUnit}:{period:1,interval:"month",timeUnit:null},-1582825121,282477540,n=2;for(var u=1;-1582825121!==o.Y19(u.toString(),u.toString().length,67714);u++)r=e.periodicity?e.periodicity:r,r=t.cleanPeriodicity(r.period,r.interval,r.timeUnit),s=this.needDifferentData(r),this.layout.periodicity=r.period,this.layout.interval=r.interval,o.I9X(50),n+=o.L9X("2",2);282477540!==o.g19(n.toString(),n.toString().length,30760)&&(r=e.periodicity?e.periodicity:r,r=t.cleanPeriodicity(r.period,r.interval,r.timeUnit),s=this.needDifferentData(r),this.layout.periodicity=r.period,this.layout.interval=r.interval),this.layout.timeUnit=r.timeUnit,e.forceLoad||s?(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({noDraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},d)):l.moreAvailable||!l.upToDate?d():(this.createDataSet(),c())}else c();function d(e){e||a.quoteDriver.loadAll(l,c)}}},b=e=>{var t,i,a,r=K;r.O9X(53),t=-r.L9X(2000687488,"683945770"),i=2;for(var n=1;-1082917894!==r.g19(n.toString(),n.toString().length,43407);n++)"unde","fin","ed",a="undefined"!=typeof _CIQ?_CIQ:e.CIQ,r.I9X(1),i+=r.L9X(1,"2");r.Y19(i.toString(),i.toString().length,85581)!==t&&(a=""===!_CIQ?_CIQ:e.CIQ),a.ChartEngine.prototype.importLayout=function(e,t){var i,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_;if(e){for(var E in i=this,n=[],"object"!=typeof t&&(t={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),s=this.layout,o=a.shallowClone(s),l=t.managePeriodicity,h=t.cb,c=t.seriesCB,u=t.noDataLoad,d=t.preserveTicksAndCandleWidth,p=null,this.exportDrawings&&(p=this.exportDrawings(),this.abortDrawings()),this.currentlyImporting=!0,s.studies)m=s.studies[E],a.getFn("Studies.removeStudy")(this,m);for(v in this.overlays={},g=a.shallowClone(this.panels),this.panels={},f=a.clone(e),s.periodicity=o.periodicity,s.interval=o.interval,s.timeUnit=o.timeUnit,s.setSpan=o.setSpan,s.range=o.range,d?s.candleWidth=o.candleWidth:s.candleWidth||(s.candleWidth=8),this.setCandleWidth(s.candleWidth),s.flipped&&this.flipChart(s.flipped),C=function(e,t){return e.index<t.index?-1:1},y=f.panels)"index"in y[v]||(C=null),(x=y[v]).name=v,n.push(x);if(s.panels={},S=null,n.length>0){C&&n.sort(C);for(var K=0;K<n.length;++K)b=(x=n[K]).yAxis?new a.ChartEngine.YAxis(x.yAxis):null,this.stackPanel(x.display,x.name,x.percent,x.chartName,b),x.soloing&&(S=this.panels[x.name])}for(var I in a.isEmpty(y)&&this.stackPanel("chart","chart",1,"chart"),this.resizeCanvas(),g)if(w=g[I],k=this.panels[I]){for(var N in this.container.removeChild(k.holder),w.handle&&this.container.removeChild(w.handle),{holder:!0,subholder:!0,display:!0,icons:!0})k[N]=w[N];this.configurePanelControls(k),w.chart.panel==w&&(w.chart.panel=k)}else this.privateDeletePanel(w);for(var O in this.chart.panel=this.panels.chart,H(this.panels),a.dataBindSafeAssignment(s,a.clone(f)),L=a.clone(s.studies),delete s.studies,L)A=L[O],a.getFn("Studies.addStudy")(this,A.type,A.inputs,A.outputs,A.parameters,A.panel);if(this.extendedHours&&this.extendedHours.prepare(s.extended,s.marketSessions),void 0===s.chartType&&(s.chartType="line"),this.setMainSeriesRenderer(),S&&this.panelSolo(S),this.adjustPanelPositions(),H(this.panels),this.storePanels(),!u){if(f.symbols&&f.symbols.length)return D={chart:this.chart},!d&&l&&f.range&&Object.keys(f.range).length?D.range=f.range:!d&&l&&f.setSpan&&Object.keys(f.setSpan).length?D.span=f.setSpan:l&&f.interval?D.periodicity={interval:f.interval,period:f.periodicity,timeUnit:f.timeUnit}:D.periodicity={interval:o.interval,period:o.periodicity,timeUnit:o.timeUnit},T=f.symbols[0].symbolObject||f.symbols[0].symbol,void this.loadChart(T,D,(function(e){var t;if(!e){for(var n,s=1;s<f.symbols.length&&i.addSeries;++s)(n=f.symbols[s]).parameters||(n.parameters={}),t=a.clone(n.parameters),this.panels[t.panel]?i.addSeries(n.id,t,z):console.warn('Warning: Series "'+n.id+'" could not be imported due to a missing corresponding panel "'+t.panel+'"');f.chartScale&&i.setChartScale(f.chartScale)}X(e),r.A9d(),h&&h.apply(null,arguments)}));if(l){if(!d&&this.setRange){if((M=f.range)&&Object.keys(M).length&&this.chart.symbol)return void this.setRange(M,(function(){X(),h&&h()}));if(f.setSpan&&Object.keys(f.setSpan).length&&this.chart.symbol)return void this.setSpan(f.setSpan,(function(){r.l9d(),X(),h&&h()}))}return F=f.interval,P=f.periodicity,_=f.timeUnit,isNaN(P)&&(P=1),F||(F="day"),void this.setPeriodicity({period:P,interval:F,timeUnit:_},(function(){X(),h&&h()}))}}l&&(s.periodicity=f.periodicity,s.interval=f.interval,s.timeUnit=f.timeUnit,s.setSpan=f.setSpan),this.createDataSet(),d||this.home(),X(),h&&h()}else t.cb&&t.cb();function X(e){var t,a,n;if(r.l9d(),"la","y","out",p&&i.importDrawings(p),i.currentlyImporting=!1,!e){for(var s in n=[],i.chart.series){if("s","tudy",!i.removeSeries)break;"study"==(a=i.chart.series[s]).parameters.bucket&&(t=!0,i.removeSeries(a),n.push(a))}for(var o=0;o<n.length;o++)a=n[o],i.addSeries(a.id,a.parameters,l);t||i.draw(),i.updateListeners("layout"),i.changeOccurred("layout")}function l(){i.createDataSet(),H(i.panels),i.calculateYAxisPositions(),i.draw()}}function z(){i.calculateYAxisPositions(),H(i.panels),c&&c()}function H(e){var t;r.A9d();for(var a=0;a<n.length;a++)"yaxisLH","S",o(t=n[a],"yaxisLHS"),o(t,"yaxisRHS");function s(e){return r.A9d(),!!e}function o(t,i){var a,r,n,o;if(t[i]&&t[i].length&&(a=e[t.name])){r=a[i],n=new Array(r.length);for(var l=0;l<r.length;l++)(o=t[i].indexOf(r[l].name))>-1?n[o]=r[l]:n.push(r[l]);n.length&&(a[i]=n.filter(s))}}i.chart.yAxis=i.chart.panel.yAxis}},a.ChartEngine.prototype.exportLayout=function(e){var t,i,n,s,o,l;function h(e){var t;r.A9d(),t=[];for(var i=0;i<e.length;i++)t.push(e[i].name);return t}for(var c in t={},this.layout)"d","r","awi","ng","studies"!=c&&"panels"!=c&&"drawing"!=c?t[c]=a.clone(this.layout[c]):"studies"==c?t.studies={}:"panels"==c&&(t.panels={});for(var u in i=0,this.panels)!1!==(n=this.panels[u]).exportable&&((s=t.panels[u]={}).percent=n.percent,s.display=n.display,s.chartName=n.chart.name,s.soloing=n.soloing,s.index=i++,s.yAxis={name:n.yAxis.name,position:n.yAxis.position},n.yaxisLHS&&(s.yaxisLHS=h(n.yaxisLHS)),n.yaxisRHS&&(s.yaxisRHS=h(n.yaxisRHS)));for(var d in this.layout.studies)o=t.studies[d]={},l=this.layout.studies[d],o.type=l.type,o.inputs=a.clone(l.inputs),o.outputs=a.clone(l.outputs),o.panel=l.panel,o.parameters=a.clone(l.parameters);return e?t.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0,"exclude-generated":!0}):delete t.symbols,t},a.ChartEngine.prototype.importPreferences=function(e){a.extend(this.preferences,e),e.timeZone&&this.setTimeZone(this.dataZone,e.timeZone),e.language&&a.I18N&&a.I18N.localize(this,e.language),this.changeOccurred("preferences")},a.ChartEngine.prototype.exportPreferences=function(){return this.preferences}},C=e=>{var t,i;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,i="undefined"!=typeof _timezoneJS?_timezoneJS:e.timezoneJS,t.ChartEngine&&(t.ChartEngine.prototype.rightClickOverlay=function(e,t){var i;this.runPrepend("rightClickOverlay",arguments)||(K.A9d(),(i=this.overlays[e]).editFunction?i.editFunction(t):this.removeOverlay(e),this.runAppend("rightClickOverlay",arguments))},t.ChartEngine.prototype.addOverlay=function(e){var t;t="add",t+="Overl",t+="ay",this.runPrepend("addOverlay",arguments)||(this.overlays[e.name]=e,this.runAppend(t,arguments))},t.ChartEngine.prototype.removeOverlay=function(e){var i,a,r;if(!this.runPrepend("removeOverlay",arguments)){for(var n in i=this.overlays[e],this.overlays){a=this.overlays[n],r=["Field"],t.Studies&&(r=t.Studies.getFieldInputs(a));for(var s=0;s<r.length;s++)i.outputMap[a.inputs[r[s]]]&&this.removeOverlay(a.name)}i&&(this.cleanupRemovedStudy(i),this.panels[i.panel],delete this.overlays[e],this.checkForEmptyPanel(i.panel)),this.currentlyImporting||(this.displaySticky(),this.createDataSet(),this.changeOccurred("layout")),this.resetDynamicYAxis(),this.runAppend("removeOverlay",arguments)}},t.ChartEngine.prototype.cleanupRemovedStudy=function(e){if(e){for(var i in e.study.removeFN&&e.study.removeFN(this,e),this.plugins)i.indexOf("{"+e.id+"}")>-1&&delete this.plugins[i];this.layout.studies&&delete this.layout.studies[e.name],delete this.overlays[e.name],t.Studies&&t.Studies.removeStudySymbols(e,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}}),t.Studies=t.Studies||function(){},t.Studies.DEFAULT_INPUTS={Period:14},t.Studies.DEFAULT_OUTPUTS={Result:"auto"},t.Studies.sortForProcessing=e=>{var t,i;return t=[],(i=e.layout.studies)&&function t(i,a){i.forEach(i=>{var r;-1==a.indexOf(i)&&((r=i.getDependents(e)).length&&t(r,a),a.unshift(i))})}(Object.values(i),t),t},t.Studies.StudyDescriptor=function(e,i,a,r,n,s){var o;this.name=e,this.type=i,this.panel=a,this.inputs=r,this.outputs=n,this.parameters=s,this.outputMap={},this.min=null,this.max=null,this.startFrom=0,this.subField="Close",o=t.Studies.studyLibrary[i],K.l9d(),o||(o={},("chart"==a||!a&&s&&"chart"==s.chartName)&&(this.overlay=!0)),void 0===o.inputs&&(o.inputs=t.clone(t.Studies.DEFAULT_INPUTS)),void 0===o.outputs&&(o.outputs=t.clone(t.Studies.DEFAULT_OUTPUTS)),this.study=o,this.libraryEntry=o},t.Studies.StudyDescriptor.prototype.getYAxis=function(e){var t,i,a;return t=this.yAxis,this.parameters&&(i=this.parameters.yaxisDisplayValue),K.l9d(),t||(a=e.panels[this.panel])&&(t=e.getYAxisByName(a,i)||e.getYAxisByName(a,this.name)||a.yAxis),t||(t=e.getYAxisByName(e.chart.panel,i)||e.chart.panel.yAxis),t},t.Studies.StudyDescriptor.prototype.getContext=function(e){return e.chart.context},t.Studies.StudyDescriptor.prototype.getDependents=function(e,i){var a,r,n;for(var s in a=[],e.layout.studies)if((r=e.layout.studies[s])!=this){n=t.Studies.getFieldInputs(r);for(var o=0;o<n.length;o++)if(r.inputs[n[o]].includes(this.name)){if(i&&r.parameters&&r.parameters.panelName)continue;a.push(r),a=a.concat(r.getDependents(e,i));break}}return a},t.Studies.StudyDescriptor.prototype.undraggable=function(e){var t;if(t=this.study.attributes){if(t.panelName&&t.panelName.hidden)return!0;if(t.yaxisDisplayValue&&t.yaxisDisplayValue.hidden)return!0}return!1},t.Studies.StudyDescriptor.prototype.appendFutureTicks=function(e,t){var i,a,r,n;if(K.l9d(),(i=e.chart.scrubbed).length){for(a=e.standardMarketIterator(i[i.length-1].DT),r=t.length-1;r>=0;r--){for(var s in n=t[r])if(n[s]||0===n[s]){r=-1;break}if(-1==r)break;t.pop()}for(r=0;r<t.length;r++)(n=t[r]).DT||(n.DT=a.next()),n.displayDate||e.setDisplayDate(n),n.futureTick=!0,i.push(n)}},t.Studies.generateID=function(e,i,a,r,n){var s,o,l,h,c,u,d,p=K;if(s=t.Studies.studyLibrary[i],p.O9X(21),o=p.L9X("",n||i,""),s&&s.customRemoval)return o;if(!t.isEmpty(a)){-210362402,-1589431637,p.O9X(53),l=p.L9X(717296256,"2");for(var m=1;-210362402!==p.g19(m.toString(),m.toString().length,89635);m++)h=!0,p.I9X(50),l+=p.x9X("2",0);for(var g in-1589431637!==p.g19(l.toString(),l.toString().length,37008)&&(h=!1),a)"f","iel","d",c="d",c+="is",c+="pla",["id",c+="y","Shading","Anchor Selector"].includes(g)||"field"!=(u=a[g])&&(u=u.toString(),void 0!==t.Studies.prettify[u]&&(u=t.Studies.prettify[u]),h?(h=!1,o+=" ("):u&&(o+=","),o+=u);h||(o+=")")}if(r&&0===r.indexOf(o))return r;if(e.layout.studies&&e.layout.studies[o])for(var f=2;f<50;f++)if(p.I9X(21),d=p.x9X(o,"-",f),!e.layout.studies[d]){o=d;break}return o},t.Studies.DialogHelper=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D;function T(e,t){this.attributes[e]||(this.attributes[e]={}),K.l9d(),t&&(this.attributes[e].hidden=!0)}function M(e){var t,a,r;K.A9d(),t={},a=e.defaults,r={name:e.name,heading:i.translateIf(e.label),defaultValue:a[0],value:e.value,options:t,type:"select"};for(var n=0;n<a.length;n++)t[a[n]]=i.translateIf(a[n]);return void 0!==e.color&&(r.defaultColor=i.defaultColor,r.color=e.color),r}for(var F in i=this.stx=e.stx,a=this.sd=e.sd,K.l9d(),this.name=a?a.type:e.name,this.signal=1,this.inputs=[],this.outputs=[],this.parameters=[],void 0===(r=this.libraryEntry=a?a.study:t.Studies.studyLibrary[e.name]).inputs&&(r.inputs=t.clone(t.Studies.DEFAULT_INPUTS)),void 0===r.outputs&&(r.outputs=t.clone(t.Studies.DEFAULT_OUTPUTS)),s=(n=a&&i.panels[a.panel]?i.panels[a.panel]:i.chart.panel).chart,this.title=i.translateIf(r.name),this.attributes=t.clone(r.attributes),this.attributes||(this.attributes={}),this.attributes)for(var P in o=this.attributes[F])"function"==typeof o[P]&&(o[P]=o[P].call(a));function _(e){return{name:e.name,heading:i.translateIf(e.label),defaultValue:e.defaults,value:e.value,type:"checkbox"}}for(var E in l=[],h=i.layout.studies,c=[],a&&(c=Array.prototype.concat(a,a.getDependents(i))),h)if(!(c.indexOf(h[E])>-1))for(var I in h[E].outputMap)l.push(I);for(var N in r.inputs)if(u={},this.inputs.push(u),u.name=N,u.heading=i.translateIf(N),d=r.inputs[N],a&&a.inputs&&void 0!==a.inputs[N]&&null!==a.inputs[N]?u.value=a.inputs[N]:u.value=r.inputs[N],u.defaultInput=r.inputs[N],this.attributes[N]||(this.attributes[N]=t.Studies.inputAttributeDefaultGenerator(u.defaultInput)),d.constructor==Number)u.type="number";else if(d.constructor==String)if(p=t.Studies.movingAverageHelper(i,u.defaultInput))u.type="select",u.defaultInput=p,(m=t.Studies.movingAverageHelper(i,u.value))||(m=u.value),u.value=m,u.options=t.Studies.movingAverageHelper(i,"options");else if("field"==d){u.type="select",u.options={},g=["Open","High","Low","Close","Adj_Close","hl/2","hlc/3","hlcc/4","ohlc/4",s.defaultPlotField].concat(l);for(var O=0;O<g.length;O++)f=g[O],u.options[f]=i.translateIf(f);"field"==u.value&&(u.value="Close"),"field"==u.defaultInput&&("C","l","os","e",u.defaultInput="Close")}else"te","x","t",u.type="text","yyyy-mm-dd"==this.attributes[N].placeholder?u.type="date":"hh:mm:ss"==this.attributes[N].placeholder&&(u.type="time");else if(d.constructor==Boolean)"t","r","u","e",u.type="checkbox",!0!==u.value&&"true"!=u.value&&"on"!=u.value||(u.value=!0);else if(d.constructor==Array){u.type="select",u.options={};for(var X=0;X<d.length;X++)u.options[d[X]]=i.translateIf(d[X]);u.value.constructor==Array&&(u.value=u.value[0]),this.attributes[N].defaultSelected?u.defaultInput=this.attributes[N].defaultSelected:u.defaultInput=d[0]}function z(e){var t;if("a",K.l9d(),"l","i","as","alias"==L)for(var a in K.I9X(53),t=K.L9X(828250752,"1"),i.panels){if(a==e)return r(a,t);t++}function r(e,t){return"P","a","ne","l ","Panel "+t.toString()}return e}this.dateTimeInputs=[];for(var H=0;H<this.inputs.length;H++)if("d","a","t","e","date"==(y=this.inputs[H]).type){" ","D","a","te",v=y.name.substring(0,y.name.indexOf(" Date"));for(var R=0;R<this.inputs.length;R++)if("t","i","me","time"==(x=this.inputs[R]).type&&(" T","i","me",x.name==v+" Time")){this.dateTimeInputs.push(v);break}}for(N in this.adjustInputTimesForDisplayZone(),r.outputs)(b={name:N,heading:i.translateIf(N)}).color=b.defaultOutput=r.outputs[N],a&&a.outputs&&a.outputs[N]&&(b.color=a.outputs[N]),"auto"==b.color&&(b.color=i.defaultColor),this.outputs.push(b);if(C=a?a.parameters:null,r.parameters&&(S=r.parameters.init)){if(void 0!==S.studyOverZonesEnabled&&("ch","eckbox",w={name:"studyOverZones",heading:i.translateIf("Show Zones"),defaultValue:S.studyOverZonesEnabled,value:S.studyOverZonesEnabled},C&&(C.studyOverZonesEnabled||!1===C.studyOverZonesEnabled)&&(w.value=C.studyOverZonesEnabled),w.type="checkbox",this.parameters.push(w)),void 0!==S.studyOverBoughtValue&&("a","u","t","o",w={name:"studyOverBought",heading:i.translateIf("OverBought"),defaultValue:S.studyOverBoughtValue,value:S.studyOverBoughtValue,defaultColor:S.studyOverBoughtColor,color:S.studyOverBoughtColor},C&&C.studyOverBoughtValue&&(w.value=C.studyOverBoughtValue),C&&C.studyOverBoughtColor&&(w.color=C.studyOverBoughtColor),"auto"==w.color&&(w.color=i.defaultColor),w.type="text",this.parameters.push(w)),void 0!==S.studyOverSoldValue){w={name:"studyOverSold",heading:i.translateIf("OverSold"),defaultValue:S.studyOverSoldValue,value:S.studyOverSoldValue,defaultColor:S.studyOverSoldColor,color:S.studyOverSoldColor},-251703157,-706608055,k=2;for(var W=1;-251703157!==K.Y19(W.toString(),W.toString().length,98019);W++)C&&C.studyOverSoldValue&&(w.value=C.studyOverSoldValue),C&&C.studyOverSoldColor&&(w.color=C.studyOverSoldColor),"auto"==w.color&&(w.color=i.defaultColor),w.type="text",this.parameters.push(w),k+=2;-706608055!==K.Y19(k.toString(),k.toString().length,96371)&&((C||C.studyOverSoldValue)&&(w.value=C.studyOverSoldValue),(C||C.studyOverSoldColor)&&(w.color=C.studyOverSoldColor),"text"===w.color&&(w.color=i.defaultColor),w.type="text",this.parameters.push(w))}this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})}L=this.panelSelect=e.panelSelect,A=this.axisSelect=e.axisSelect,e.addWhenDone&&(A=L=!1),(A||L)&&("p","anelName",a||(a=t.Studies.addStudy(i,e.name,null,null,{calculateOnly:!0}),t.Studies.removeStudy(i,a)),L&&("A","u","t","o","pa","ne","lName",this.parameters.push(M({label:"Panel",name:"panelName",defaults:function(){var e;for(var t in"New"," ","panel","Au","to",e=[],K.l9d(),e.push("Auto"),i.panels)t==a.panel&&C&&C.panelName||e.push(z(t));return i.checkForEmptyPanel(a.panel,!0,a)||e.push("New panel"),e}(),value:C&&C.panelName?z(C.panelName):"Auto"}),_({label:"Show as Underlay",name:"underlay",defaults:!1,value:a.underlay||a.parameters&&a.parameters.underlayEnabled}))),D=i.getYAxisByName(n,a.name),A&&("s","har","e","d",this.parameters.push(M({label:"Y-Axis",name:"yaxisDisplay",defaults:function(){var e,t;e=n.yaxisLHS.concat(n.yaxisRHS),(t=[]).push("default","right","left","none","shared");for(var i=0;i<e.length;i++)e[i]!=D&&t.push(e[i].name);return t}(),value:C&&C.yaxisDisplayValue||D&&D.position||(a.panel!=a.name?"shared":n.yAxis.position||"default"),color:D&&D.textStyle?D.textStyle:"auto"}),_({label:"Invert Y-Axis",name:"flipped",defaults:!1,value:C?C.flippedEnabled:!!D&&D.flipped}))),T.call(this,"flippedEnabled",!D&&a.panel!=a.name),T.call(this,"underlayEnabled",r.underlay),T.call(this,"panelName",null===r.seriesFN),T.call(this,"yaxisDisplayValue",null===r.seriesFN||r.yAxis&&r.yAxis.noDraw))},t.Studies.DialogHelper.prototype.updateStudy=function(e){var i,a,r,n;for(var s in i={},a=this.sd,(r=this.libraryEntry)||(r={}),a||(a=r),i.inputs=t.clone(a.inputs),i.outputs=t.clone(a.outputs),i.parameters=t.clone(a.parameters),this.adjustInputTimesForDisplayZone(e),e.parameters&&e.parameters.panelName&&(e.parameters.panelName=function(e){var t,i;if("alias"==this.panelSelect&&(t=(i=e.match(/.* (\d)/))&&i[1]))for(var a in this.stx.panels)if(!--t)return a;return K.A9d(),e}.call(this,e.parameters.panelName)),t.extend(i,e),i.parameters||(i.parameters={}),a=i.inputs&&i.inputs.id?t.Studies.replaceStudy(this.stx,i.inputs.id,this.name,i.inputs,i.outputs,i.parameters,null,a.study):t.Studies.addStudy(this.stx,this.name,i.inputs,i.outputs,i.parameters,null,a.study),n=new t.Studies.DialogHelper({stx:this.stx,sd:a,axisSelect:this.axisSelect,panelSelect:this.panelSelect}))"signal"!=s&&(this[s]=n[s]);this.signal*=-1},t.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(e){var i,a,r,n,s,o,l,h,c=K;if(c.A9d(),this.stx.displayZone)for(var u=0;u<this.dateTimeInputs.length;u++){for(i=this.dateTimeInputs[u],o="",e&&e.inputs&&(" Ti","me",c.O9X(0),r=e.inputs[c.L9X(" Date",i)],c.O9X(0),r&&(o=r),(n=e.inputs[c.L9X(" Time",i)])&&(o+=n)),a=0;a<this.inputs.length;a++)s=this.inputs[a],r||""===r||s.name!=i+" Date"?n||""===n||s.name!=i+" Time"||(o+=s.value):o=s.value+o;if((o=o.replace(/\D/g,"")).length<12)return;if(l=t.strToDateTime(o),!isNaN(l.valueOf()))if(e)e.inputs||(e.inputs={}),h=t.convertTimeZone(l,this.stx.displayZone),c.I9X(0),e.inputs[c.x9X(" Date",i)]=t.yyyymmdd(h),c.O9X(0),e.inputs[c.L9X(" Time",i)]=t.hhmmss(h);else for(h=t.convertTimeZone(l,null,this.stx.displayZone),a=0;a<this.inputs.length;a++)" Tim","e",(s=this.inputs[a]).name==i+" Date"&&(s.value=t.yyyymmdd(h)),s.name==i+" Time"&&(s.value=t.hhmmss(h))}},t.Studies.prepareStudy=function(e,i,a){if(void 0===i.calculateFN&&(i.useRawValues=!0),t.isEmpty(a.outputMap))for(var r in a.outputs)i.useRawValues?a.outputMap[r]=r:a.outputMap[r+" "+a.name]=r},t.Studies.rejiggerDerivedStudies=function(e,i,a){var r,n,s,o,l,h;r=i.name,i.panel,n=i.getDependents(e);for(var c=0;c<n.length;c++)if(s=n[c],l=(o=t.clone(s.inputs)).id){!1,h=t.Studies.getFieldInputs(s);for(var u=0;u<h.length;u++)o[h[u]]=o[h[u]].replace(r,a);delete t.Studies.replaceStudy(e,l,s.type,o,s.outputs,t.extend(s.parameters,{rejiggering:!0}),null,s.study).parameters.rejiggering}},t.Studies.removeStudySymbols=function(e,t){if(e.series)for(var i in e.series)t.deleteSeries(e.series[i],null,{action:"remove-study"})},t.Studies.replaceStudy=function(e,i,a,r,n,s,o,l){var h,c,u,d;for(u in s||(s={}),i&&(s.replaceID=i),i=s.replaceID,h=e.layout.studies[i],t.Studies.removeStudySymbols(h,e),h.attribution&&e.removeFromHolder(h.attribution.marker),e.quoteDriver&&e.quoteDriver.updateSubscriptions(),r&&(r.id==r.display&&delete r.display,delete r.id),(c=t.Studies.addStudy(e,a,r,n,s,o,l)).highlight=h.highlight,c.uniqueId=h.uniqueId,d={},e.layout.studies)u==i?d[c.name]=c:d[u]=e.layout.studies[u];for(u in e.layout.studies=d,d={},e.overlays)u==i?(c.overlay||c.underlay)&&(d[c.name]=c):d[u]=e.overlays[u];return e.overlays=d,e.overlays[c.name]||!c.overlay&&!c.underlay||e.addOverlay(c),e.checkForEmptyPanel(h.panel),s.rejiggering||(e.initializeDisplay(e.chart),t.Studies.rejiggerDerivedStudies(e,h,c.inputs.id,c.panel),e.changeOccurred("layout"),e.currentlyImporting||s.calculateOnly||!c.chart.dataSet||e.createDataSet(null,c.chart),e.draw()),t.transferObject(h,c),e.layout.studies[c.name]=h,e.overlays[c.name]=h,e.chart.state.studies.sorted=null,h},t.Studies.addStudy=function(e,i,a,r,n,s,o){var l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,I,N,O;if("l","ayo","u","t","Def","ault panel",l=o||t.Studies.studyLibrary[i],n||(n={}),l){if(l.inputs){for(var X in h=t.clone(l.inputs))h[X]instanceof Array&&(l.attributes&&l.attributes[X]&&l.attributes[X].defaultSelected?h[X]=l.attributes[X].defaultSelected:h[X]=h[X][0]);a=t.extend(h,a)}l.outputs&&(r=t.extend(t.clone(l.outputs),r)),(c=l.parameters)&&c.init&&(n=t.extend(t.clone(c.init),n)),c&&!n.display&&(n.display=c.display)}if(a||(a=t.clone(t.Studies.DEFAULT_INPUTS)),r||(r=t.clone(t.Studies.DEFAULT_OUTPUTS)),n.chartName||(n.chartName="chart"),"Auto"!=n.panelName&&"Default panel"!=n.panelName||(n.panelName=""),a.Period<1&&(a.Period=1),u=null,e.layout.studies||(e.layout.studies={}),!(u=l&&l.initializeFN?l.initializeFN(e,i,a,r,n,s,o):t.Studies.initializeFN(e,i,a,r,n,s,o)))return K.O9X(0),void console.log(K.L9X(i,"CIQ.Studies.addStudy: initializeFN() returned null for "));if(o=u.study,u.chart=e.charts[n.chartName],u.type=i,u.permanent=o.permanent,u.customLegend=o.customLegend,u.uniqueId=t.uniqueID(),t.Studies.prepareStudy(e,o,u),K.l9d(),(d=e.chart.state.studies)||(d=e.chart.state.studies={}),d.sorted=null,n.replaceID?(p=!0,delete n.replaceID):(e.layout.studies[u.inputs.id]=u,(u.overlay||u.underlay)&&e.addOverlay(u),e.currentlyImporting||n.calculateOnly||!u.chart.dataSet||e.createDataSet(null,u.chart)),e.quoteDriver&&e.quoteDriver.updateSubscriptions(),n.calculateOnly)return e.changeOccurred("layout"),u;if(m=e.panels[u.panel],g=!1,(f=!(u.overlay||u.underlay))&&o.horizontalCrosshairFieldFN&&(m.horizontalCrosshairField=o.horizontalCrosshairFieldFN(e,u)),e.editCallback?g=!0:f?e.callbackListeners.studyPanelEdit&&e.callbackListeners.studyPanelEdit.length&&(g=!0):e.callbackListeners.studyOverlayEdit&&e.callbackListeners.studyOverlayEdit.length&&(g=!0),g){for(var z in n.editMode=!0,y=!1,u.inputs)if("d","isplay","id"!=z&&"display"!=z){y=!0;break}if(!y)for(var H in u.outputs){y=!0;break}y&&(void 0!==u.study.edit?u.study.edit&&(E=e,I=u,N=a,O=r,K.l9d(),v=function(){t.clearCanvas(E.chart.tempCanvas,E),I.study.edit(I,{stx:E,inputs:N,outputs:O,parameters:n})},e.setPanelEdit(m,v),u.editFunction=v):f?e.editCallback?(k=e,L=u,A=a,D=r,v=function(){var e;K.A9d(),e=k.editCallback(k,L),t.clearCanvas(k.chart.tempCanvas,k),t.Studies.studyDialog(k,i,e,{inputs:A,outputs:D,parameters:n})},"chart"!=m.name&&e.setPanelEdit(m,v)):(x=e,b=u,C=a,S=r,w=n,K.l9d(),v=function(){K.A9d(),t.clearCanvas(x.chart.tempCanvas,x),x.dispatch("studyPanelEdit",{stx:x,sd:b,inputs:C,outputs:S,parameters:w})},"chart"!=m.name&&(e.setPanelEdit(m,v),u.editFunction=v)):(T=e,M=u,F=a,P=r,_=n,v=function(e){var i,a,r=K;r.I9X(6),i=-r.x9X(0,"25487055"),a=2;for(var n=1;836181016!==r.g19(n.toString(),n.toString().length,80704);n++)t.clearCanvas(T.chart.tempCanvas,T),r.O9X(1),a+=r.L9X(1,"2");r.g19(a.toString(),a.toString().length,15942)!==i&&t.clearCanvas(T.chart.tempCanvas,T),T.dispatch("studyOverlayEdit",{stx:T,sd:M,inputs:F,outputs:P,parameters:_,forceEdit:e})},u.editFunction=v))}return e.changeOccurred("layout"),p||e.draw(),u},t.Studies.removeStudy=function(e,t){var i,a,r,n;a=(i=e.panels[t.panel])&&i.yAxis.name,K.l9d(),(t.overlay||t.underlay)&&e.removeOverlay(t.name),r=e.panels[t.panel],t.attribution&&e.removeFromHolder(t.attribution.marker),delete e.layout.studies[t.name],r&&!e.checkForEmptyPanel(r)&&(a==t.name&&e.electNewPanelOwner(r),(n=e.getYAxisByName(t.panel,t.name))&&(n.name=n.studies[1]||n.renderers[0])),e.draw(),e.resizeChart()},t.Studies.getPanelFromFieldName=function(e,i){var a,r,n,s,o;if(K.l9d(),!(a=t.Studies.getFieldInputs(i)).length)return null;if(!(r=e.layout.studies))return null;for(var l in n={},r)for(var h in r[l].outputMap)n[h]=r[l].panel;for(var c=0;c<a.length;c++)if((s=i.inputs[a[c]])&&(o=n[s]))return o;return null},t.Studies.createLibraryHash=function(){return K.l9d(),Object.keys(t.Studies.studyLibrary).join("|")},t.Studies.displayStudies=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y;if(a&&(i.studyLibraryHash=t.Studies.createLibraryHash()),r=e.layout.studies)for(var v in n={},K.A9d(),n[i.name]=!0,r)if("undef","ined",(o=(s=r[v]).study)&&(l=s.underlay||s.parameters&&s.parameters.underlayEnabled,!(a&&!l||!a&&l)))if(!(h=t.clone(o.renderer))||h instanceof Array||(h=[h]),c=e.panels[s.panel]){if(c.chart==i&&!c.hidden)if(n[c.name]||(u=s.permanent||!e.manageTouchAndMouse,c.closeX?u&&(c.closeX.style.display="none"):c.close&&u&&(c.close.style.display="none"),c.edit&&("n","one",u&&(c.edit.style.display="none")),n[c.name]=u),d=s.chart.dataSegment,s.panel!=s.parameters.chartName||s.parameters&&s.parameters.panelName||(p=t.Studies.getPanelFromFieldName(e,s))&&s.panel!=p&&(s.panel=p),void 0===o.seriesFN){if(h){s.overlay||t.Studies.createYAxis(e,s,d,c);for(var x=0;x<h.length;x++){for(var b in m=h[x],s.outputMap)s.outputMap[b]==m.field&&(m.field=b);if(m.field){if(m.panel=s.panel,g=m.binding)for(var C in g)(f=t.Studies.determineColor(s.outputs[g[C]]))&&"auto"!=f&&(m[C]=f);m.yAxis=null,(y=t.Renderer.produce(m.type,m)).stx=e,y.attachSeries(null,m).draw()}}}else t.Studies.displaySeriesAsLine(e,s,d);c&&t.Studies.displayError(e,s)}else o.seriesFN&&c&&(o.seriesFN(e,s,d),t.Studies.displayError(e,s))}else e.currentlyImporting&&delete r[v]},t.Studies.displayError=function(e,t,i){var a,r;t.error&&(a=i&&i.panel?i.panel:t.panel,r=!0===t.error?e.translateIf("Not enough data to compute ")+e.translateIf(t.study.name):e.translateIf(t.error),!i||"center"===i.h&&"bottom"===i.v?e.displayErrorAsWatermark(a,r):e.watermark(a,i))},t.Studies.calculateMinMaxForDataPoint=function(e,t,i){var a,r,n;K.A9d(),a=Number.MAX_VALUE,K.I9X(118);var s=K.L9X(3,0,38,14,3);r=Number.MAX_VALUE*s;for(var o=0;o<i.length;o++)null!=(n=i[o][t])&&(isNaN(n)||(a=Math.min(n,a),r=Math.max(n,r)));return{min:a,max:r}},t.Studies.getYAxisParameters=function(e,t){var i,a,r;return i={},(a=e.layout.studies&&e.layout.studies[t.name])&&((r=a.study).yaxis||r.yAxisFN?i.noDraw=!0:(r.parameters&&r.parameters.excludeYAxis&&(i.noDraw=!0),i.ground=r.yAxis&&r.yAxis.ground,t&&("bypass"!=r.range&&("-","1 to"," ","1","0 t","o ","100","0 to 100"==r.range?i.range=[0,100]:"-1 to 1"==r.range?i.range=[-1,1]:"0 to max"==r.range?i.range=[0,Math.max(0,t.high)]:(r.centerline||0===r.centerline)&&(i.range=[Math.min(r.centerline,t.low),Math.max(r.centerline,t.high)])),i.range&&(t.low=i.range[0],t.high=i.range[1]),a.min&&(t.min=a.min),a.max&&(t.max=a.max),a.parameters&&a.parameters.studyOverZonesEnabled&&(i.noDraw=!0)))),i},t.Studies.doPostDrawYAxis=function(e,i){var a,r,n,s;for(var o in e.layout.studies)a=e.layout.studies[o],(r=e.panels[a.panel])&&!r.hidden&&a.getYAxis(e)==i&&(n=a.study,i.name==a.name&&(n.yaxis&&n.yaxis(e,a),n.yAxisFN&&n.yAxisFN(e,a)),t.Studies.drawZones(e,a),a.error||((s=n.centerline)||0===s||null!==s&&i.highValue>0&&i.lowValue<0)&&t.Studies.drawHorizontal(e,a,null,s||0,i))},t.Studies.displaySeriesAsLine=function(e,i,a){var r;if(a.length&&(r=e.panels[i.panel])&&!r.hidden)for(var n in i.outputMap)t.Studies.displayIndividualSeriesAsLine(e,i,r,n,a)},t.Studies.displaySeriesAsHistogram=function(e,t,i){var a,r,n,s,o,l,h,c,u,d;if("ov","erl","a","id",i.length&&(K.l9d(),(a=e.panels[t.panel])&&!a.hidden)){for(var p in r=[],t.outputMap)"o","b","jec","t",(n=t.outputs[t.outputMap[p]])&&(s=.3,"object"==typeof n&&(s=n.opacity,n=n.color),o={field:p,fill_color_up:n,border_color_up:n,fill_color_down:n,border_color_down:n},t.underlay&&(o.opacity_up=o.opacity_down=s||.3),r.push(o));l=t.getYAxis(e),c=(h=t.inputs).WidthFactor,t.study&&t.study.parameters&&("u","nde","fined",void 0!==(u=t.study.parameters).widthFactor&&(c=u.widthFactor)),d={name:t.name,type:h.HistogramType?h.HistogramType:"overlaid",panel:t.panel,yAxis:l,widthFactor:c||.5,bindToYAxis:!0,highlight:t.highlight},e.drawHistogram(d,r)}},t.Studies.displayIndividualSeriesAsLine=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,m,g,f,y,v,x,b;if("transpa","rent","aut","o",a.height||(a.height=a.bottom-a.top),s=i.getContext(e),o=i.outputs[i.outputMap[r]]){if(s.save(),"string"==typeof o&&(o={color:o,width:1}),s.lineWidth=o.width||1,"auto"==(l=o.color)&&(l=e.defaultColor),s.strokeStyle=l,h=o.pattern,s.setLineDash(t.borderPatternToArray(s.lineWidth,h)),s.lineDashOffset=0,c=0,u=i.study,K.A9d(),d=i.getYAxis(e),c=e.decimalPlacesFromPriceTick(d.priceTick),(i.overlay||i.underlay)&&(c=null),(d.decimalPlaces||0===d.decimalPlaces)&&(c=d.decimalPlaces),p=null,i.parameters&&(p=i.parameters.label),(m=u.parameters)||(m={}),g="step"==m.plotType,i.series)for(var C in i.series)(f=i.series[C].parameters.type)&&(K.O9X(62),g=K.L9X("step",f));m.noLabels&&(p=!1),i.noSlopes||!1===i.noSlopes||(i.noSlopes=m.noSlopes),i.extendToEnd||!1===i.extendToEnd||(i.extendToEnd=m.extendToEnd),y=p||e.preferences.labels&&!1!==p,!1===(v=i.gaplines)&&(v="transparent"),x=i.inputs.Symbol,b=v?e.getGapColorFunction(x,r,o,v):null,e.plotDataSegmentAsLine(r,a,{yAxis:d,skipTransform:e.panels[i.panel].name!=i.chart.name,label:y,labelDecimalPlaces:c,noSlopes:i.noSlopes,step:g,alignStepToSide:i.alignStepToSide,extendToEndOfLastBar:i.extendToEndOfLastBar,width:i.lineWidth,extendToEndOfDataSet:i.extendToEnd,gapDisplayStyle:v,highlight:i.highlight},b),u.appendDisplaySeriesAsLine&&u.appendDisplaySeriesAsLine(e,i,n,r,a),s.restore()}},t.Studies.drawHorizontal=function(e,t,i,a,r,n){var s,o,l;s=e.panels[t.panel],o=e.getBackgroundCanvas().context,s&&(n||(n=r.textStyle),(l=e.pixelFromPrice(a,s,r))>r.top&&l<r.bottom&&e.plotLine(s.left,s.right,l,l,n,"segment",o,!1,{opacity:n&&n.opacity?n.opacity:.5}))},t.Studies.displayHistogramWithSeries=function(e,i,a){var r;e.panels[i.panel],r=.5,i.underlay&&(r=.3),t.Studies.createHistogram(e,i,a,!1,r),K.A9d(),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.drawZones=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T=K;if("stx_gr","id","_bor","der","a","u","t","o",i.parameters&&i.parameters.studyOverZonesEnabled){if(r=parseFloat(i.parameters.studyOverSoldValue),n=parseFloat(i.parameters.studyOverBoughtValue),s=i.parameters.studyOverSoldColor,T.A9d(),o=i.parameters.studyOverBoughtColor,(l=i.zoneOutput)||(l="Result"),(h=t.Studies.determineColor(i.outputs[l]))&&"auto"!=h&&!t.isTransparent(h)||(h=e.defaultColor),s||(s=h),s&&"auto"!=s&&!t.isTransparent(s)||(s=e.defaultColor),o||(o=h),o&&"auto"!=o&&!t.isTransparent(o)||(o=e.defaultColor),c=e.panels[i.panel],d=(u=i.getYAxis(e)).displayBorder,!1===e.axisBorders&&(d=!1),!0===e.axisBorders&&(d=!0),0===u.width&&(d=!1),p=e.getYAxisCurrentPosition(u,c),T.O9X(62),m=T.L9X("left",p),(g=u.justifyRight)||!1===g||(g=e.chart.yAxis.justifyRight||!1===e.chart.yAxis.justifyRight?e.chart.yAxis.justifyRight:m),f=Math.round(u.left+(m?u.width:0))+.5,y=d?3:0,x=(v=e.getBackgroundCanvas().context).fillStyle,v.globalAlpha=.2,e.startClip(c.name,!0),v.beginPath(),b=Math.round(e.pixelFromPrice(n,c,u))+.5,v.strokeStyle=o,v.moveTo(c.left,b),v.lineTo(c.right,b),v.stroke(),v.closePath(),v.beginPath(),C=Math.round(e.pixelFromPrice(r,c,u))+.5,v.strokeStyle=s,v.moveTo(c.left,C),v.lineTo(c.right,C),v.stroke(),v.closePath(),(S=new t.Plotter).newSeries("border","stroke",e.canvasStyle("stx_grid_border")),d&&("b","order",w=m?f-y:f-.5,k=m?f+.5:f+y,S.moveTo("border",w,b),S.lineTo("border",k,b),S.moveTo("border",w,C),S.lineTo("border",k,C)),v.fillStyle=x,L={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:l+" "+i.name,yAxis:u,opacity:.3},!i.highlight&&e.highlightedDraggable&&(T.I9X(1),L.opacity*=T.x9X(1,"0.3")),t.preparePeakValleyFill(e,t.extend(L,{threshold:n,direction:u.flipped?-1:1,color:o})),t.preparePeakValleyFill(e,t.extend(L,{threshold:r,direction:u.flipped?1:-1,color:s})),v.globalAlpha=1,!(i.study&&i.study.yaxis||(d&&("borde","r","bo","rder",A=Math.round(u.bottom)+.5,S.moveTo("border",f,u.top),S.lineTo("border",f,A),S.draw(v,"border")),0===u.width))){if("lef","t","r","i","gh","t",e.canvasFont("stx_yaxis",v),e.canvasColor("stx_yaxis",v),v.textAlign=g?"right":"left",m){T.O9X(46);var M=T.L9X(2,64,16,20);if(D=u.left+M,g){T.O9X(119);var F=T.x9X(33,7,2,8);D=u.left+u.width-y-F}}else{T.I9X(20);var P=T.L9X(0,4,4,4,7);D=u.left+y+P,g&&(D=u.left+u.width)}v.fillStyle=o,v.fillText(n,D,b),v.fillStyle=s,v.fillText(r,D,C),v.fillStyle=x}e.endClip(),v.globalAlpha=1,u.name==i.name&&(u.yAxisPlotter=new t.Plotter)}},t.Studies.createHistogram=function(e,i,a,r,n){var s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L=K;s=e.panels[i.panel],o=i.getContext(e),l=i.getYAxis(e),e.startClip(s.name),L.l9d(),L.I9X(120);var A=L.L9X(8,3,9);(h=e.layout.candleWidth-A)<2&&(h=1),c=e.pixelFromPrice(0,s,l),l.min>0&&(c=e.pixelFromPrice(l.min,s,l)),r&&(c=Math.floor(s.top+s.height/2)),u=i.name+"_hist",e.canvasColor("stx_histogram"),d=o.fillStyle,(n||0===n)&&(o.globalAlpha=n),!i.highlight&&e.highlightedDraggable&&(o.globalAlpha*=.3),p=null,m=null,g=i.outputs;for(var D=0;D<a.length;D++)if("Nega","ti","ve Bar","Decr","easi","ng Ba","r",f=a[D]){if(f.candleWidth&&(h=Math.floor(Math.max(1,f.candleWidth-2))),y=Math.floor(e.pixelFromBar(D,s.chart)-h/2),v=Math.floor(h),null===p){L.I9X(121);var T=L.L9X(7,2,99,14,14);p=(x=e.tickFromPixel(y,s.chart)-T)<0?m:e.pixelFromPrice(e.chart.dataSet[x][u],s,l)-c}else p=m;m=e.pixelFromPrice(f[u],s,l)-c,b=t.Studies.determineColor(g["Decreasing Bar"]),C=t.Studies.determineColor(g["Increasing Bar"]),S=t.Studies.determineColor(g["Positive Bar"]),w=t.Studies.determineColor(g["Negative Bar"]),k=l.flipped,o.fillStyle=d,b&&(k?m<p:m>p)?o.fillStyle=b:C&&(k?m>p:m<p)?o.fillStyle=C:S&&(k?m>0:m<0)?o.fillStyle=S:w&&(k?m<0:m>0)&&(o.fillStyle=w),o.fillRect(y,c,v,Math.floor(m))}o.globalAlpha=1,e.endClip()},t.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:"wma","welles wilder":"smma",true:"y",false:"n"},t.Studies.prettyRE=/^.*\((.*?)\).*$/,t.Studies.prettyDisplay=function(e){var i,a;if(K.l9d(),!(i=t.Studies.prettyRE.exec(e)))return e;if(a=i[1]){for(var r in t.Studies.prettify)a=a.replace(r,t.Studies.prettify[r]);e=e.replace(i[1],a)}return e},t.Studies.getFieldInputs=function(e){var t,i;for(var a in K.l9d(),t=[],i=e.study.inputs)"fiel","d","field"==i[a]&&t.push(a);return t},t.Studies.initializeFN=function(e,i,a,r,n,s,o){var l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w;if("New"," panel","Ow","n"," panel",a||(a={}),n||(n={}),a.id||(a.id=t.Studies.generateID(e,i,a,n.replaceID,n.display)),a.display||(a.display=a.id),K.A9d(),l=new t.Studies.StudyDescriptor(a.id,i,a.id,a,r,n),a.Period&&(l.days=Math.max(1,parseInt(l.inputs.Period,10))),o?(o.inputs||(o.inputs=l.study.inputs),o.outputs||(o.outputs=l.study.outputs),l.study=o):o=l.study,o.display&&(a.display=o.display),"string"==typeof n.panelName&&(s=n.panelName),(s==a.id||s&&!e.panelExists(s))&&(l.underlay=l.overlay=!1),"Own panel"!=s&&"New panel"!=s||(s=null),h=l.overlay||a.Overlay||!1!==l.overlay&&o.overlay,c=l.underlay||a.Underlay||!1!==l.underlay&&o.underlay,h&&n.underlayEnabled&&(c=!0),c&&(l.underlay=!0),!c&&e.chart.panel&&s==e.chart.panel.name&&(h=!0),h&&(l.overlay=!0),(!0===(u=e.preferences.dragging)||u&&u.study)&&(l.overlay=!0),s?n.panelName=s:h||c||(s=a.id),n.calculateOnly)return(h||c)&&(e.panels[n.panelName]?l.panel=n.panelName:l.panel=t.Studies.getPanelFromFieldName(e,l)||n.chartName),l;if(d={},(p=e.layout.studies[n.replaceID])&&(d={outputMap:t.clone(p.outputMap),panel:p.panel}),l.panel="",s){m=t.Studies.smartMovePanel(e,l.inputs,s,n.replaceID,"New panel"==n.panelName),893050470,-102102848,g=2;for(var k=1;893050470!==K.g19(k.toString(),k.toString().length,67122);k++)m&&(l.panel=m.name),g+=2;-102102848!==K.Y19(g.toString(),g.toString().length,94178)&&m&&(l.panel=m.name)}else(h||c)&&(l.panel=t.Studies.getPanelFromFieldName(e,l)||n.chartName);if(l.panel||(f=o.panelHeight||null,(y=o.yAxis||{}).name=l.inputs.id,l.panel=l.inputs.id,e.createPanel(l.inputs.display,l.panel,f,n.chartName,new t.ChartEngine.YAxis(y))),l.parameters&&l.parameters.panelName&&(l.parameters.panelName=l.panel),v=e.panels[l.panel],x=t.Studies.smartCreateYAxis(e,v,l.inputs.id,n.yaxisDisplayValue,n.yAxis||o.yAxis),(C=(b=o?t.clone(o.yAxis):null)||x)&&(C.ground&&(C.initialMarginBottom=0),(C.initialMarginTop||0===C.initialMarginTop||C.initialMarginBottom||0===C.initialMarginBottom)&&e.calculateYAxisMargins(C),C.name==n.replaceID&&(C.name=l.inputs.id)),x&&(x.width="none"==x.position?0:t.ChartEngine.YAxis.prototype.width,"shared"==n.yaxisDisplayValue||"default"==n.yaxisDisplayValue?delete n.yaxisDisplayValue:b?t.ensureDefaults(x,b):x.name==l.name&&(n.yaxisDisplayColor&&"auto"!=n.yaxisDisplayColor?x.textStyle=t.colorToHex(n.yaxisDisplayColor):delete x.textStyle,x.justifyRight=null,x.flipped=n.flippedEnabled),x!=v.yAxis?x.displayGridLines=!1:x!=e.chart.yAxis&&(x.displayGridLines=e.displayGridLinesInStudies)),e.calculateYAxisPositions(),p){for(var L in S=!1,e.drawingObjects)w=e.drawingObjects[L],d.outputMap&&d.outputMap.hasOwnProperty(w.field)?(w.field=w.field.replace(n.replaceID,l.inputs.id),l.parameters&&l.parameters.panelName?w.panelName=l.parameters.panelName:w.panelName=l.panel,S=!0):d.panel&&d.panel==w.panelName&&(w.panelName=w.panelName.replace(n.replaceID,l.inputs.id),S=!0);S&&e.changeOccurred("vector")}return l},t.Studies.smartMovePanel=function(e,t,i,a,r){var n,s,o,l;return s=t.id,a&&(n=e.layout.studies[a]),n&&(o=e.panels[n.panel])&&o.yAxis.name==a&&(!r&&i==a||e.checkForEmptyPanel(o.name,!0,n)?i!=a&&e.panels[i]||(s!=o.name&&e.modifyPanel(o,{name:s,display:t.display}),i=s):(e.electNewPanelOwner(o),(l=n.getYAxis(e)).name==a&&e.electNewYAxisOwner(l))),e.panels[i]},t.Studies.smartCreateYAxis=function(e,i,a,r,n){var s,o,l,h,c,u;return s="n",s+="one",o="l",o+="eft","d","ef","ault",l=e.getYAxisByName(i,a),!r&&n&&(r=n.position),"default"!=r&&"shared"!=r&&r!=i.yAxis.name||(r=""),[o,"right",s].indexOf(r)>-1?(!l||l.isShared(e)?(h=n||{},t.extend(h,{name:a,position:r}),l||e.currentlyImporting||i==i.chart.panel||i.yAxis.studies.length||i.yAxis.renderers.length?(c=l==i.yAxis,l&&(l.name=e.electNewYAxisOwner(l)),l=e.addYAxis(i,new t.ChartEngine.YAxis(h)),c&&(i.yAxis=l)):(l=i.yAxis,t.extend(l,h))):l.position=r,l):r?((u=e.getYAxisByName(i,r))&&l==i.yAxis&&!l.isShared(e)&&(i.yAxis=u),l&&l.isShared(e)?l.name=e.electNewYAxisOwner(l):l!==i.yAxis&&e.deleteYAxisIfUnused(i,l),u):(l&&(l.isShared(e)?l.name=e.electNewYAxisOwner(l):(delete l.position,l!==i.yAxis&&e.deleteYAxisIfUnused(i,l))),e.resizeChart(),i.yAxis)},t.Studies.calculateVolume=function(e,i){var a,r,n;if("vol undr"==i.type){if(!e||!e.chart.dataSet)return;a=e.layout,r=i.parameters.removeStudy,n=a.volumeUnderlay,a.volumeUnderlay=!r,n!=a.volumeUnderlay&&e.changeOccurred("layout"),r&&t.Studies.removeStudy(e,i)}i.outputMap={},K.l9d(),i.outputMap.Volume=""},t.Studies.MA=function(e,i,a,r,n,s,o,l){var h,c,u=K;u.A9d(),(h=new t.Studies.StudyDescriptor(n+" "+o.name,"ma",o.panel)).chart=o.chart,c=2;for(var d=1;-544080920!==u.g19(d.toString(),d.toString().length,32682);d++)h.days=parseInt(i,10),h.startFrom=o.startFrom,l&&(h.subField=l),h.inputs={},e&&(h.inputs.Type=e),a&&(h.inputs.Field=a),c+=2;835346966!==u.g19(c.toString(),c.toString().length,73854)&&(h.days=parseInt(i,32),h.startFrom=o.startFrom,l&&(h.subField=l),h.inputs={},e&&(h.inputs.Type=e),a&&(h.inputs.Field=a)),r&&(u.O9X(6),h.inputs.Offset=parseInt(r,u.x9X(0,"10"))),t.Studies.calculateMovingAverage(s,h)},t.Studies.movingAverage={conversions:{ma:"simple",sma:"simple",ema:"exponential",tma:"triangular",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:"Triangular",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tma:"Triangular",triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}},t.Studies.movingAverageHelper=function(e,i){var a;if(K.l9d(),"options"==i){for(var r in a={},t.Studies.movingAverage.translations)a[r]=e.translateIf(t.Studies.movingAverage.translations[r]);return a}return t.Studies.movingAverage.conversions[i]},t.Studies.createVolumeChart=function(e,i,a){var r,n,s,o,l,h,c,u,d,p=K;p.l9d(),r=i.panel,i.inputs,n=i.underlay,s=i.overlay,o=t.Studies.determineColor(i.outputs["Up Volume"]),l=t.Studies.determineColor(i.outputs["Down Volume"]),h=n?"stx_volume_underlay":"stx_volume",p.I9X(0),e.setStyle(p.L9X("_up",h),"color",o),p.O9X(0),e.setStyle(p.L9X("_down",h),"color",l),c=[{field:i.volumeField||"Volume",fill_color_up:e.canvasStyle(h+"_up").color,border_color_up:e.canvasStyle(h+"_up").borderLeftColor,opacity_up:e.canvasStyle(h+"_up").opacity,fill_color_down:e.canvasStyle(h+"_down").color,border_color_down:e.canvasStyle(h+"_down").borderLeftColor,opacity_down:e.canvasStyle(h+"_down").opacity,color_function:i.colorFunction}],u=c[0],n||"rgb(184, 44, 12)"!==u.border_color_down||("#00","0000",u.border_color_down="#000000",u.border_color_up="#000000"),d={name:"Volume",panel:r,yAxis:i.getYAxis(e),widthFactor:1,bindToYAxis:!0,highlight:i.highlight},t.extend(d,i.study.parameters),t.extend(d,i.parameters),e.colorByCandleDirection&&!i.colorFunction&&(u.color_function=function(e){var t,i;return{fill_color:(t=e.Open)>(i=e.Close)?u.fill_color_down:u.fill_color_up,border_color:t>i?u.border_color_down:u.border_color_up,opacity:t>i?u.opacity_down:u.opacity_up}}),e.drawHistogram(d,c)},t.Studies.calculateStandardDeviation=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f=K;if("Standa","rd De","viations","_","M","A","Moving Average ","Ty","pe",(a=i.chart.scrubbed).length<i.days+1)i.error=!0;else{for(var y in(r=i.inputs.Field)&&"field"!=r||(r="Close"),(n=i.inputs["Moving Average Type"])||(n=i.inputs.Type),t.Studies.MA(n,i.days,r,i.inputs.Offset,"_MA",e,i),f.O9X(50),s=f.L9X("0",0),o=0,l=0,(h=Number(i.inputs["Standard Deviations"]))<0&&(h=2),c=i.name,i.outputs)f.I9X(21),c=f.x9X(y," ",c);for(u=i.startFrom-1,p=0;u>=0&&p<i.days;u--,p++)(d=a[u][r])&&"object"==typeof d&&(d=d[i.subField]),isNaN(d)&&(d=0),f.O9X(74),s+=Math.pow(d,f.x9X(2147483647,"2")),o+=d;for(u=i.startFrom;u<a.length;u++)if((d=(m=a[u])[r])&&"object"==typeof d&&(d=d[i.subField]),d||0===d||(d=0),s+=Math.pow(d,2),o+=d,!(u<i.days-1)&&(u>=i.days&&("ob","j","ec","t",(g=a[u-i.days][r])&&"object"==typeof g&&(g=g[i.subField]),isNaN(g)&&(f.I9X(35),g=f.L9X(534671744,"0")),s-=Math.pow(g,2),o-=g),(l=m["_MA "+i.name])||0===l)){f.O9X(9);var v=f.L9X(8,6);f.I9X(5);var x=f.x9X(13,15,0);m[c]=Math.sqrt((s+i.days*Math.pow(l,v)-x*l*o)/i.days)*h}}},t.Studies.calculateMovingAverage=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v;if("Cl","o","s","e","sim","p","l","e",i.chart.scrubbed){if("ma"!=(a=i.inputs.Type)&&"sma"!=a&&a||(a="simple"),a in(r=t.Studies.movingAverage.typeMap))return t.Studies["calculateMovingAverage"+r[a]](e,i);if("simple"===a){for(var x in n=i.chart.scrubbed,s=0,o=[],l=i.name,i.outputs)K.I9X(21),l=K.x9X(x," ",l);for((h=i.inputs.Field)&&"field"!=h||(h="Close"),c=parseInt(i.inputs.Offset,10),isNaN(c)&&(c=0),m=i.startFrom,g=c,u=i.startFrom-1;u>=0;u--)if((d=n[u][h])&&"object"==typeof d&&(d=d[i.subField]),d||0===d)if(g>0)g--,m=u;else{if(o.length==i.days-1)break;s+=d,o.unshift(d)}for(o.length<i.days-1&&(o=[],m=0),f=[],u=m;u<n.length;u++)(d=n[u][h])&&"object"==typeof d&&(d=d[i.subField]),y=u+c>=0&&u+c<n.length?n[u+c]:null,d||0===d?(s+=d,o.push(d),o.length>i.days&&(s-=o.shift()),v=o.length==i.days?s/i.days:null,y?y[l]=v:u+c>=n.length&&((p={})[l]=v,f.push(p))):y?y[l]=null:u+c>=n.length&&((p={})[l]=null,f.push(p));i.appendFutureTicks(e,f)}}},t.Studies.calculateMovingAverageExponential=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=K;i=t.inputs.Type,a=t.chart.scrubbed,r=0,n=0,s=0,b.O9X(6);var C=b.x9X(22,24);for(var S in o=C/(t.days+1),"welles wilder"!==i&&"smma"!==i||(o=1/t.days),l=null,h=t.name,t.outputs)b.I9X(21),h=b.x9X(S," ",h);for((c=t.inputs.Field)&&"field"!=c||(c="Close"),u=parseInt(t.inputs.Offset,10),isNaN(u)&&(u=0),m=t.startFrom,g=u,d=t.startFrom-1;d>=0;d--)if((p=a[d][h])||0===p){if(null===l&&(l=p),s=t.days,g<=0)break;g--,m=d}for(null===l&&(l=m=0),f=[],d=m;d<a.length;d++)"o","bjec","t",(p=a[d][c])&&"object"==typeof p&&(p=p[t.subField]),y=d+u>=0&&d+u<a.length?a[d+u]:null,p||0===p?(s==t.days-1?v=n=(r+=p)/t.days:s<t.days-1?(r+=p,b.I9X(122),n=b.L9X(r,"1",s),v=null):0===s?(n=r+=p,v=null):(l||0===l)&&(b.O9X(10),v=n=b.x9X(l,p,o,l)),l=n,s++):v=null,y?y[h]=v:d+u>=a.length&&((x={})[h]=v,f.push(x));t.appendFutureTicks(e,f)},t.Studies.calculateMovingAverageVIDYA=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x=K;i.inputs.Type,a=i.chart.scrubbed,x.O9X(112);var b=x.L9X(14,2,10,4);x.O9X(123);var C=x.L9X(7,17,120);for(var S in r=b/(i.days+C),n=null,s=i.name,i.outputs)x.I9X(21),s=x.x9X(S," ",s);for((o=i.inputs.Field)&&"field"!=o||(o="Close"),i.std=new t.Studies.StudyDescriptor(i.name,"sdev",i.panel),i.std.chart=i.chart,i.std.days=5,i.std.startFrom=i.startFrom,i.std.inputs={Field:o,"Standard Deviations":1,Type:"ma"},i.std.outputs={_STD:null},t.Studies.calculateStandardDeviation(e,i.std),t.Studies.MA("ma",20,"_STD "+i.name,0,"_MASTD",e,i),l=parseInt(i.inputs.Offset,10),isNaN(l)&&(l=0),d=i.startFrom,p=l,h=i.startFrom-1;h>=0;h--)if((c=a[h][s])||0===c){if(null===n&&(n=c),p<=0)break;p--,d=h}for(null===n&&(n=d=0),m=[],h=d;h<a.length;h++)(c=(g=a[h])[o])&&"object"==typeof c&&(c=c[i.subField]),f=h+l>=0&&h+l<a.length?a[h+l]:null,c||0===c?(g["_MASTD "+i.name]||0===g["_MASTD "+i.name])&&(y=g["_STD "+i.name]/g["_MASTD "+i.name],x.O9X(124),n=v=x.L9X(y,c,y,r,n,1,r),h<i.days&&(v=null),f?f[s]=v:h+l>=a.length&&((u={})[s]=v,m.push(u))):f?f[s]=null:h+l>=a.length&&((u={})[s]=null,m.push(u));i.appendFutureTicks(e,m)},t.Studies.calculateMovingAverageTriangular=function(e,i){var a,r,n,s,o,l,h,c,u,d=K;for(var p in"T","R","I","2","T","RI","1 ","si","mple","f","ield",a=i.chart.scrubbed,(r=i.inputs.Field)&&"field"!=r||(r="Close"),n=Math.ceil(i.days/2),t.Studies.MA("simple",n,r,0,"TRI1",e,i),i.days%2==0&&n++,t.Studies.MA("simple",n,"TRI1 "+i.name,0,"TRI2",e,i),s=i.name,i.outputs)d.O9X(21),s=d.x9X(p," ",s);o=parseInt(i.inputs.Offset,10),isNaN(o)&&(o=0),l=o;for(var m=i.startFrom-1;m>=0;m--)if((h=a[m][s])||0===h){if(!(l>0))break;l--}for(c=[],m++;m<a.length;m++)m+o>=0&&("T","RI","2"," ",m+o<a.length?(d.I9X(0),a[d.x9X(o,m)][s]=a[m]["TRI2 "+i.name]):("T","RI2"," ",(u={})[s]=a[m]["TRI2 "+i.name],c.push(u)));i.appendFutureTicks(e,c)},t.Studies.calculateMovingAverageWeighted=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v=K;v.A9d(),i=t.chart.scrubbed,a=0,r=0,(n=t.inputs.Field)&&"field"!=n||(n="Close"),v.I9X(6);var x=v.x9X(3,4);v.O9X(52);var b=v.L9X(0,18,9);for(var C in s=t.days*(t.days+x)/b,o=t.name,t.outputs)v.O9X(21),o=v.L9X(C," ",o);for(l=parseInt(t.inputs.Offset,10),isNaN(l)&&(l=0),d=[],p=t.startFrom,m=l,h=t.startFrom-1;h>=0;h--)if((c=i[h][n])&&"object"==typeof c&&(c=c[t.subField]),c||0===c)if(m>0)m--,p=h;else{if(d.length==t.days-1)break;d.unshift(c)}for(d.length<t.days-1&&(d=[],p=0),h=0;h<d.length;h++){v.O9X(125),a+=(h+v.L9X(17,4,4,20,3))*d[h],r+=d[h]}for(g=[],h=p;h<i.length;h++)"o","bj","e","ct",(c=i[h][n])&&"object"==typeof c&&(c=c[t.subField]),f=h+l>=0&&h+l<i.length?i[h+l]:null,c||0===c?(d.push(c),d.length>t.days&&(a-=r,r-=d.shift()),a+=d.length*c,r+=c,y=h<t.days-1?null:a/s,f?f[o]=y:h+l>=i.length&&((u={})[o]=y,g.push(u))):f?f[o]=null:h+l>=i.length&&((u={})[o]=null,g.push(u));t.appendFutureTicks(e,g)},t.Studies.calculateStudyATR=function(e,t){var i,a,r,n,s,o,l,h=K;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.error=!0;else{r=0,n=t.name;for(var c=Math.max(t.startFrom,1);c<i.length;c++)if("AT","R ","T","rue Ra","ng","e ","Sum T","ru","e Range ","Sum Tru","e Range"," ",s=i[c],h.I9X(6),o=i[h.L9X(1,c)],l=s.trueRange,o["Sum True Range "+n]&&(h.I9X(0),r=o[h.x9X(n,"Sum True Range ")]),r+=l,c>a&&(h.O9X(6),r-=i[h.L9X(a,c)][h.L9X(n,"True Range ",h.I9X(0))]),h.I9X(0),s[h.x9X(n,"True Range ")]=l,h.I9X(0),s[h.L9X(n,"Sum True Range ")]=r,c==a)h.I9X(0),s[h.x9X(n,"ATR ")]=h.x9X(r,a,h.O9X(7));else if(c>a){h.O9X(6);var u=h.x9X(13,14);h.O9X(0),s[h.x9X(n,"ATR ")]=(o["ATR "+n]*(a-u)+l)/a}}},t.Studies.displayPSAR2=function(e,i,a){var r,n,s,o,l,h,c,u,d,p,m,g,f,y=K;for(var v in"P","lo","t Type",r=e.panels[i.panel],s=(n=i.getYAxis(e))==e.chart.panel.yAxis,e.startClip(r.name),o=i.getContext(e),l="squarewave"==i.inputs["Plot Type"],y.l9d(),i.outputs){"aut","o",y.I9X(5);var x=y.x9X(11,7506,395);y.O9X(52);y.x9X(13,14,1);y.I9X(126);var b=y.x9X(5,10,10,3992);y.O9X(127);var C=y.x9X(10,6342,6327,2109,6);h=v+(776.61<=x?" ":b<=C?"Q":"F")+i.name,o.beginPath(),c=e.layout.candleWidth,u=Math.max(3,Math.floor(e.chart.tmpWidth/2));for(var S=0;S<a.length;S++)(d=a[S])&&(d[h]||0===d[h])&&(d.candleWidth&&(c=d.candleWidth),s&&d.transform&&(d=d.transform),p=e.pixelFromBar(S,r.chart),l&&(y.O9X(7),p-=y.L9X(c,2)),m=e.pixelFromTransformedValue(d[i.referenceOutput?i.referenceOutput+" "+i.name:h],r,n),0!==S&&a[S-1]&&(a[S-1][h]||0===a[S-1][h])||o.moveTo(p,m),l?(o.lineTo(p,m),y.I9X(0),o.lineTo(y.x9X(c,p),m),a[S+1]&&(y.I9X(128),g=a[y.L9X("1",S)],s&&g.transform&&(g=g.transform),g[h]||0===g[h]||(y.I9X(0),o.lineTo(y.L9X(c,p),e.pixelFromTransformedValue(g[i.referenceOutput?i.referenceOutput+" "+i.name:h],e.panels[i.panel],n))))):(y.O9X(39),o.moveTo(y.L9X(2,u,p),m),y.O9X(36),o.lineTo(y.L9X(2,p,u),m)));y.O9X(1),o.lineWidth=y.x9X(1,"1"),i.highlight&&(o.lineWidth=3),"auto"==(f=t.Studies.determineColor(i.outputs[v]))&&(f=e.defaultColor),o.strokeStyle=f,!i.highlight&&e.highlightedDraggable&&(o.globalAlpha*=.3),o.stroke(),o.closePath(),y.O9X(74),o.lineWidth=y.x9X(2147483647,"1")}e.endClip()},t.Studies.inputAttributeDefaultGenerator=function(e){return(e||0===e)&&e.constructor==Number?Math.floor(e)==e?e>0?{min:1,step:1}:{step:1}:e>0?{min:0,step:.01}:{step:.01}:{}},t.Studies.getMarketOffset=function(e){let{stx:i,localQuoteDate:a,shiftToDateBoundary:r}=e;var n,s,o,l,h,c,u,d,p=K;n="U",n+="T",n+="C",s="U",p.A9d(),s+="T",s+="C",o="Market.Symbo",o+="logy.i",o+="sForexMetal",arguments.length>1&&(p.O9X(35),i=arguments[p.L9X(1881336512,"0")],a=arguments[1],l=arguments[2]);var{symbol:m}=i.chart;h=t.getFn(o)(m),void 0===l&&(l=t.getFn("Market.Symbology.isForexSymbol")(m)),c=i.chart.market?l?"America/New_York":i.chart.market.market_tz:null,p.I9X(129);var g=p.L9X(2305,4615,59968,5,16);return u=new Date(a.getTime()+a.getTimezoneOffset()*g),c&&-1!=c.indexOf(s)||(u=t.convertTimeZone(u,n,c)),d=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()).getTime()-a.getTime(),r&&l&&(p.I9X(130),d+=p.L9X(60,h?6:7,"1000",60)),d},t.Studies.getStudyList=function(e){var i,a;for(var r in i={},a={},t.extend(a,e),K.l9d(),t.Studies.studyLibrary)a[r]||(i[t.Studies.studyLibrary[r].name]=r);return i},t.Studies.determineColor=function(e){return e?"object"==typeof e?e.color:e:null},t.Studies.calculateGenericEnvelope=function(e,t,i,a,r,n){var s,o,l,h,c,u,d,p=K;i||(i=0),n||(n=0),a&&"field"!=a||(a="Close"),r||(r=a),s=t.chart.scrubbed,(o=t.inputs.Field)&&"field"!==o||(o="Close");for(var m=t.startFrom;s&&m<s.length;m++)"%","b"," ","o","bj","e","ct","o","b","j","ect",(l=s[m])&&l[a]&&((h=l[o])&&"object"==typeof h&&(h=h.Close),(c=l[a])&&"object"==typeof c&&(c=c[t.subField]),(u=l[r])&&"object"==typeof u&&(u=u[t.subField]),p.O9X(95),d=p.x9X(n,i,u),p.I9X(0),l[t.type+" Top "+t.name]=p.x9X(d,c),p.O9X(6),l[t.type+" Bottom "+t.name]=p.x9X(d,c),l[t.type+" Median "+t.name]=c,l["Bandwidth "+t.name]=c?200*d/c:0,p.I9X(131),l["%b "+t.name]=p.x9X(h,c,1,d,50))},t.Studies.displayChannel=function(e,i,a){var r,n,s,o,l=K;if("Cha","nne","l Fil","l",i.inputs["Channel Fill"]){for(var h in r={panelName:i.panel},i.outputs)if("M","edian","L","o","w","T","o","p","Top"==(n=h.split(" ").pop())||"High"==n){l.I9X(0);var c=l.x9X(6,1969);l.O9X(107);l.L9X(4152,248,4);l.I9X(28);var u=l.L9X(10,423645,15,114570,4);l.O9X(99);var d=l.L9X(9110,4,7,27312);r.topBand=h+(c>u?d:" ")+i.name}else"Bottom"==n||"Low"==n?r.bottomBand=h+" "+i.name:"Median"!=n&&"Channel"!=n||(r.color=t.Studies.determineColor(i.outputs[h]));if(i.parameters&&i.parameters.opacity)r.opacity=i.parameters.opacity;else{1523382147,-2138056784,s=2;for(var p=1;1523382147!==l.Y19(p.toString(),p.toString().length,9312);p++)r.opacity=808,s+=2;-2138056784!==l.Y19(s.toString(),s.toString().length,7343)&&(r.opacity=.2)}o=e.panels[i.panel],r.skipTransform=o.name!=i.chart.name,r.yAxis=i.getYAxis(e),!i.highlight&&e.highlightedDraggable&&(r.opacity*=.3),t.prepareChannelFill(e,r)}t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.initAnchorHandle=function(e,t){K.l9d();var{handle:i}=t;i||(e.controls.anchorHandles||(e.controls.anchorHandles={}),e.controls.anchorHandles[t.uniqueId]?({handle:i}=e.controls.anchorHandles[t.uniqueId]):((i=document.createElement("div")).classList.add("stx_anchor_handle"),i.setAttribute(t.uniqueId,""),e.controls.anchorHandles[t.uniqueId]={handle:i,sd:t},e.controls.chartControls.parentElement.appendChild(i)),t.anchorHandle=i)},t.Studies.removeAnchorHandle=function(e,t){var{handle:i}=(e.controls.anchorHandles||{})[t.uniqueId]||{};i&&(delete e.controls.anchorHandles[t.uniqueId],i.remove())},t.Studies.repositionAnchor=function(e,a){var r,n,s,o,l,h,{currentAnchorTime:c,uniqueId:u}=a,{hoverTick:d}=e.repositioningAnchorSelector||{};K.l9d();var{dataSet:p,market:m}=e.chart,{anchorHandles:g}=e.controls;if(r={},d||0===d){if("YYY","Y-MM-","d","d",d>=p.length)return;if(n=!a.inputs["Anchor Date"],s=p[d].DT,o=t.Studies.getMarketOffset({stx:e,localQuoteDate:s,shiftToDateBoundary:!0}),n&&new Date(s.getTime()+o).getDate()!==new Date(c.getTime()+o).getDate())return;m.market_def&&(s=new i.Date(s,m.market_def.market_tz)),l=!n&&t.dateToStr(s,"YYYY-MM-dd"),r={"Anchor Time":t.dateToStr(s,"HH:mm:ss")},l&&(r["Anchor Date"]=l)}h=t.Studies.replaceStudy(e,a.inputs.id,a.type,Object.assign(a.inputs,r),a.outputs,a.parameters,a.panel),g[u].sd=h,e.draw()},t.Studies.displayAnchorHandleAndLine=function(e,a,r){var n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C=K;n=(e.repositioningAnchorSelector||{}).sd===a;var{hoverTick:S}=n&&e.repositioningAnchorSelector,{chart:w,panels:k,xaxisHeight:L}=e,{market:A={},symbol:D}=w;s=k[a.panel];var{top:T,bottom:M,right:F,left:P,height:_}=s,{inputs:E,anchorHandle:I,currentAnchorTime:N}=a,{backgroundColor:O,borderLeftColor:X}=e.canvasStyle("stx_anchor_handle"),[z,H,R=0]=(E["Anchor Time"]||"").split(":");o=!E["Anchor Date"],l=t.getFn("Market.Symbology.isForexSymbol")(D),h=(S||0===S)&&(e.chart.dataSet[S]||{}).DT,c=t.Studies.getMarketOffset({stx:e,localQuoteDate:r[r.length-1].DT,shiftToDateBoundary:!0}),u=h&&o&&new Date(h.getTime()+c).getDate()!==new Date(N.getTime()+c).getDate();var{highlighted:W}=e.controls.anchorHandles[a.uniqueId],[Q,V]=A.getNormalOpen().split(":").map(e=>parseInt(e));d=t=>{var i;return C.A9d(),i=t?e.tickFromDate(t,null,null,!0):S,[e.pixelFromTick(i,w),i]},p=o?new Date(r[r.length-1].DT):t.strToDate(E["Anchor Date"]),A.market_def&&(p=new i.Date(p,A.market_def.market_tz)),p.setHours(z,H,R),(m=l&&(p.getHours()>Q||p.getHours()===Q&&p.getMinutes()>=V))&&p.setDate(p.getDate()-1);var[B]=d(),[U,j]=d(p);(g=new Date(p)).setHours(...A.getNormalClose().split(":")),m&&g.setDate(g.getDate()+1);var[Y]=g&&d(g)||[];if(o&&(U>F||Y>F)){f=new Date(p);do{f.setDate(f.getDate()-1)}while(A&&!A.isMarketDate(f));var[q,Z]=d(f);q>P&&(p=f,U=q,j=Z)}y={y0:T,y1:M,type:"line",confineToPanel:s},e.plotLine(Object.assign(y,{x0:U,x1:U,color:O,pattern:"solid",lineWidth:W?3:2,opacity:1})),e.plotLine(Object.assign(y,{x0:B,x1:B,color:u?X:O,pattern:[6,6],lineWidth:2,opacity:u?.5:1})),C.O9X(21);var G=C.x9X(207543680,8,622631032);I.style.height=[8,_/4,50].sort((e,t)=>(C.I9X(6),C.L9X(t,e)))["1"<<G]+"px";var{height:J,width:$}=I.getBoundingClientRect();v=Math.round(M)===e.height?L:0,x="chart"===s.name?35:0,C.I9X(132),b=C.L9X(x,v,J,"10",402350080),C.I9X(5),I.style.top=C.L9X(b,"px",M),I.style.left=S||0===S?B:U-$/2+"px",a.currentAnchorTime=p,a.currentAnchorTick=j},t.Studies.studyScriptLibrary={},t.Studies.studyLibrary=t.Studies.studyLibrary||{},t.extend(t.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!0,calculateFN:t.Studies.calculateMovingAverage,inputs:{Period:50,Field:"field",Type:"ma",Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:t.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:.1,step:.1}}},"True Range":{name:"True Range",calculateFN:t.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!0,initialMarginTop:0,zoom:0},seriesFN:t.Studies.createVolumeChart,calculateFN:t.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}}})},S=e=>{var t;K.l9d(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.Driver?(t.ChartEngine.Driver.Lookup=function(e){},t.ChartEngine.Driver.Lookup.prototype.acceptText=function(e,t,i,a){this.cb}):console.error("symbolLookupBase feature requires first activating quoteFeed feature.")},w=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ThemeHelper=t.ThemeHelper||function(e){var i,a;K.A9d(),this.params=e,a="#FFFFFF",(i=e.stx).chart.container&&(a=getComputedStyle(i.chart.container).backgroundColor,t.isTransparent(a)&&(a=i.containerColor)),this.settings.chart.Background.color=t.hexToRgba(a),this.settings.chart["Grid Lines"].color=t.hexToRgba(i.canvasStyle("stx_grid").color),this.settings.chart["Grid Dividers"].color=t.hexToRgba(i.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=t.hexToRgba(i.canvasStyle("stx_xaxis").color),this.settings.chartTypes["Candle/Bar"].up.color=t.hexToRgba(i.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=t.hexToRgba(i.canvasStyle("stx_candle_down").color),this.settings.chartTypes["Candle/Bar"].up.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=t.hexToRgba(i.canvasStyle("stx_candle_shadow_even").color),this.settings.chartTypes["Candle/Bar"].up.border=t.hexToRgba(i.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=t.hexToRgba(i.canvasStyle("stx_candle_down").borderLeftColor),t.isTransparent(i.canvasStyle("stx_candle_up").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].up.border=null),t.isTransparent(i.canvasStyle("stx_candle_down").borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].down.border=null),this.settings.chartTypes.Line.color=t.hexToRgba(i.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=t.hexToRgba(i.canvasStyle("stx_mountain_chart").backgroundColor),this.settings.chartTypes.Mountain.basecolor=t.hexToRgba(i.canvasStyle("stx_mountain_chart").color)},t.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},K.l9d(),t.ThemeHelper.prototype.update=function(e){var i,a;function r(t,a,r){for(var n in K.A9d(),i[t])e.setStyle(n,a,r)}K.A9d(),e||(e=this.params.stx),i={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},e.chart.container.style.backgroundColor=this.settings.chart.Background.color,e.defaultColor="",r("stx_grid","color",this.settings.chart["Grid Lines"].color),r("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color),r("stx_xaxis","color",this.settings.chart["Axis Text"].color),(a=this.settings.chartTypes["Candle/Bar"]).even||(a.even={color:null,wick:t.hexToRgba(e.canvasStyle("stx_candle_shadow_even").color),border:null}),r("stx_candle_up","color",a.up.color),r("stx_candle_down","color",a.down.color),r("stx_candle_even","color",a.even.color),r("stx_shadow_up","color",a.up.wick),r("stx_shadow_down","color",a.down.wick),r("stx_shadow_even","color",a.even.wick),e.setStyle("stx_candle_up","borderLeftColor",a.up.border),e.setStyle("stx_candle_down","borderLeftColor",a.down.border),r("stx_line_chart","color",this.settings.chartTypes.Line.color),e.setStyle("stx_mountain_chart","borderTopColor",t.hexToRgba(this.settings.chartTypes.Mountain.color,1)),e.setStyle("stx_mountain_chart","backgroundColor",t.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),e.setStyle("stx_mountain_chart","color",t.hexToRgba(this.settings.chartTypes.Mountain.basecolor,.01)),e.draw()},t.ChartEngine.prototype.setThemeSettings=function(e){var i;this.styles={},this.chart.container.style.backgroundColor="",this.defaultColor="",e&&((i=new t.ThemeHelper({stx:this})).settings=e,i.update()),this.updateListeners("theme"),this.changeOccurred("theme"),this.displayInitialized&&("t","he","m","e",this.headsUpHR(),this.clearPixelCache(),this.updateListeners("theme"),this.draw())}},k=t=>{var i,a;K.A9d(),i="undefined"!=typeof _CIQ?_CIQ:t.CIQ,a="undefined"!=typeof _timezoneJS?_timezoneJS:t.timezoneJS,i.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":"Africa/Casablanca","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":"Europe/Moscow","(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":"Australia/Perth","(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":"Pacific/Guam","(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":"Asia/Kamchatka","(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":"Pacific/Chatham","(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"},function(){var t,r,n,s,o,l,h,c,u,d;t=("undefined"!=typeof window?window:null)||(void 0!==e?e:{}),a.VERSION="0.4.11",r=t.$||t.jQuery||t.Zepto,n=t.fleegix,s=a.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=a.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],l={},h={},c={};for(var p=0;p<o.length;p++)l[o[p].substr(0,3)]=p;for(p=0;p<s.length;p++)h[s[p].substr(0,3)]=p;Array.prototype.indexOf,u=function(e,t){var i,a,r,n=K;if("number"!=typeof e)throw n.I9X(0),n.x9X(e,"not a number: ");if(n.I9X(133),i=n.L9X(2147483647,"1000",e),r=(a=e.toString()).length,i&&r>t)return n.I9X(6),a.substr(n.x9X(t,r),r);for(a=[a];r<t;)a.unshift("0"),r++;return a.join("")},d=function(e){if("t","e","x","t","ge","t","a","sy","nc","URL must be specifie","d",e){if(!e.url)throw new Error("URL must be specified");if("async"in e||(e.async=!0),K.l9d(),!(n&&void 0!==n.xhr||r&&void 0!==r.ajax))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return e.async?n&&n.xhr?n.xhr.send({url:e.url,method:"get",handleSuccess:e.success,handleErr:e.error}):r.ajax({url:e.url,dataType:"text",method:"GET",error:e.error,success:e.success}):n&&n.xhr?n.xhr.doReq({url:e.url,async:!1}):r.ajax({url:e.url,async:!1,dataType:"text"}).responseText}},a.ruleCache={},a.Date=function(){var e,t,i,r,n,s,o,l,h,c=K;if(e="st",e+="r",e+="i",e+="ng",c.l9d(),t="[obj",t+="ect A",t+="rr",t+="ay]",this===a)throw"timezoneJS.Date object must be constructed with 'new'";switch(i=Array.prototype.slice.apply(arguments),r=null,n=null,s=[],o=!1,Object.prototype.toString.call(i[0])===t&&(i=i[0]),"string"==typeof i[i.length-1]&&(o=Date.parse(i[i.length-1].replace(/GMT[+-]\d+/,"")),(isNaN(o)||null===o)&&(n=i.pop())),l=!1,i.length){case 0:r=new Date;break;case 1:r=new Date(i[0]),typeof i[0]==e&&-1==i[0].search(/[+-][0-9]{4}/)&&-1==i[0].search(/Z/)&&-1==i[0].search(/T/)&&(l=!0);break;case 2:r=new Date(i[0],i[1]),l=!0;break;default:for(var u=0;u<7;u++)s[u]=i[u]||0;c.I9X(50),r=new Date(s[0],s[1],s[2],s[3],s[4],s[c.L9X("5",4)],s[6]),l=!0}if(isNaN(r.getTime()))throw h="Inv",h+="alid",h+=" date",new Error(h);this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,c.O9X(1),this.hours=c.L9X(1,"0"),this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=n||null,l?this.setFromDateObjProxy(r):this.setFromTimeProxy(r.getTime(),n)},i.extend(a.Date.prototype,{getDate:function(){return K.A9d(),this.date},getDay:function(){return K.A9d(),this._day},getFullYear:function(){return K.l9d(),this.year},getMonth:function(){return this.month},getYear:function(){K.O9X(15);var e=K.L9X(450496,14,32300,14);return K.A9d(),this.year-e},getHours:function(){return K.A9d(),this.hours},getMilliseconds:function(){return K.A9d(),this.milliseconds},getMinutes:function(){return K.A9d(),this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return K.A9d(),this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return K.l9d(),this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return K.A9d(),this.getUTCDateProxy().getUTCSeconds()},getTime:function(){var e=K;e.I9X(134);var t=e.L9X(1665,15,57,2,15);e.O9X(26),e.l9d();var i=e.L9X(1,83,5,912);return this._timeProxy+this.getTimezoneOffset()*t*i},getTimezone:function(){return K.l9d(),this.timezone},getTimezoneOffset:function(){return K.A9d(),this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var e;return K.l9d(),this._useCache?this._tzInfo:(e=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:a.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=e,this._useCache=!0,e)},getUTCDateProxy:function(){var e;return(e=new Date(this._timeProxy)).setUTCMinutes(e.getUTCMinutes()+this.getTimezoneOffset()),K.l9d(),e},setDate:function(e){return"da","t","e",this.setAttribute("date",e),K.l9d(),this.getTime()},setFullYear:function(e,t,i){return void 0!==i&&this.setAttribute("date",1),this.setAttribute("year",e),void 0!==t&&this.setAttribute("month",t),void 0!==i&&("d","at","e",this.setAttribute("date",i)),this.getTime()},setMonth:function(e,t){return"m",K.A9d(),"on","th",this.setAttribute("month",e),void 0!==t&&this.setAttribute("date",t),this.getTime()},setYear:function(e){return e=Number(e),K.l9d(),0<=e&&e<=99&&(e+=1900),this.setUTCAttribute("year",e),this.getTime()},setHours:function(e,t,i,a){return this.setAttribute("hours",e),void 0!==t&&this.setAttribute("minutes",t),void 0!==i&&this.setAttribute("seconds",i),void 0!==a&&("mil","lis","eco","nds",this.setAttribute("milliseconds",a)),this.getTime()},setMinutes:function(e,t,i){return this.setAttribute("minutes",e),void 0!==t&&this.setAttribute("seconds",t),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(e,t){return K.l9d(),this.setAttribute("seconds",e),void 0!==t&&("mi","lliseconds",this.setAttribute("milliseconds",t)),this.getTime()},setMilliseconds:function(e){return this.setAttribute("milliseconds",e),K.l9d(),this.getTime()},setTime:function(e){if(isNaN(e))throw"Units mus","t b","e a number.",new Error("Units must be a number.");return this.setFromTimeProxy(e,this.timezone),K.l9d(),this.getTime()},setUTCFullYear:function(e,t,i){return void 0!==i&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",e),void 0!==t&&this.setUTCAttribute("month",t),void 0!==i&&("d","a","t","e",this.setUTCAttribute("date",i)),this.getTime()},setUTCMonth:function(e,t){return K.l9d(),this.setUTCAttribute("month",e),void 0!==t&&this.setUTCAttribute("date",t),this.getTime()},setUTCDate:function(e){return this.setUTCAttribute("date",e),K.l9d(),this.getTime()},setUTCHours:function(e,t,i,a){return this.setUTCAttribute("hours",e),void 0!==t&&("min","ut","e","s",this.setUTCAttribute("minutes",t)),void 0!==i&&this.setUTCAttribute("seconds",i),void 0!==a&&this.setUTCAttribute("milliseconds",a),this.getTime()},setUTCMinutes:function(e,t,i){return this.setUTCAttribute("minutes",e),void 0!==t&&("sec","on","d","s",this.setUTCAttribute("seconds",t)),K.l9d(),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(e,t){return this.setUTCAttribute("seconds",e),void 0!==t&&this.setUTCAttribute("milliseconds",t),this.getTime()},setUTCMilliseconds:function(e){return this.setUTCAttribute("milliseconds",e),this.getTime()},setFromDateObjProxy:function(e){this.year=e.getFullYear(),this.month=e.getMonth(),this.date=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this._day=e.getDay(),K.l9d(),this._dateProxy=e,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(e,t){var i,r;K.l9d(),i=new Date(e),r=t?a.timezone.getTzInfo(e,t,!0).tzOffset:i.getTimezoneOffset(),i.setTime(e+6e4*(i.getTimezoneOffset()-r)),this.setFromDateObjProxy(i)},setAttribute:function(e,t){var i;if(isNaN(t))throw new Error("Units must be a number.");K.l9d(),(i=this._dateProxy)["set"+("year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1))](t),this.setFromDateObjProxy(i)},setUTCAttribute:function(e,t){var i,a;if("yea","r",isNaN(t))throw"Un","its must be a ","number.",new Error("Units must be a number.");i="year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1),(a=this.getUTCDateProxy())["setUTC"+i](t),a.setUTCMinutes(a.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(a.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(e){var t;K.A9d(),t=this.getTimezoneInfo().tzOffset,this.timezone=e,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+t)},removeTimezone:function(){this.timezone=null,K.l9d(),this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new a.Date(this.getTime(),this.timezone):new a.Date(this.getTime())},toGMTString:function(){return"E","t","c","/GMT","EEE, dd MM","M yyyy HH:mm:ss ","Z",this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var e=K;e.O9X(107);var t=e.L9X(6786,6794,3397);e.I9X(135);e.x9X(2152,11,8,19,38763);e.O9X(94);var i=e.L9X(7576,113656,8,2);e.O9X(136);e.x9X(708,118,9,7009,14);e.O9X(30);var a=e.L9X(246,18,4346);e.I9X(21);var r=e.L9X(511,7,7140);e.I9X(5);var n=e.L9X(9,5,2844);e.O9X(137);e.x9X(9899,9884,9879,5);return e.A9d(),this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+(t<i?"Z":a==r&&n)},toJSON:function(){return this.toISOString()},toDateString:function(){return"EE","E MMM dd yyy","y",this.toString("EEE MMM dd yyyy")},toTimeString:function(){return K.A9d(),"H",":mm k",this.toString("H:mm k")},toString:function(e,t){var i,r,n,o;return K.A9d(),"yyyy-MM-ddTHH:mm",":s","s.SSS",e||(e="yyyy-MM-ddTHH:mm:ss.SSS"),i=e,r=t?a.timezone.getTzInfo(this.getTime(),t):this.getTimezoneInfo(),n=this,t&&(n=this.clone()).setTimezone(t),o=n.getHours(),i.replace(/a+/g,(function(){return K.A9d(),"k"})).replace(/y+/g,(function(e){return K.A9d(),u(n.getFullYear(),e.length)})).replace(/d+/g,(function(e){return u(n.getDate(),e.length)})).replace(/m+/g,(function(e){return K.l9d(),u(n.getMinutes(),e.length)})).replace(/s+/g,(function(e){return u(n.getSeconds(),e.length)})).replace(/S+/g,(function(e){return K.A9d(),u(n.getMilliseconds(),e.length)})).replace(/h+/g,(function(e){return K.l9d(),u(o%12==0?12:o%12,e.length)})).replace(/M+/g,(function(e){var t,i;return K.A9d(),t=n.getMonth(),(i=e.length)>3?a.Months[t]:i>2?a.Months[t].substring(0,i):(K.I9X(0),u(K.L9X(1,t),i))})).replace(/k+/g,(function(){return o>=12?(o>12&&(o-=12),"PM"):"AM"})).replace(/H+/g,(function(e){return K.A9d(),u(o,e.length)})).replace(/E+/g,(function(e){return K.l9d(),s[n.getDay()].substring(0,e.length)})).replace(/Z+/gi,(function(){return r.tzAbbr}))},toUTCString:function(){return K.A9d(),this.toGMTString()},civilToJulianDayNumber:function(e,t,i){var a,r,n=K;++t>12&&(n.I9X(138),a=parseInt(n.x9X("12",t,1267367424),10),n.I9X(73),t=n.L9X(12,t),e+=a),t<=2&&(e-=1,t+=12),n.I9X(27),n.l9d(),a=Math.floor(n.x9X(e,"100")),n.I9X(12);var s=n.L9X(12,17,24,301);r=2-a+Math.floor(a/s),n.I9X(105);var o=n.x9X(20,3528,11,1179);n.O9X(139);var l=n.x9X(8,2,10,13);n.O9X(22);var h=n.L9X(9,25908,24375);return Math.floor(365.25*(e+o))+Math.floor(30.6001*(t+l))+i+r-h},getLocalOffset:function(){return K.A9d(),this._dateProxy.getTimezoneOffset()}},!0),a.timezone=new function(){var e,t,i;function r(e){throw"' i","s either incorrect, or not loaded in the timezone registry.",K.l9d(),K.I9X(21),new Error(K.x9X("Timezone '",e,"' is either incorrect, or not loaded in the timezone registry."))}function n(e){var t,i,a,r;if(e[3])return t=parseInt(e[3],10),i=11,a=31,e[4]&&(i=l[e[4].substr(K.L9X(988038976,"0",K.I9X(53)),3)],a=parseInt(e[5],10)||1),[t,i,a,(r=e[6]?u(e[6]):[0,0,0])[0],r[1],r[2]]}function s(e,t){return K.I9X(6),-Math.ceil(K.L9X(e,t))}function o(a){var n,s,l,h;return(n=i[a])?n:(s=a.split("/")[0],(l=t[s])?l:"string"==typeof(h=e.zones[a])?o(h):e.loadedZones.backward?void r(a):(e.loadZoneFile("backward"),o(a)))}function u(e){var t,i;return t=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,(i=e.match(t))[1]=parseInt(i[1],10),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function p(e){var t,i,a=K;t=u(e),i="-"===e.charAt(0)?-1:1,a.O9X(60);var r=a.L9X(13,53,12,720,15);a.O9X(14);var n=a.x9X(20,18,10,10);a.I9X(22);var s=a.L9X(12,1e4,8988);return t=i*(((60*t[0]+t[1])*r+t[n])*s),a.I9X(149),a.L9X(60,t,1e3)}e=this,t={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},i={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"},this.zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=o,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(e){var t,i;for(var a in"north","amer","i","ca",t={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",e)t[a]=e[a];return K.A9d(),this.loadZoneFiles(i,t)},this.loadZoneFiles=function(e,t){var i,a;if(a=0,"string"==typeof e)return this.loadZoneFile(e,t);K.l9d(),i=(t=t||{}).callback,t.callback=function(){++a===e.length&&"function"==typeof i&&i()};for(var r=0;r<e.length;r++)this.loadZoneFile(e[r],t)},this.loadZoneFile=function(t,i){if(void 0===this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(!this.loadedZones[t])return this.loadedZones[t]=!0,function(t,i){var a,r,n=K;a=2;for(var s=1;-1267695221!==n.g19(s.toString(),s.toString().length,51663);s++){n.I9X(21);n.x9X(1475,8,12);n.I9X(30);var o=n.x9X(254588970,13,3055067650);n.O9X(0);n.x9X(7,8933);n.I9X(11);var l=n.L9X(39676,2,34010);n.O9X(140);n.L9X(186,11,13,5,917);n.I9X(141);var h=n.L9X(15,538,20,5,806457);n.I9X(6);var c=n.x9X(25267,27564);n.O9X(142);var u=n.x9X(901629,53544,18,17,19);n.O9X(0);var d=n.L9X(11,13249);n.O9X(6);n.L9X(5,674307);n.O9X(143);var p=n.x9X(4,191800631,3,3,767202502);n.O9X(144);n.L9X(1649,17,975,970,1);r=e.zoneFileBasePath%(!("1500"<<o<=1298)||(l==h?"":c===u?d:"0xb79b">>p))/t,a+=2}if(-889544583!==n.Y19(a.toString(),a.toString().length,50432)){n.I9X(0);n.x9X(8836,884);n.I9X(145);n.L9X(2,442,5,416,11);n.O9X(11);var m=n.x9X(4108,20,3);n.O9X(107);var g=n.x9X(4283,6411,3);n.O9X(146);n.x9X(1,1,1226,6);n.O9X(0);var f=n.x9X(14,8557);n.I9X(0);var y=n.x9X(17,9403);n.I9X(147);var v=n.x9X(19,7,7955,6,1);n.O9X(148);n.L9X(1,2250,7,15,559);r=e.zoneFileBasePath+(1538<m&&(711!==g?"/":8904!=f?y:v))+t}return n.l9d(),i&&i.async?e.transport({async:!0,url:r,success:function(t){return"f",n.l9d(),"unction",e.parseZones(t)&&"function"==typeof i.callback&&i.callback()},error:function(){throw"' zoneinfo fi",n.l9d(),"l","e","s","Error retriev","ing '",n.O9X(21),new Error(n.x9X("Error retrieving '",r,"' zoneinfo files"))}}):e.parseZones(e.transport({url:r,async:!1}))}(t,i)},this.loadZoneJSONData=function(t,i){var a;return a=function(t){for(var i in(t=JSON.parse(t)).zones)e.zones[i]=t.zones[i];for(var a in K.A9d(),t.rules)e.rules[a]=t.rules[a]},i?a(e.transport({url:t,async:!1})):e.transport({url:t,success:a})},this.loadZoneDataFromObject=function(t){if(t){for(var i in K.A9d(),t.zones)e.zones[i]=t.zones[i];for(var a in t.rules)e.rules[a]=t.rules[a]}},this.getAllZones=function(){var e;for(var t in K.l9d(),e=[],this.zones)e.push(t);return e.sort()},this.parseZones=function(t){var i,a,r,s,o,l=K;if(!t)return!1;i=t.split("\n"),l.A9d(),a=[],s=null,o=null;for(var h=0;h<i.length;h++)if((r=i[h]).match(/^\s/)&&("Zone"," ",l.O9X(21),r=l.x9X("Zone ",s,r)),(r=r.split("#")[0]).length>3)switch("Ru","l","e",(a=r.split(/\s+/)).shift()){case"Zone":if(s=a.shift(),e.zones[s]||(e.zones[s]=[]),a.length<3)break;a.splice(3,a.length,n(a)),a[3]&&(a[3]=Date.UTC.apply(null,a[3])),a[0]=-p(a[0]),e.zones[s].push(a);break;case"Rule":o=a.shift(),e.rules[o]||(e.rules[o]=[]),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||a[1],l.O9X(49),a[l.L9X(0,"5")]=u(a[5]),a[6]=p(a[6]),e.rules[o].push(a);break;case"Link":if(e.zones[a[1]]){". Cannot create lin","k of a preexisted zone.",l.I9X(6);var c=l.L9X(19,20);throw new Error("Error with Link "+a[c]+". Cannot create link of a preexisted zone.")}isNaN(a[0])?e.zones[a[1]]=a[0]:e.zones[a[1]]=parseInt(a[0],10)}return!0},this.transport=d,this.getTzInfo=function(t,i,n){var o,u,d,p,m,g,f;return this.lazyLoadZoneFiles(i),u=+(o=function t(i,a){var n,s,o,l,h=K;for("s","t","ring","nu","mb","er",n="number"==typeof i?i:new Date(+i).getTime(),s=a,o=e.zones[s];"string"==typeof o;)s=o,o=e.zones[s];if(!o){if(!e.loadedZones.backward)return e.loadZoneFile("backward"),t(i,a);if(s&&s!==a)return e.lazyLoadZoneFiles(s),t(i,s);r(s)}if(0===o.length)throw"No"," Zone"," foun","d for '",h.I9X(43),new Error(h.L9X(i,a,"No Zone found for '","' on "));for(var c=o.length-1;c>=0&&!((l=o[c])[3]&&n>l[3]);c--);return h.I9X(0),o[h.x9X(1,c)]}(t,i))[0],(d=function(t,i,r,n){var o,u,d,p,m,g,f,y,v,x,b,C,S,w=K;if(o="number"==typeof t?new Date(t):t,w.I9X(74),u=i[w.x9X(2147483647,"1")],d=i[0],p=u.match(/^([0-9]):([0-9][0-9])$/)){"J","an",w.O9X(13);var k=w.x9X(2,2,2);w.I9X(150);var L=w.x9X(1,4,16,3,13);w.O9X(151);var A=w.x9X(11,780,8509,11);w.O9X(22);var D=w.L9X(12,14,0);return[-1e6,"max","-","Jan",1,[0,0,0],parseInt(p[k],L)*A+parseInt(p[D],10),"-"]}if(m=function(e,t,i){var a;if(a=0,"u"===t||"g"===t||"z"===t)a=0;else if("s"===t)a=d;else{if("w"!==t&&t)throw w.I9X(0),new Error(w.x9X(t,"unknown type "));a=s(d,i[6])}return w.l9d(),w.I9X(1),a*=w.L9X(1e3,60),new Date(e.getTime()+a)},g=function(e,t){var i,a,r,n,s,o,u,d,p;if(w.l9d(),i=e[0],r=(a=e[1])[5],c[i]||(c[i]={}),c[i][a])n=c[i][a];else{if(isNaN(a[4])){if(">","=","last"===a[4].substr(0,4))n=new Date(Date.UTC(i,l[a[3]]+1,1,r[0]-24,r[1],r[2],0)),o=h[a[4].substr(w.x9X(454947168,"4",w.I9X(53)),3)],u="<=";else{n=new Date(Date.UTC(i,l[a[3]],a[4].substr(5),r[0],r[1],r[2],0)),-689123292,1374374708,d=2;for(var g=1;-689123292!==w.g19(g.toString(),g.toString().length,26404);g++)o=h[a[5].substr(4,4)],w.O9X(35),u=a[0].substr(1,w.x9X(1488397440,"4")),d+=2;1374374708!==w.Y19(d.toString(),d.toString().length,38695)&&(o=h[a[4].substr(0,3)],u=a[4].substr(3,2))}p=n.getUTCDay(),">="===u?n.setUTCDate(n.getUTCDate()+(o-p+(o<p?7:0))):n.setUTCDate(n.getUTCDate()+(o-p-(o>p?7:0)))}else{-286940912,1628168614,w.O9X(53),s=w.x9X(570773600,"2");for(var f=1;-286940912!==w.g19(f.toString(),f.toString().length,32481);f++)n=new Date(Date.UTC(i,l[a[7]],a[7],r[6],r[4],r[7],8)),s+=2;1628168614!==w.Y19(s.toString(),s.toString().length,50871)&&(n=new Date(Date.UTC(i,l[a[7]],a[7],r[6],r[4],r[7],8))),n=new Date(Date.UTC(i,l[a[3]],a[4],r[0],r[1],r[2],0))}c[i][a]=n}return t&&(n=m(n,r[3],t)),n},f=function(e,t){var i;i=[];for(var a=0;t&&a<t.length;a++)t[a][0]<=e&&(t[a][1]>=e||t[a][0]===e&&"only"===t[a][1]||"max"===t[a][1])&&i.push([e,t[a]]);return i},y=function(e,t,i){var a,n,s;if(e instanceof Date?i&&(e=m(e,r?"u":"w",i)):(a=e[0],n=e[1],e=!i&&c[a]&&c[a][n]?c[a][n]:g(e,i)),t instanceof Date)i&&(t=m(t,r?"u":"w",i));else{a=t[0],-863352383,927220992,s=2;for(var o=1;-863352383!==w.g19(o.toString(),o.toString().length,45356);o++)n=t[2],t=+i||c[a]||c[a][n]?c[a][n]:g(t,i),s+=2;927220992!==w.Y19(s.toString(),s.toString().length,86602)&&(n=t[1],t=!i&&c[a]&&c[a][n]?c[a][n]:g(t,i))}return e=Number(e),t=Number(t),w.I9X(6),w.x9X(t,e)},v=o.getUTCFullYear(),(b=a.ruleCache[n])||(b=a.ruleCache[n]={}),x=b[v],w.A9d(),x||(w.I9X(6),(x=(x=f(w.x9X(1,v),e.rules[u])).concat(f(v,e.rules[u]))).sort(y),b[v]=x),!x||!x.length)return null;for(var T=x.length-1;T>=0;T--)if(T>0?(w.O9X(114),C=x[w.x9X(T,"1")][1]):C=null,(S=x[T])[2]||(S[2]=g(S,C)),y(o,S,C)>=0)return S[1];return null}(t,o,n,i))&&(u=s(u,d[6])),p=o,m=d,K.l9d(),{tzOffset:u,tzAbbr:(g=p[2]).indexOf("%s")>-1?(f=m?"-"===m[7]?"":m[7]:"S",g.replace("%s",f)):g.indexOf("/")>-1?g.split("/",2)[m&&m[6]?1:0]:g}},this.lazyLoadZoneFiles=function(e){var t;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(t=o(e)))throw new Error("Not a valid timezone ID.");this.loadZoneFiles(t)}}}}.call("undefined"!=typeof window?window:void 0),a.timezone.loadingScheme=a.timezone.loadingSchemes.MANUAL_LOAD,a.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","+00/+01",15406956e5],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,"Namibia","%s",null]],"Africa/Johannesburg":[[-120,"SA","SAST",null]],"Africa/Tunis":[[-60,"Tunisia","CE%sT",null]],"Antarctica/Troll":[[0,"Troll","%s",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,"Azer","+04/+05",null]],"Asia/Dhaka":[[-360,"Dhaka","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"PRC","C%sT",null]],"Asia/Hong_Kong":[[-480,"HK","HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia","EE%sT",null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"Japan","J%sT",null]],"Asia/Amman":[[-120,"Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"ROK","K%sT",null]],"Asia/Pyongyang":[[-510,"-","KST",15254766e5],[-540,"-","KST",null]],"Asia/Beirut":[[-120,"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-345,"-","+0545",null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Hebron":[[-120,"Palestine","EE%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Damascus":[[-120,"Syria","EE%sT",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"Aus","AC%sT",null]],"Australia/Perth":[[-480,"AW","AW%sT",null]],"Australia/Eucla":[[-525,"AW","+0845/+0945",null]],"Australia/Brisbane":[[-600,"AQ","AE%sT",null]],"Australia/Adelaide":[[-570,"AS","AC%sT",null]],"Australia/Hobart":[[-600,"AT","AE%sT",null]],"Australia/Melbourne":[[-600,"AV","AE%sT",null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Australia/Lord_Howe":[[-630,"LH","+1030/+11",null]],"Pacific/Fiji":[[-720,"Fiji","+12/+13",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-840,"-","+14",null]],"Pacific/Noumea":[[-660,"NC","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,"Chatham","+1245/+1345",null]],"Pacific/Pago_Pago":[[660,"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,"Tonga","+13/+14",null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:"Etc/UTC","Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[0,"EU","WE%sT",null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,"C-Eur","ME%sT",null]],EET:[[-120,"EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"America/Thule":[[240,"Thule","A%sT",null]],"Europe/Helsinki":[[-120,"EU","EE%sT",null]],"Europe/Paris":[[-60,"EU","CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-120,"-","EET",null]],"Europe/Moscow":[[-180,"-","MSK",null]],"Europe/Volgograd":[[-180,"-","+03",1540692e6],[-240,"-","+04",16090344e5],[-180,"-","+03",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-360,"-","+06",null]],"Asia/Novosibirsk":[[-420,"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,"-","+07",null]],"Asia/Irkutsk":[[-480,"-","+08",null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-600,"-","+10",null]],"Asia/Magadan":[[-660,"-","+11",null]],"Asia/Srednekolymsk":[[-660,"-","+11",null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-180,"-","+03",null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[540,"US","AK%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,"-","MST",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,"Canada","A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,"Mexico","M%sT",null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Havana":[[300,"Cuba","C%sT",null]],"America/Port-au-Prince":[[300,"Haiti","E%sT",null]],"America/Panama":[[300,"-","EST",null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,"Chile","-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",14808096e5],[180,"-","-03",null]],"America/Bogota":[[300,"CO","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,"-","-02",null]],"America/Montevideo":[[180,"Uruguay","-03/-02",null]],"America/Caracas":[[240,"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Europe/Simferopol":"Europe/Moscow","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Egypt:[],Morocco:[[2013,2018,"-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2018,"-","Mar","lastSun",[2,0,0,null],60,"-"],[2017,"only","-","May","21",[3,0,0,null],0,"-"],[2017,"only","-","Jul","2",[2,0,0,null],60,"-"],[2018,"only","-","May","13",[3,0,0,null],0,"-"],[2018,"only","-","Jun","17",[2,0,0,null],60,"-"],[2019,"only","-","May","5",[3,0,0,null],-60,"-"],[2019,"only","-","Jun","9",[2,0,0,null],0,"-"],[2020,"only","-","Apr","19",[3,0,0,null],-60,"-"],[2020,"only","-","May","31",[2,0,0,null],0,"-"],[2021,"only","-","Apr","11",[3,0,0,null],-60,"-"],[2021,"only","-","May","16",[2,0,0,null],0,"-"],[2022,"only","-","Mar","27",[3,0,0,null],-60,"-"],[2022,"only","-","May","8",[2,0,0,null],0,"-"],[2023,"only","-","Mar","19",[3,0,0,null],-60,"-"],[2023,"only","-","Apr","30",[2,0,0,null],0,"-"],[2024,"only","-","Mar","10",[3,0,0,null],-60,"-"],[2024,"only","-","Apr","14",[2,0,0,null],0,"-"],[2025,"only","-","Feb","23",[3,0,0,null],-60,"-"],[2025,"only","-","Apr","6",[2,0,0,null],0,"-"]],Namibia:[[1994,2017,"-","Sep","Sun>=1",[2,0,0,null],0,"CAT"],[1995,2017,"-","Apr","Sun>=1",[2,0,0,null],-60,"WAT"]],SA:[],Tunisia:[],Troll:[[2005,"max","-","Mar","lastSun",[1,0,0,"u"],120,"+02"],[2004,"max","-","Oct","lastSun",[1,0,0,"u"],0,"+00"]],EUAsia:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],Azer:[],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2017,2019,"-","Mar","21",[24,0,0,null],60,"-"],[2017,2019,"-","Sep","21",[24,0,0,null],0,"-"],[2020,"only","-","Mar","20",[24,0,0,null],60,"-"],[2020,"only","-","Sep","20",[24,0,0,null],0,"-"],[2021,2023,"-","Mar","21",[24,0,0,null],60,"-"],[2021,2023,"-","Sep","21",[24,0,0,null],0,"-"],[2024,"only","-","Mar","20",[24,0,0,null],60,"-"],[2024,"only","-","Sep","20",[24,0,0,null],0,"-"],[2025,2027,"-","Mar","21",[24,0,0,null],60,"-"],[2025,2027,"-","Sep","21",[24,0,0,null],0,"-"]],Zion:[[2013,"max","-","Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Japan:[],Jordan:[[2014,"max","-","Mar","lastThu",[24,0,0,null],60,"S"],[2014,"max","-","Oct","lastFri",[0,0,0,"s"],0,"-"]],ROK:[],Lebanon:[[1993,"max","-","Mar","lastSun",[0,0,0,null],60,"S"],[1999,"max","-","Oct","lastSun",[0,0,0,null],0,"-"]],Mongol:[],Pakistan:[],Palestine:[[2016,2018,"-","Mar","Sat>=24",[1,0,0,null],60,"S"],[2016,2018,"-","Oct","Sat>=24",[1,0,0,null],0,"-"],[2019,"only","-","Mar","29",[0,0,0,null],60,"S"],[2019,"only","-","Oct","Sat>=24",[0,0,0,null],60,"-"],[2020,"max","-","Mar","Sat>=24",[0,0,0,null],60,"S"],[2020,"max","-","Oct","Sat>=24",[1,0,0,null],60,"-"]],Syria:[[2012,"max","-","Mar","lastFri",[0,0,0,null],60,"S"],[2009,"max","-","Oct","lastFri",[0,0,0,null],0,"-"]],Aus:[],AW:[],AQ:[],AS:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],AT:[[2001,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],AV:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],AN:[[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"D"]],LH:[[2008,"max","-","Apr","Sun>=1",[2,0,0,null],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,null],30,"-"]],Fiji:[[2014,2018,"-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2015,"max","-","Jan","Sun>=12",[3,0,0,null],0,"-"],[2019,"only","-","Nov","Sun>=8",[2,0,0,null],60,"-"],[2020,"only","-","Dec","20",[2,0,0,null],60,"-"],[2021,"max","-","Nov","Sun>=8",[2,0,0,null],60,"-"]],NC:[],NZ:[[2007,"max","-","Sep","lastSun",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,"s"],60,"-"],[2008,"max","-","Apr","Sun>=1",[2,45,0,"s"],0,"-"]],WS:[[2012,"max","-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max","-","Sep","lastSun",[3,0,0,null],60,"-"]],Tonga:[[2016,"only","-","Nov","Sun>=1",[2,0,0,null],60,"-"],[2017,"only","-","Jan","Sun>=15",[3,0,0,null],0,"-"]],Eire:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,"max","-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max","-","Mar","lastSun",[2,0,0,"s"],60,"S"],[1996,"max","-","Oct","lastSun",[2,0,0,"s"],0,"-"]],Thule:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],US:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[[2002,"max","-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2002,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],CR:[],Cuba:[[2012,"max","-","Nov","Sun>=1",[0,0,0,"s"],0,"S"],[2013,"max","-","Mar","Sun>=8",[0,0,0,"s"],60,"D"]],Haiti:[[2017,"max","-","Mar","Sun>=8",[2,0,0,null],60,"D"],[2017,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Arg:[],Brazil:[[2008,2017,"-","Oct","Sun>=15",[0,0,0,null],60,"-"],[2016,2019,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2018,"only","-","Nov","Sun>=1",[0,0,0,null],60,"-"]],Chile:[[2016,2018,"-","May","Sun>=9",[3,0,0,"u"],0,"-"],[2016,2018,"-","Aug","Sun>=9",[4,0,0,"u"],60,"-"],[2019,"max","-","Apr","Sun>=2",[3,0,0,"u"],0,"-"],[2019,"max","-","Sep","Sun>=2",[4,0,0,"u"],60,"-"]],CO:[],Para:[[2010,"max","-","Oct","Sun>=1",[0,0,0,null],60,"-"],[2013,"max","-","Mar","Sun>=22",[0,0,0,null],0,"-"]],Uruguay:[]}})},L=e=>{var t,i;function a(e,i,a){var r;e.layout.crosshair||(t.ChartEngine.crosshairY=0,t.ChartEngine.crosshairX=0,e.cx=e.backOutX(0),K.O9X(50),e.cy=e.backOutY(K.L9X("0",0)),e.findHighlights(null,!0),t.ChartEngine.crosshairY=a,t.ChartEngine.crosshairX=i,r=e.container.getBoundingClientRect(),e.top=r.top,e.left=r.left,e.right=e.left+e.width,e.bottom=e.top+e.height,e.cx=e.backOutX(i),e.cy=e.backOutY(a),e.currentPanel&&e.currentPanel.chart.dataSet&&(e.crosshairTick=e.tickFromPixel(e.cx,e.currentPanel.chart),e.crosshairValue=e.adjustIfNecessary(e.currentPanel,e.crosshairTick,e.valueFromPixel(e.cy,e.currentPanel))),e.headsUpHR()),K.l9d(),e.findHighlights(!0),e.draw()}(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).ChartEngine.prototype.touchSingleClick=function(e,i,r){var n,s;return n=this,s=arguments,K.l9d(),function(){(function(){var e,n,o;if("t","ouchSingle","Cli",K.A9d(),"ck",!this.cancelTouchSingleClick){if("touchSing","leClick",this.runPrepend("touchSingleClick",s))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;if(i<this.left||i>this.right||r<this.top||r>this.bottom)return;e=this.backOutY(t.ChartEngine.crosshairY),n=this.backOutX(t.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(e),o=this.currentVectorParameters.vectorType,t.Drawing&&o&&t.Drawing[o]&&(new t.Drawing[o]).dragToDraw||(this.drawingClick(this.currentPanel,n,e)||a(this,i,r),this.currentVectorParameters.vectorType||this.activeMarker&&this.activeMarker.click({cx:n,cy:e,panel:this.currentPanel})||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:n,y:e}))}this.runAppend("touchSingleClick",s)}).apply(n,s)}},t.ChartEngine.prototype.touchDoubleClick=function(e,i,r){var n,s,o;if(!this.runPrepend("touchDoubleClick",arguments)&&!this.editingAnnotation){if(t.ChartEngine.drawingLine)return this.undo();if(!this.activeDrawing){a(this,i,r),n=-692166672,s=407028113,o=2;for(var l=1;K.g19(l.toString(),l.toString().length,45303)!==n;l++)+(this.activeMarker||this.activeMarker.doubleClick({cx:i,cy:r,panel:this.currentPanel}))&&this.dispatch("",{stx:this,finger:e,x:i,y:r}),o+=2;K.g19(o.toString(),o.toString().length,99308)!==s&&~(this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:r,panel:this.currentPanel}))&&this.dispatch("",{stx:this,finger:e,x:i,y:r}),this.activeMarker&&this.activeMarker.doubleClick({cx:i,cy:r,panel:this.currentPanel})||this.dispatch("doubleTap",{stx:this,finger:e,x:i,y:r}),this.runAppend("touchDoubleClick",arguments)}}},t.ChartEngine.prototype.startProxy=function(e){this.touchPointerType=e.pointerType,"touch"==this.touchPointerType?(this.mouseMode=!1,K.A9d(),this.touches[this.touches.length]={pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY},this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],1==this.touches.length&&(this.gesturePointerId=e.pointerId),this.touchstart(e)):this.mouseMode=!0},t.ChartEngine.prototype.moveProxy=function(e){var t;if(e.pointerType&&"touch"!=e.pointerType)this.mouseMode=!0;else{1544296336,1279073121,t=2,K.l9d();for(var i=1;1544296336!==K.g19(i.toString(),i.toString().length,18979);i++)this.mouseMode=!0,t+=2;1279073121!==K.Y19(t.toString(),t.toString().length,39036)&&(this.mouseMode=!1),this.mouseMode=!1,this.touchmove(e)}},t.ChartEngine.prototype.endProxy=function(e){var t;if("touch"==this.touchPointerType){this.mouseMode=!1,t=this.touches.length;for(var i=0;i<this.touches.length;i++)if(this.touches[i].pointerId==e.pointerId){K.I9X(53),this.touches.splice(i,K.x9X(577733344,"1"));break}if(i==t)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],this.touchend(e)}else this.mouseMode=!0},t.ChartEngine.prototype.msMouseMoveProxy=function(e){var t;t=2;for(var i=1;1562656305!==K.g19(i.toString(),i.toString().length,48689);i++){if(this.touches.length&&~this.mouseMode)return;this.mousemove(e),t+=2}if(-336164622!==K.Y19(t.toString(),t.toString().length,18485)){if(this.touches.length||!this.mouseMode)return;this.mousemove(e)}},t.ChartEngine.prototype.msMouseDownProxy=function(e){this.mouseMode&&this.mousedown(e)},t.ChartEngine.prototype.msMouseUpProxy=function(e){this.mouseMode&&(K.A9d(),this.mouseup(e))},t.ChartEngine.prototype.iosMouseMoveProxy=function(e){K.A9d(),this.touching||this.mousemove(e)},t.ChartEngine.prototype.iosMouseDownProxy=function(e){this.touching?this.mouseMode=!1:(K.A9d(),this.mouseMode=!0,this.mousedown(e))},t.ChartEngine.prototype.iosMouseUpProxy=function(e){this.touching||this.mouseup(e)},t.ChartEngine.prototype.touchmove=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,_,E,I,N,O,X,z,H,R,W,Q,V=K;if(i="touchmov",i+="e",a="to",a+="uchm",a+="ove",r="n",r+="o",r+="n",r+="e",this.displayInitialized&&""===this.openDialog&&!0!==t.ChartEngine.ignoreTouch){if(n=[],(!this.overYAxis||this.controls&&this.controls.crossX&&this.controls.crossX.style.display!=r)&&(e&&e.preventDefault&&e.cancelable&&this.captureTouchEvents&&e.preventDefault(),e&&e.stopPropagation()),V.A9d(),s=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=s,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=s,this.clicks.e2MS-this.clicks.s2MS<25)return;if(e.pointerType||(e.pointerType=this.touchPointerType),t.isSurface){if(this.mouseMode)return;e.pointerId||(e.pointerId=this.gesturePointerId);for(var B=0;B<this.touches.length;B++)if(this.touches[B].pointerId==e.pointerId){if(o=Math.abs(this.touches[B].pageX-e.clientX),l=Math.abs(this.touches[B].pageY-e.clientY),V.O9X(34),!Math.sqrt(V.L9X(o,o,l,l)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[B].pageX==e.clientX&&this.touches[B].pageY==e.clientY)return;this.touches[B].pageX=this.touches[B].clientX=e.clientX,this.touches[B].pageY=this.touches[B].clientY=e.clientY;break}if(0===B?this.movedPrimary=!0:this.movedSecondary=!0,B==this.touches.length)return;this.changedTouches=[{pointerId:e.pointerId,pageX:e.clientX,pageY:e.clientY,clientX:e.clientX,clientY:e.clientY}],n=this.touches.length?this.touches:this.changedTouches}else{n=e.touches,V.I9X(6),h=V.L9X(0,"558420842"),c=890433334,u=2;for(var U=1;V.Y19(U.toString(),U.toString().length,84281)!==h;U++)this.changedTouches=e.changedTouches,u+=2;V.Y19(u.toString(),u.toString().length,80952)!==c&&(this.changedTouches=e.changedTouches),this.changedTouches=e.changedTouches}if(!(1==n.length&&Math.pow(this.clicks.x-n[0].clientX,2)+Math.pow(this.clicks.y-n[0].clientY,2)<=16||(d=this.crosshairXOffset,p=this.crosshairYOffset,m=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,g=!this.layout.crosshair&&!m&&!this.touchNoPan,("pen"==e.pointerType||g||this.activeDrawing&&"freeform"==this.activeDrawing.name)&&(d=p=0),this.runPrepend(a,arguments)))){if(t.ChartEngine.resizingPanel)return f=(v=n[0]).clientX,y=v.clientY,V.O9X(0),void this.mousemoveinner(V.x9X(d,f),V.L9X(p,y));if(-1!=this.moveB&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=n[0].pageX,1!=n.length||this.twoFingerStart){if(2==n.length&&this.allowZoom){if(!this.displayCrosshairs)return;k=(w=n[0]).clientX,L=w.clientY,D=(A=n[1]).clientX,T=A.clientY,V.I9X(152),x=Math.sqrt(V.x9X(k,k,L,L,T,D,D,T)),V.O9X(153);var j=V.L9X(14,15,0,14,16);if(this.pinchingCenter=(Math.min(k,D)-Math.max(k,D))/j,M=Math.round(this.gestureStartDistance-x),g&&(this.pinchingScreen=5),this.clearPixelCache(),this.pinchingScreen<2){if(t.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(k<this.pt.x1&&D<this.pt.x2||k>this.pt.x1&&D>this.pt.x2||L<this.pt.y1&&T<this.pt.y2||L>this.pt.y1&&T>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:k,x2:D,y1:L,y2:T},0===this.pinchingScreen)this.grabMode="pan",V.O9X(0),this.mousemoveinner(V.x9X(d,k),V.x9X(p,L)),this.gestureStartDistance=x;else{if(F=Math.asin((Math.max(T,L)-Math.min(T,L))/x),Math.abs(M)<12&&!g){if(this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else this.moveCount=0;if(F<1||!this.goneVertical&&F<1.37){if(!this.currentPanel)return;P=this.currentPanel.chart,this.goneVertical=!1,x=this.pt.x2-this.pt.x1,_=this.grabStartValues.t2-this.grabStartValues.t1,V.I9X(6);var Y=V.L9X(2,4);if(E=this.grabStartValues.t1+_/Y,V.I9X(7),I=V.L9X(x,_),!1===P.allowScrollFuture&&!1===P.allowScrollPast&&(I=Math.max(I,P.width/P.dataSet.length)),N=this.layout.candleWidth,this.setCandleWidth(I,P),P.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(N,P);this.micropixels=0,O=this.pixelFromTick(Math.round(E),P),V.O9X(154);var q=V.L9X(0,13,4,1,9);X=this.pt.x1-this.left+Math.round(x/q),V.I9X(6),z=V.x9X(X,O),V.I9X(7),H=V.L9X(z,I),R=Math.round(H),P.scroll-=R,V.O9X(6),this.microscroll=V.L9X(H,R),this.micropixels=I*this.microscroll,this.draw()}else if(W=this.grabStartYAxis,this.goneVertical=!0,W){if(W.zoom=this.grabStartZoom+(this.gestureStartDistance-x),this.grabStartZoom<W.height){if(W.zoom>=W.height){V.I9X(22);var Z=V.L9X(2,6,3);W.zoom=W.height-Z}}else if(W.zoom<=W.height){V.O9X(155);var G=V.x9X(5,11,14,55,14);W.zoom=W.height+G}this.draw()}this.updateChartAccessories()}}else if(3==n.length&&t.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;V.I9X(74),Q=n[V.x9X(2147483647,"0")].clientX,x=this.grabStartX-Q,this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(x/10),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else f=(b=n[0]).clientX,y=b.clientY,this.pinchingScreen=0,V.I9X(0),this.mousemoveinner(V.L9X(d,f),V.x9X(p,y)),C=this.whichPanel(y),S=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=y<=this.top+S&&y>=S-this.xaxisHeight+this.top&&this.insideChart,this.overYAxis=!!C&&((f>=C.right||f<=C.left)&&this.insideChart);this.runAppend(i,arguments)}}},t.ChartEngine.prototype.touchstart=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D=K;if(!t.ChartEngine.ignoreTouch&&(t.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=e.touches,this.changedTouches=e.changedTouches),!t.ChartEngine.resizingPanel&&(i=this.crosshairXOffset,a=this.crosshairYOffset,"pen"==this.touchPointerType&&(i=a=0),!this.runPrepend("touchstart",arguments)))){if(this.manageTouchAndMouse&&e&&e.preventDefault&&e.cancelable&&this.captureTouchEvents&&e.preventDefault(),D.A9d(),this.hasDragged=!1,this.doubleFingerMoves=0,this.moveCount=0,this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(this.touchMoveTime=Date.now(),s=(h=this.touches[0]).clientX,o=h.clientY,this.moveA=s,this.moveB=-1,""===this.openDialog&&(this.registerPointerEvent({x:s,y:o,time:this.touchMoveTime},"down"),1!=this.changedTouches.length||this.isDoubleClick(!0)||t.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY})),c=this.container.getBoundingClientRect(),this.top=c.top,this.left=c.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length&&(u=this.backOutY(o),this.currentPanel=this.whichPanel(u)),this.currentPanel||(this.currentPanel=this.chart.panel),l=this.currentPanel,s>=this.left&&s<=this.right&&o>=this.top&&o<=this.bottom){this.insideChart=!0,d=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=o<=this.top+d&&o>=this.top+d-this.xaxisHeight,this.overYAxis=s>=this.left+l.right||s<=this.left+l.left,p=-1,this.cy=this.backOutY(o),this.cx=this.backOutX(s),this.crosshairTick=this.tickFromPixel(this.cx,l.chart),this.crosshairValue=this.adjustIfNecessary(l,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var T=0;T<this.drawingObjects.length;T++)if((m=this.drawingObjects[T]).highlighted){if(p<0&&(p=T),g=m.highlighted,this.findHighlights(!0),T==p&&m.highlighted&&!m.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(m):this.findHighlights(!1,!0));this.anyHighlighted=!0,m.highlighted=g}}else this.insideChart=!1;if(f=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,this.layout.crosshair||this.layout.headsUp&&this.layout.headsUp.floating||f||!this.insideChart||this.touchNoPan){if(this.grabbingScreen=!1,this.insideChart&&l.subholder===e.target&&(S=this.currentVectorParameters.vectorType,t.Drawing&&S&&t.Drawing[S]&&(new t.Drawing[S]).dragToDraw))return this.userPointerDown=!0,t.ChartEngine.crosshairX=s,t.ChartEngine.crosshairY=o,l&&l.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(t.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(l,this.crosshairTick,this.valueFromPixel(this.backOutY(t.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(l,this.backOutX(s),this.backOutY(o)),void this.headsUpHR()}else{i=a=0;var{baselineHelper:M}=this;if(M.size&&this.findBaselineHandle(e,!0))return;if(this.controls.anchorHandles){y=Object.values(this.controls.anchorHandles),v=!1;for(var F=0;F<y.length;F++){x=y[F];var{handle:P,sd:_}=x;b=this.resolveX(this.cx),C=this.resolveY(this.cy);var{left:E,top:I,right:N,bottom:O}=P.getBoundingClientRect();E-=10,N+=10,t.boxIntersects(E,I,N,O,b,C,b,C)&&(x.highlighted=!0,this.repositioningAnchorSelector={sd:_},P.classList.add("stx-grab"),v=!0),!0===x.highlighted&&(x.highlighted=!1)}if(v)return}for(r in this.panels)if((n=this.panels[r]).highlighted)return void this.grabHandle(n);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),l.chart.spanLock=!1,this.yToleranceBroken=!1,D.O9X(0),this.grabStartX=D.x9X(i,s),D.I9X(0),this.grabStartY=D.x9X(a,o),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart&&this.swipeStart(l.chart),this.grabStartYAxis=this.whichYAxis(l,this.backOutX(s)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((X=this,D.A9d(),function(){X.grabbingHand()}),100)}1===this.touches.length&&this.layout.crosshair&&!f&&l.subholder===e.target&&(D.I9X(0),this.mousemoveinner(D.L9X(i,s),D.L9X(a,o)))}var X,z;if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart)return;for(r in k=(w=this.touches[1]).clientX,L=w.clientY,this.panels)if((n=this.panels[r]).highlighted)return void this.grabHandle(n);l=this.currentPanel,D.O9X(152),this.gestureStartDistance=Math.sqrt(D.x9X(s,s,o,o,L,k,k,L)),this.pt={x1:s,x2:k,y1:o,y2:L},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),l.chart.spanLock=!1,D.O9X(0),this.grabStartX=D.x9X(i,s),D.I9X(0),this.grabStartY=D.x9X(a,o),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=l,this.swipeStart&&this.swipeStart(l.chart),this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(l,this.backOutX((s+k)/2))||l.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,l),y2:this.valueFromPixel(this.pt.y2-this.top,l),t1:this.tickFromPixel(this.pt.x1-this.left,l.chart),t2:this.tickFromPixel(this.pt.x2-this.left,l.chart)},this.twoFingerStart=!0,setTimeout((z=this,function(){z.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;A=this.touches[0].clientX,this.grabStartX=A,this.grabStartPeriodicity=this.layout.periodicity}1!=this.touches.length||this.layout.crosshair||(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer()),this.runAppend("touchstart",arguments)}},t.ChartEngine.prototype.touchend=function(e){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y=K;if(!t.ChartEngine.ignoreTouch){if(this.swipe.end=!0,y.l9d(),t.isSurface);else{i=1660294242,y.I9X(49),a=y.x9X(0,"1200849865"),r=2;for(var v=1;y.Y19(v.toString(),v.toString().length,90028)!==i;v++)this.touches=e.touches,r+=2;y.g19(r.toString(),r.toString().length,58106)!==a&&(this.touches=e.touches),this.changedTouches=e.changedTouches}if(!this.runPrepend("touchend",arguments)){if(this.cancelLongHold=!0,this.touches.length<=1&&(this.layout.crosshair||this.currentVectorParameters.vectorType)&&(this.touches.length&&this.twoFingerStart||(this.grabbingScreen=!1)),this.touches.length&&(this.grabStartX=-1,this.grabStartY=-1),n=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),this.touches.length){if(t.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((x=this,function(){x.touching=!1}),500),t.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.highlightedDraggable&&(this.dragPlotOrAxis&&this.dragPlotOrAxis(this.cx,this.cy),this.currentPanel=this.whichPanel(this.cy)),this.grabStartYAxis=null,this.displayDragOK(),this.doDisplayCrosshairs(),this.updateChartAccessories()}var x;if(s=this.touches.length+1,1==this.changedTouches.length){if(this.repositioningDrawing)return o="v",o+="ector",this.changeOccurred(o),t.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(this.layout.crosshair||this.currentVectorParameters.vectorType||this.findHighlights(!1,!0));if(this.repositioningBaseline)return l="s",l+="t",l+="x-grab",this.repositioningBaseline=null,this.controls.baselineHandle.classList.remove(l),(h=this.mainSeriesRenderer||{}).params&&h.params.baseline&&h.params.type,void this.draw();if(this.repositioningAnchorSelector)return t.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd),this.repositioningAnchorSelector=null,void Object.values(this.controls.anchorHandles).forEach(e=>{let{handle:t}=e;return y.A9d(),t.classList.remove("stx-grab")});if(c=Date.now(),""===this.openDialog&&e.changedTouches.length&&(u=e.changedTouches[0],this.registerPointerEvent({x:u.clientX,y:u.clientY,time:c},"up")),-1==this.clicks.s2MS){if(this.clicks.e1MS=c,d=this.currentVectorParameters.vectorType,t.Drawing&&d&&t.Drawing[d]&&(new t.Drawing[d]).dragToDraw||(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||this.layout.crosshair)?setTimeout(this.touchSingleClick(s,this.clicks.x,this.clicks.y),this.doubleClickTime+1):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}),this.userPointerDown=!1,p=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset,m=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset,f=(g=this.currentPanel)&&g.subholder===e.target,t.Drawing&&this.activeDrawing&&this.activeDrawing.dragToDraw&&f)return void this.drawingClick(g,m,p);this.isDoubleClick(!0)&&(f||this.overYAxis||this.overXAxis)&&this.touchDoubleClick(s,this.clicks.x,this.clicks.y)}else this.clicks.e2MS=c,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else this.displayCrosshairs&&(-1==this.grabEndPeriodicity||isNaN(this.grabEndPeriodicity)||((t.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),y.O9X(6),this.grabEndPeriodicity=-y.x9X(0,"1")));this.changedTouches.length&&((!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&1==s||this.twoFingerStart&&!n&&!this.touches.length)&&(this.swipeRelease&&this.swipeRelease(),this.findHighlights(!1,!0)),n&&this.continuousZoom&&(this.continuousZoom.execute(),this.continuousZoom.execute(!0))),this.touches.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}}},i=!1,t.ChartEngine.prototype.mousemoveinner=t.ChartEngine.prototype.mousemoveinner||function(e,t){i||console.error("touch feature requires activating movement feature."),K.l9d(),i=!0}},A=e=>{var t;(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Visualization=t.Visualization||function(e){if("functio","n",e){if("function"!=typeof e.renderFunction)return"CIQ.Visualization() missing render","Function property in attributes.",void console.log("CIQ.Visualization() missing renderFunction property in attributes.");this.container=null,this.attributes=e,K.A9d(),this.data=null,this.object=null}else console.log("CIQ.Visualization() missing attributes argument.")},t.extend(t.Visualization.prototype,{destroy:function(e){var i;i=this.container,t.resizeObserver(i,null,i.resizeHandle),i.autoGenerated?(i.remove(),delete this.container):i.innerHTML="",e||(this.attributes=null,this.container=null,this.data=null,this.object=null,K.l9d(),this.destroy=this.draw=this.setAttributes=function(){},this.updateData=function(){})},draw:function(e){var i,a,r,n,s;if("ob","je","c","t",!this.data||"object"!=typeof this.data)return"CIQ.Visuali","zation.dr","aw","() missing data.",void console.log("CIQ.Visualization.draw() missing data.");"string"==typeof(a=(i=this.attributes).container||this.container)&&(a=document.querySelector(a)),a||("d","i","v",(a=document.createElement("div")).style.height=a.style.width="300px",document.body.appendChild(a),a.autoGenerated=!0),i.stx&&(r=i.stx.chart.canvasShim,i.useCanvasShim&&r&&r!==a&&r!==a.parentNode&&(a.autoGenerated||((a=a.cloneNode()).id="",a.autoGenerated=!0),r.appendChild(a))),this.container&&this.container!==a&&this.destroy(!0),K.A9d(),a.resizeHandle||(n=function(e){return function(){e.data&&e.container&&document.body.contains(e.container)&&e.draw.call(e,!0)}},a.resizeHandle=t.resizeObserver(a,n(this),null,100)),this.container=a,this.attributes=i,(s=(i=t.ensureDefaults({container:this.container},this.attributes)).renderFunction(Object.values(this.data).sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),i))&&(i.id&&(s.id=i.id),(e||i.forceReplace)&&(this.container.innerHTML="",this.container.appendChild(s))),this.attributes=i,this.object=s},setAttributes:function(e,t){var i,a,r;if("stri",K.A9d(),"ng","forceRepla","ce","us","eCanvas","Sh","im","s","t","x","rend","erFunctio","n",i=["renderFunction","container","stx","useCanvasShim","id","forceReplace"],a=!1,r=e,"string"==typeof e&&((r={})[e]=t),"object"==typeof r)for(var n in r)this.attributes[n]!==r[n]&&-1!==i.indexOf(n)&&(a=!0),this.attributes[n]=r[n];this.draw(a)},updateData:function(e,i){var a,r,n;for(a in"up","d","a","te","repl","a","ce",n=Array.isArray(e)?e.reduce((function(e,t){return e[t.name]=t,K.l9d(),e}),{}):t.shallowClone(e))r=n[a],"[object Object]"!==Object.prototype.toString.call(r)&&(n[a]={value:r}),n[a].name||(n[a].name=a),n[a].value||(K.I9X(1),n[a].value=K.x9X(1,"0"));switch(i||(i="replace"),i.toLowerCase()){case"delete":for(a in n)delete this.data[a];break;case"replace":this.data={};case"update":case"add":for(a in n)for(var s in"[object ","N","u","mber]",this.data[a]||(this.data[a]={name:a}),r=n[a].value,"[object Number]"==Object.prototype.toString.call(r)?(this.data[a].value&&"update"!=i||(this.data[a].value=0),this.data[a].value+=r):this.data[a].value=r,n[a])"value"!==s&&(this.data[a][s]=n[a][s]);break;default:"Invalid or missing action.  Valid values are"," 'add', 'delete', 'replace', or 'update'.",console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.")}return this.draw(this.attributes.forceReplace),this}}),t.ChartEngine.prototype.embedVisualization=function(e){return e||(e={}),e.stx=this,e.useCanvasShim=!0,e.translator=function(t){return e.stx.translateIf(t)},new t.Visualization(e)}},D=e=>{var t,i;t=2;for(var a=1;-558738158!==K.Y19(a.toString(),a.toString().length,84581);a++)i=""===-_CIQ?_CIQ:e.CIQ,t+=2;941733242!==K.Y19(t.toString(),t.toString().length,82064)&&(i="undefined"!=typeof _CIQ?_CIQ:e.CIQ),i.Studies?(i.Studies.calculateTypicalPrice=function(e,t){var i,a,r,n,s,o=K;if(i=t.chart.scrubbed,a=t.days,i.length<a+1)t.overlay||(t.error=!0);else{for(var l in r=t.name,t.outputs)o.O9X(21),r=o.x9X(l," ",r);n="hlc/3","Med Price"==t.type?n="hl/2":"Weighted Close"==t.type&&(n="hlcc/4"),s=0,t.startFrom<=a&&(t.startFrom=0);for(var h=t.startFrom;h<i.length;h++){if(h&&i[h-1][r])o.O9X(126),s=i[h-o.L9X(17,1,19,4)][r]*a;s+=i[h][n],h>=a&&(o.I9X(6),s-=i[o.x9X(a,h)][n],o.O9X(7),i[h][r]=o.L9X(s,a))}}},i.Studies.studyLibrary=i.extend(i.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:i.Studies.calculateTypicalPrice,inputs:{Period:14}}})):("medianPrice featu","re re","quires fi","rst activating studies feature.",console.error("medianPrice feature requires first activating studies feature."))},T=e=>{var t;t="undefined"!=typeof _CIQ?_CIQ:e.CIQ,K.l9d(),t.Studies?("f","ie","ld",t.Studies.calculateRateOfChange=function(e,t){var i,a,r,n,s,o,l,h,c=K;if("Cen","ter Li","n","e","Clo","se",i=t.chart.scrubbed,c.l9d(),i.length<t.days+1){1914947650,-1925499852,a=2;for(var u=1;1914947650!==c.g19(u.toString(),u.toString().length,61548);u++)t.error=!1,a+=2;-1925499852!==c.g19(a.toString(),a.toString().length,94717)&&(t.error=!0)}else{for(var d in(r=t.inputs.Field)&&"field"!=r||(r="Close"),t.parameters.isVolume&&(r="Volume"),n=t.name,t.outputs)c.O9X(21),n=c.x9X(d," ",n);s=(s=t.inputs["Center Line"])?parseInt(s,10):0;for(var p=Math.max(t.startFrom,t.days);p<i.length;p++)"ob","j","ect",(o=i[p][r])&&"object"==typeof o&&(o=o[t.subField]),(l=i[p-t.days][r])&&"object"==typeof l&&(l=l[t.subField]),"Momentum"==t.type?(c.I9X(5),i[p][n]=c.L9X(l,s,o)):(h=l)&&(c.O9X(156),i[p][n]=c.L9X(1,"100",h,s,o,295369664))}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:t.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:t.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}})):console.error("momentum feature requires first activating studies feature.")},M=e=>{var t;K.A9d(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("Pri","ce Rel","a","tive",t.Studies.initPriceRelative=function(e,i,a,r,n,s){var o,l;return l=[(o=t.Studies.initializeFN(e,i,a,r,n,s)).inputs["Comparison Symbol"].toUpperCase()],t.Studies.fetchAdditionalInstruments(e,o,l),o},t.Studies.calculatePriceRelative=function(e,i){var a,r,n,s,o,l;if(a=i.chart.scrubbed,(r=i.inputs["Comparison Symbol"].toUpperCase())||(r=i.study.inputs["Comparison Symbol"]),(n={})[s=(s=e.chart.symbol||"").replace(/[=+\-*\\%]/g,"")]=a.slice(i.startFrom),n[s].length){s!=r&&(n[r]=null),K.I9X(65),K.A9d(),o=t.computeEquationChart(K.x9X("[",r,"]",s,"]/["),n),l=0;for(var h=i.startFrom;h<a.length&&l<o.length;h++){for(;l<o.length&&a[h].DT.getTime()>o[l].DT.getTime();)l++;a[h].DT.getTime()<o[l].DT.getTime()||(a[h]["Result "+i.name]=o[l].Close,l++)}}},t.Studies.displayVsComparisonSymbol=function(e,i,a){var r,n,s,o;if(r=i.inputs["Comparison Symbol"].toUpperCase(),!e.getSeries({symbol:r,chart:i.chart}).length)return":"," ",void e.displayErrorAsWatermark(i.panel,e.translateIf(i.study.name)+": "+e.translateIf("Not Available"));s=(n={skipTransform:e.panels[i.panel].name!=i.chart.name,panelName:i.panel,band:"Result "+i.name,threshold:i.study.centerline,yAxis:i.getYAxis(e),gapDisplayStyle:!0}).yAxis?n.yAxis.flipped:e.panels[i.panel].yAxis.flipped,o=.3,!i.highlight&&e.highlightedDraggable&&(o*=.3);for(var l=a.length-1;l>=0;l--)if(a[l]&&a[l][r])return t.Studies.displaySeriesAsLine(e,i,a),void((i.study.centerline||0===i.study.centerline)&&(i.outputs.Gain&&t.preparePeakValleyFill(e,t.extend(n,{direction:s?-1:1,color:t.Studies.determineColor(i.outputs.Gain),opacity:o})),i.outputs.Loss&&t.preparePeakValleyFill(e,t.extend(n,{direction:s?1:-1,color:t.Studies.determineColor(i.outputs.Loss),opacity:o}))))},t.Studies.fetchAdditionalInstruments=function(e,i,a,r){var n,s,o,l,h,c;if(e.quoteDriver)for(n=e.panels[i.panel].chart,i.symbols=a,s=0;s<a.length;s++)o=l=a[s],"object"==typeof l?o=l.symbol:l={symbol:o},h={symbol:o,symbolObject:l,bucket:"study",studyName:i.name,chartName:n.name,action:"add-study"},t.extend(h,r),c=h.loadData,e.currentlyImporting&&(h.loadData=!1),i.series||(i.series={}),i.series[o]=e.addSeries(null,h,u),i.series[o].parameters.loadData=c;else console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");function u(){e.createDataSet(),e.draw()}},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:t.Studies.initPriceRelative,seriesFN:t.Studies.displayVsComparisonSymbol,calculateFN:t.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0}})):console.error("priceRelative feature requires first activating studies feature.")},F=e=>{var t;K.l9d(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?("#","FF","0000","V","WAP","#","FF0","000",t.Studies.calculateVWAP=function(e,i){var a,r,n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b=K;if(b.A9d(),a="AVWAP"==i.type,r=i.chart.scrubbed,!a&&t.ChartEngine.isDailyInterval(e.layout.interval))return"VWAP is I","ntraday Only",void(i.error="VWAP is Intraday Only");if(n="h",n+="l",n+="c",n+="/3",a){-938396619,b.I9X(1),s=b.L9X(1,"1947925338"),o=2;for(var C=1;-938396619!==b.g19(C.toString(),C.toString().length,41955);C++)n=i.inputs.Field,o+=2;b.g19(o.toString(),o.toString().length,39249)!==s&&(n=i.inputs.Field),(n=i.inputs.Field)&&"field"!=n||("l","ayo","u","t",n=i.inputs.Field="hlc/3",e.changeOccurred("layout"))}if(l=null,h=0,c=0,u=0,d=!1,i.startFrom>1&&("_V","xP","2 ",h=r[i.startFrom-1]["_V "+i.name]||0,c=r[i.startFrom-1]["_VxP "+i.name]||0,u=r[i.startFrom-1]["_VxP2 "+i.name]||0),a){if("Anch","or ","Dat","e",(p=i.inputs["Anchor Date"].replace(/-/g,"")).search(/^\d{8}$/))return void(i.error="Invalid Anchor Date");(m=i.inputs["Anchor Time"].replace(/:/g,"")).search(/^\d{4,6}$/)||(p+=m),p=t.strToDateTime(p.replace(/\D/g,"")),!i.startFrom&&p>=r[0].DT&&(i.startFrom=e.tickFromDate(p,e.chart,null,!0)),i.inputs["Anchor Selector"]?t.Studies.initAnchorHandle(e,i):t.Studies.removeAnchorHandle(e,i)}for(var S=i.startFrom;S<r.length;S++)if("V","W","AP"," ",a||(null===l&&(l=t.Studies.getMarketOffset({stx:e,localQuoteDate:r[S].DT,shiftToDateBoundary:!0})),r[S-1]&&r[S-1].DT&&(g=new Date(new Date(+r[S].DT).setMilliseconds(r[S].DT.getMilliseconds()+l)),new Date(new Date(+r[S-1].DT).setMilliseconds(r[S-1].DT.getMilliseconds()+l)).getDate()!=g.getDate()&&e.chart.market.isMarketDate(g)&&(l=null,h=c=u=0))),f=r[S][n],y=r[S].Volume,a&&!y&&(y=1),h+=y,b.I9X(1),c+=b.L9X(f,y),b.I9X(83),u+=b.L9X(f,f,y),a||h){r[S]["_V "+i.name]=h,r[S]["_VxP "+i.name]=c,r[S]["_VxP2 "+i.name]=u,v=r[S]["_SDVWAP "+i.name]=Math.sqrt(Math.max(0,u/h-Math.pow(c/h,2))),b.O9X(7),x=r[S]["VWAP "+i.name]=b.L9X(c,h);for(var w=1;w<=3;w++)"SD","V","WA","P",b.I9X(38),r[S]["SDVWAP"+w+"+ "+i.name]=b.x9X(w,v,x),b.O9X(157),r[S]["SDVWAP"+w+"- "+i.name]=b.x9X(w,v,x);d=!0}for(var k=1;k<=3;k++)"",")","Di","splay ",i.inputs["Display "+k+" Standard Deviation ("+k+")"]&&(" Standard ","Dev","iation (","",")",b.O9X(43),i.outputMap["SDVWAP"+k+"+ "+i.name]=b.x9X(")"," Standard Deviation (",k,k),b.I9X(43),i.outputMap["SDVWAP"+k+"- "+i.name]=b.x9X(")"," Standard Deviation (",k,k));a||d||("VWAP"," Requi","res Vo","lume",i.error="VWAP Requires Volume")},t.Studies.initAnchoredVWAP=function(e,i,a,r,n,s){if("A","n","chor Date",!a["Anchor Date"]&&!a["Anchor Time"])for(var{dataSegment:o}=e.chart,l=0;o&&l<o.length;l++)if(o[l]){"H","H:","mm:","ss","Anchor"," Ti","me";var{DT:h}=o[l];a["Anchor Date"]=t.dateToStr(h,"YYYY-MM-dd"),a["Anchor Time"]=t.dateToStr(h,"HH:mm:ss");break}return t.Studies.initializeFN(e,i,a,r,n,s)},t.Studies.displayVWAP=function(e,i,a){var r,n,s,o,l,h,c;K.A9d(),t.Studies.displaySeriesAsLine(e,i,a),r=i.inputs["Display 1 Standard Deviation (1)"],n=i.inputs["Display 2 Standard Deviation (2)"],s=i.inputs["Display 3 Standard Deviation (3)"],(r||n||s)&&i.inputs.Shading&&("VWAP"," ",o=e.panels[i.panel],l={opacity:i.parameters.opacity?i.parameters.opacity:.2,skipTransform:o.name!=i.chart.name,yAxis:i.getYAxis(e)},!i.highlight&&e.highlightedDraggable&&(l.opacity*=.3),h="VWAP "+i.name,c="VWAP "+i.name,r&&("SDVWAP","1+ ",t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP1+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP1+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP1- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP1- "+i.name]])},l)),h="SDVWAP1+ "+i.name,c="SDVWAP1- "+i.name),n&&("SD","VW","A","P2+ ","S","DVWAP2-"," ",t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP2- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP2- "+i.name]])},l)),h="SDVWAP2+ "+i.name,c="SDVWAP2- "+i.name),s&&("SDVWAP3","- ",t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP3+ "+i.name,bottomBand:h,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP3+ "+i.name]])},l)),t.prepareChannelFill(e,t.extend({panelName:i.panel,topBand:"SDVWAP3- "+i.name,bottomBand:c,color:t.Studies.determineColor(i.outputs[i.outputMap["SDVWAP3- "+i.name]])},l)))),i.anchorHandle&&t.Studies.displayAnchorHandleAndLine(e,i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,initializeFN:t.Studies.initAnchoredVWAP,removeFN:t.Studies.removeAnchorHandle,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1,Shading:!1,"Anchor Selector":!0},outputs:{VWAP:"#FF0000","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"},parameters:{init:{opacity:.2}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:"VWAP",overlay:!0,calculateFN:t.Studies.calculateVWAP,seriesFN:t.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1)":!1,"Display 2 Standard Deviation (2)":!1,"Display 3 Standard Deviation (3)":!1,Shading:!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1)":"#e1e1e1","2 Standard Deviation (2)":"#85c99e","3 Standard Deviation (3)":"#fff69e"},parameters:{init:{opacity:.2}}}})):console.error("vwap feature requires first activating studies feature.")},P=e=>{var t;K.A9d(),(t="undefined"!=typeof _CIQ?_CIQ:e.CIQ).Studies?(t.Studies.calculateZigZag=function(e,t){var i,a,r,n,s,o,l,h,c,u,d,p,m,g,f,y=K;if((i=t.chart.scrubbed)&&i.length){a=t.highLowChart,r=null,n=null,s=t.inputs["Distance(%)"],o=0,l=0,h=0,c=null,u=null,d=0;for(var v=Math.min(i.length-1,t.startFrom);v>=0;v--)if("_","s","tate ",d=v,i[v]["_state "+t.name]){r=(p=i[v]["_state "+t.name])[0],n=p[1],o=p[2],l=p[3],h=p[4],c=p[5],u=p[6];break}for(var x=d;x<i.length;x++){if("H","i","g","h",m=i[x][a?"High":"Close"],g=i[x][a?"Low":"Close"],null===n||n<m)if(n=m,o<0&&(r=g),y.I9X(158),c=y.L9X(s,1,n,100),o>-1){if(null!==u&&n>u){"L","o","w",i[l]["Result "+t.name]=i[l][a?"Low":"Close"],C(h,l),y.I9X(53),o=-y.x9X(878828256,"1"),r=g,h=l,l=x;continue}}else l=x;if(null===r||r>g)if(r=g,o>0&&(n=m),y.I9X(159),u=y.L9X(100,r,s,1),o<1){if(null!==c&&r<c){i[l]["Result "+t.name]=i[l][a?"High":"Close"],C(h,l),o=1,n=m,h=l,l=x;continue}}else l=x}i[l]["Result "+t.name]=i[l][a?1==o?"Low":"High":"Close"],i[l]["_state "+t.name]=[r,n,o,l,h,c,u],C(h,l),y.I9X(160);var b=y.x9X(6,6,12,4,11);for(f=i.length-b;f>l;){if(i[f].Close||0===i[f].Close){i[f]["Result "+t.name]=i[f][a?1==o?"High":"Low":"Close"];break}f--}y.l9d(),C(l,f)}function C(e,a){for(var r=e+1;r<a;r++)"Re","su","lt ",i[r]["ShadowResult "+t.name]=(i[a]["Result "+t.name]-i[e]["Result "+t.name])*(r-e)/(a-e)+i[e]["Result "+t.name],delete i[r]["Result "+t.name]}},t.Studies.displayZigZag=function(e,i,a){var r,n,s,o,l,h=K;r=e.chart.highLowBars,i.highLowChart!=r&&(i.highLowChart=r,i.startFrom=0,i.study.calculateFN(e,i)),n=e.chart;for(var c=0;c<a.length;c++)(s=a[c])&&(s["_shadowCopy "+i.name]&&("R","esu","lt"," ",delete s["Result "+i.name],delete s["_shadowCopy "+i.name]),s["Result "+i.name]||("Resul","t"," ",s.transform&&delete s.transform["Result "+i.name]));o=a[0],h.I9X(6);var u=h.L9X(15,16);l=a[a.length-u],o&&o["ShadowResult "+i.name]&&("_","sh","adowCopy ",o["Result "+i.name]=o["ShadowResult "+i.name],o.transform&&(o.transform["Result "+i.name]=n.transformFunc(e,n,o["ShadowResult "+i.name])),h.I9X(50),o["_shadowCopy "+i.name]=h.x9X("1",1)),l&&l["ShadowResult "+i.name]&&(l["Result "+i.name]=l["ShadowResult "+i.name],l.transform&&(l.transform["Result "+i.name]=n.transformFunc(e,n,l["ShadowResult "+i.name])),l["_shadowCopy "+i.name]=1),t.Studies.displaySeriesAsLine(e,i,a)},t.Studies.studyLibrary=t.extend(t.Studies.studyLibrary,{ZigZag:{name:"ZigZag",overlay:!0,seriesFN:t.Studies.displayZigZag,calculateFN:t.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}}})):console.error("zigzag feature requires first activating studies feature.")},_={CIQ:E.c,SplinePlotter:E.d,timezoneJS:E.e,$$:E.a,$$$:E.b},"undefined"!=typeof __TREE_SHAKE__&&__TREE_SHAKE__||(_.CIQ||E.c).activateImports(n,s,o,l,h,c,u,d,p,m,g,f,y,v,x,b,C,S,w,k,L,A,D,T,M,F,P,null)}).call(this,i(26))}}]);
//# sourceMappingURL=chartiq-4f9492.smartcharts.js.map