!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@deriv/shared"),require("@deriv/translations")):"function"==typeof define&&define.amd?define(["@deriv/shared","@deriv/translations"],r):"object"==typeof exports?exports["@deriv/account"]=r(require("@deriv/shared"),require("@deriv/translations")):e["@deriv/account"]=r(e["@deriv/shared"],e["@deriv/translations"])}(self,(function(e,r){return(()=>{"use strict";var a={"@deriv/shared":r=>{r.exports=e},"@deriv/translations":e=>{e.exports=r}},t={};function s(e){var r=t[e];if(void 0!==r)return r.exports;var l=t[e]={exports:{}};return a[e](l,l.exports,s),l.exports}s.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return s.d(r,{a:r}),r},s.d=(e,r)=>{for(var a in r)s.o(r,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var l={};return(()=>{s.d(l,{default:()=>c});var e=s("@deriv/translations"),r=s("@deriv/shared");function a(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function t(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var i=function(a){var s,l,o,i,n,d=a.account_settings,c=a.is_svg,u="gb"===d.country_code;if(!d)return{};var p,_={address_line_1:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(s=d.address_line_1)&&void 0!==s?s:"",rules:[["req",(0,e.localize)("First line of address is required")],["length",(0,e.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,e.localize)("Use only the following special characters: . , ' : ; ( ) @ # / -"),{regex:r.regex_checks.address_details.address_line_1}],["po_box",(0,r.getErrorMessages)().po_box()]].filter((function(e){return c?0!==e.indexOf("po_box"):e}))},address_line_2:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(l=d.address_line_2)&&void 0!==l?l:"",rules:[["length",(0,e.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,e.localize)("Use only the following special characters: . , ' : ; ( ) @ # / -"),{regex:r.regex_checks.address_details.address_line_2}],["po_box",(0,r.getErrorMessages)().po_box()]].filter((function(e){return c?0!==e.indexOf("po_box"):e}))},address_city:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(o=d.address_city)&&void 0!==o?o:"",rules:[["req",(0,e.localize)("City is required")],["length",(0,e.localize)("Only {{max}} characters, please.",{max:99}),{max:99}],["regular",(0,e.localize)("Only letters, periods, hyphens, apostrophes, and spaces, please."),{regex:r.regex_checks.address_details.address_city}]]},address_state:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(i=d.address_state)&&void 0!==i?i:"",rules:[["req",(0,e.localize)("State is required")],["regular",(0,e.localize)("State is not in a proper format"),{regex:r.regex_checks.address_details.address_state}]]},address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(n=d.address_postcode)&&void 0!==n?n:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,e.localize)("Letters, numbers, spaces, hyphens only"),{regex:r.regex_checks.address_details.address_postcode}]]}};return u?t(t({},_),{},{address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(p=d.address_postcode)&&void 0!==p?p:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,e.localize)("Letters, numbers, spaces, hyphens only"),{regex:r.regex_checks.address_details.address_postcode}],["regular",(0,e.localize)("Our accounts and services are unavailable for the Jersey postal code."),{regex:r.regex_checks.address_details.non_jersey_postcode}]]}}):_},n=function(r,a){return"im"===a&&r.address_state.rules.shift(),/^(im|gb)$/.test(a)&&r.address_postcode.rules.splice(0,0,["req",(0,e.localize)("Postal/ZIP code is required")]),r},d=function(e,r){var a=r.real_account_signup_target;return a&&"svg"!==a||e.address_state.rules.shift(),e};const c=function(a,t){var s=a.upgrade_info,l=a.real_account_signup_target,o=a.residence,c=a.account_settings,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p="svg"===(null==s?void 0:s.can_upgrade_to),_=i({account_settings:c,is_svg:p});return{header:{active_title:u?(0,e.localize)("Where do you live?"):(0,e.localize)("Complete your address details"),title:u?(0,e.localize)("ADDRESS"):(0,e.localize)("Address")},body:t,form_value:(0,r.getDefaultFields)(l,_),props:{validate:(0,r.generateValidationFunction)(l,d(n(_,o),l)),is_svg:p},passthrough:["residence_list","is_fully_authenticated"],icon:"IcDashboardAddress"}}})(),l.default})()}));